globals
//globals from DzAPI:
constant boolean LIBRARY_DzAPI=true
//endglobals from DzAPI
//globals from JBase:
constant boolean LIBRARY_JBase=true
//endglobals from JBase
//globals from YDTriggerSaveLoadSystem:
constant boolean LIBRARY_YDTriggerSaveLoadSystem=true
hashtable YDHT
//endglobals from YDTriggerSaveLoadSystem
//globals from YDWEBase:
constant boolean LIBRARY_YDWEBase=true
//»´æ÷π˛œ£±Ì 
string bj_AllString=".................................!.#$%&'()*+,-./0123456789:;<=>.@ABCDEFGHIJKLMNOPQRSTUVWXYZ[.]^_`abcdefghijklmnopqrstuvwxyz{|}~................................................................................................................................"
//ÂÖ®Â±ÄÁ≥ªÁªüÂèòÈáè
unit bj_lastAbilityCastingUnit=null
unit bj_lastAbilityTargetUnit=null
unit bj_lastPoolAbstractedUnit=null
unitpool bj_lastCreatedUnitPool=null
item bj_lastPoolAbstractedItem=null
itempool bj_lastCreatedItemPool=null
attacktype bj_lastSetAttackType= ATTACK_TYPE_NORMAL
damagetype bj_lastSetDamageType= DAMAGE_TYPE_NORMAL
weapontype bj_lastSetWeaponType= WEAPON_TYPE_WHOKNOWS
real yd_MapMaxX= 0
real yd_MapMinX= 0
real yd_MapMaxY= 0
real yd_MapMinY= 0
string array YDWEBase___yd_PlayerColor
trigger array YDWEBase___AbilityCastingOverEventQueue
integer array YDWEBase___AbilityCastingOverEventType
integer YDWEBase___AbilityCastingOverEventNumber= 0
//endglobals from YDWEBase
//globals from YDWEGetForceOfPlayerNull:
constant boolean LIBRARY_YDWEGetForceOfPlayerNull=true
force yd_NullTempForce
//endglobals from YDWEGetForceOfPlayerNull
//globals from YDWEGetItemOfTypeFromUnitBJNull:
constant boolean LIBRARY_YDWEGetItemOfTypeFromUnitBJNull=true
item yd_NullTempItem
//endglobals from YDWEGetItemOfTypeFromUnitBJNull
//globals from YDWEGetPlayersByMapControlNull:
constant boolean LIBRARY_YDWEGetPlayersByMapControlNull=true
//endglobals from YDWEGetPlayersByMapControlNull
//globals from YDWEGetRandomSubGroupEnumNull:
constant boolean LIBRARY_YDWEGetRandomSubGroupEnumNull=true
//endglobals from YDWEGetRandomSubGroupEnumNull
//globals from YDWEGetUnitsInRangeOfLocMatchingNull:
constant boolean LIBRARY_YDWEGetUnitsInRangeOfLocMatchingNull=true
//endglobals from YDWEGetUnitsInRangeOfLocMatchingNull
//globals from YDWEGetUnitsInRectMatchingNull:
constant boolean LIBRARY_YDWEGetUnitsInRectMatchingNull=true
//endglobals from YDWEGetUnitsInRectMatchingNull
//globals from YDWEGetUnitsInRectOfPlayerNull:
constant boolean LIBRARY_YDWEGetUnitsInRectOfPlayerNull=true
//endglobals from YDWEGetUnitsInRectOfPlayerNull
//globals from YDWEGetUnitsOfPlayerAndTypeIdNull:
constant boolean LIBRARY_YDWEGetUnitsOfPlayerAndTypeIdNull=true
group yd_NullTempGroup
//endglobals from YDWEGetUnitsOfPlayerAndTypeIdNull
//globals from YDWEGetUnitsOfPlayerMatchingNull:
constant boolean LIBRARY_YDWEGetUnitsOfPlayerMatchingNull=true
//endglobals from YDWEGetUnitsOfPlayerMatchingNull
//globals from YDWEGetUnitsOfTypeIdAllNull:
constant boolean LIBRARY_YDWEGetUnitsOfTypeIdAllNull=true
//endglobals from YDWEGetUnitsOfTypeIdAllNull
//globals from YDWEMultiboardSetItemValueBJNull:
constant boolean LIBRARY_YDWEMultiboardSetItemValueBJNull=true
//endglobals from YDWEMultiboardSetItemValueBJNull
//globals from YDWEPlaySoundNull:
constant boolean LIBRARY_YDWEPlaySoundNull=true
//endglobals from YDWEPlaySoundNull
//globals from YDWEPolledWaitNull:
constant boolean LIBRARY_YDWEPolledWaitNull=true
//endglobals from YDWEPolledWaitNull
//globals from YDWETriggerEvent:
constant boolean LIBRARY_YDWETriggerEvent=true
trigger yd_DamageEventTrigger= null
trigger array YDWETriggerEvent___DamageEventQueue
integer YDWETriggerEvent___DamageEventNumber= 0
	
item bj_lastMovedItemInItemSlot= null
	
trigger YDWETriggerEvent___MoveItemEventTrigger= null
trigger array YDWETriggerEvent___MoveItemEventQueue
integer YDWETriggerEvent___MoveItemEventNumber= 0
//endglobals from YDWETriggerEvent
//globals from YDWETriggerRegisterEnterRectSimpleNull:
constant boolean LIBRARY_YDWETriggerRegisterEnterRectSimpleNull=true
region yd_NullTempRegion
//endglobals from YDWETriggerRegisterEnterRectSimpleNull
//globals from YDWETriggerRegisterLeaveRectSimpleNull:
constant boolean LIBRARY_YDWETriggerRegisterLeaveRectSimpleNull=true
//endglobals from YDWETriggerRegisterLeaveRectSimpleNull
//globals from YDWEUnitHasItemOfTypeBJNull:
constant boolean LIBRARY_YDWEUnitHasItemOfTypeBJNull=true
//endglobals from YDWEUnitHasItemOfTypeBJNull
//globals from Constant:
constant boolean LIBRARY_Constant=true
string diffculty= ""
string SgameMode= ""
		
constant integer HERO_COUNT= 18
		
constant boolean Huodong= false
		
constant integer PAGE_ACHIEVE= 9
constant integer PAGE_HERO_CHALLANGER= 2
		
integer renshu= 0
		
		
integer mode= 0
constant integer COUNT_WANJIE= 49
integer Constant__WPointer= 1
//endglobals from Constant
//globals from YDWEAroundSystem:
constant boolean LIBRARY_YDWEAroundSystem=true
constant timer YDWEAroundSystem___AROUND_TIM= CreateTimer()
constant real YDWEAroundSystem___AROUND_INTER= 0.01
//endglobals from YDWEAroundSystem
//globals from YDWECreateEwsp:
constant boolean LIBRARY_YDWECreateEwsp=true
//endglobals from YDWECreateEwsp
//globals from YDWEGetRandomSubGroupNull:
constant boolean LIBRARY_YDWEGetRandomSubGroupNull=true
//endglobals from YDWEGetRandomSubGroupNull
//globals from YDWEGetUnitsInRectAllNull:
constant boolean LIBRARY_YDWEGetUnitsInRectAllNull=true
//endglobals from YDWEGetUnitsInRectAllNull
//globals from YDWEGetUnitsOfPlayerAllNull:
constant boolean LIBRARY_YDWEGetUnitsOfPlayerAllNull=true
//endglobals from YDWEGetUnitsOfPlayerAllNull
//globals from YDWESetGuard:
constant boolean LIBRARY_YDWESetGuard=true
//endglobals from YDWESetGuard
//globals from YDWETimerPattern:
constant boolean LIBRARY_YDWETimerPattern=true
boolexpr YDWETimerPattern___Bexpr= null
rect YDWETimerPattern___Area= null
integer YDWETimerPattern___tmp_data
location YDWETimerPattern___yd_loc= Location(0.0, 0.0)
//endglobals from YDWETimerPattern
//globals from YDWETimerSystem:
constant boolean LIBRARY_YDWETimerSystem=true
integer YDWETimerSystem___CurrentTime
integer YDWETimerSystem___CurrentIndex
integer YDWETimerSystem___TaskListHead
integer YDWETimerSystem___TaskListIdleHead
integer YDWETimerSystem___TaskListIdleMax
integer array YDWETimerSystem___TaskListIdle
integer array YDWETimerSystem___TaskListNext
integer array YDWETimerSystem___TaskListTime
trigger array YDWETimerSystem___TaskListProc
trigger YDWETimerSystem___fnRemoveUnit
trigger YDWETimerSystem___fnDestroyTimer
trigger YDWETimerSystem___fnRemoveItem
trigger YDWETimerSystem___fnDestroyEffect
trigger YDWETimerSystem___fnDestroyLightning
trigger YDWETimerSystem___fnRunTrigger
timer YDWETimerSystem___Timer
integer YDWETimerSystem___TimerHandle
integer YDWETimerSystem___TimerSystem_RunIndex= 0
//endglobals from YDWETimerSystem
//globals from LHBase:
constant boolean LIBRARY_LHBase=true
unit learnSkillHero= null
        
unit array UDepot


string array playerName
        
boolean array BMoshou
        
        
unit Uwanjie= null
hashtable itemTable= InitHashtable()
hashtable LHTable= InitHashtable()
hashtable spellTable= InitHashtable()
        
unit kaisa= null
unit yanmie= null
unit moqi= null
unit lingxue= null
unit bajue= null
unit seyu= null
unit xiaoyue= null
unit xuanxue= null
unit chenji= null
unit hanshang= null
unit taiya= null
unit sheyan= null
unit Heiyan= null
unit cangling= null
unit mengji= null
unit Huanyi= null
unit sichen= null
unit xinglong= null
         
boolean array BJuexing1
boolean array BJuexing2
boolean array BJuexing3
        //ÊòØÂê¶ÂèòËâ≤
timer array TBianse

        //ÊòØÂê¶Ê≠£Âú®Á¶ÅÁî®Â§©Ëµã
boolean BTianfu= false

boolean array BYeguaiFirst

        //ÊòØÂê¶ÊòæÁ§∫‰º§ÂÆ≥
boolean array BHideDamage

        //ÊòØÂê¶ÂèØ‰ª•Ë∑≥ÂÖ≥
boolean BSkipKuilei= false
//endglobals from LHBase
//globals from Achievement:
constant boolean LIBRARY_Achievement=true
integer array achiPage
integer array achieve
integer array achieve2
integer array achieve3
integer array achieve4
effect array achiEff
		
		
integer array spin
integer array spin2
//endglobals from Achievement
//globals from Attr:
constant boolean LIBRARY_Attr=true
integer array IStr
integer array IAgi
integer array IInt
//endglobals from Attr
//globals from Battle:
constant boolean LIBRARY_Battle=true
boolean array BSkip
//endglobals from Battle
//globals from Beast:
constant boolean LIBRARY_Beast=true

		
constant integer Beast__kU=11
constant integer Beast__kr=13
constant integer Beast__kg=15
constant integer Beast__kb=17
constant integer Beast__ksr=19
constant integer Beast__ksg=21
constant integer Beast__ksb=23
constant integer Beast__kBeastItem=25

		
unit array Unit_Beast

constant integer DAMAGE_BEAST_00= 30000
constant integer DAMAGE_BEAST_01= 160000
constant integer DAMAGE_BEAST_02= 1000000
constant integer DAMAGE_BEAST_03= 2600000
constant integer DAMAGE_BEAST_04= 7000000
constant integer DAMAGE_BEAST_05= 16000000
constant integer DAMAGE_BEAST_06= 40000000
constant integer DAMAGE_BEAST_07= 80000000
constant integer DAMAGE_BEAST_08= 120000000
constant integer DAMAGE_BEAST_09= 200000000
constant integer DAMAGE_BEAST_10= 400000000
constant integer DAMAGE_BEAST_11= 200000000
		
constant integer CHARGES_BEAST= 100
//endglobals from Beast
//globals from CenterBase:
constant boolean LIBRARY_CenterBase=true
trigger TCenterBaseDeath= null
//endglobals from CenterBase
//globals from Exercise:
constant boolean LIBRARY_Exercise=true
rect array regionAll
		//ÊÄ™Áâ©ÁöÑÂå∫Âüü
rect array regionM1
rect array regionM2
rect array regionM3
rect array regionM4
rect array regionM5
rect array regionM6
timer array Exercise__TiExercise
//endglobals from Exercise
//globals from GoldSystem:
constant boolean LIBRARY_GoldSystem=true
//endglobals from GoldSystem
//globals from Mirror:
constant boolean LIBRARY_Mirror=true
timer TiMirror
timerdialog TiDiaMirror

//endglobals from Mirror
//globals from Printer:
constant boolean LIBRARY_Printer=true
//endglobals from Printer
//globals from SameItem:
constant boolean LIBRARY_SameItem=true
//endglobals from SameItem
//globals from Sheyan:
constant boolean LIBRARY_Sheyan=true
//endglobals from Sheyan
//globals from SpellBase:
constant boolean LIBRARY_SpellBase=true
constant integer kUImmuteDamage=27
//endglobals from SpellBase
//globals from Structs:
constant boolean LIBRARY_Structs=true
//endglobals from Structs
//globals from TouristTrap:
constant boolean LIBRARY_TouristTrap=true
		
boolean array HasCombineHalf
//endglobals from TouristTrap
//globals from UseItem:
constant boolean LIBRARY_UseItem=true
//endglobals from UseItem
//globals from Wing:
constant boolean LIBRARY_Wing=true
constant integer kWingDialog1=29
constant integer kWingDialog2=31
constant integer kWingDialog3=33
constant integer kWingDialog4=35
constant integer kWingDialog5=37
constant integer kWingDialog6=39
constant integer kWingUnit=41
//endglobals from Wing
//globals from Aura:
constant boolean LIBRARY_Aura=true
integer array Aura___YKillCount
trigger Aura___TSpellYanmie3= null
trigger Aura___TSpellMengji3= null

		
boolean array Aura___shunHints

//endglobals from Aura
//globals from Huodong:
constant boolean LIBRARY_Huodong=true
//endglobals from Huodong
//globals from ItemAttr:
constant boolean LIBRARY_ItemAttr=true
//endglobals from ItemAttr
//globals from Cangling:
constant boolean LIBRARY_Cangling=true
		
		
item array Cangling__IBibo
boolean Cangling__BiBo= false

trigger Cangling__TSpellCangling= null
trigger Cangling__TSpellCangling2= null
		
unit Cangling__UGuang= null
effect Cangling__EGuang= null
real Cangling__RGuang= 0.
integer Cangling__IGuang= 10
timer Cangling__TGuang= null
		
unit Cangling__UCangHuo= null
unit Cangling__UCangFeng= null
		
unit Cangling__UTanlang= null
		
boolean array Cangling__BWusuo
//endglobals from Cangling
//globals from Diffculty:
constant boolean LIBRARY_Diffculty=true
		
integer NanDiff= 0
unit UWanjieGuanghuan= null
boolean IsTianyan= false
//endglobals from Diffculty
//globals from Heiyan:
constant boolean LIBRARY_Heiyan=true
		
trigger Heiyan__TSpellHeiyan1= null
trigger Heiyan__TSpellHeiyan00= null
trigger Heiyan__TSpellHeiyan2= null
trigger Heiyan__TSpellHeiyan40= null
trigger Heiyan__TSpellHeiyan41= null
		
boolean Heiyan__BIsMojie= true
		

		
constant integer kUYanluo=43
		
unit Heiyan__UZangJiuTian= null

boolean Heiyan__IsDouble= false
		
integer Heiyan__ISacriMaxCount= 6
		
group Heiyan__GSacri= null

		
real Heiyan__DamageSacri= 0
//endglobals from Heiyan
//globals from Mengji:
constant boolean LIBRARY_Mengji=true

integer Mengji___ITianhong= 0
real Mengji___HuanmengX= 0.
real Mengji___HuanmengY= 0.
		
trigger Mengji___TSpellMengji= null

trigger Mengji___TSpellMengji01= null
trigger Mengji___TSpellMengji02= null
trigger Mengji___TSpellMengji03= null
trigger Mengji___TSpellMengji2= null
trigger Mengji___TSpellMengji41= null
trigger Mengji___TSpellMengji42= null

		
item Mengji___Liutao= null
item Mengji___Nihe= null
		
unit Mengji___ULinglong1= null
unit Mengji___ULinglong2= null
lightning array Mengji___LLinglong
//endglobals from Mengji
//globals from Xinglong:
constant boolean LIBRARY_Xinglong=true
trigger Xinglong___TSpellXinglong= null
trigger Xinglong___TSpellXinglongUpdate= null
trigger Xinglong___TSpellXinglongAttack= null
trigger Xinglong___TSpellXinglongDamage= null

		//ÊòØÂê¶Â∑≤ÁªèÂèòË∫´
boolean Xinglong___BBianshen= false

		//‰º§ÂÆ≥ÂÄº
real Xinglong___XinglongDamage= 0

		//ÊòæÁ§∫ÁâπÊïàÁöÑflag
boolean Xinglong___BEffUpdate= false

		//‰º§ÂÆ≥ÁöÑÊåáÁ§∫Âô®
boolean Xinglong___BDamage= false
		//ËΩÆÂõûÂä†Â±ûÊÄßÊó∂Èó¥
integer Xinglong___BAttrTime= 0
		//ÂæÖÈÄâÂÖâÁéØÊï∞
integer IChooseAura= 0

		//ÂΩìÂâçÂêêÊÅØÊï∞
integer ITuxi= 0
boolean BLunhuing= false
//endglobals from Xinglong
//globals from Hundun:
constant boolean LIBRARY_Hundun=true
unit UHundun1= null
integer MLHundun1= 0
group GHundunDian1= null
group GHundunAttack1= null
timer THundunDian1= null
trigger THundunSpellDamage= null
integer hundun1_level= 1
integer hundun1_playerID= 0
//endglobals from Hundun
//globals from ItemBase:
constant boolean LIBRARY_ItemBase=true
timerdialog TiDiaNecklace
unit UCrainax

boolean array BRing
integer array IZhanhun
//endglobals from ItemBase
//globals from Jungle:
constant boolean LIBRARY_Jungle=true
unit UYeYang= null
unit UYeYin= null
//endglobals from Jungle
//globals from LHOther:
constant boolean LIBRARY_LHOther=true
		
//endglobals from LHOther
//globals from Shilian:
constant boolean LIBRARY_Shilian=true
unit UShilian= null

		//Êó∂Èó¥
integer array Shilian__IShilianTime
		//ËøûÁªìÊïàÊûú
integer array Shilian__CShilian
		//Á±ªÂûã
integer array IShilianType
		//ÊòØÂê¶Ê≠£Âú®Êîæ
boolean array Shilian__BShilianing
		//ËÆ°Êó∂Âô®
timer array Shilian__TShilian
		//ÈÇ£‰∏™ÊºÇÊµÆÊñáÂ≠ó
integer array Shilian__TTBShilian
		//Ê¨°Êï∞
integer array Shilian__IShilianTimes
		//ËØïÁªÉÊèêÁ§∫ÂØπËØùÊ°Ü:Á¨¨‰∏ÄÊ¨°Ë¥≠‰π∞
boolean array Shilian__BFirstShilian1
		//ËØïÁªÉÊèêÁ§∫ÂØπËØùÊ°Ü:Á¨¨‰∏ÄÊ¨°‰ΩøÁî®,ÊèêÁ§∫ÂÖ≥Èó≠
boolean array Shilian__BFirstShilian2

boolean array BEscOnce
boolean array BEscTwice

		//Âçï‰ΩçÁªÑÔºå‰º†ÊâøËØïÁªÉ
group Shilian__GShilian= null
		//ËØïÁªÉÁé©ÂÆ∂ 
player Shilian__PShilian= null
		//Ê≠£Âú®ÊåëÊàòÁöÑËØïÁªÉ
integer Shilian__IContinousShilian= 0
		//Ê≠£Âú®ËøõË°å‰º†ÊâøÁöÑËÆ°Êó∂Âô®
timer Shilian__TChuanchengRest=null
timerdialog Shilian__TDChuanchengRest=null
timer Shilian__TChuanchengJudge= null

		//Â≠óÁöÑËß¶Âèë
trigger Shilian__TZhe= null
trigger Shilian__TXing= null
//endglobals from Shilian
//globals from Combine:
constant boolean LIBRARY_Combine=true
//endglobals from Combine
//globals from Continous:
constant boolean LIBRARY_Continous=true
integer array IConDays
integer array ILastTime
constant integer TIMESTAMP_START= 1500998400

		//integer DzAPI_Map_GetGameStartTime() = 0
//endglobals from Continous
//globals from Purgatory:
constant boolean LIBRARY_Purgatory=true
		// body...
//endglobals from Purgatory
//globals from Version:
constant boolean LIBRARY_Version=true
integer array vipCode
string array heroCountString
		
integer array diyu
		
integer array mingcha
		
integer array passTimes
		
integer array petTimes
		
constant integer kSaveHeroTimes=45
		
		

		
integer array deathCount
		
integer array killCount
		
boolean BBaseDamage= false
		
integer JunengCount= 0
		
integer array Idaixin
boolean BJiulun= false
boolean BHaojie= false

		//ÊùÄÊìÇÂè∞ÂçÅÁöÑËã±ÈõÑÁªüËÆ°
integer array Ileishi
		//DIYÂêçÂ≠ó
string array SDIY

		//Ê≤°Ë¢´Á¢∞Âà∞
boolean BShengming= false

		//ÂÄæÈõ™ÂØíÊô∂
integer array Greward

		//Á≠æÂà∞ÊåáÊï∞
integer array IQiandao2
//endglobals from Version
//globals from Arena:
constant boolean LIBRARY_Arena=true

constant integer ARENA_MAX_LEVEL= 50

		
trigger Arena___TDieEvent= null

		
trigger Arena___TSpellLinger= null
trigger Arena___TSpellZhousi= null
trigger Arena___TSpellXuemo1= null
trigger Arena___TSpellXuemo2= null
trigger Arena___TSpellFuwang= null
trigger Arena___TSpellMeidusha1= null
trigger Arena___TSpellMeidusha2= null
trigger Arena___TSpellKiller1= null
trigger Arena___TSpellKiller2= null
trigger Arena___TSpellJinxuan1= null
trigger Arena___TSpellJinxuan2= null
trigger Arena___TSpellJinxuan3= null
trigger Arena___TSpellJinxuan4= null
trigger Arena___TSpellYuansha= null

		
integer array Arena___currentArena
		
integer Arena___currentLevel= 1
		
unit Arena___challenager= null
		
unit Arena___defier= null
		
texttag Arena___textTag_Level= null
//endglobals from Arena
//globals from BaseVersion:
constant boolean LIBRARY_BaseVersion=true
boolean array BDIYName
//endglobals from BaseVersion
//globals from Diamond:
constant boolean LIBRARY_Diamond=true
constant string DIAMOND_CANT_UPDATE= "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•ÂÆùÁü≥‰∏çËÉΩÂçáÁ∫ßËØ•Áâ©ÂìÅ„ÄÇ"

        
integer IAtleast1= 0
integer IAtleast2= 0
integer IAtleast3= 0

        
boolean array Diamond___BLuoshang1
boolean array Diamond___BLuoshang2
//endglobals from Diamond
//globals from MiJing:
constant boolean LIBRARY_MiJing=true
        //ÂΩìÂâçÂ±ÇÊï∞
integer MiJing__IDeng= 0
        //ÊòæÁ§∫ÂΩìÂâçÂ±ÇÊï∞ÁöÑÊºÇÊµÆÊñáÂ≠ó
texttag MiJing__TDeng= null
        //ÁÅØ‰∏éËøõÂ∫¶ÊòæÁ§∫Âô®
unit array MiJing__UDeng
texttag array MiJing__TDengProcess
        //ÂΩìÂâçËøõÂ∫¶
integer MiJing__IProcess= 0
        //ËÆ°Êó∂Âô®
timer MiJing__TMijingJudge= null
timer MiJing__TMijingFlash= null
timer MiJing__TMijingBound= null
        //Âà∑ÊÄ™
integer MiJing__ITotalMonster= 0
group MiJing__GMijing= null
        //Âà§Êñ≠ÊòØÂê¶Ê≠£Âú®ÊåëÊàò
boolean MiJing__BMijingStart= false

trigger MiJing__TDengUnderAttacked= null
unit UMijingShangdian= null
        //ÁßòÂ¢ÉË£ÖÂ§á
item array MiJing__IMijing
//endglobals from MiJing
//globals from MiniGame:
constant boolean LIBRARY_MiniGame=true
timer MiniGame__TGame1= null
texttag MiniGame__TTGame1= null
integer array MiniGame__IGoldGame1
integer MiniGame__TTimeGame1= 0
group MiniGame__GGame1= null
//endglobals from MiniGame
//globals from Multiboard:
constant boolean LIBRARY_Multiboard=true
		
integer array centerCredit
		
integer array Mdamage1
integer array Mdamage2
		
//endglobals from Multiboard
//globals from PIV:
constant boolean LIBRARY_PIV=true
boolean array sPIV
boolean PIV___isFirst= true
hashtable PIV___PIVTable= InitHashtable()
constant integer kPIV=47
constant integer kPIVStr=49
constant integer kPIVPlayer=51
constant integer kPIVPointer=53

//endglobals from PIV
//globals from Pet:
constant boolean LIBRARY_Pet=true
group array GPet
//endglobals from Pet
//globals from Ring:
constant boolean LIBRARY_Ring=true
boolean array BHintRing
//endglobals from Ring
//globals from Spin:
constant boolean LIBRARY_Spin=true
//endglobals from Spin
//globals from CenterCredit:
constant boolean LIBRARY_CenterCredit=true
constant integer CenterCredit__CREDIT_SOLIDER_1= 2500
constant integer CenterCredit__CREDIT_SOLIDER_2= 5000
constant integer CenterCredit__CREDIT_SOLIDER_3= 8000
constant integer CenterCredit__CREDIT_SOLIDER_4= 15000
//endglobals from CenterCredit
//globals from ChatCommand:
constant boolean LIBRARY_ChatCommand=true
item array ChatCommand__IBox
integer ChatCommand__IBoxSucceed= 0
integer ChatCommand__IBoxCount= 0
boolean array ChatCommand__BYincang

boolean BShengli= false
//endglobals from ChatCommand
//globals from Chenji:
constant boolean LIBRARY_Chenji=true
        
trigger Chenji__TSpellChenji4= null
real Chenji__RDamage= 0

integer Chenji__IYinduTimes= 0
//endglobals from Chenji
//globals from Hanshang:
constant boolean LIBRARY_Hanshang=true

boolean Hanshang__IsLianhuan= false
		
trigger Hanshang__TSpellHanshang= null

trigger Hanshang__TSpellHanshang2= null

trigger Hanshang__TSpellHanshang3= null

trigger Hanshang__TSpellHanshang4= null
		
real Hanshang__RLianjin= 0
real Hanshang__RLianjin2= 0
constant integer kLianhuanBoomX=54
constant integer kLianhuanBoomY=55

		
timer Hanshang__TDuwu= null
unit Hanshang__UDuwu= null
effect Hanshang__EffectDu= null
		
integer Hanshang__IJuexing= 0
		
integer Hanshang__ITotalEat= 0

		
integer Hanshang__ILianjinChi= 1
//endglobals from Hanshang
//globals from Huanyi:
constant boolean LIBRARY_Huanyi=true
		
trigger Huanyi___TSpellHuanyi= null

		
real Huanyi___RDamageHuanyi= 0.
		
boolean Huanyi___IsFire= false
boolean Huanyi___IsWater= false
boolean Huanyi___IsLumber= false
boolean Huanyi___IsWind= false
integer ICurrentSpell= 0
		
integer Huanyi___IMoneng= 0

		
constant integer kNoneIntTimes=56
		
constant integer kUHuanyiQuan=57
		
constant integer kIGuCan=58
		
constant integer kHuanyuTimes=59

		
texttag Huanyi___TTMoneng
effect Huanyi___ELowMoneng= null

unit Huanyi___UGucan= null
//endglobals from Huanyi
//globals from Kaisa:
constant boolean LIBRARY_Kaisa=true
trigger Kaisa__TSpellKaisa= null
integer Kaisa__INiuSpinCount= 0
//endglobals from Kaisa
//globals from Lingxue:
constant boolean LIBRARY_Lingxue=true
//endglobals from Lingxue
//globals from MonsterSpell:
constant boolean LIBRARY_MonsterSpell=true
trigger TSpellQianfa
trigger TSpellDart
		
constant real DRAT_JUNENG= 30000000
constant real DRAT_XIANLIAN= 15000000
integer level_juneng= 1
integer JunengID= 0
//endglobals from MonsterSpell
//globals from Moqi:
constant boolean LIBRARY_Moqi=true
//endglobals from Moqi
//globals from Seyu:
constant boolean LIBRARY_Seyu=true
unit array chongdongs
unit array shashous

integer Seyu___chongCount= 2
		
texttag Seyu___TTPower= null
integer Seyu___IPower
			
real Seyu___RAddtion

		
trigger Seyu___TSpellSeyu= null
trigger Seyu___TSpellSeyu2= null
trigger Seyu___TSpellSeyu3= null
trigger Seyu___TSpellSeyuUpdate= null
trigger Seyu___TSpellChongdong= null
constant integer kAnShaCount=60

		
integer Seyu___ItempPower= 0
texttag array Seyu___TTCD
//endglobals from Seyu
//globals from Sichen:
constant boolean LIBRARY_Sichen=true

		//Ëß¶ÂèëÂô®
trigger Sichen__TSpellSichen= null
trigger Sichen__TSpellSichen2= null
trigger Sichen__TSpellSichen3= null
trigger Sichen__TSpellSichenDamage= null
trigger Sichen__TSpellSichenBuilding= null
trigger Sichen__TSpellSichenUpdate= null
		//Â°îÁöÑÂçï‰ΩçÁªÑ
group Sichen__GTower= null
unit Sichen__UCili= null
real Sichen__SichenDamage= 0
//endglobals from Sichen
//globals from Taiya:
constant boolean LIBRARY_Taiya=true
integer Taiya__ITaiyamiao= 0
//endglobals from Taiya
//globals from Xiaoyue:
constant boolean LIBRARY_Xiaoyue=true
integer Xiaoyue__IFuhuo
//endglobals from Xiaoyue
//globals from Xuanxue:
constant boolean LIBRARY_Xuanxue=true
//endglobals from Xuanxue
//globals from Yanmie:
constant boolean LIBRARY_Yanmie=true

group Yanmie__GShadow= null
constant integer ICountShadowMAX= 3

integer Yanmie__Ilingyu= 0
integer Yanmie__Ishuaxinyifu= 0
//endglobals from Yanmie
//globals from HeroSpellBase:
constant boolean LIBRARY_HeroSpellBase=true
boolean array BTianting1
boolean array BTianting2
//endglobals from HeroSpellBase
//globals from Juexing:
constant boolean LIBRARY_Juexing=true
//endglobals from Juexing
//globals from Revive:
constant boolean LIBRARY_Revive=true
//endglobals from Revive
//globals from Boss:
constant boolean LIBRARY_Boss=true
		
hashtable bossTable= null
trigger Boss___TSpellZuo= null
trigger Boss___TSpellYou= null
		
timer Boss___TiMissile= null

		//ÁîüÂëΩËÅîÁªì
timer TLifeConnect= null
lightning array Boss___LLifeConnect

unit UChuanzhang= null
unit UXiaoY= null
integer MLChuanzhang= 0
integer MLXiaoY= 0
		//ËêΩÊó∂ÊèêÈÜí:
integer Boss___ILuoshi= 0
		//ËÆ°Êó∂Âô®
timer TiRenYao
timerdialog TiDiaRenYao
		//Â§ßËÇâÊ£íÁöÑÊï∞Èáè
integer IRoubang= 0

		//Â§©ËµãÁ¶ÅÁî®Âô®
integer TFChuan= 0
		//ËÇâÊ£íÊåáÁ§∫Âô®
timer TRBChuan= null

		//Ëß¶ÂèëÂô®-Âà§Êñ≠‰∫∫Â¶ñÊ≠ª‰∫°Áä∂ÊÄÅ
trigger Boss___TDeathRenyao= null

		//ÁîüÂëΩËÅîÁªìËß£ËçØ
boolean array BGongxiang
//endglobals from Boss
//globals from Debug:
constant boolean LIBRARY_Debug=true
boolean debug_show_damage= false
boolean debug_show_attr= false
unit testDyingUnit= null
//endglobals from Debug
//globals from ItemSpell:
constant boolean LIBRARY_ItemSpell=true
boolean array BYaoShuxing
//endglobals from ItemSpell
//globals from Simulate:
constant boolean LIBRARY_Simulate=true
//endglobals from Simulate
    // User-defined
unit array udg_H
location udg_Point_Fuhuo= null
unit udg_Unit= null
location udg_Point= null
integer array udg_F_Xie
integer array udg_F_Zhang
integer array udg_F_Kui
rect array udg_Ju_Lianyu
real array udg_I_Jingyan
boolean array udg_T1
integer udg_RENSHU= 0
multiboard udg_D= null
texttag array udg_Piaofu_Lianyu
group array udg_Lianyu_Group
real array udg_I_Jinengjiacheng
boolean array udg_T2
integer array udg_F_gong
integer array udg_F_Jian
integer array udg_F_Dun
integer array udg_F_Bishou
integer array udg_F_Jia
integer array udg_HP_Jineng
dialog udg_X_Nandu= null
button array udg_X_Nandu_Chuangkou
timer array udg_Time_Start
timerdialog array udg_Time_Monster_C
integer udg_Nandu= 0
integer udg_Nandu_JJJ= 0
real array udg_I_Jinqianhuodelv
group udg_Group= null
integer array udg_Paihangbang
integer udg_I_suijizhengshu= 0
unit array udg_U_Zhuansheng_Dantiao
integer array udg_Z
unit udg_Unit2= null
location udg_Point2= null
unit udg_Unit_Linghun= null
integer array udg_I_Lianyu
integer array udg_Lianyu_Unit
integer array udg_Zhandouli
integer udg_Y= 0
integer udg_Bo= 0
integer array udg_Unit_monster
integer array udg_Yeguai_I
real array udg_I_Shanghai
boolean array udg_Yifu
string udg_HEla
unit array udg_Chong_Killer
integer udg_Jishi_Baihu= 0
timer udg_Time_BOSS= null
timerdialog udg_Timer_BOSS= null
texttag array udg_Xianxue_BOSS
location udg_Point_Hongming= null
unit udg_Unit_Judge= null
group array udg_Group_Meihuo
texttag udg_Piaofu_Xuli= null
unit udg_Unit_Xuli= null
unit array udg_U_Yazhi
lightning udg_Lightning_Cage= null
unit udg_U_Cage= null
location array udg_X
unit array udg_Unit_Jianshen
integer udg_Zhishaodiaoyike= 0
integer udg_I_Xuli= 0
unit udg_U_Xuli_2= null
texttag udg_Piaofu_Shazhen= null
unit udg_Unit_Jiansheng= null
timer array udg_Double_M
timerdialog udg_Double_Me= null
unit array udg_Juneng
integer array udg_I_Er_diansi
unit array udg_Lang
integer array udg_I_Lang
unit array udg_U_Tan
integer array udg_I_Tan
lightning array udg_Lightning_Tan
texttag array udg_P_Tan
timer array udg_Time_Tan
real array udg_I_Xianglian
integer array udg_Laser
unit array udg_Unit_Leitai
integer udg_I_Leitai= 0
texttag array udg_Piaofu_Leitai
real array udg_I_Leitai_Blood
real udg_I_Lianhuan_Shanghai= 0
real array udg_I_Lianhuan
unit udg_Laser_VS= null
integer udg_J= 0
lightning array udg_XLning
integer udg_Jiansheng= 0
integer udg_J_Po= 0
effect udg_Eff_J= null
real array udg_Mi
unit array udg_Unit_Qixing
integer array udg_I_Qixing
leaderboard array udg_Paihang
integer array udg_Second
texttag array udg_Piaofu_Zhandouli
integer array udg_TianTing_Zengyi
integer array udg_gold
integer udg_IWang= 0
integer array udg_Lianyu_I
integer array udg_HuangZhiluanwu
boolean array udg_IXianlu
    // Generated
rect gg_rct_____________01= null
rect gg_rct____1= null
rect gg_rct____2= null
rect gg_rct____3= null
rect gg_rct____4= null
rect gg_rct____5= null
rect gg_rct____6= null
rect gg_rct________a1= null
rect gg_rct_______b1= null
rect gg_rct_______b2= null
rect gg_rct_______c1= null
rect gg_rct_______c2= null
rect gg_rct_______c3= null
rect gg_rct_______c4= null
rect gg_rct_______c5= null
rect gg_rct_______c6= null
rect gg_rct_______c7= null
rect gg_rct_______c8= null
rect gg_rct_______c9= null
rect gg_rct_______c10= null
rect gg_rct_______c11= null
rect gg_rct_______c12= null
rect gg_rct_______c13= null
rect gg_rct_______c14= null
rect gg_rct_______c15= null
rect gg_rct_______c16= null
rect gg_rct_______c17= null
rect gg_rct_______c18= null
rect gg_rct_______c19= null
rect gg_rct________1= null
rect gg_rct________2= null
rect gg_rct________3= null
rect gg_rct________4= null
rect gg_rct________5= null
rect gg_rct________6= null
rect gg_rct________7= null
rect gg_rct________8= null
rect gg_rct_____1= null
rect gg_rct_____2= null
rect gg_rct_____3= null
rect gg_rct_____4= null
rect gg_rct_____5= null
rect gg_rct________9= null
rect gg_rct________10= null
rect gg_rct_________11= null
rect gg_rct_________12= null
rect gg_rct_________13= null
rect gg_rct_________14= null
rect gg_rct_________15= null
rect gg_rct_________16= null
rect gg_rct_________17= null
rect gg_rct_________18= null
rect gg_rct_________19= null
rect gg_rct_________20= null
rect gg_rct_________21= null
rect gg_rct________a2= null
rect gg_rct_______a3= null
rect gg_rct__________u= null
rect gg_rct______________096= null
rect gg_rct______________096_______u= null
rect gg_rct______________096________2= null
rect gg_rct______________096________3= null
rect gg_rct______________096________4= null
rect gg_rct______________096________5= null
rect gg_rct______________100= null
rect gg_rct______________001= null
rect gg_rct______________001_______u= null
rect gg_rct______________001________2= null
rect gg_rct______________001________3= null
rect gg_rct_Arena_all= null
rect gg_rct_Arena_1= null
rect gg_rct_Arena_2= null
rect gg_rct______________023= null
rect gg_rct______________024= null
rect gg_rct______________025= null
rect gg_rct_Arena_forbit= null
rect gg_rct______________084= null
rect gg_rct______________085= null
rect gg_rct_______1= null
rect gg_rct_______2= null
rect gg_rct_______3= null
rect gg_rct_______4= null
rect gg_rct_______5= null
rect gg_rct_______6= null
rect gg_rct_QuitRegion= null
rect gg_rct_Diamond2= null
rect gg_rct_Arena_Spell= null
rect gg_rct_M6= null
rect gg_rct_Diamond3= null
rect gg_rct_Hundun= null
rect gg_rct_Game1= null
rect gg_rct_Chuancheng= null
sound gg_snd_Renwu= null
sound gg_snd_GoodJob= null
sound gg_snd_Shibai= null
sound gg_snd_Baodiao= null
sound gg_snd_Chenggong= null
sound gg_snd_bajue_5= null
sound gg_snd_boss_lai= null
sound gg_snd_cangling_5= null
sound gg_snd_chenji_max= null
sound gg_snd_f_baoshi= null
sound gg_snd_hanshang_5= null
sound gg_snd_hecheng_shenqi= null
sound gg_snd_heiyan_5= null
sound gg_snd_huanyi_5= null
sound gg_snd_jidibeida= null
sound gg_snd_kaisa_5= null
sound gg_snd_kill_boss= null
sound gg_snd_lingxue_4= null
sound gg_snd_mengji_4= null
sound gg_snd_lingxue_5= null
sound gg_snd_mengji_5= null
sound gg_snd_moqi_5= null
sound gg_snd_seyu_4= null
sound gg_snd_seyu_5= null
sound gg_snd_sheyan_4= null
sound gg_snd_sheyan_5= null
sound gg_snd_sichen_4= null
sound gg_snd_taiya_5= null
sound gg_snd_v_leitai= null
sound gg_snd_v_mijing= null
sound gg_snd_v_zhuansheng= null
sound gg_snd_xiaoyue_5= null
sound gg_snd_xuanxue_5= null
sound gg_snd_xinglong_4= null
sound gg_snd_yanmie_5= null
sound gg_snd_die= null
sound gg_snd_baoxiang= null
sound gg_snd_Clock= null
trigger gg_trg_________________________a= null
trigger gg_trg_________________________c= null
trigger gg_trg____________________027= null
trigger gg_trg____________________008= null
trigger gg_trg____________________004= null
trigger gg_trg_aa6= null
trigger gg_trg_____________ab= null
trigger gg_trg____________________002= null
trigger gg_trg____________________030= null
trigger gg_trg______________________u= null
trigger gg_trg____________________011= null
trigger gg_trg____________________012= null
trigger gg_trg____________________035= null
trigger gg_trg_______HP____________u= null
trigger gg_trg______________________b= null
trigger gg_trg______________________c= null
trigger gg_trg___________________4000______u= null
trigger gg_trg_____________800W= null
trigger gg_trg_HP_____________________u= null
trigger gg_trg____________________017= null
trigger gg_trg____________________028= null
trigger gg_trg____________________003= null
trigger gg_trg____________________003________2= null
trigger gg_trg____________________005= null
trigger gg_trg____________________071= null
trigger gg_trg____________________074= null
trigger gg_trg____________________085= null
trigger gg_trg____________________090= null
trigger gg_trg_D4= null
trigger gg_trg_D3= null
trigger gg_trg_D1= null
trigger gg_trg_D6= null
trigger gg_trg_D2= null
trigger gg_trg_D5= null
trigger gg_trg_D7= null
trigger gg_trg__fh= null
trigger gg_trg__ym= null
trigger gg_trg__cx= null
trigger gg_trg____________________029= null
trigger gg_trg____________________055= null
trigger gg_trg_zhandouli2= null
trigger gg_trg____________________019= null
trigger gg_trg______________12b= null
trigger gg_trg______________11b= null
trigger gg_trg____________________070= null
trigger gg_trg____________________070_______u= null
trigger gg_trg_Xian= null
trigger gg_trg_Xian2= null
trigger gg_trg____________________070________2_______u= null
trigger gg_trg____________________070_____________________u= null
trigger gg_trg_Z5= null
trigger gg_trg_Z6= null
trigger gg_trg_Z8= null
trigger gg_trg_Z9= null
trigger gg_trg____________________033= null
trigger gg_trg____________________038= null
trigger gg_trg____________________022_______u= null
trigger gg_trg____________________036= null
trigger gg_trg____________________044= null
trigger gg_trg____________________065= null
trigger gg_trg____________________047= null
trigger gg_trg____________________048= null
trigger gg_trg____________________058= null
trigger gg_trg____________________060= null
trigger gg_trg____________________062= null
trigger gg_trg____________________063= null
trigger gg_trg____________________031= null
trigger gg_trg____________________077= null
trigger gg_trg____________________082= null
trigger gg_trg____________________024= null
trigger gg_trg____________________032= null
trigger gg_trg____________________034= null
trigger gg_trg____________________052= null
trigger gg_trg____________________052_______u= null
trigger gg_trg____________________001= null
trigger gg_trg____________________052______________u= null
trigger gg_trg____________________001_______u= null
trigger gg_trg____________________052_____________________u= null
trigger gg_trg____________________052_______________2= null
trigger gg_trg____________________001________2= null
trigger gg_trg____________________001________2_______u= null
trigger gg_trg_maidongxi= null
trigger gg_trg____________________3B= null
trigger gg_trg____________________4b= null
trigger gg_trg____________________5b= null
trigger gg_trg____________________7b= null
trigger gg_trg____________________8b= null
trigger gg_trg____________________8b_______u= null
trigger gg_trg____________________8b______________u= null
trigger gg_trg_Only_One_Wing_And_Spell= null
trigger gg_trg______________9b= null
trigger gg_trg_Z1= null
trigger gg_trg_Z2= null
trigger gg_trg_Z3= null
trigger gg_trg_Z4= null
trigger gg_trg____________________076= null
trigger gg_trg_j37= null
trigger gg_trg_j38= null
trigger gg_trg_j39= null
trigger gg_trg_j40= null
trigger gg_trg_j41= null
trigger gg_trg_j42= null
trigger gg_trg_j43= null
trigger gg_trg_j44= null
trigger gg_trg_j45= null
trigger gg_trg_j46= null
trigger gg_trg_j47= null
trigger gg_trg_j48= null
trigger gg_trg_j49= null
trigger gg_trg_j50= null
trigger gg_trg_j51= null
trigger gg_trg_j52= null
trigger gg_trg_j53= null
trigger gg_trg_j54= null
trigger gg_trg_j56= null
trigger gg_trg_j57= null
trigger gg_trg_j58= null
trigger gg_trg_j55= null
trigger gg_trg_j59= null
trigger gg_trg_j60= null
trigger gg_trg_j61= null
trigger gg_trg_j62= null
trigger gg_trg_j63= null
trigger gg_trg_j64= null
trigger gg_trg____________________015= null
trigger gg_trg____________________015________7= null
trigger gg_trg____________________015________6= null
trigger gg_trg____________________015________5= null
trigger gg_trg____________________015________4= null
trigger gg_trg____________________015________3= null
trigger gg_trg____________________015_______u= null
trigger gg_trg____________________015______________u= null
trigger gg_trg____________________015________2= null
trigger gg_trg____________________015________8= null
trigger gg_trg____________________015________8______________u= null
trigger gg_trg____________________015________8_______u= null
trigger gg_trg____________________015________8_______________2= null
trigger gg_trg____________________061________________________________________________________u= null
trigger gg_trg____________________015________8_______________2_______u= null
trigger gg_trg____________________015________8_______________2______________u= null
trigger gg_trg____________________015________8_______________2_____________________u= null
trigger gg_trg____________________015________8_______________2____________________________u= null
trigger gg_trg____________________015________8_______________2___________________________________u= null
trigger gg_trg____________________061______________u= null
trigger gg_trg____________________061_____________________u= null
trigger gg_trg____________________061____________________________u= null
trigger gg_trg____________________061___________________________________u= null
trigger gg_trg____________________061_________________________________________________u= null
trigger gg_trg____________________061_________________________________________________________2= null
trigger gg_trg____________________061_______________________________________________________________u= null
trigger gg_trg____________________061____________________________________________________________________u= null
trigger gg_trg_____________b= null
trigger gg_trg_____________b2= null
trigger gg_trg_Update_Fahun= null
trigger gg_trg_Update_Zhanhun= null
trigger gg_trg_Compose_Shuanghun= null
trigger gg_trg____________________6a= null
trigger gg_trg____________________006= null
trigger gg_trg____________________039= null
trigger gg_trg________________u= null
trigger gg_trg________________17= null
trigger gg_trg_____________8= null
trigger gg_trg_____________3= null
trigger gg_trg_____________5= null
trigger gg_trg_____________7= null
trigger gg_trg_____________9= null
trigger gg_trg_____________12= null
trigger gg_trg_____________17= null
trigger gg_trg_____________18= null
trigger gg_trg_____________19= null
trigger gg_trg_____________22= null
trigger gg_trg_____________u= null
trigger gg_trg_____________20= null
trigger gg_trg_____________02= null
trigger gg_trg_____________03= null
trigger gg_trg_____________2= null
trigger gg_trg_____________21= null
trigger gg_trg_____________11= null
trigger gg_trg_____________23= null
trigger gg_trg_____________4= null
trigger gg_trg_____________24= null
trigger gg_trg_____________25= null
trigger gg_trg_____________29= null
trigger gg_trg_____________30= null
trigger gg_trg_____________48= null
trigger gg_trg_____________31= null
trigger gg_trg_____________32= null
trigger gg_trg_____________33= null
trigger gg_trg_____________34= null
trigger gg_trg_____________35= null
trigger gg_trg_____________36= null
trigger gg_trg_____________37= null
trigger gg_trg_____________39= null
trigger gg_trg_____________40= null
trigger gg_trg_____________41= null
trigger gg_trg_____________42= null
trigger gg_trg_______13= null
trigger gg_trg_______17= null
trigger gg_trg_______18= null
trigger gg_trg_______19= null
trigger gg_trg_______20= null
trigger gg_trg_______21= null
trigger gg_trg_______22= null
trigger gg_trg_____________50= null
trigger gg_trg_____________51= null
trigger gg_trg_______58= null
trigger gg_trg_______51= null
trigger gg_trg_______59= null
trigger gg_trg_______132= null
trigger gg_trg_______60= null
trigger gg_trg_______61= null
trigger gg_trg_______63= null
trigger gg_trg_______62= null
trigger gg_trg_______133= null
trigger gg_trg_______134= null
trigger gg_trg_____________65= null
trigger gg_trg_____________66= null
trigger gg_trg__________67= null
trigger gg_trg__________68= null
trigger gg_trg__________69= null
trigger gg_trg_____________70= null
trigger gg_trg_____________71= null
trigger gg_trg_____________72= null
trigger gg_trg_____________76= null
trigger gg_trg_____________77= null
trigger gg_trg_____________105= null
trigger gg_trg_____________106= null
trigger gg_trg_____________81= null
trigger gg_trg_______CD= null
trigger gg_trg_____________82= null
trigger gg_trg_____________83= null
trigger gg_trg_____________84= null
trigger gg_trg_____________85= null
trigger gg_trg_____________86= null
trigger gg_trg_____________87= null
trigger gg_trg_____________88= null
trigger gg_trg_____________99= null
trigger gg_trg_____________89= null
trigger gg_trg_______96= null
trigger gg_trg_____________97= null
trigger gg_trg_____________98= null
trigger gg_trg_______100= null
trigger gg_trg_______101= null
trigger gg_trg_____________103= null
trigger gg_trg_______105= null
trigger gg_trg_______24= null
trigger gg_trg_______106= null
trigger gg_trg_____________108= null
trigger gg_trg_____________116= null
trigger gg_trg_____________110= null
trigger gg_trg_____________111= null
trigger gg_trg_____________112= null
trigger gg_trg_____________113= null
trigger gg_trg_____________114= null
trigger gg_trg_____________115= null
trigger gg_trg_____________117= null
trigger gg_trg_____________118= null
trigger gg_trg_____________121= null
trigger gg_trg_____________122= null
trigger gg_trg_____________124= null
trigger gg_trg_____________132= null
trigger gg_trg_____________125= null
trigger gg_trg_____________127= null
trigger gg_trg_____________129= null
trigger gg_trg_____________128= null
trigger gg_trg_____________130= null
trigger gg_trg_____________131= null
trigger gg_trg________________1= null
trigger gg_trg____________________________u= null
trigger gg_trg______________1= null
trigger gg_trg______________3a= null
trigger gg_trg__________u= null
trigger gg_trg___________6a= null
trigger gg_trg___________7a= null
trigger gg_trg___________10a= null
trigger gg_trg___________11a= null
trigger gg_trg___________12a= null
trigger gg_trg___________13a= null
trigger gg_trg___________13a_______u= null
trigger gg_trg____________________9a= null
trigger gg_trg___________14a= null
trigger gg_trg____________________037= null
trigger gg_trg____________________045= null
trigger gg_trg____________________096_______u= null
trigger gg_trg____________________023= null
trigger gg_trg____________________092= null
trigger gg_trg_Init_Tian_Lian= null
trigger gg_trg_papa_________u= null
trigger gg_trg_papa2______u= null
trigger gg_trg_papa1______u= null
trigger gg_trg_papa4______u= null
trigger gg_trg_papa6______u= null
trigger gg_trg_papa7_________u= null
trigger gg_trg_papa8____________u= null
trigger gg_trg_papa9____________u= null
trigger gg_trg_papa10____________u= null
trigger gg_trg_papa11__________________u= null
trigger gg_trg_papa12____________u= null
trigger gg_trg_papa13____________u= null
trigger gg_trg_______papa14= null
trigger gg_trg_papa14____________u= null
trigger gg_trg____________________010= null
trigger gg_trg____________________014= null
trigger gg_trg____________________020= null
trigger gg_trg____________________021= null
trigger gg_trg____________________054= null
trigger gg_trg____________________022= null
trigger gg_trg____________________022________2= null
trigger gg_trg____________________059= null
trigger gg_trg____________________013= null
trigger gg_trg____________________049= null
trigger gg_trg____________________089= null
trigger gg_trg_mowangshanguang= null
trigger gg_trg_mowangshangsd1= null
trigger gg_trg_mowangshangwo2= null
trigger gg_trg_xianxue= null
trigger gg_trg_panding= null
trigger gg_trg_jixu= null
trigger gg_trg_jiangqian= null
trigger gg_trg_asdf= null
trigger gg_trg_mowangshangsd3= null
trigger gg_trg_mowangshangsd4= null
trigger gg_trg_mowangshangsd5= null
trigger gg_trg_xianxue1= null
trigger gg_trg_panding2= null
trigger gg_trg____________________043= null
trigger gg_trg____________________040= null
trigger gg_trg____________________041= null
trigger gg_trg______________11b_______u= null
trigger gg_trg____________________101= null
trigger gg_trg____________________102= null
trigger gg_trg____________________103= null
trigger gg_trg_laser_______016= null
trigger gg_trg_laser_______018= null
trigger gg_trg_Clear_Death= null
trigger gg_trg_yepanding= null
trigger gg_trg_h1= null
trigger gg_trg_h2= null
trigger gg_trg_h3= null
trigger gg_trg_h5= null
trigger gg_trg_h6= null
trigger gg_trg____________________046= null
trigger gg_trg____________________016= null
trigger gg_trg____________________007= null
trigger gg_trg____________________007_______u= null
trigger gg_trg____________________009= null
unit gg_unit_ncop_0005= null
unit gg_unit_ncop_0006= null
unit gg_unit_Eevi_0020= null
unit gg_unit_Hvwd_0016= null
unit gg_unit_Uktl_0018= null
unit gg_unit_n01Q_0273= null
unit gg_unit_n00W_0038= null
unit gg_unit_Hkal_0208= null
unit gg_unit_n00M_0042= null
unit gg_unit_ndmg_0052= null
unit gg_unit_n01S_0258= null
unit gg_unit_nnfm_0056= null
unit gg_unit_Hhkl_0218= null
unit gg_unit_n002_0058= null
unit gg_unit_n007_0059= null
unit gg_unit_n00A_0060= null
unit gg_unit_n003_0061= null
unit gg_unit_n004_0062= null
unit gg_unit_n005_0063= null
unit gg_unit_n008_0064= null
unit gg_unit_n00B_0065= null
unit gg_unit_n00C_0066= null
unit gg_unit_Hapm_0255= null
unit gg_unit_Nsjs_0209= null
unit gg_unit_Udea_0279= null
unit gg_unit_E00C_0217= null
unit gg_unit_Hjai_0014= null
unit gg_unit_nhea_0201= null
unit gg_unit_Nman_0276= null
unit gg_unit_Utic_0275= null
unit gg_unit_Uwar_0274= null
unit gg_unit_Npld_0253= null
unit gg_unit_Usyl_0215= null
unit gg_unit_Uear_0242= null
unit gg_unit_ncp3_0211= null
unit gg_unit_ncp3_0212= null
unit gg_unit_Nkjx_0241= null
unit gg_unit_ncp2_0057= null
unit gg_unit_h00K_0254= null
unit gg_unit_ndrz_0019= null
unit gg_unit_Harf_0262= null
unit gg_unit_nmr5_0233= null
unit gg_unit_nmre_0234= null
unit gg_unit_Nbbc_0235= null
unit gg_unit_E00D_0210= null
unit gg_unit_ncp3_0238= null
unit gg_unit_Hant_0205= null
unit gg_unit_Othr_0256= null
unit gg_unit_n00P_0039= null
unit gg_unit_Etyr_0017= null
unit gg_unit_h006_0252= null
unit gg_unit_ncp2_0072= null
unit gg_unit_ncp2_0071= null
unit gg_unit_ncp2_0070= null
unit gg_unit_ncp2_0069= null
unit gg_unit_ncp2_0068= null
unit gg_unit_ncp2_0067= null
unit gg_unit_n019_0054= null
unit gg_unit_H01W_0207= null
unit gg_unit_haro_0030= null
unit gg_unit_Ocbh_0251= null
destructable gg_dest_ZTsg_0111= null
destructable gg_dest_ZTsg_0112= null
destructable gg_dest_ZTsg_0114= null
destructable gg_dest_ZTsg_0110= null

trigger l__library_init

//JASSHelper struct globals:
constant integer si__YDWEAroundSystem___Data=1
integer si__YDWEAroundSystem___Data_F=0
integer si__YDWEAroundSystem___Data_I=0
integer array si__YDWEAroundSystem___Data_V
integer array s__YDWEAroundSystem___Data_Structs
integer s__YDWEAroundSystem___Data_Total= 0
unit array s__YDWEAroundSystem___Data_caster
unit array s__YDWEAroundSystem___Data_obj
real array s__YDWEAroundSystem___Data_dur
real array s__YDWEAroundSystem___Data_inter
real array s__YDWEAroundSystem___Data_each
real array s__YDWEAroundSystem___Data_rate
real array s__YDWEAroundSystem___Data_dis
real array s__YDWEAroundSystem___Data_rise
real array s__YDWEAroundSystem___Data_angle
real array s__YDWEAroundSystem___Data_radius
real array s__YDWEAroundSystem___Data_height
constant integer si__YDWETimerPattern___YDVector3=2
integer si__YDWETimerPattern___YDVector3_F=0
integer si__YDWETimerPattern___YDVector3_I=0
integer array si__YDWETimerPattern___YDVector3_V
real array s__YDWETimerPattern___YDVector3_x
real array s__YDWETimerPattern___YDVector3_y
real array s__YDWETimerPattern___YDVector3_z
constant integer si__YDWETimerPattern___Thread=3
integer si__YDWETimerPattern___Thread_F=0
integer si__YDWETimerPattern___Thread_I=0
integer array si__YDWETimerPattern___Thread_V
integer array s__YDWETimerPattern___Thread_des
integer array s__YDWETimerPattern___Thread_pos
integer array s__YDWETimerPattern___Thread_vel
unit array s__YDWETimerPattern___Thread_caster
unit array s__YDWETimerPattern___Thread_source
unit array s__YDWETimerPattern___Thread_target
unit array s__YDWETimerPattern___Thread_obj
real array s__YDWETimerPattern___Thread_ac
real array s__YDWETimerPattern___Thread_bc
real array s__YDWETimerPattern___Thread_dist
real array s__YDWETimerPattern___Thread_step
real array s__YDWETimerPattern___Thread_amount
real array s__YDWETimerPattern___Thread_radius
integer array s__YDWETimerPattern___Thread_switch
integer array s__YDWETimerPattern___Thread_follow
integer array s__YDWETimerPattern___Thread_unitid
integer array s__YDWETimerPattern___Thread_skills
integer array s__YDWETimerPattern___Thread_order
integer array s__YDWETimerPattern___Thread_level
string array s__YDWETimerPattern___Thread_dsfx
string array s__YDWETimerPattern___Thread_gsfx
string array s__YDWETimerPattern___Thread_wsfx
string array s__YDWETimerPattern___Thread_part
boolean array s__YDWETimerPattern___Thread_recycle
boolean array s__YDWETimerPattern___Thread_killdest
boolean array s__YDWETimerPattern___Thread_volume
group array s__YDWETimerPattern___Thread_g
timer array s__YDWETimerPattern___Thread_t
integer array s__YDWETimerPattern___Thread_afc
constant integer si__YDWETimerPattern___Parabola=4
constant integer si__YDWETimerPattern___Linear=5
constant integer si__YDWETimerPattern___Deceleration=6
constant integer si__YDWETimerPattern___Boomer=7
constant integer si__Connect=8
integer si__Connect_F=0
integer si__Connect_I=0
integer array si__Connect_V
unit array s__Connect_unit1
unit array s__Connect_unit2
lightning array s__Connect_l
timer array s__Connect_t
constant integer si__Attract=9
integer si__Attract_F=0
integer si__Attract_I=0
integer array si__Attract_V
unit array s__Attract_caster
real array s__Attract_radius
real array s__Attract_interval
real array s__Attract_speed
timer array s__Attract_t
boolean array s__Attract_forbitHero
constant integer si__Missile=10
integer si__Missile_F=0
integer si__Missile_I=0
integer array si__Missile_V
unit array s__Missile_caster
string array s__Missile_effx
real array s__Missile_radius
real array s__Missile_interval1
real array s__Missile_interval2
real array s__Missile_damage
real array s__Missile_x
real array s__Missile_y
timer array s__Missile_t
constant integer si__Roubang=11
integer si__Roubang_F=0
integer si__Roubang_I=0
integer array si__Roubang_V
unit array s___Roubang_URou
constant integer s___Roubang_URou_size=20
integer array s__Roubang_URou
real array s__Roubang_aSpeed
real array s__Roubang_cAngle
real array s__Roubang_radius
timer array s__Roubang_t
integer array s__Roubang_number
unit array s__Roubang_caster
constant integer si__MultiLife=13
integer si__MultiLife_F=0
integer si__MultiLife_I=0
integer array si__MultiLife_V
unit array s__MultiLife_caster
integer array s__MultiLife_times
integer array s__MultiLife_current
timer array s__MultiLife_t
texttag array s__MultiLife_ttHint
constant integer si__SuperShield=14
integer si__SuperShield_F=0
integer si__SuperShield_I=0
integer array si__SuperShield_V
unit array s__SuperShield_caster
integer array s__SuperShield_times
integer array s__SuperShield_current
timer array s__SuperShield_t
constant integer si__TextTagBind=15
integer si__TextTagBind_F=0
integer si__TextTagBind_I=0
integer array si__TextTagBind_V
unit array s__TextTagBind_caster
texttag array s__TextTagBind_tt
real array s__TextTagBind_xOff
real array s__TextTagBind_yOff
timer array s__TextTagBind_t
constant integer si__TianfuForbidder=16
integer si__TianfuForbidder_F=0
integer si__TianfuForbidder_I=0
integer array si__TianfuForbidder_V
real array s__TianfuForbidder_IForbid
real array s__TianfuForbidder_IAllow
timer array s__TianfuForbidder_t
integer array si__YDWETimerPattern___Thread_type
trigger array st__YDWETimerPattern___Thread_onDestroy
trigger st__Connect__staticgetindex
trigger st__Connect_onDestroy
trigger st__Attract__staticgetindex
trigger st__Attract_onDestroy
trigger st__Attract_destroy
trigger st__Missile__staticgetindex
trigger st__Missile_onDestroy
trigger st__Missile_destroy
trigger st__Roubang__staticgetindex
trigger st__Roubang_onDestroy
trigger st__Roubang_destroy
trigger st__MultiLife__staticgetindex
trigger st__MultiLife_onDestroy
trigger st__SuperShield__staticgetindex
trigger st__SuperShield_onDestroy
trigger st__SuperShield_destroy
trigger st__TextTagBind__staticgetindex
trigger st__TextTagBind_onDestroy
trigger st__TianfuForbidder_forbitTimer
trigger st__TianfuForbidder__staticgetindex
trigger st__TianfuForbidder_onDestroy
trigger array st___prototype202
handle f__arg_handle1
integer f__arg_integer1
real f__arg_real1
real f__arg_real2
integer f__arg_this
integer f__result_integer

endglobals
    native DzAPI_Map_SaveServerValue takes player whichPlayer, string key, string value returns boolean
    native DzAPI_Map_GetServerValue takes player whichPlayer, string key returns string
    native DzAPI_Map_Ladder_SetStat takes player whichPlayer, string key, string value returns nothing
    native DzAPI_Map_IsRPGLobby takes nothing returns boolean
    native DzAPI_Map_IsRPGLadder takes nothing returns boolean
    native DzAPI_Map_GetGameStartTime takes nothing returns integer
    native DzAPI_Map_Stat_SetStat takes player whichPlayer, string key, string value returns nothing
	native DzAPI_Map_GetMapLevel takes player whichPlayer returns integer
	native DzAPI_Map_MissionComplete takes player whichPlayer, string key, string value returns nothing
	native DzAPI_Map_GetActivityData takes nothing returns string
	native DzAPI_Map_GetMatchType takes nothing returns integer
    native DzAPI_Map_Ladder_SetPlayerStat takes player whichPlayer, string key, string value returns nothing


//Generated allocator of YDWEAroundSystem___Data
function s__YDWEAroundSystem___Data__allocate takes nothing returns integer
 local integer this=si__YDWEAroundSystem___Data_F
    if (this!=0) then
        set si__YDWEAroundSystem___Data_F=si__YDWEAroundSystem___Data_V[this]
    else
        set si__YDWEAroundSystem___Data_I=si__YDWEAroundSystem___Data_I+1
        set this=si__YDWEAroundSystem___Data_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: YDWEAroundSystem___Data")
        return 0
    endif

   set s__YDWEAroundSystem___Data_caster[this]= null
   set s__YDWEAroundSystem___Data_obj[this]= null
   set s__YDWEAroundSystem___Data_dur[this]= 0.
   set s__YDWEAroundSystem___Data_inter[this]= 0.
   set s__YDWEAroundSystem___Data_each[this]= 0.
   set s__YDWEAroundSystem___Data_rate[this]= 0.
   set s__YDWEAroundSystem___Data_dis[this]= 0.
   set s__YDWEAroundSystem___Data_rise[this]= 0.
   set s__YDWEAroundSystem___Data_angle[this]= 0.
   set s__YDWEAroundSystem___Data_radius[this]= 0.
   set s__YDWEAroundSystem___Data_height[this]= 0
    set si__YDWEAroundSystem___Data_V[this]=-1
 return this
endfunction

//Generated destructor of YDWEAroundSystem___Data
function s__YDWEAroundSystem___Data_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: YDWEAroundSystem___Data")
        return
    elseif (si__YDWEAroundSystem___Data_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: YDWEAroundSystem___Data")
        return
    endif
    set si__YDWEAroundSystem___Data_V[this]=si__YDWEAroundSystem___Data_F
    set si__YDWEAroundSystem___Data_F=this
endfunction

//Generated method caller for TianfuForbidder.forbitTimer
function sc__TianfuForbidder_forbitTimer takes nothing returns nothing
    call TriggerEvaluate(st__TianfuForbidder_forbitTimer)
endfunction

//Generated method caller for TianfuForbidder._staticgetindex
function sc__TianfuForbidder__staticgetindex takes handle h returns integer
    set f__arg_handle1=h
    call TriggerEvaluate(st__TianfuForbidder__staticgetindex)
 return f__result_integer
endfunction

//Generated method caller for TianfuForbidder.onDestroy
function sc__TianfuForbidder_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__TianfuForbidder_onDestroy)
endfunction

//Generated allocator of TianfuForbidder
function s__TianfuForbidder__allocate takes nothing returns integer
 local integer this=si__TianfuForbidder_F
    if (this!=0) then
        set si__TianfuForbidder_F=si__TianfuForbidder_V[this]
    else
        set si__TianfuForbidder_I=si__TianfuForbidder_I+1
        set this=si__TianfuForbidder_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: TianfuForbidder")
        return 0
    endif

    set si__TianfuForbidder_V[this]=-1
 return this
endfunction

//Generated destructor of TianfuForbidder
function sc__TianfuForbidder_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: TianfuForbidder")
        return
    elseif (si__TianfuForbidder_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: TianfuForbidder")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__TianfuForbidder_onDestroy)
    set si__TianfuForbidder_V[this]=si__TianfuForbidder_F
    set si__TianfuForbidder_F=this
endfunction

//Generated method caller for TextTagBind._staticgetindex
function sc__TextTagBind__staticgetindex takes handle h returns integer
    set f__arg_handle1=h
    call TriggerEvaluate(st__TextTagBind__staticgetindex)
 return f__result_integer
endfunction

//Generated method caller for TextTagBind.onDestroy
function sc__TextTagBind_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__TextTagBind_onDestroy)
endfunction

//Generated allocator of TextTagBind
function s__TextTagBind__allocate takes nothing returns integer
 local integer this=si__TextTagBind_F
    if (this!=0) then
        set si__TextTagBind_F=si__TextTagBind_V[this]
    else
        set si__TextTagBind_I=si__TextTagBind_I+1
        set this=si__TextTagBind_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: TextTagBind")
        return 0
    endif

    set si__TextTagBind_V[this]=-1
 return this
endfunction

//Generated destructor of TextTagBind
function sc__TextTagBind_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: TextTagBind")
        return
    elseif (si__TextTagBind_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: TextTagBind")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__TextTagBind_onDestroy)
    set si__TextTagBind_V[this]=si__TextTagBind_F
    set si__TextTagBind_F=this
endfunction

//Generated method caller for SuperShield._staticgetindex
function sc__SuperShield__staticgetindex takes handle h returns integer
    set f__arg_handle1=h
    call TriggerEvaluate(st__SuperShield__staticgetindex)
 return f__result_integer
endfunction

//Generated method caller for SuperShield.onDestroy
function sc__SuperShield_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__SuperShield_onDestroy)
endfunction

//Generated allocator of SuperShield
function s__SuperShield__allocate takes nothing returns integer
 local integer this=si__SuperShield_F
    if (this!=0) then
        set si__SuperShield_F=si__SuperShield_V[this]
    else
        set si__SuperShield_I=si__SuperShield_I+1
        set this=si__SuperShield_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: SuperShield")
        return 0
    endif

    set si__SuperShield_V[this]=-1
 return this
endfunction

//Generated destructor of SuperShield
function sc__SuperShield_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: SuperShield")
        return
    elseif (si__SuperShield_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: SuperShield")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__SuperShield_onDestroy)
    set si__SuperShield_V[this]=si__SuperShield_F
    set si__SuperShield_F=this
endfunction

//Generated method caller for MultiLife._staticgetindex
function sc__MultiLife__staticgetindex takes handle h returns integer
    set f__arg_handle1=h
    call TriggerEvaluate(st__MultiLife__staticgetindex)
 return f__result_integer
endfunction

//Generated method caller for MultiLife.onDestroy
function sc__MultiLife_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__MultiLife_onDestroy)
endfunction

//Generated allocator of MultiLife
function s__MultiLife__allocate takes nothing returns integer
 local integer this=si__MultiLife_F
    if (this!=0) then
        set si__MultiLife_F=si__MultiLife_V[this]
    else
        set si__MultiLife_I=si__MultiLife_I+1
        set this=si__MultiLife_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: MultiLife")
        return 0
    endif

    set si__MultiLife_V[this]=-1
 return this
endfunction

//Generated destructor of MultiLife
function sc__MultiLife_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: MultiLife")
        return
    elseif (si__MultiLife_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: MultiLife")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__MultiLife_onDestroy)
    set si__MultiLife_V[this]=si__MultiLife_F
    set si__MultiLife_F=this
endfunction

//Generated method caller for Roubang._staticgetindex
function sc__Roubang__staticgetindex takes handle h returns integer
    set f__arg_handle1=h
    call TriggerEvaluate(st__Roubang__staticgetindex)
 return f__result_integer
endfunction

//Generated method caller for Roubang.onDestroy
function sc__Roubang_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__Roubang_onDestroy)
endfunction

//Generated allocator of Roubang
function s__Roubang__allocate takes nothing returns integer
 local integer this=si__Roubang_F
    if (this!=0) then
        set si__Roubang_F=si__Roubang_V[this]
    else
        set si__Roubang_I=si__Roubang_I+1
        set this=si__Roubang_I
    endif
    if (this>408) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: Roubang")
        return 0
    endif
    set s__Roubang_URou[this]=(this-1)*20
    set si__Roubang_V[this]=-1
 return this
endfunction

//Generated destructor of Roubang
function sc__Roubang_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: Roubang")
        return
    elseif (si__Roubang_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: Roubang")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__Roubang_onDestroy)
    set si__Roubang_V[this]=si__Roubang_F
    set si__Roubang_F=this
endfunction

//Generated method caller for Missile._staticgetindex
function sc__Missile__staticgetindex takes handle h returns integer
    set f__arg_handle1=h
    call TriggerEvaluate(st__Missile__staticgetindex)
 return f__result_integer
endfunction

//Generated method caller for Missile.onDestroy
function sc__Missile_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__Missile_onDestroy)
endfunction

//Generated allocator of Missile
function s__Missile__allocate takes nothing returns integer
 local integer this=si__Missile_F
    if (this!=0) then
        set si__Missile_F=si__Missile_V[this]
    else
        set si__Missile_I=si__Missile_I+1
        set this=si__Missile_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: Missile")
        return 0
    endif

    set si__Missile_V[this]=-1
 return this
endfunction

//Generated destructor of Missile
function sc__Missile_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: Missile")
        return
    elseif (si__Missile_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: Missile")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__Missile_onDestroy)
    set si__Missile_V[this]=si__Missile_F
    set si__Missile_F=this
endfunction

//Generated method caller for Attract._staticgetindex
function sc__Attract__staticgetindex takes handle h returns integer
    set f__arg_handle1=h
    call TriggerEvaluate(st__Attract__staticgetindex)
 return f__result_integer
endfunction

//Generated method caller for Attract.onDestroy
function sc__Attract_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__Attract_onDestroy)
endfunction

//Generated allocator of Attract
function s__Attract__allocate takes nothing returns integer
 local integer this=si__Attract_F
    if (this!=0) then
        set si__Attract_F=si__Attract_V[this]
    else
        set si__Attract_I=si__Attract_I+1
        set this=si__Attract_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: Attract")
        return 0
    endif

    set si__Attract_V[this]=-1
 return this
endfunction

//Generated destructor of Attract
function sc__Attract_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: Attract")
        return
    elseif (si__Attract_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: Attract")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__Attract_onDestroy)
    set si__Attract_V[this]=si__Attract_F
    set si__Attract_F=this
endfunction

//Generated method caller for Connect._staticgetindex
function sc__Connect__staticgetindex takes handle h returns integer
    set f__arg_handle1=h
    call TriggerEvaluate(st__Connect__staticgetindex)
 return f__result_integer
endfunction

//Generated method caller for Connect.onDestroy
function sc__Connect_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__Connect_onDestroy)
endfunction

//Generated allocator of Connect
function s__Connect__allocate takes nothing returns integer
 local integer this=si__Connect_F
    if (this!=0) then
        set si__Connect_F=si__Connect_V[this]
    else
        set si__Connect_I=si__Connect_I+1
        set this=si__Connect_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: Connect")
        return 0
    endif

    set si__Connect_V[this]=-1
 return this
endfunction

//Generated destructor of Connect
function sc__Connect_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: Connect")
        return
    elseif (si__Connect_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: Connect")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__Connect_onDestroy)
    set si__Connect_V[this]=si__Connect_F
    set si__Connect_F=this
endfunction

//Generated allocator of YDWETimerPattern___YDVector3
function s__YDWETimerPattern___YDVector3__allocate takes nothing returns integer
 local integer this=si__YDWETimerPattern___YDVector3_F
    if (this!=0) then
        set si__YDWETimerPattern___YDVector3_F=si__YDWETimerPattern___YDVector3_V[this]
    else
        set si__YDWETimerPattern___YDVector3_I=si__YDWETimerPattern___YDVector3_I+1
        set this=si__YDWETimerPattern___YDVector3_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: YDWETimerPattern___YDVector3")
        return 0
    endif

    set si__YDWETimerPattern___YDVector3_V[this]=-1
 return this
endfunction

//Generated destructor of YDWETimerPattern___YDVector3
function s__YDWETimerPattern___YDVector3_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: YDWETimerPattern___YDVector3")
        return
    elseif (si__YDWETimerPattern___YDVector3_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: YDWETimerPattern___YDVector3")
        return
    endif
    set si__YDWETimerPattern___YDVector3_V[this]=si__YDWETimerPattern___YDVector3_F
    set si__YDWETimerPattern___YDVector3_F=this
endfunction

//Generated method caller for YDWETimerPattern___Thread.onDestroy
function sc__YDWETimerPattern___Thread_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__YDWETimerPattern___Thread_onDestroy[3])
endfunction

//Generated allocator of YDWETimerPattern___Thread
function s__YDWETimerPattern___Thread__allocate takes nothing returns integer
 local integer this=si__YDWETimerPattern___Thread_F
    if (this!=0) then
        set si__YDWETimerPattern___Thread_F=si__YDWETimerPattern___Thread_V[this]
    else
        set si__YDWETimerPattern___Thread_I=si__YDWETimerPattern___Thread_I+1
        set this=si__YDWETimerPattern___Thread_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: YDWETimerPattern___Thread")
        return 0
    endif

    set si__YDWETimerPattern___Thread_type[this]=3
    set si__YDWETimerPattern___Thread_V[this]=-1
 return this
endfunction

//Generated destructor of YDWETimerPattern___Thread
function sc__YDWETimerPattern___Thread_deallocate takes integer this returns nothing
    if this==null then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: YDWETimerPattern___Thread")
        return
    elseif (si__YDWETimerPattern___Thread_V[this]!=-1) then
            call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: YDWETimerPattern___Thread")
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__YDWETimerPattern___Thread_onDestroy[si__YDWETimerPattern___Thread_type[this]])
    set si__YDWETimerPattern___Thread_V[this]=si__YDWETimerPattern___Thread_F
    set si__YDWETimerPattern___Thread_F=this
endfunction

//Generated allocator of YDWETimerPattern___Linear
function s__YDWETimerPattern___Linear__allocate takes nothing returns integer
 local integer this=s__YDWETimerPattern___Thread__allocate()
 local integer kthis
    if(this==0) then
        return 0
    endif
    set si__YDWETimerPattern___Thread_type[this]=5
    set kthis=this

 return this
endfunction


//Generated allocator of YDWETimerPattern___Parabola
function s__YDWETimerPattern___Parabola__allocate takes nothing returns integer
 local integer this=s__YDWETimerPattern___Thread__allocate()
 local integer kthis
    if(this==0) then
        return 0
    endif
    set si__YDWETimerPattern___Thread_type[this]=4
    set kthis=this

 return this
endfunction


//Generated allocator of YDWETimerPattern___Boomer
function s__YDWETimerPattern___Boomer__allocate takes nothing returns integer
 local integer this=s__YDWETimerPattern___Thread__allocate()
 local integer kthis
    if(this==0) then
        return 0
    endif
    set si__YDWETimerPattern___Thread_type[this]=7
    set kthis=this

 return this
endfunction


//Generated allocator of YDWETimerPattern___Deceleration
function s__YDWETimerPattern___Deceleration__allocate takes nothing returns integer
 local integer this=s__YDWETimerPattern___Thread__allocate()
 local integer kthis
    if(this==0) then
        return 0
    endif
    set si__YDWETimerPattern___Thread_type[this]=6
    set kthis=this

 return this
endfunction

function sc___prototype202_execute takes integer i,integer a1,real a2,real a3 returns nothing
    set f__arg_integer1=a1
    set f__arg_real1=a2
    set f__arg_real2=a3

    call TriggerExecute(st___prototype202[i])
endfunction
function sc___prototype202_evaluate takes integer i,integer a1,real a2,real a3 returns nothing
    set f__arg_integer1=a1
    set f__arg_real1=a2
    set f__arg_real2=a3

    call TriggerEvaluate(st___prototype202[i])

endfunction

//library DzAPI:












    function DzAPI_Map_StoreInteger takes player whichPlayer,string key,integer value returns nothing
        set key="I" + key
        call DzAPI_Map_SaveServerValue(whichPlayer, key, I2S(value))
        set key=null
        set whichPlayer=null
    endfunction
    function DzAPI_Map_GetStoredInteger takes player whichPlayer,string key returns integer
        local integer value
        set key="I" + key
        set value=S2I(DzAPI_Map_GetServerValue(whichPlayer, key))
        set key=null
        set whichPlayer=null
        return value
    endfunction
 function DzAPI_Map_GetStoredUnitId takes player whichPlayer,string key returns integer
        local integer value
        set key="I" + key
        set value=S2I(DzAPI_Map_GetServerValue(whichPlayer, key))
        set key=null
        set whichPlayer=null
        return value
    endfunction
    function DzAPI_Map_StoreReal takes player whichPlayer,string key,real value returns nothing
        set key="R" + key
        call DzAPI_Map_SaveServerValue(whichPlayer, key, R2S(value))
        set key=null
        set whichPlayer=null
    endfunction
    function DzAPI_Map_GetStoredReal takes player whichPlayer,string key returns real
        local real value
        set key="R" + key
        set value=S2R(DzAPI_Map_GetServerValue(whichPlayer, key))
        set key=null
        set whichPlayer=null
        return value
    endfunction
    function DzAPI_Map_StoreBoolean takes player whichPlayer,string key,boolean value returns nothing
        set key="B" + key
        if ( value ) then
            call DzAPI_Map_SaveServerValue(whichPlayer, key, "1")
        else
            call DzAPI_Map_SaveServerValue(whichPlayer, key, "0")
        endif
        set key=null
        set whichPlayer=null
    endfunction
    function DzAPI_Map_GetStoredBoolean takes player whichPlayer,string key returns boolean
        local boolean value
        set key="B" + key
        set key=DzAPI_Map_GetServerValue(whichPlayer, key)
        if ( key == "1" ) then
            set value=true
        else
            set value=false
        endif
        set key=null
        set whichPlayer=null
        return value
    endfunction
    function DzAPI_Map_StoreString takes player whichPlayer,string key,string value returns nothing
        set key="S" + key
        call DzAPI_Map_SaveServerValue(whichPlayer, key, value)
        set key=null
        set whichPlayer=null
    endfunction
    function DzAPI_Map_GetStoredString takes player whichPlayer,string key returns string
        return DzAPI_Map_GetServerValue(whichPlayer, "S" + key)
    endfunction
    function DzAPI_Map_FlushStoredMission takes player whichPlayer,string key returns nothing
        call DzAPI_Map_SaveServerValue(whichPlayer, key, null)
        set key=null
        set whichPlayer=null
    endfunction
    function DzAPI_Map_Ladder_SubmitIntegerData takes player whichPlayer,string key,integer value returns nothing
        call DzAPI_Map_Ladder_SetStat(whichPlayer, key, I2S(value))
    endfunction
    function DzAPI_Map_Stat_SubmitUnitIdData takes player whichPlayer,string key,integer value returns nothing
        if ( value == 0 ) then
            //call DzAPI_Map_Ladder_SetStat(whichPlayer,key,"0")
        else
            call DzAPI_Map_Ladder_SetStat(whichPlayer, key, I2S(value))
        endif
    endfunction
    function DzAPI_Map_Stat_SubmitUnitData takes player whichPlayer,string key,unit value returns nothing
        call DzAPI_Map_Stat_SubmitUnitIdData(whichPlayer , key , GetUnitTypeId(value))
    endfunction
    function DzAPI_Map_Ladder_SubmitAblityIdData takes player whichPlayer,string key,integer value returns nothing
        if ( value == 0 ) then
            //call DzAPI_Map_Ladder_SetStat(whichPlayer,key,"0")
        else
            call DzAPI_Map_Ladder_SetStat(whichPlayer, key, I2S(value))
        endif
    endfunction
    function DzAPI_Map_Ladder_SubmitItemIdData takes player whichPlayer,string key,integer value returns nothing
        local string S
        if ( value == 0 ) then
            set S="0"
        else
            set S=I2S(value)
            call DzAPI_Map_Ladder_SetStat(whichPlayer, key, S)
        endif
        //call DzAPI_Map_Ladder_SetStat(whichPlayer,key,S)
        set S=null
        set whichPlayer=null
    endfunction
    function DzAPI_Map_Ladder_SubmitItemData takes player whichPlayer,string key,item value returns nothing
        call DzAPI_Map_Ladder_SubmitItemIdData(whichPlayer , key , GetItemTypeId(value))
    endfunction
    function DzAPI_Map_Ladder_SubmitBooleanData takes player whichPlayer,string key,boolean value returns nothing
        if ( value ) then
            call DzAPI_Map_Ladder_SetStat(whichPlayer, key, "1")
        else
            call DzAPI_Map_Ladder_SetStat(whichPlayer, key, "0")
        endif
    endfunction
    function DzAPI_Map_Ladder_SubmitTitle takes player whichPlayer,string value returns nothing
        call DzAPI_Map_Ladder_SetStat(whichPlayer, value, "1")
    endfunction
 function DzAPI_Map_Ladder_SubmitPlayerRank takes player whichPlayer,integer value returns nothing
        call DzAPI_Map_Ladder_SetPlayerStat(whichPlayer, "RankIndex", I2S(value))
    endfunction
 function DzAPI_Map_Ladder_SubmitPlayerExtraExp takes player whichPlayer,integer value returns nothing
        call DzAPI_Map_Ladder_SetStat(whichPlayer, "ExtraExp", I2S(value))
	endfunction

//library DzAPI ends
//library JBase:
	
//---------------------------------------------------------------------------------------------------
    
    function S3 takes boolean b,string s1,string s2 returns string
        if ( b ) then
            return s1
        else
            return s2
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function I3 takes boolean b,integer i1,integer i2 returns integer
        if ( b ) then
            return i1
        else
            return i2
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function R3 takes boolean b,real r1,real r2 returns real
        if ( b ) then
            return r1
        else
            return r2
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function B3 takes boolean b,boolean b1,boolean b2 returns boolean
        if ( b ) then
            return b1
        else
            return b2
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function U3 takes boolean b,unit u1,unit u2 returns unit
        if ( b ) then
            return u1
        else
            return u2
        endif
    endfunction
    

//library JBase ends
//library YDTriggerSaveLoadSystem:
 function YDTriggerSaveLoadSystem__Init takes nothing returns nothing
		set YDHT=InitHashtable()
	endfunction

//library YDTriggerSaveLoadSystem ends
//library YDWEBase:
//===========================================================================
//HashTable
//===========================================================================
//===========================================================================
//Return bug
//===========================================================================
function YDWEH2I takes handle h returns integer
    return GetHandleId(h)
endfunction
//«Âø’
function YDWEFlushAllData takes nothing returns nothing
    call FlushParentHashtable(YDHT)
endfunction
function YDWEFlushMissionByInteger takes integer i returns nothing
    call FlushChildHashtable(YDHT, i)
endfunction
function YDWEFlushMissionByString takes string s returns nothing
    call FlushChildHashtable(YDHT, StringHash(s))
endfunction
function YDWEFlushStoredIntegerByInteger takes integer i,integer j returns nothing
    call RemoveSavedInteger(YDHT, i, j)
endfunction
function YDWEFlushStoredIntegerByString takes string s1,string s2 returns nothing
    call RemoveSavedInteger(YDHT, StringHash(s1), StringHash(s2))
endfunction
function YDWEHaveSavedIntegerByInteger takes integer i,integer j returns boolean
    return HaveSavedInteger(YDHT, i, j)
endfunction
function YDWEHaveSavedIntegerByString takes string s1,string s2 returns boolean
    return HaveSavedInteger(YDHT, StringHash(s1), StringHash(s2))
endfunction
//store and get integer
function YDWESaveIntegerByInteger takes integer pTable,integer pKey,integer i returns nothing
    call SaveInteger(YDHT, pTable, pKey, i)
endfunction
function YDWESaveIntegerByString takes string pTable,string pKey,integer i returns nothing
    call SaveInteger(YDHT, StringHash(pTable), StringHash(pKey), i)
endfunction
function YDWEGetIntegerByInteger takes integer pTable,integer pKey returns integer
    return LoadInteger(YDHT, pTable, pKey)
endfunction
function YDWEGetIntegerByString takes string pTable,string pKey returns integer
    return LoadInteger(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//store and get real
function YDWESaveRealByInteger takes integer pTable,integer pKey,real r returns nothing
    call SaveReal(YDHT, pTable, pKey, r)
endfunction
function YDWESaveRealByString takes string pTable,string pKey,real r returns nothing
    call SaveReal(YDHT, StringHash(pTable), StringHash(pKey), r)
endfunction
function YDWEGetRealByInteger takes integer pTable,integer pKey returns real
    return LoadReal(YDHT, pTable, pKey)
endfunction
function YDWEGetRealByString takes string pTable,string pKey returns real
    return LoadReal(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//store and get string
function YDWESaveStringByInteger takes integer pTable,integer pKey,string s returns nothing
    call SaveStr(YDHT, pTable, pKey, s)
endfunction
function YDWESaveStringByString takes string pTable,string pKey,string s returns nothing
    call SaveStr(YDHT, StringHash(pTable), StringHash(pKey), s)
endfunction
function YDWEGetStringByInteger takes integer pTable,integer pKey returns string
    return LoadStr(YDHT, pTable, pKey)
endfunction
function YDWEGetStringByString takes string pTable,string pKey returns string
    return LoadStr(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//store and get boolean
function YDWESaveBooleanByInteger takes integer pTable,integer pKey,boolean b returns nothing
    call SaveBoolean(YDHT, pTable, pKey, b)
endfunction
function YDWESaveBooleanByString takes string pTable,string pKey,boolean b returns nothing
    call SaveBoolean(YDHT, StringHash(pTable), StringHash(pKey), b)
endfunction
function YDWEGetBooleanByInteger takes integer pTable,integer pKey returns boolean
    return LoadBoolean(YDHT, pTable, pKey)
endfunction
function YDWEGetBooleanByString takes string pTable,string pKey returns boolean
    return LoadBoolean(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Unit
function YDWESaveUnitByInteger takes integer pTable,integer pKey,unit u returns nothing
    call SaveUnitHandle(YDHT, pTable, pKey, u)
endfunction
function YDWESaveUnitByString takes string pTable,string pKey,unit u returns nothing
    call SaveUnitHandle(YDHT, StringHash(pTable), StringHash(pKey), u)
endfunction
function YDWEGetUnitByInteger takes integer pTable,integer pKey returns unit
    return LoadUnitHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetUnitByString takes string pTable,string pKey returns unit
    return LoadUnitHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert UnitID
function YDWESaveUnitIDByInteger takes integer pTable,integer pKey,integer uid returns nothing
    call SaveInteger(YDHT, pTable, pKey, uid)
endfunction
function YDWESaveUnitIDByString takes string pTable,string pKey,integer uid returns nothing
    call SaveInteger(YDHT, StringHash(pTable), StringHash(pKey), uid)
endfunction
function YDWEGetUnitIDByInteger takes integer pTable,integer pKey returns integer
    return LoadInteger(YDHT, pTable, pKey)
endfunction
function YDWEGetUnitIDByString takes string pTable,string pKey returns integer
    return LoadInteger(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert AbilityID
function YDWESaveAbilityIDByInteger takes integer pTable,integer pKey,integer abid returns nothing
    call SaveInteger(YDHT, pTable, pKey, abid)
endfunction
function YDWESaveAbilityIDByString takes string pTable,string pKey,integer abid returns nothing
    call SaveInteger(YDHT, StringHash(pTable), StringHash(pKey), abid)
endfunction
function YDWEGetAbilityIDByInteger takes integer pTable,integer pKey returns integer
    return LoadInteger(YDHT, pTable, pKey)
endfunction
function YDWEGetAbilityIDByString takes string pTable,string pKey returns integer
    return LoadInteger(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Player
function YDWESavePlayerByInteger takes integer pTable,integer pKey,player p returns nothing
    call SavePlayerHandle(YDHT, pTable, pKey, p)
endfunction
function YDWESavePlayerByString takes string pTable,string pKey,player p returns nothing
    call SavePlayerHandle(YDHT, StringHash(pTable), StringHash(pKey), p)
endfunction
function YDWEGetPlayerByInteger takes integer pTable,integer pKey returns player
    return LoadPlayerHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetPlayerByString takes string pTable,string pKey returns player
    return LoadPlayerHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Item
function YDWESaveItemByInteger takes integer pTable,integer pKey,item it returns nothing
    call SaveItemHandle(YDHT, pTable, pKey, it)
endfunction
function YDWESaveItemByString takes string pTable,string pKey,item it returns nothing
    call SaveItemHandle(YDHT, StringHash(pTable), StringHash(pKey), it)
endfunction
function YDWEGetItemByInteger takes integer pTable,integer pKey returns item
    return LoadItemHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetItemByString takes string pTable,string pKey returns item
    return LoadItemHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert ItemID
function YDWESaveItemIDByInteger takes integer pTable,integer pKey,integer itid returns nothing
    call SaveInteger(YDHT, pTable, pKey, itid)
endfunction
function YDWESaveItemIDByString takes string pTable,string pKey,integer itid returns nothing
    call SaveInteger(YDHT, StringHash(pTable), StringHash(pKey), itid)
endfunction
function YDWEGetItemIDByInteger takes integer pTable,integer pKey returns integer
    return LoadInteger(YDHT, pTable, pKey)
endfunction
function YDWEGetItemIDByString takes string pTable,string pKey returns integer
    return LoadInteger(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Timer
function YDWESaveTimerByInteger takes integer pTable,integer pKey,timer t returns nothing
    call SaveTimerHandle(YDHT, pTable, pKey, t)
endfunction
function YDWESaveTimerByString takes string pTable,string pKey,timer t returns nothing
    call SaveTimerHandle(YDHT, StringHash(pTable), StringHash(pKey), t)
endfunction
function YDWEGetTimerByInteger takes integer pTable,integer pKey returns timer
    return LoadTimerHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTimerByString takes string pTable,string pKey returns timer
    return LoadTimerHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Trigger
function YDWESaveTriggerByInteger takes integer pTable,integer pKey,trigger trg returns nothing
    call SaveTriggerHandle(YDHT, pTable, pKey, trg)
endfunction
function YDWESaveTriggerByString takes string pTable,string pKey,trigger trg returns nothing
    call SaveTriggerHandle(YDHT, StringHash(pTable), StringHash(pKey), trg)
endfunction
function YDWEGetTriggerByInteger takes integer pTable,integer pKey returns trigger
    return LoadTriggerHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTriggerByString takes string pTable,string pKey returns trigger
    return LoadTriggerHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Location
function YDWESaveLocationByInteger takes integer pTable,integer pKey,location pt returns nothing
    call SaveLocationHandle(YDHT, pTable, pKey, pt)
endfunction
function YDWESaveLocationByString takes string pTable,string pKey,location pt returns nothing
    call SaveLocationHandle(YDHT, StringHash(pTable), StringHash(pKey), pt)
endfunction
function YDWEGetLocationByInteger takes integer pTable,integer pKey returns location
    return LoadLocationHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetLocationByString takes string pTable,string pKey returns location
    return LoadLocationHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Group
function YDWESaveGroupByInteger takes integer pTable,integer pKey,group g returns nothing
    call SaveGroupHandle(YDHT, pTable, pKey, g)
endfunction
function YDWESaveGroupByString takes string pTable,string pKey,group g returns nothing
    call SaveGroupHandle(YDHT, StringHash(pTable), StringHash(pKey), g)
endfunction
function YDWEGetGroupByInteger takes integer pTable,integer pKey returns group
    return LoadGroupHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetGroupByString takes string pTable,string pKey returns group
    return LoadGroupHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Multiboard
function YDWESaveMultiboardByInteger takes integer pTable,integer pKey,multiboard m returns nothing
    call SaveMultiboardHandle(YDHT, pTable, pKey, m)
endfunction
function YDWESaveMultiboardByString takes string pTable,string pKey,multiboard m returns nothing
    call SaveMultiboardHandle(YDHT, StringHash(pTable), StringHash(pKey), m)
endfunction
function YDWEGetMultiboardByInteger takes integer pTable,integer pKey returns multiboard
    return LoadMultiboardHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetMultiboardByString takes string pTable,string pKey returns multiboard
    return LoadMultiboardHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert MultiboardItem
function YDWESaveMultiboardItemByInteger takes integer pTable,integer pKey,multiboarditem mt returns nothing
    call SaveMultiboardItemHandle(YDHT, pTable, pKey, mt)
endfunction
function YDWESaveMultiboardItemByString takes string pTable,string pKey,multiboarditem mt returns nothing
    call SaveMultiboardItemHandle(YDHT, StringHash(pTable), StringHash(pKey), mt)
endfunction
function YDWEGetMultiboardItemByInteger takes integer pTable,integer pKey returns multiboarditem
    return LoadMultiboardItemHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetMultiboardItemByString takes string pTable,string pKey returns multiboarditem
    return LoadMultiboardItemHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert TextTag
function YDWESaveTextTagByInteger takes integer pTable,integer pKey,texttag tt returns nothing
    call SaveTextTagHandle(YDHT, pTable, pKey, tt)
endfunction
function YDWESaveTextTagByString takes string pTable,string pKey,texttag tt returns nothing
    call SaveTextTagHandle(YDHT, StringHash(pTable), StringHash(pKey), tt)
endfunction
function YDWEGetTextTagByInteger takes integer pTable,integer pKey returns texttag
    return LoadTextTagHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTextTagByString takes string pTable,string pKey returns texttag
    return LoadTextTagHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Lightning
function YDWESaveLightningByInteger takes integer pTable,integer pKey,lightning ln returns nothing
    call SaveLightningHandle(YDHT, pTable, pKey, ln)
endfunction
function YDWESaveLightningByString takes string pTable,string pKey,lightning ln returns nothing
    call SaveLightningHandle(YDHT, StringHash(pTable), StringHash(pKey), ln)
endfunction
function YDWEGetLightningByInteger takes integer pTable,integer pKey returns lightning
    return LoadLightningHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetLightningByString takes string pTable,string pKey returns lightning
    return LoadLightningHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Region
function YDWESaveRegionByInteger takes integer pTable,integer pKey,region rn returns nothing
    call SaveRegionHandle(YDHT, pTable, pKey, rn)
endfunction
function YDWESaveRegionByString takes string pTable,string pKey,region rt returns nothing
    call SaveRegionHandle(YDHT, StringHash(pTable), StringHash(pKey), rt)
endfunction
function YDWEGetRegionByInteger takes integer pTable,integer pKey returns region
    return LoadRegionHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetRegionByString takes string pTable,string pKey returns region
    return LoadRegionHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Rect
function YDWESaveRectByInteger takes integer pTable,integer pKey,rect rn returns nothing
    call SaveRectHandle(YDHT, pTable, pKey, rn)
endfunction
function YDWESaveRectByString takes string pTable,string pKey,rect rt returns nothing
    call SaveRectHandle(YDHT, StringHash(pTable), StringHash(pKey), rt)
endfunction
function YDWEGetRectByInteger takes integer pTable,integer pKey returns rect
    return LoadRectHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetRectByString takes string pTable,string pKey returns rect
    return LoadRectHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Leaderboard
function YDWESaveLeaderboardByInteger takes integer pTable,integer pKey,leaderboard lb returns nothing
    call SaveLeaderboardHandle(YDHT, pTable, pKey, lb)
endfunction
function YDWESaveLeaderboardByString takes string pTable,string pKey,leaderboard lb returns nothing
    call SaveLeaderboardHandle(YDHT, StringHash(pTable), StringHash(pKey), lb)
endfunction
function YDWEGetLeaderboardByInteger takes integer pTable,integer pKey returns leaderboard
    return LoadLeaderboardHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetLeaderboardByString takes string pTable,string pKey returns leaderboard
    return LoadLeaderboardHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Effect
function YDWESaveEffectByInteger takes integer pTable,integer pKey,effect e returns nothing
    call SaveEffectHandle(YDHT, pTable, pKey, e)
endfunction
function YDWESaveEffectByString takes string pTable,string pKey,effect e returns nothing
    call SaveEffectHandle(YDHT, StringHash(pTable), StringHash(pKey), e)
endfunction
function YDWEGetEffectByInteger takes integer pTable,integer pKey returns effect
    return LoadEffectHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetEffectByString takes string pTable,string pKey returns effect
    return LoadEffectHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Destructable
function YDWESaveDestructableByInteger takes integer pTable,integer pKey,destructable da returns nothing
    call SaveDestructableHandle(YDHT, pTable, pKey, da)
endfunction
function YDWESaveDestructableByString takes string pTable,string pKey,destructable da returns nothing
    call SaveDestructableHandle(YDHT, StringHash(pTable), StringHash(pKey), da)
endfunction
function YDWEGetDestructableByInteger takes integer pTable,integer pKey returns destructable
    return LoadDestructableHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetDestructableByString takes string pTable,string pKey returns destructable
    return LoadDestructableHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert triggercondition
function YDWESaveTriggerConditionByInteger takes integer pTable,integer pKey,triggercondition tc returns nothing
    call SaveTriggerConditionHandle(YDHT, pTable, pKey, tc)
endfunction
function YDWESaveTriggerConditionByString takes string pTable,string pKey,triggercondition tc returns nothing
    call SaveTriggerConditionHandle(YDHT, StringHash(pTable), StringHash(pKey), tc)
endfunction
function YDWEGetTriggerConditionByInteger takes integer pTable,integer pKey returns triggercondition
    return LoadTriggerConditionHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTriggerConditionByString takes string pTable,string pKey returns triggercondition
    return LoadTriggerConditionHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert triggeraction
function YDWESaveTriggerActionByInteger takes integer pTable,integer pKey,triggeraction ta returns nothing
    call SaveTriggerActionHandle(YDHT, pTable, pKey, ta)
endfunction
function YDWESaveTriggerActionByString takes string pTable,string pKey,triggeraction ta returns nothing
    call SaveTriggerActionHandle(YDHT, StringHash(pTable), StringHash(pKey), ta)
endfunction
function YDWEGetTriggerActionByInteger takes integer pTable,integer pKey returns triggeraction
    return LoadTriggerActionHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTriggerActionByString takes string pTable,string pKey returns triggeraction
    return LoadTriggerActionHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert event
function YDWESaveTriggerEventByInteger takes integer pTable,integer pKey,event et returns nothing
    call SaveTriggerEventHandle(YDHT, pTable, pKey, et)
endfunction
function YDWESaveTriggerEventByString takes string pTable,string pKey,event et returns nothing
    call SaveTriggerEventHandle(YDHT, StringHash(pTable), StringHash(pKey), et)
endfunction
function YDWEGetTriggerEventByInteger takes integer pTable,integer pKey returns event
    return LoadTriggerEventHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTriggerEventByString takes string pTable,string pKey returns event
    return LoadTriggerEventHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert force
function YDWESaveForceByInteger takes integer pTable,integer pKey,force fc returns nothing
    call SaveForceHandle(YDHT, pTable, pKey, fc)
endfunction
function YDWESaveForceByString takes string pTable,string pKey,force fc returns nothing
    call SaveForceHandle(YDHT, StringHash(pTable), StringHash(pKey), fc)
endfunction
function YDWEGetForceByInteger takes integer pTable,integer pKey returns force
    return LoadForceHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetForceByString takes string pTable,string pKey returns force
    return LoadForceHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert boolexpr
function YDWESaveBoolexprByInteger takes integer pTable,integer pKey,boolexpr be returns nothing
    call SaveBooleanExprHandle(YDHT, pTable, pKey, be)
endfunction
function YDWESaveBoolexprByString takes string pTable,string pKey,boolexpr be returns nothing
    call SaveBooleanExprHandle(YDHT, StringHash(pTable), StringHash(pKey), be)
endfunction
function YDWEGetBoolexprByInteger takes integer pTable,integer pKey returns boolexpr
    return LoadBooleanExprHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetBoolexprByString takes string pTable,string pKey returns boolexpr
    return LoadBooleanExprHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert sound
function YDWESaveSoundByInteger takes integer pTable,integer pKey,sound sd returns nothing
    call SaveSoundHandle(YDHT, pTable, pKey, sd)
endfunction
function YDWESaveSoundByString takes string pTable,string pKey,sound sd returns nothing
    call SaveSoundHandle(YDHT, StringHash(pTable), StringHash(pKey), sd)
endfunction
function YDWEGetSoundByInteger takes integer pTable,integer pKey returns sound
    return LoadSoundHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetSoundByString takes string pTable,string pKey returns sound
    return LoadSoundHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert timerdialog
function YDWESaveTimerDialogByInteger takes integer pTable,integer pKey,timerdialog td returns nothing
    call SaveTimerDialogHandle(YDHT, pTable, pKey, td)
endfunction
function YDWESaveTimerDialogByString takes string pTable,string pKey,timerdialog td returns nothing
    call SaveTimerDialogHandle(YDHT, StringHash(pTable), StringHash(pKey), td)
endfunction
function YDWEGetTimerDialogByInteger takes integer pTable,integer pKey returns timerdialog
    return LoadTimerDialogHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTimerDialogByString takes string pTable,string pKey returns timerdialog
    return LoadTimerDialogHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert trackable
function YDWESaveTrackableByInteger takes integer pTable,integer pKey,trackable ta returns nothing
    call SaveTrackableHandle(YDHT, pTable, pKey, ta)
endfunction
function YDWESaveTrackableByString takes string pTable,string pKey,trackable ta returns nothing
    call SaveTrackableHandle(YDHT, StringHash(pTable), StringHash(pKey), ta)
endfunction
function YDWEGetTrackableByInteger takes integer pTable,integer pKey returns trackable
    return LoadTrackableHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTrackableByString takes string pTable,string pKey returns trackable
    return LoadTrackableHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert dialog
function YDWESaveDialogByInteger takes integer pTable,integer pKey,dialog d returns nothing
    call SaveDialogHandle(YDHT, pTable, pKey, d)
endfunction
function YDWESaveDialogByString takes string pTable,string pKey,dialog d returns nothing
    call SaveDialogHandle(YDHT, StringHash(pTable), StringHash(pKey), d)
endfunction
function YDWEGetDialogByInteger takes integer pTable,integer pKey returns dialog
    return LoadDialogHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetDialogByString takes string pTable,string pKey returns dialog
    return LoadDialogHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert button
function YDWESaveButtonByInteger takes integer pTable,integer pKey,button bt returns nothing
    call SaveButtonHandle(YDHT, pTable, pKey, bt)
endfunction
function YDWESaveButtonByString takes string pTable,string pKey,button bt returns nothing
    call SaveButtonHandle(YDHT, StringHash(pTable), StringHash(pKey), bt)
endfunction
function YDWEGetButtonByInteger takes integer pTable,integer pKey returns button
    return LoadButtonHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetButtonByString takes string pTable,string pKey returns button
    return LoadButtonHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert quest
function YDWESaveQuestByInteger takes integer pTable,integer pKey,quest qt returns nothing
    call SaveQuestHandle(YDHT, pTable, pKey, qt)
endfunction
function YDWESaveQuestByString takes string pTable,string pKey,quest qt returns nothing
    call SaveQuestHandle(YDHT, StringHash(pTable), StringHash(pKey), qt)
endfunction
function YDWEGetQuestByInteger takes integer pTable,integer pKey returns quest
    return LoadQuestHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetQuestByString takes string pTable,string pKey returns quest
    return LoadQuestHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert questitem
function YDWESaveQuestItemByInteger takes integer pTable,integer pKey,questitem qi returns nothing
    call SaveQuestItemHandle(YDHT, pTable, pKey, qi)
endfunction
function YDWESaveQuestItemByString takes string pTable,string pKey,questitem qi returns nothing
    call SaveQuestItemHandle(YDHT, StringHash(pTable), StringHash(pKey), qi)
endfunction
function YDWEGetQuestItemByInteger takes integer pTable,integer pKey returns questitem
    return LoadQuestItemHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetQuestItemByString takes string pTable,string pKey returns questitem
    return LoadQuestItemHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
function YDWES2I takes string s returns integer
    return StringHash(s)
endfunction
function YDWESaveAbilityHandleBJ takes integer AbilityID,integer key,integer missionKey,hashtable table returns nothing
    call SaveInteger(table, missionKey, key, AbilityID)
endfunction
function YDWESaveAbilityHandle takes hashtable table,integer parentKey,integer childKey,integer AbilityID returns nothing
    call SaveInteger(table, parentKey, childKey, AbilityID)
endfunction
function YDWELoadAbilityHandleBJ takes integer key,integer missionKey,hashtable table returns integer
    return LoadInteger(table, missionKey, key)
endfunction
function YDWELoadAbilityHandle takes hashtable table,integer parentKey,integer childKey returns integer
    return LoadInteger(table, parentKey, childKey)
endfunction
//===========================================================================
//ËøîÂõûÂèÇÊï∞
//===========================================================================
//Âú∞ÂõæËæπÁïåÂà§Êñ≠
function YDWECoordinateX takes real x returns real
    return RMinBJ(RMaxBJ(x, yd_MapMinX), yd_MapMaxX)
endfunction
function YDWECoordinateY takes real y returns real
    return RMinBJ(RMaxBJ(y, yd_MapMinY), yd_MapMaxY)
endfunction
//‰∏§‰∏™Âçï‰Ωç‰πãÈó¥ÁöÑË∑ùÁ¶ª
function YDWEDistanceBetweenUnits takes unit a,unit b returns real
    return SquareRoot(( GetUnitX(a) - GetUnitX(b) ) * ( GetUnitX(a) - GetUnitX(b) ) + ( GetUnitY(a) - GetUnitY(b) ) * ( GetUnitY(a) - GetUnitY(b) ))
endfunction
//‰∏§‰∏™Âçï‰Ωç‰πãÈó¥ÁöÑËßíÂ∫¶
function YDWEAngleBetweenUnits takes unit fromUnit,unit toUnit returns real
    return bj_RADTODEG * Atan2(GetUnitY(toUnit) - GetUnitY(fromUnit), GetUnitX(toUnit) - GetUnitX(fromUnit))
endfunction
//ÁîüÊàêÂå∫Âüü
function YDWEGetRect takes real x,real y,real width,real height returns rect
    return Rect(x - width * 0.5, y - height * 0.5, x + width * 0.5, y + height * 0.5)
endfunction
//===========================================================================
//ËÆæÁΩÆÂçï‰ΩçÂèØ‰ª•È£ûË°å
//===========================================================================
function YDWEFlyEnable takes unit u returns nothing
    call UnitAddAbility(u, 'Amrf')
    call UnitRemoveAbility(u, 'Amrf')
endfunction
//===========================================================================
//Â≠óÁ¨¶Á™ú‰∏éIDËΩ¨Êç¢
//===========================================================================
function YDWEId2S takes integer value returns string
    local string charMap=bj_AllString
    local string result= ""
    local integer remainingValue= value
    local integer charValue
    local integer byteno
    set byteno=0
    loop
        set charValue=ModuloInteger(remainingValue, 256)
        set remainingValue=remainingValue / 256
        set result=SubString(charMap, charValue, charValue + 1) + result
        set byteno=byteno + 1
        exitwhen byteno == 4
    endloop
    return result
endfunction
function YDWES2Id takes string targetstr returns integer
    local string originstr=bj_AllString
    local integer strlength=StringLength(targetstr)
    local integer a=0
local integer b=0
local integer numx=1
local integer result=0
    loop
    exitwhen b > strlength - 1
        set numx=R2I(Pow(256, strlength - 1 - b))
        set a=1
        loop
            exitwhen a > 255
            if SubString(targetstr, b, b + 1) == SubString(originstr, a, a + 1) then
                set result=result + a * numx
                set a=256
            endif
            set a=a + 1
        endloop
        set b=b + 1
    endloop
    return result
endfunction
function YDWES2UnitId takes string targetstr returns integer
    return YDWES2Id(targetstr)
endfunction
function YDWES2ItemId takes string targetstr returns integer
    return YDWES2Id(targetstr)
endfunction
function GetLastAbilityCastingUnit takes nothing returns unit
    return bj_lastAbilityCastingUnit
endfunction
function GetLastAbilityTargetUnit takes nothing returns unit
    return bj_lastAbilityTargetUnit
endfunction
function YDWESetMapLimitCoordinate takes real MinX,real MaxX,real MinY,real MaxY returns nothing
    set yd_MapMaxX=MaxX
    set yd_MapMinX=MinX
    set yd_MapMaxY=MaxY
    set yd_MapMinY=MinY
endfunction
//===========================================================================
//===========================================================================
//Âú∞ÂõæÂàùÂßãÂåñ
//===========================================================================
//YDWEÁâπÊÆäÊäÄËÉΩÁªìÊùü‰∫ã‰ª∂ 
function YDWESyStemAbilityCastingOverTriggerAction takes unit hero,integer index returns nothing
 local integer i= 0
    loop
        exitwhen i >= YDWEBase___AbilityCastingOverEventNumber
        if YDWEBase___AbilityCastingOverEventType[i] == index then
            set bj_lastAbilityCastingUnit=hero
			if YDWEBase___AbilityCastingOverEventQueue[i] != null and TriggerEvaluate(YDWEBase___AbilityCastingOverEventQueue[i]) and IsTriggerEnabled(YDWEBase___AbilityCastingOverEventQueue[i]) then
				call TriggerExecute(YDWEBase___AbilityCastingOverEventQueue[i])
			endif
		endif
        set i=i + 1
    endloop
endfunction
//===========================================================================  
//YDWEÊäÄËÉΩÊçïÊçâ‰∫ã‰ª∂ 
//===========================================================================  
function YDWESyStemAbilityCastingOverRegistTrigger takes trigger trg,integer index returns nothing
	set YDWEBase___AbilityCastingOverEventQueue[YDWEBase___AbilityCastingOverEventNumber]=trg
	set YDWEBase___AbilityCastingOverEventType[YDWEBase___AbilityCastingOverEventNumber]=index
	set YDWEBase___AbilityCastingOverEventNumber=YDWEBase___AbilityCastingOverEventNumber + 1
endfunction 
//===========================================================================
//Á≥ªÁªüÂáΩÊï∞ÂÆåÂñÑ
//===========================================================================
function YDWECreateUnitPool takes nothing returns nothing
    set bj_lastCreatedUnitPool=CreateUnitPool()
endfunction
function YDWEPlaceRandomUnit takes unitpool up,player p,real x,real y,real face returns nothing
set bj_lastPoolAbstractedUnit=PlaceRandomUnit(up, p, x, y, face)
endfunction
function YDWEGetLastUnitPool takes nothing returns unitpool
    return bj_lastCreatedUnitPool
endfunction
function YDWEGetLastPoolAbstractedUnit takes nothing returns unit
    return bj_lastPoolAbstractedUnit
endfunction
function YDWECreateItemPool takes nothing returns nothing
    set bj_lastCreatedItemPool=CreateItemPool()
endfunction
function YDWEPlaceRandomItem takes itempool ip,real x,real y returns nothing
set bj_lastPoolAbstractedItem=PlaceRandomItem(ip, x, y)
endfunction
function YDWEGetLastItemPool takes nothing returns itempool
    return bj_lastCreatedItemPool
endfunction
function YDWEGetLastPoolAbstractedItem takes nothing returns item
    return bj_lastPoolAbstractedItem
endfunction
function YDWESetAttackDamageWeaponType takes attacktype at,damagetype dt,weapontype wt returns nothing
    set bj_lastSetAttackType=at
    set bj_lastSetDamageType=dt
    set bj_lastSetWeaponType=wt
endfunction
//unitpool bj_lastCreatedPool=null
//unit bj_lastPoolAbstractedUnit=null
function YDWEGetPlayerColorString takes player p,string s returns string
    return YDWEBase___yd_PlayerColor[GetHandleId(GetPlayerColor(p))] + s + "|r"
endfunction
//===========================================================================
//===========================================================================
//Á≥ªÁªüÂáΩÊï∞Ë°•ÂÖÖ
//===========================================================================
//===========================================================================
function YDWEGetUnitItemSoftId takes unit hero,item it returns integer
    local integer i= 0
    loop
         exitwhen i > 5
         if UnitItemInSlot(hero, i) == it then
            return i + 1
         endif
         set i=i + 1
    endloop
    return 0
endfunction
//===========================================================================
//===========================================================================
//Âú∞ÂõæÂàùÂßãÂåñ
//===========================================================================
//===========================================================================
//ÊòæÁ§∫ÁâàÊú¨
function YDWEVersion_Display takes nothing returns boolean
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 30, "|cFF1E90FFÂΩìÂâçÁºñËæëÂô®ÁâàÊú¨‰∏∫Ôºö |r|cFF00FF00YDWE 1.30.6.1581")
    return false
endfunction
function YDWEVersion_Init takes nothing returns nothing
    local trigger t= CreateTrigger()
    local integer i= 0
    loop
        exitwhen i == 12
        call TriggerRegisterPlayerChatEvent(t, Player(i), "YDWE Version", true)
        set i=i + 1
    endloop
    call TriggerAddCondition(t, Condition(function YDWEVersion_Display))
    set t=null
endfunction
function InitializeYD takes nothing returns nothing
	//=================ËÆæÁΩÆÂèòÈáè=====================
	set yd_MapMinX=GetCameraBoundMinX() - GetCameraMargin(CAMERA_MARGIN_LEFT)
	set yd_MapMinY=GetCameraBoundMinY() - GetCameraMargin(CAMERA_MARGIN_BOTTOM)
	set yd_MapMaxX=GetCameraBoundMaxX() + GetCameraMargin(CAMERA_MARGIN_RIGHT)
	set yd_MapMaxY=GetCameraBoundMaxY() + GetCameraMargin(CAMERA_MARGIN_TOP)
	
    set YDWEBase___yd_PlayerColor[0]="|cFFFF0303"
    set YDWEBase___yd_PlayerColor[1]="|cFF0042FF"
    set YDWEBase___yd_PlayerColor[2]="|cFF1CE6B9"
    set YDWEBase___yd_PlayerColor[3]="|cFF540081"
    set YDWEBase___yd_PlayerColor[4]="|cFFFFFC01"
    set YDWEBase___yd_PlayerColor[5]="|cFFFE8A0E"
    set YDWEBase___yd_PlayerColor[6]="|cFF20C000"
    set YDWEBase___yd_PlayerColor[7]="|cFFE55BB0"
    set YDWEBase___yd_PlayerColor[8]="|cFF959697"
    set YDWEBase___yd_PlayerColor[9]="|cFF7EBFF1"
    set YDWEBase___yd_PlayerColor[10]="|cFF106246"
    set YDWEBase___yd_PlayerColor[11]="|cFF4E2A04"
    set YDWEBase___yd_PlayerColor[12]="|cFF282828"
    set YDWEBase___yd_PlayerColor[13]="|cFF282828"
    set YDWEBase___yd_PlayerColor[14]="|cFF282828"
    set YDWEBase___yd_PlayerColor[15]="|cFF282828"
    //=================ÊòæÁ§∫ÁâàÊú¨=====================
    call YDWEVersion_Init()
endfunction

//library YDWEBase ends
//library YDWEGetForceOfPlayerNull:
function YDWEGetForceOfPlayerNull takes player whichPlayer returns force
    local force f= CreateForce()
    call ForceAddPlayer(f, whichPlayer)
    set yd_NullTempForce=f
    set f=null
    return yd_NullTempForce
endfunction

//library YDWEGetForceOfPlayerNull ends
//library YDWEGetItemOfTypeFromUnitBJNull:
function YDWEGetItemOfTypeFromUnitBJNull takes unit whichUnit,integer itemId returns item
    local integer index= 0
    loop
        set yd_NullTempItem=UnitItemInSlot(whichUnit, index)
        if GetItemTypeId(yd_NullTempItem) == itemId then
            return yd_NullTempItem
        endif
        set index=index + 1
        exitwhen index >= bj_MAX_INVENTORY
    endloop
    return null
endfunction

//library YDWEGetItemOfTypeFromUnitBJNull ends
//library YDWEGetPlayersByMapControlNull:
function YDWEGetPlayersByMapControlNull takes mapcontrol whichControl returns force
    local force f= CreateForce()
    local integer playerIndex
    local player indexPlayer
    set playerIndex=0
    loop
        set indexPlayer=Player(playerIndex)
        if GetPlayerController(indexPlayer) == whichControl then
            call ForceAddPlayer(f, indexPlayer)
        endif
        set playerIndex=playerIndex + 1
        exitwhen playerIndex == bj_MAX_PLAYER_SLOTS
    endloop
    set indexPlayer=null
    set yd_NullTempForce=f
    set f=null
    return yd_NullTempForce
endfunction

//library YDWEGetPlayersByMapControlNull ends
//library YDWEGetRandomSubGroupEnumNull:
function YDWEGetRandomSubGroupEnumNull takes nothing returns nothing
    if ( bj_randomSubGroupWant > 0 ) then
        if ( bj_randomSubGroupWant >= bj_randomSubGroupTotal ) or ( GetRandomInt(1, bj_randomSubGroupTotal) <= bj_randomSubGroupWant ) then
            // We either need every remaining unit, or the unit passed its chance check.
            call GroupAddUnit(bj_randomSubGroupGroup, GetEnumUnit())
            set bj_randomSubGroupWant=bj_randomSubGroupWant - 1
        endif
    endif
    set bj_randomSubGroupTotal=bj_randomSubGroupTotal - 1
endfunction

//library YDWEGetRandomSubGroupEnumNull ends
//library YDWEGetUnitsInRangeOfLocMatchingNull:
function YDWEGetUnitsInRangeOfLocMatchingNull takes real radius,location whichLocation,boolexpr filter returns group
    local group g= CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g, whichLocation, radius, filter)
    call DestroyBoolExpr(filter)
    set yd_NullTempGroup=g
    set g=null
    return yd_NullTempGroup
endfunction

//library YDWEGetUnitsInRangeOfLocMatchingNull ends
//library YDWEGetUnitsInRectMatchingNull:
function YDWEGetUnitsInRectMatchingNull takes rect r,boolexpr filter returns group
    local group g= CreateGroup()
    call GroupEnumUnitsInRect(g, r, filter)
    call DestroyBoolExpr(filter)
    set yd_NullTempGroup=g
    set g=null
    return yd_NullTempGroup
endfunction

//library YDWEGetUnitsInRectMatchingNull ends
//library YDWEGetUnitsInRectOfPlayerNull:
function YDWEGetUnitsInRectOfPlayerNull takes rect r,player whichPlayer returns group
    local group g= CreateGroup()
    set bj_groupEnumOwningPlayer=whichPlayer
    call GroupEnumUnitsInRect(g, r, filterGetUnitsInRectOfPlayer)
    set yd_NullTempGroup=g
    set g=null
    return yd_NullTempGroup
endfunction

//library YDWEGetUnitsInRectOfPlayerNull ends
//library YDWEGetUnitsOfPlayerAndTypeIdNull:
function YDWEGetUnitsOfPlayerAndTypeIdNull takes player whichPlayer,integer unitid returns group
    local group g= CreateGroup()
    set bj_groupEnumTypeId=unitid
    call GroupEnumUnitsOfPlayer(g, whichPlayer, filterGetUnitsOfPlayerAndTypeId)
    set yd_NullTempGroup=g
    set g=null
    return yd_NullTempGroup
endfunction

//library YDWEGetUnitsOfPlayerAndTypeIdNull ends
//library YDWEGetUnitsOfPlayerMatchingNull:
function YDWEGetUnitsOfPlayerMatchingNull takes player whichPlayer,boolexpr filter returns group
    local group g= CreateGroup()
    call GroupEnumUnitsOfPlayer(g, whichPlayer, filter)
    call DestroyBoolExpr(filter)
    set yd_NullTempGroup=g
    set g=null
    return yd_NullTempGroup
endfunction

//library YDWEGetUnitsOfPlayerMatchingNull ends
//library YDWEGetUnitsOfTypeIdAllNull:
function YDWEGetUnitsOfTypeIdAllNull takes integer unitid returns group
    local group result= CreateGroup()
    local group g= CreateGroup()
    local integer index
    set index=0
    loop
        set bj_groupEnumTypeId=unitid
        call GroupClear(g)
        call GroupEnumUnitsOfPlayer(g, Player(index), filterGetUnitsOfTypeIdAll)
        call GroupAddGroup(g, result)
        set index=index + 1
        exitwhen index == bj_MAX_PLAYER_SLOTS
    endloop
    call DestroyGroup(g)
    set g=null
    set yd_NullTempGroup=result
    set result=null
    return yd_NullTempGroup
endfunction

//library YDWEGetUnitsOfTypeIdAllNull ends
//library YDWEMultiboardSetItemValueBJNull:
function YDWEMultiboardSetItemValueBJNull takes multiboard mb,integer col,integer row,string val returns nothing
    local integer curRow= 0
    local integer curCol= 0
    local integer numRows= MultiboardGetRowCount(mb)
    local integer numCols= MultiboardGetColumnCount(mb)
    local multiboarditem mbitem= null
    // Loop over rows, using 1-based index
    loop
        set curRow=curRow + 1
        exitwhen curRow > numRows
        // Apply setting to the requested row, or all rows (if row is 0)
        if ( row == 0 or row == curRow ) then
            // Loop over columns, using 1-based index
            set curCol=0
            loop
                set curCol=curCol + 1
                exitwhen curCol > numCols
                // Apply setting to the requested column, or all columns (if col is 0)
                if ( col == 0 or col == curCol ) then
                    set mbitem=MultiboardGetItem(mb, curRow - 1, curCol - 1)
                    call MultiboardSetItemValue(mbitem, val)
                    call MultiboardReleaseItem(mbitem)
                endif
            endloop
        endif
    endloop
    set mbitem=null
endfunction

//library YDWEMultiboardSetItemValueBJNull ends
//library YDWEPlaySoundNull:
function YDWEPlaySoundNull takes string soundName returns nothing
    local sound soundHandle= CreateSound(soundName, false, false, true, 12700, 12700, "")
    call StartSound(soundHandle)
    call KillSoundWhenDone(soundHandle)
    set soundHandle=null
endfunction

//library YDWEPlaySoundNull ends
//library YDWEPolledWaitNull:
function YDWEPolledWaitNull takes real duration returns nothing
    local timer t
    local real timeRemaining
    if ( duration > 0 ) then
        set t=CreateTimer()
        call TimerStart(t, duration, false, null)
        loop
            set timeRemaining=TimerGetRemaining(t)
            exitwhen timeRemaining <= 0
            // If we have a bit of time left, skip past 10% of the remaining
            // duration instead of checking every interval, to minimize the
            // polling on long waits.
            if ( timeRemaining > bj_POLLED_WAIT_SKIP_THRESHOLD ) then
                call TriggerSleepAction(0.1 * timeRemaining)
            else
                call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
            endif
        endloop
        call DestroyTimer(t)
    endif
    set t=null
endfunction

//library YDWEPolledWaitNull ends
//library YDWETriggerEvent:
	
//===========================================================================  
//»Œ“‚µ•Œª…À∫¶ ¬º˛ 
//===========================================================================
function YDWEAnyUnitDamagedTriggerAction takes nothing returns nothing
    local integer i= 0
    
    loop
        exitwhen i >= YDWETriggerEvent___DamageEventNumber
        if YDWETriggerEvent___DamageEventQueue[i] != null and IsTriggerEnabled(YDWETriggerEvent___DamageEventQueue[i]) and TriggerEvaluate(YDWETriggerEvent___DamageEventQueue[i]) then
            call TriggerExecute(YDWETriggerEvent___DamageEventQueue[i])
        endif
        set i=i + 1
    endloop
endfunction
function YDWEAnyUnitDamagedFilter takes nothing returns boolean
    if GetUnitAbilityLevel(GetFilterUnit(), 'Aloc') <= 0 then
        call TriggerRegisterUnitEvent(yd_DamageEventTrigger, GetFilterUnit(), EVENT_UNIT_DAMAGED)
    endif
    return false
endfunction
function YDWEAnyUnitDamagedEnumUnit takes nothing returns nothing
    local trigger t= CreateTrigger()
    local region r= CreateRegion()
    local group g= CreateGroup()
    call RegionAddRect(r, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, r, Condition(function YDWEAnyUnitDamagedFilter))
    call GroupEnumUnitsInRect(g, GetWorldBounds(), Condition(function YDWEAnyUnitDamagedFilter))
    call DestroyGroup(g)
    set r=null
    set t=null
    set g=null
endfunction
	
function YDWESyStemAnyUnitDamagedRegistTrigger takes trigger trg returns nothing
    if trg == null then
        return
    endif
        
    if YDWETriggerEvent___DamageEventNumber == 0 then
        set yd_DamageEventTrigger=CreateTrigger()
        call TriggerAddAction(yd_DamageEventTrigger, function YDWEAnyUnitDamagedTriggerAction)
        call YDWEAnyUnitDamagedEnumUnit()
    endif
    
    set YDWETriggerEvent___DamageEventQueue[YDWETriggerEvent___DamageEventNumber]=trg
    set YDWETriggerEvent___DamageEventNumber=YDWETriggerEvent___DamageEventNumber + 1
endfunction
//===========================================================================  
//“∆∂ØŒÔ∆∑ ¬º˛ 
//===========================================================================  
function YDWESyStemItemUnmovableTriggerAction takes nothing returns nothing
    local integer i= 0
    
    if GetIssuedOrderId() >= 852002 and GetIssuedOrderId() <= 852007 then
		set bj_lastMovedItemInItemSlot=GetOrderTargetItem()
    	loop
        	exitwhen i >= YDWETriggerEvent___MoveItemEventNumber
        	if YDWETriggerEvent___MoveItemEventQueue[i] != null and IsTriggerEnabled(YDWETriggerEvent___MoveItemEventQueue[i]) and TriggerEvaluate(YDWETriggerEvent___MoveItemEventQueue[i]) then
        	    call TriggerExecute(YDWETriggerEvent___MoveItemEventQueue[i])
        	endif
        	set i=i + 1
    	endloop
	endif
endfunction
function YDWESyStemItemUnmovableRegistTrigger takes trigger trg returns nothing
    if trg == null then
        return
    endif
        
    if YDWETriggerEvent___MoveItemEventNumber == 0 then
        set YDWETriggerEvent___MoveItemEventTrigger=CreateTrigger()
        call TriggerAddAction(YDWETriggerEvent___MoveItemEventTrigger, function YDWESyStemItemUnmovableTriggerAction)
        call TriggerRegisterAnyUnitEventBJ(YDWETriggerEvent___MoveItemEventTrigger, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    endif
    
    set YDWETriggerEvent___MoveItemEventQueue[YDWETriggerEvent___MoveItemEventNumber]=trg
    set YDWETriggerEvent___MoveItemEventNumber=YDWETriggerEvent___MoveItemEventNumber + 1
endfunction
function GetLastMovedItemInItemSlot takes nothing returns item
    return bj_lastMovedItemInItemSlot
endfunction

//library YDWETriggerEvent ends
//library YDWETriggerRegisterEnterRectSimpleNull:
function YDWETriggerRegisterEnterRectSimpleNull takes trigger trig,rect r returns event
    local region rectRegion= CreateRegion()
    call RegionAddRect(rectRegion, r)
    set yd_NullTempRegion=rectRegion
    set rectRegion=null
    return TriggerRegisterEnterRegion(trig, yd_NullTempRegion, null)
endfunction

//library YDWETriggerRegisterEnterRectSimpleNull ends
//library YDWETriggerRegisterLeaveRectSimpleNull:
function YDWETriggerRegisterLeaveRectSimpleNull takes trigger trig,rect r returns event
    local region rectRegion= CreateRegion()
    call RegionAddRect(rectRegion, r)
    set yd_NullTempRegion=rectRegion
    set rectRegion=null
    return TriggerRegisterLeaveRegion(trig, yd_NullTempRegion, null)
endfunction

//library YDWETriggerRegisterLeaveRectSimpleNull ends
//library YDWEUnitHasItemOfTypeBJNull:
function YDWEUnitHasItemOfTypeBJNull takes unit whichUnit,integer itemId returns boolean
    local integer index= 0
	if itemId != 0 then
		loop
			if GetItemTypeId(UnitItemInSlot(whichUnit, index)) == itemId then
				return true
			endif
			set index=index + 1
			exitwhen index >= bj_MAX_INVENTORY
		endloop
	endif
    return false
endfunction

//library YDWEUnitHasItemOfTypeBJNull ends
//library Constant:
	
//---------------------------------------------------------------------------------------------------
	
 function GetVersion takes nothing returns string
		return "3.316"
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function IsClassic takes nothing returns boolean
		return mode == 1
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsHighSpeed takes nothing returns boolean
		return mode == 2
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CModeH takes integer i1,integer i2 returns integer
		if ( IsClassic() ) then
			return i1
		else
			return i2
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function RCModeH takes real r1,real r2 returns real
		if ( IsClassic() ) then
			return r1
		else
			return r2
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsUnitIsSpin takes unit u returns boolean
		return GetUnitTypeId(u) == 'E00F' or GetUnitTypeId(u) == 'E00E' or GetUnitTypeId(u) == 'U001' or GetUnitTypeId(u) == 'H01V' or GetUnitTypeId(u) == 'H01W' or GetUnitTypeId(u) == 'E00G' or GetUnitTypeId(u) == 'O002' or GetUnitTypeId(u) == 'H01X'
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetHeroIndex takes integer heroType returns integer
		if ( heroType == 'Ocbh' or heroType == 'O002' ) then
			return 1
		elseif ( heroType == 'Eevi' or heroType == 'E00F' ) then
			return 2
		elseif ( heroType == 'Hvwd' or heroType == 'H01X' ) then
			return 3
		elseif ( heroType == 'Uktl' ) then
			return 4
		elseif ( heroType == 'Nbbc' ) then
			return 5
		elseif ( heroType == 'E00D' or heroType == 'E00E' ) then
			return 6
		elseif ( heroType == 'Usyl' or heroType == 'U001' ) then
			return 7
		elseif ( heroType == 'Hjai' or heroType == 'H01V' ) then
			return 8
		elseif ( heroType == 'Harf' or heroType == 'H01W' ) then
			return 9
		elseif ( heroType == 'E00C' ) then
			return 10
		elseif ( heroType == 'Etyr' or heroType == 'E00G' ) then
			return 11
		elseif ( heroType == 'Othr' ) then
			return 12
		elseif ( heroType == 'Udea' ) then
			return 13
		elseif ( heroType == 'Hkal' ) then
			return 14
		elseif ( heroType == 'Hant' ) then
			return 15
		elseif ( heroType == 'Nsjs' ) then
			return 16
		elseif ( heroType == 'Hhkl' ) then
			return 17
		elseif ( heroType == 'Hapm' or heroType == 'H01I' ) then
			return 18
		endif
		return 0
	endfunction	
//---------------------------------------------------------------------------------------------------
	
 function GetIndexHeroName takes integer i returns string
   local string result= ""
			if ( i == 1 ) then
				set result="ÂáØÊíí"
			elseif ( i == 2 ) then
				set result="ÊπÆÁÅ≠"
			elseif ( i == 3 ) then
				set result="Ëé´Áê™"
			elseif ( i == 4 ) then
				set result="ÁéÑÈõ™"
			elseif ( i == 5 ) then
				set result="Èú∏Áªù"
			elseif ( i == 6 ) then
				set result="ÁëüÈõ®"
			elseif ( i == 7 ) then
				set result="ÊôìÊúà"
			elseif ( i == 8 ) then
				set result="ÂáåÈõ™"
			elseif ( i == 9 ) then
				set result="Ëæ∞ÂØÇ"
			elseif ( i == 10 ) then
				set result="ÂØíÊÆá"
			elseif ( i == 11 ) then
				set result="Ê≥∞ÈõÖ"
			elseif ( i == 12 ) then
				set result="ÊëÑÁÑ±"
			elseif ( i == 13 ) then
				set result="ÈªëÈòé"
			elseif ( i == 14 ) then
				set result="Ê¢¶ÈúÅ"
			elseif ( i == 15 ) then
				set result="ÂπªÈÄ∏"
			elseif ( i == 16 ) then
				set result="ËãçÂáå"
			elseif ( i == 17 ) then
				set result="Âè∏ÂÆ∏"
			elseif ( i == 18 ) then
				set result="ÊòüËÉß"
			endif
			return result
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function GetHeroTianFu takes unit u returns integer
  local integer id= GetHeroIndex(GetUnitTypeId(u))
		if ( id == 1 ) then
			return 'AOre'
		elseif ( id == 2 ) then
			return 'A072'
		elseif ( id == 3 ) then
			return 'A04G'
		elseif ( id == 4 ) then
			return 'A042'
		elseif ( id == 5 ) then
			return 'Absk'
		elseif ( id == 6 ) then
			return 'A0IL'
		elseif ( id == 7 ) then
			return 'ACfs'
		elseif ( id == 8 ) then
			return 'A0FV'
		elseif ( id == 9 ) then
			return 'A0F2'
		elseif ( id == 10 ) then
			return 'A0II'
		elseif ( id == 11 ) then
			return 'ACbc'
		elseif ( id == 12 ) then
			return 'A0E7'
		elseif ( id == 13 ) then
			return 'A0A3'
		elseif ( id == 14 ) then
			return 'A0GX'
		elseif ( id == 15 ) then
			return 'AHHD'
		elseif ( id == 16 ) then
			return 'A0HH'
		elseif ( id == 17 ) then
			return 'A0IP'
		elseif ( id == 18 ) then
			return 'AEme'
		endif
		return 0
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function GetHeroDifficulty takes unit u returns string
  local integer id= GetHeroIndex(GetUnitTypeId(u))
		if ( id == 1 ) then
			return "|cffffff00Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 2 ) then
			return "|cffff8000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ|r"
		elseif ( id == 3 ) then
			return "|cffffff00Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 4 ) then
			return "|cffff8000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ|r"
		elseif ( id == 5 ) then
			return "|cffff4000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ|r"
		elseif ( id == 6 ) then
			return "|cffffc000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 7 ) then
			return "|cffffff00Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 8 ) then
			return "|cffffff00Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 9 ) then
			return "|cffff4000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ|r"
		elseif ( id == 10 ) then
			return "|cffff4000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ|r"
		elseif ( id == 11 ) then
			return "|cffff8000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ|r"
		elseif ( id == 12 ) then
			return "|cffff4000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ|r"
		elseif ( id == 13 ) then
			return "|cffffc000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 13 ) then
			return "|cffffc000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 14 ) then
			return "|cffffff00Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 15 ) then
			return "|cffff0000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ(ÊûÅÂ∫¶‰∏çÊé®ËçêÊñ∞Êâã‰ΩøÁî®)|r"
		elseif ( id == 16 ) then
			return "|cffffc000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 17 ) then
			return "|cffffc000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ|r"
		elseif ( id == 18 ) then
			return "|cffff4000Êìç‰ΩúÈöæÂ∫¶Ôºö‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ|r"
		endif
		return ""
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetIndexHeroColorName takes integer i returns string
  local string result= ""
		if ( i == 1 ) then
			set result="|cffff0000ÂáØÊíí|r"
		elseif ( i == 2 ) then
			set result="|cFFFFCC66ÊπÆÁÅ≠|r"
		elseif ( i == 3 ) then
			set result="|cFF999900Ëé´Áê™|r"
		elseif ( i == 4 ) then
			set result="|cFF33FF33ÁéÑÈõ™|r"
		elseif ( i == 5 ) then
			set result="|cFFCCFF66Èú∏Áªù|r"
		elseif ( i == 6 ) then
			set result="|cFFCCFF33ÁëüÈõ®|r"
		elseif ( i == 7 ) then
			set result="|cffff00ffÊôìÊúà|r"
		elseif ( i == 8 ) then
			set result="|cFFFF3399ÂáåÈõ™|r"
		elseif ( i == 9 ) then
			set result="|cFFCCFF00Ëæ∞ÂØÇ|r"
		elseif ( i == 10 ) then
			set result="|cFF33FF33ÂØíÊÆá|r"
		elseif ( i == 11 ) then
			set result="|cFFFF3399Ê≥∞ÈõÖ|r"
		elseif ( i == 12 ) then
			set result="|cff00ccffÊëÑÁÑ±|r"
		elseif ( i == 13 ) then
			set result="|cffff6800ÈªëÈòé|r"
		elseif ( i == 14 ) then
			set result="|cffff99ccÊ¢¶ÈúÅ|r"
		elseif ( i == 15 ) then
			set result="|cff00ccffÂπªÈÄ∏|r"
		elseif ( i == 16 ) then
			set result="|cff80ff80ËãçÂáå|r"
		elseif ( i == 17 ) then
			set result="|cff993366Âè∏ÂÆ∏|r"
		elseif ( i == 18 ) then
			set result="|cff99cc00ÊòüËÉß|r"
		endif
		return result
	endfunction

//---------------------------------------------------------------------------------------------------
    
 function GetRandomColor takes nothing returns string
  local integer random= GetRandomInt(1, 8)
		if ( random == 1 ) then
			return "|cff0000ff"
		elseif ( random == 2 ) then
			return "|cffcc99ff"
		elseif ( random == 3 ) then
			return "|cff99cc00"
		elseif ( random == 4 ) then
			return "|cffff0000"
		elseif ( random == 5 ) then
			return "|cffff6600"
		elseif ( random == 6 ) then
			return "|cffff00ff"
		elseif ( random == 7 ) then
			return "|cff808000"
		else
			return "|cffffff00"
		endif
	endfunction
    
    function GetColorString takes string s returns string
  local integer length= StringLength(s)
  local string result= ""
  local integer i=1
		if ( length == 0 ) then
			return ""
		endif
		loop
			exitwhen i > length
			set result=result + GetRandomColor() + SubStringBJ(s, i, i + 2)
			set i=i + 3
		endloop
        return result + "|r"
    endfunction

//---------------------------------------------------------------------------------------------------
	
 function IsAchieveColor takes integer achieveID returns boolean
		return achieveID == 325 or achieveID == 24 or achieveID == 28 or achieveID == 29 or achieveID == 220 or achieveID == 226 or achieveID == 230 or achieveID == 35 or achieveID == 310 or achieveID == 314 or achieveID == 318 or achieveID == 326 or achieveID == 320 or achieveID == 321 or achieveID == 322 or achieveID == 323 or achieveID == 324 or achieveID == 327 or achieveID == 331 or achieveID == 42 or achieveID == 44 or achieveID == 45 or achieveID == 46 or achieveID == 47
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsAchieveWhite takes integer achieveID returns boolean
		return achieveID == 12 or achieveID == 216
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsAchieveLight takes integer achieveID returns boolean
		return IsAchieveColor(achieveID) or achieveID == 18 or achieveID == 210 or achieveID == 222
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetAchievementName takes integer achieveID returns string
		if ( achieveID == 325 ) then
			return GetColorString("„Äê‰∏áÂä´ÂΩï„Äë")
		elseif ( achieveID == 18 ) then
			return "|cffff00ff„ÄêËΩÆÂõûËà∞„Äë"
		elseif ( achieveID == 17 ) then
			return "|cffff0000„ÄêÊú´Êó•ËΩ¶„Äë"
		elseif ( achieveID == 16 ) then
			return "|cffff6600„ÄêÂú∞Áã±‰Ωø„Äë"
		elseif ( achieveID == 15 ) then
			return "|cffffff00„ÄêÁÅ≠ÁÇºÁã±„Äë"
		elseif ( achieveID == 14 ) then
			return "|cff3366ff„ÄêÂÆöÊàò‰∫â„Äë"
		elseif ( achieveID == 13 ) then
			return "|cff99cc00„ÄêÂíåË∞ê‰∏ñ„Äë"
		elseif ( achieveID == 12 ) then
			return "„ÄêÂ§™Âπ≥Ê∫ê„Äë"
		elseif ( achieveID == 11 ) then
			return "|cff999999„ÄêÂ§©ÂõΩÈü≥„Äë"
		elseif ( achieveID == 21 ) then
			return "|cff99cc00„ÄêÂÆöÂøÉÈ≠î„Äë"
		elseif ( achieveID == 22 ) then
			return "|cffffff00„ÄêÊñ©ÂøÉÈ≠î„Äë"
		elseif ( achieveID == 23 ) then
			return "|cffff0000„ÄêÂáÄÂøÉÈ≠î„Äë"
		elseif ( achieveID == 24 ) then
			return GetColorString("„ÄêÂàõÂøÉÈ≠î„Äë")
		elseif ( achieveID == 25 ) then
			return "|cff99cc00„ÄêÂ§ç‰∏ñË¥¢„Äë"
		elseif ( achieveID == 26 ) then
			return "|cffffff00„ÄêÁõõ‰∏ñË¥¢„Äë"
		elseif ( achieveID == 27 ) then
			return "|cffff0000„ÄêÁÅ≠‰∏ñË¥¢„Äë"
		elseif ( achieveID == 28 ) then
			return GetColorString("„ÄêÈÄ†‰∏ñË¥¢„Äë")
		elseif ( achieveID == 29 ) then
			return GetColorString("„ÄêÂçïËΩÆÂõû„Äë")
		elseif ( achieveID == 210 ) then
			return "|cffff00ff„ÄêÂçïÊú´Êó•„Äë"
		elseif ( achieveID == 211 ) then
			return "|cffff0000„ÄêÂçïÂú∞Áã±„Äë"
		elseif ( achieveID == 212 ) then
			return "|cffff6600„ÄêÂçïÁÇºÁã±„Äë"
		elseif ( achieveID == 213 ) then
			return "|cffffff00„ÄêÂçïÊàò‰∫â„Äë"
		elseif ( achieveID == 214 ) then
			return "|cff3366ff„ÄêÂçïÂíåË∞ê„Äë"
		elseif ( achieveID == 215 ) then
			return "|cff99cc00„ÄêÂçïÂ§™Âπ≥„Äë"
		elseif ( achieveID == 216 ) then
			return "„ÄêÂçïÂ§©ÂõΩ„Äë"
		elseif ( achieveID == 217 ) then
			return "|cff99cc00„ÄêÁü•Â§©Âú∞„Äë"
		elseif ( achieveID == 218 ) then
			return "|cffffff00„ÄêÊé¢‰πæÂù§„Äë"
		elseif ( achieveID == 219 ) then
			return "|cffff0000„Äê‰∫îÁïå‰∏ª„Äë"
		elseif ( achieveID == 220 ) then
			return GetColorString("„ÄêÂÖ≠ÁïåÁéã„Äë")
		elseif ( achieveID == 221 ) then
			return "|cff99cc00„ÄêÂçÉÈíßÂä´„Äë"
		elseif ( achieveID == 222 ) then
			return "|cffff00ff„ÄêÊú´‰∏ñÂä´„Äë"
		elseif ( achieveID == 223 ) then
			return "|cff99cc00„ÄêÈ£éÈ©∞ËÄÖ„Äë"
		elseif ( achieveID == 224 ) then
			return "|cffffff00„ÄêÁîµÊé£‰æ†„Äë"
		elseif ( achieveID == 225 ) then
			return "|cffff0000„ÄêÊó†ÂΩ±ÂÆ¢„Äë"
		elseif ( achieveID == 226 ) then
			return GetColorString("„ÄêÈÄÜËãçÂ§©„Äë")
		elseif ( achieveID == 227 ) then
			return "|cff99cc00„ÄêÈÄêÂ§©È≠î„Äë"
		elseif ( achieveID == 228 ) then
			return "|cffffff00„ÄêÈ©±Â§©È≠î„Äë"
		elseif ( achieveID == 229 ) then
			return "|cffff0000„Äê‰ºèÂ§©È≠î„Äë"
		elseif ( achieveID == 230 ) then
			return GetColorString("„ÄêËµ¶Â§©È≠î„Äë")
		elseif ( achieveID == 231 ) then
			return ( "|cffff0000„ÄêÊó†ÂøÉÂÜ¢„Äë" )
		elseif ( achieveID == 32 ) then
			return "|cff99cc00„ÄêËß¶Â§©Âºè„Äë"
		elseif ( achieveID == 33 ) then
			return "|cffffff00„Äê‰ºêÂ§©Âºè„Äë"
		elseif ( achieveID == 34 ) then
			return "|cffff0000„ÄêÂô¨Â§©Âºè„Äë"
		elseif ( achieveID == 35 ) then
			return GetColorString("„ÄêËØõÂ§©Âºè„Äë")
		elseif ( achieveID == 36 ) then
			return "|cff99cc00„ÄêÁºòÁÅ≠ÁΩê„Äë"
		elseif ( achieveID == 37 ) then
			return "|cffffff00„ÄêÂΩºÂ≤∏Ëä±„Äë"
		elseif ( achieveID == 38 ) then
			return "|cffff0000„Äê‰ªôÁÄëÂÖâ„Äë"
		elseif ( achieveID == 39 ) then
			return "|cffff0000„ÄêÁÉõÈæôË∞±„Äë"
		elseif ( achieveID == 310 ) then
			return GetColorString("„ÄêÈõ∂Â§±ËØØ„Äë")
		elseif ( achieveID == 311 ) then
			return "|cff99cc00„ÄêÁ†¥ËôöËÄÖ„Äë"
		elseif ( achieveID == 312 ) then
			return "|cffffff00„ÄêË£ÇËôöËÄÖ„Äë"
		elseif ( achieveID == 313 ) then
			return "|cffff0000„ÄêÊñ≠ËôöËÄÖ„Äë"
		elseif ( achieveID == 314 ) then
			return GetColorString("„ÄêÂºëËôöÂ∏ù„Äë")
		elseif ( achieveID == 315 ) then
			return "|cff99cc00„ÄêÂÆöÊó†Âèå„Äë"
		elseif ( achieveID == 316 ) then
			return "|cffffff00„ÄêÊàòÊó†Âèå„Äë"
		elseif ( achieveID == 317 ) then
			return "|cffff0000„ÄêÂáõÊó†Âèå„Äë"
		elseif ( achieveID == 318 ) then
			return GetColorString("„ÄêÈ≠ÑÊó†Âèå„Äë")
		elseif ( achieveID == 326 ) then
			return GetColorString("„ÄêÂ∞ÅÁ•ûÈó®„Äë")
		elseif ( achieveID == 320 ) then
			return GetColorString("„ÄêÂú£Ê¥ÅÁéâ„Äë")
		elseif ( achieveID == 321 ) then
			return GetColorString("„ÄêÂ≠§ÂøÉÊàí„Äë")
		elseif ( achieveID == 322 ) then
			return GetColorString("„ÄêÂæ°Â§©ÂêØ„Äë")
		elseif ( achieveID == 323 ) then
			return GetColorString("„Äê‰πùËΩÆÂú£„Äë")
		elseif ( achieveID == 324 ) then
			return GetColorString("„ÄêÂ∏ùÊõúËäí„Äë")
		elseif ( achieveID == 327 ) then
			return GetColorString("„ÄêÊµ©Âä´Ëµã„Äë")
		elseif ( achieveID == 328 ) then
			return "|cff99cc00„ÄêÂá∂ÂÖΩ‰Ωø„Äë"
		elseif ( achieveID == 329 ) then
			return "|cffffff00„ÄêÂçÉÈáåÁúº„Äë"
		elseif ( achieveID == 330 ) then
			return "|cffff0000„ÄêÊâßÊ±üÂ±±„Äë"
		elseif ( achieveID == 331 ) then
			return GetColorString("„ÄêÂïª‰∏ªÂÆ∞„Äë")
		elseif ( achieveID == 42 ) then
			return GetColorString("„ÄêÂÇ≤‰∏¥Â§©È≠á„Äë")
		elseif ( achieveID == 43 ) then
			return "|cffffff00„ÄêËø∑Ë∏™Ê≠•„Äë"
		elseif ( achieveID == 44 ) then
			return GetColorString("„ÄêÂΩ±Êó†Áºà„Äë")
		elseif ( achieveID == 45 ) then
			return GetColorString("„ÄêÁ†¥Êû∑Áöá„Äë")
		elseif ( achieveID == 46 ) then
			return GetColorString("„ÄêÁúüË®ÄÊÆø„Äë")
		elseif ( achieveID == 47 ) then
			return GetColorString("„Äê‰∏çË¥•Á•ûËØù„Äë")
		//ÂÆå‰∫ÜÂÜçÂä†Âà∞Achievement.j‰∏äÁöÑÂÖ®ÊàêÂ∞±.
		endif
		return ""
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function GetAchievementWhiteName takes integer achieveID returns string
		if ( achieveID == 325 ) then
			return "‰∏áÂä´ÂΩï"
		elseif ( achieveID == 18 ) then
			return "ËΩÆÂõûËà∞"
		elseif ( achieveID == 17 ) then
			return "Êú´Êó•ËΩ¶"
		elseif ( achieveID == 16 ) then
			return "Âú∞Áã±‰Ωø"
		elseif ( achieveID == 15 ) then
			return "ÁÅ≠ÁÇºÁã±"
		elseif ( achieveID == 14 ) then
			return "ÂÆöÊàò‰∫â"
		elseif ( achieveID == 13 ) then
			return "ÂíåË∞ê‰∏ñ"
		elseif ( achieveID == 12 ) then
			return "Â§™Âπ≥Ê∫ê"
		elseif ( achieveID == 11 ) then
			return "Â§©ÂõΩÈü≥"
		elseif ( achieveID == 21 ) then
			return "ÂÆöÂøÉÈ≠î"
		elseif ( achieveID == 22 ) then
			return "Êñ©ÂøÉÈ≠î"
		elseif ( achieveID == 23 ) then
			return "ÂáÄÂøÉÈ≠î"
		elseif ( achieveID == 24 ) then
			return "ÂàõÂøÉÈ≠î"
		elseif ( achieveID == 25 ) then
			return "Â§ç‰∏ñË¥¢"
		elseif ( achieveID == 26 ) then
			return "Áõõ‰∏ñË¥¢"
		elseif ( achieveID == 27 ) then
			return "ÁÅ≠‰∏ñË¥¢"
		elseif ( achieveID == 28 ) then
			return "ÈÄ†‰∏ñË¥¢"
		elseif ( achieveID == 29 ) then
			return "ÂçïËΩÆÂõû"
		elseif ( achieveID == 210 ) then
			return "ÂçïÊú´Êó•"
		elseif ( achieveID == 211 ) then
			return "ÂçïÂú∞Áã±"
		elseif ( achieveID == 212 ) then
			return "ÂçïÁÇºÁã±"
		elseif ( achieveID == 213 ) then
			return "ÂçïÊàò‰∫â"
		elseif ( achieveID == 214 ) then
			return "ÂçïÂíåË∞ê"
		elseif ( achieveID == 215 ) then
			return "ÂçïÂ§™Âπ≥"
		elseif ( achieveID == 216 ) then
			return "ÂçïÂ§©ÂõΩ"
		elseif ( achieveID == 217 ) then
			return "Áü•Â§©Âú∞"
		elseif ( achieveID == 218 ) then
			return "Êé¢‰πæÂù§"
		elseif ( achieveID == 219 ) then
			return "‰∫îÁïå‰∏ª"
		elseif ( achieveID == 220 ) then
			return "ÂÖ≠ÁïåÁéã"
		elseif ( achieveID == 221 ) then
			return "ÂçÉÈíßÂä´"
		elseif ( achieveID == 222 ) then
			return "Êú´‰∏ñÂä´"
		elseif ( achieveID == 223 ) then
			return "È£éÈ©∞ËÄÖ"
		elseif ( achieveID == 224 ) then
			return "ÁîµÊé£‰æ†"
		elseif ( achieveID == 225 ) then
			return "Êó†ÂΩ±ÂÆ¢"
		elseif ( achieveID == 226 ) then
			return "ÈÄÜËãçÂ§©"
		elseif ( achieveID == 227 ) then
			return "ÈÄêÂ§©È≠î"
		elseif ( achieveID == 228 ) then
			return "È©±Â§©È≠î"
		elseif ( achieveID == 229 ) then
			return "‰ºèÂ§©È≠î"
		elseif ( achieveID == 230 ) then
			return "Ëµ¶Â§©È≠î"
		elseif ( achieveID == 231 ) then
			return "Êó†ÂøÉÂÜ¢"
		elseif ( achieveID == 32 ) then
			return "Ëß¶Â§©Âºè"
		elseif ( achieveID == 33 ) then
			return "‰ºêÂ§©Âºè"
		elseif ( achieveID == 34 ) then
			return "Âô¨Â§©Âºè"
		elseif ( achieveID == 35 ) then
			return "ËØõÂ§©Âºè"
		elseif ( achieveID == 36 ) then
			return "ÁºòÁÅ≠ÁΩê"
		elseif ( achieveID == 37 ) then
			return "ÂΩºÂ≤∏Ëä±"
		elseif ( achieveID == 38 ) then
			return "‰ªôÁÄëÂÖâ"
		elseif ( achieveID == 39 ) then
			return "ÁÉõÈæôË∞±"
		elseif ( achieveID == 310 ) then
			return "Èõ∂Â§±ËØØ"
		elseif ( achieveID == 311 ) then
			return "Á†¥ËôöËÄÖ"
		elseif ( achieveID == 312 ) then
			return "Êñ≠ËôöËÄÖ"
		elseif ( achieveID == 313 ) then
			return "Ë£ÇËôöËÄÖ"
		elseif ( achieveID == 314 ) then
			return "ÂºëËôöÂ∏ù"
		elseif ( achieveID == 315 ) then
			return "ÂÆöÊó†Âèå"
		elseif ( achieveID == 316 ) then
			return "ÊàòÊó†Âèå"
		elseif ( achieveID == 317 ) then
			return "ÂáõÊó†Âèå"
		elseif ( achieveID == 318 ) then
			return "È≠ÑÊó†Âèå"
		elseif ( achieveID == 326 ) then
			return "Â∞ÅÁ•ûÈó®"
		elseif ( achieveID == 320 ) then
			return "Âú£Ê¥ÅÁéâ"
		elseif ( achieveID == 321 ) then
			return "Â≠§ÂøÉÊàí"
		elseif ( achieveID == 322 ) then
			return "Âæ°Â§©ÂêØ"
		elseif ( achieveID == 323 ) then
			return "‰πùËΩÆÂú£"
		elseif ( achieveID == 324 ) then
			return "Â∏ùÊõúËäí"
		elseif ( achieveID == 327 ) then
			return "Êµ©Âä´Ëµã"
		elseif ( achieveID == 328 ) then
			return "Âá∂ÂÖΩ‰Ωø"
		elseif ( achieveID == 329 ) then
			return "ÂçÉÈáåÁúº"
		elseif ( achieveID == 330 ) then
			return "ÊâßÊ±üÂ±±"
		elseif ( achieveID == 331 ) then
			return "Âïª‰∏ªÂÆ∞"
		elseif ( achieveID == 42 ) then
			return "ÂÇ≤‰∏¥Â§©È≠á"
		elseif ( achieveID == 43 ) then
			return "Ëø∑Ë∏™Ê≠•"
		elseif ( achieveID == 44 ) then
			return "ÂΩ±Êó†Áºà"
		elseif ( achieveID == 45 ) then
			return "Á†¥Êû∑Áöá"
		elseif ( achieveID == 46 ) then
			return "ÁúüË®ÄÊÆø"
		elseif ( achieveID == 47 ) then
			return "‰∏çË¥•Á•ûËØù"
		endif
		return ""
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetAchievementCondition takes integer achieveID returns string
		if ( achieveID == 325 ) then
			return "ÈÄöÂÖ≥|cff008000\"‰∏áÂä´\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|r|cff99ccffËã•‰Ω†ÈÄöÂÖ≥‰∫ÜËØ•ÈöæÂ∫¶ÂèØ‰ª•Âä†ËΩÆÂõû‰πãÁã±‰∏ªÁæ§Áî≥ËØ∑‰∏ä|r|cff99cc00Â∞ÅÂ∏ù‰∏áÂä´ÂΩï|r|cff99ccffÂì¶!|r"
		elseif ( achieveID == 18 ) then
			return "ÈÄöÂÖ≥|cffff00ff\"ËΩÆÂõû\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!|r"
		elseif ( achieveID == 17 ) then
			return "ÈÄöÂÖ≥|cffff0000\"Êú´Êó•\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 16 ) then
			return "ÈÄöÂÖ≥|cffff6600\"Âú∞Áã±\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 15 ) then
			return "ÈÄöÂÖ≥|cffffff00\"ÁÇºÁã±\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 14 ) then
			return "ÈÄöÂÖ≥|cff3366ff\"Êàò‰∫â\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 13 ) then
			return "ÈÄöÂÖ≥|cff99cc00\"ÂíåË∞ê\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 12 ) then
			return "ÈÄöÂÖ≥\"Â§™Âπ≥\"ÈöæÂ∫¶ÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 11 ) then
			return "ÈÄöÂÖ≥|cff999999\"Â§©ÂõΩ\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 21 ) then
			return "ÂÆåÊàê20Ê¨°ËΩ¨ÁîüÂç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 22 ) then
			return "ÂÆåÊàê50Ê¨°ËΩ¨ÁîüÂç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 23 ) then
			return "ÂÆåÊàê100Ê¨°ËΩ¨ÁîüÂç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 24 ) then
			return "ÂÆåÊàê150Ê¨°ËΩ¨ÁîüÂç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 25 ) then
			return "Êú®ÊùêÂ§ß‰∫é20000Âç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 26 ) then
			return "Êú®ÊùêÂ§ß‰∫é50000Âç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 27 ) then
			return "Êú®ÊùêÂ§ß‰∫é100000Âç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 28 ) then
			return "Êú®ÊùêÂ§ß‰∫é200000Âç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 29 ) then
			return "ÂçïÈÄö|cffff00ff\"ËΩÆÂõû\"ÈöæÂ∫¶|rÂç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 210 ) then
			return "ÂçïÈÄö|cffff0000\"Êú´Êó•\"ÈöæÂ∫¶|rÂç≥ÂèØËá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 211 ) then
			return "ÂçïÈÄö|cffff6600\"Âú∞Áã±\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 212 ) then
			return "ÂçïÈÄö|cffffff00\"ÁÇºÁã±\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 213 ) then
			return "ÂçïÈÄö|cff3366ff\"Êàò‰∫â\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 214 ) then
			return "ÂçïÈÄö|cff99cc00\"ÂíåË∞ê\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 215 ) then
			return "ÂçïÈÄö\"Â§™Âπ≥\"ÈöæÂ∫¶ÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 216 ) then
			return "ÂçïÈÄö|cff999999\"Â§©ÂõΩ\"ÈöæÂ∫¶|rÂêéÂèØ‰ª•Ëá™Âä®Ëé∑ÂæóËØ•ÊàêÂ∞±.\n\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 217 ) then
			return "‰ΩøÁî®Ëá≥Â∞ë12‰∏™Ëã±ÈõÑÔºåÊØè‰∏™ËøõË°åËá≥Â∞ë1Âú∫Ê∏∏Êàè.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 218 ) then
			return "‰ΩøÁî®Ëá≥Â∞ë12‰∏™Ëã±ÈõÑÔºåÊØè‰∏™ËøõË°åËá≥Â∞ë5Âú∫Ê∏∏Êàè.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 219 ) then
			return "‰ΩøÁî®Ëá≥Â∞ë12‰∏™Ëã±ÈõÑÔºåÊØè‰∏™ËøõË°åËá≥Â∞ë10Âú∫Ê∏∏Êàè.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 220 ) then
			return "‰ΩøÁî®Ëá≥Â∞ë12‰∏™Ëã±ÈõÑÔºåÊØè‰∏™ËøõË°åËá≥Â∞ë30Âú∫Ê∏∏Êàè.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 221 ) then
			return "Âú®Âü∫Âú∞Ââ©‰Ωô0Ê¨°Èò≤Êä§ÁΩ©Êó∂ÈÄöÂÖ≥Ê∏∏Êàè.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 222 ) then
			return "Âú®Âü∫Âú∞Ââ©‰Ωô0Ê¨°Èò≤Êä§ÁΩ©,‰∏îÁîüÂëΩ‰Ωé‰∫é25%Êó∂ÈÄöÂÖ≥Ê∏∏Êàè.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 223 ) then
			return "Âú®ÁªèÂÖ∏Ê®°Âºè‰∏≠135ÂàÜÈíüÂÜÖÂáªË¥•ÂÜ•Âàπ.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 224 ) then
			return "Âú®ÁªèÂÖ∏Ê®°Âºè‰∏≠120ÂàÜÈíüÂÜÖÂáªË¥•ÂÜ•Âàπ.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 225 ) then
			return "Âú®ÁªèÂÖ∏Ê®°Âºè‰∏≠90ÂàÜÈíüÂÜÖÂáªË¥•ÂÜ•Âàπ.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 226 ) then
			return "Âú®ÁªèÂÖ∏Ê®°Âºè‰∏≠60ÂàÜÈíüÂÜÖÂáªË¥•ÂÜ•Âàπ.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 227 ) then
			return "Âú®ÂçïÂú∫Ê∏∏Êàè‰∏≠ÊùÄÊïåÊï∞ËææÂà∞1.5‰∏á„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 228 ) then
			return "Âú®ÂçïÂú∫Ê∏∏Êàè‰∏≠ÊùÄÊïåÊï∞ËææÂà∞4‰∏á„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 229 ) then
			return "Âú®ÂçïÂú∫Ê∏∏Êàè‰∏≠ÊùÄÊïåÊï∞ËææÂà∞8‰∏á„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 230 ) then
			return "Âú®ÂçïÂú∫Ê∏∏Êàè‰∏≠ÊùÄÊïåÊï∞ËææÂà∞15‰∏á„ÄÇ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 231 ) then
			return "ÂçïÂ±ÄÊ∏∏ÊàèÊ≠ª‰∫°Ê¨°Êï∞ËææÂà∞100Ê¨°„ÄÇÔºàÂáØÊííËß¶ÂèëÂ§©ËµãÊäÄËÉΩ‰πüÁÆóÊ≠ª‰∫°Ôºâ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 32 ) then
			return "Âú®ÂçïÂú∫Ê∏∏Êàè‰∏≠ÈÄ†ÊàêÁöÑÊÄª‰º§ÂÆ≥Ëææ500‰∫ø„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 33 ) then
			return "Âú®ÂçïÂú∫Ê∏∏Êàè‰∏≠ÈÄ†ÊàêÁöÑÊÄª‰º§ÂÆ≥Ëææ4000‰∫ø„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 34 ) then
			return "Âú®ÂçïÂú∫Ê∏∏Êàè‰∏≠ÈÄ†ÊàêÁöÑÊÄª‰º§ÂÆ≥Ëææ30000‰∫ø„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 35 ) then
			return "Âú®ÂçïÂú∫Ê∏∏Êàè‰∏≠ÈÄ†ÊàêÁöÑÊÄª‰º§ÂÆ≥Ëææ600000‰∫ø„ÄÇ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 36 ) then
			return "ÈÄöËøáÁßòÂ¢ÉÊåëÊàò13Â±Ç„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 37 ) then
			return "ÈÄöËøáÁßòÂ¢ÉÊåëÊàò15Â±Ç„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 38 ) then
			return "ÈÄöËøáÁßòÂ¢ÉÊåëÊàò17Â±Ç„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 39 ) then
			return "ÈÄöËøáÁßòÂ¢ÉÊåëÊàò20Â±Ç„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 310 ) then
			return "ÂáªË¥•ÂÜ•ÂàπÊó∂ÊâÄÊúâÁé©ÂÆ∂Âùá0Ê≠ª‰∫°„ÄÇÔºàÂáØÊííËß¶ÂèëÂ§©ËµãÊäÄËÉΩ‰πüÁÆóÊ≠ª‰∫°Ôºâ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 311 ) then
			return "ÂáªË¥•‰ªªÊÑèÈöæÂ∫¶Â∑®ËÉΩËûçÂêàÁü≥6Ê¨°„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 312 ) then
			return "ÂáªË¥•‰ªªÊÑèÈöæÂ∫¶Â∑®ËÉΩËûçÂêàÁü≥20Ê¨°„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 313 ) then
			return "ÂáªË¥•ËΩÆÂõûÈöæÂ∫¶Â∑®ËÉΩËûçÂêàÁü≥12Ê¨°„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 314 ) then
			return "ÂáªË¥•ËΩÆÂõûÈöæÂ∫¶Â∑®ËÉΩËûçÂêàÁü≥40Ê¨°„ÄÇ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 315 ) then
			return "ÊÄªÂ±ûÊÄß‰πãÂíåËææÂà∞300W.ÔºàÊàêÂ∞±Ëé∑ÂèñÂú®1ÂàÜÈíüÂÜÖÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖÔºâ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 316 ) then
			return "ÊÄªÂ±ûÊÄß‰πãÂíåËææÂà∞800W.ÔºàÊàêÂ∞±Ëé∑ÂèñÂú®1ÂàÜÈíüÂÜÖÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖÔºâ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 317 ) then
			return "ÊÄªÂ±ûÊÄß‰πãÂíåËææÂà∞2000W.ÔºàÊàêÂ∞±Ëé∑ÂèñÂú®1ÂàÜÈíüÂÜÖÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖÔºâ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 318 ) then
			return "ÊÄªÂ±ûÊÄß‰πãÂíåËææÂà∞5000W.ÔºàÊàêÂ∞±Ëé∑ÂèñÂú®1ÂàÜÈíüÂÜÖÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖÔºâ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 326 ) then
			return "Âú®8ÂàÜÈíüÂÜÖÂ∞ÜÂ§çÊ¥ªÁÇπÂ§ÑÁöÑÈó®ÊØÅÂùè„ÄÇ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 320 ) then
			return "Âà∞ÈÄöÂÖ≥‰∏∫Ê≠¢Âü∫Âú∞Êú™ÂèóÂà∞‰ªª‰Ωï‰º§ÂÆ≥„ÄÇ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 321 ) then
			return "È¨ºMAXÊàíÊåáÊàñËÄÖË∂ÖÈ¨ºÊàíÊåáÂê∏Êî∂ÁÅµÈ≠ÇÂ±ÇÊï∞ËææÂà∞120.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 322 ) then
			return "‰ΩøÁî®Ëá≥Â∞ë12‰∏™Ëã±ÈõÑÂáªË¥•ÊìÇÂè∞ÂçÅËã±ÈõÑ-ËæïÁÖû.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 323 ) then
			return "Ëá™Â∑±‰∏éÊâÄÊúâÈòüÂèã‰ªéÂ§¥Âà∞Â∞æ‰∏çÊâì‰ªª‰ΩïÂÆùÁü≥,‰∏çÊâì‰ªª‰ΩïÁßòÂ¢É,‰∏çÊâì‰ªª‰ΩïÊìÇÂè∞,‰∏çÂêàÊàê‰ªª‰ΩïÁøÖËÜÄÈÄöÂÖ≥Ê∏∏Êàè.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 324 ) then
			return "‰∏é‰Ωé‰∫é(ÊàñÁ≠â‰∫é)5Á∫ßÁöÑÁé©ÂÆ∂ËøõË°åÊ∏∏ÊàèÈÄöÂÖ≥Êª°100‰∫∫.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 327 ) then
			return "Ëá™Â∑±‰∏éÊâÄÊúâÈòüÂèã‰∏çÂ≠¶2Á∫ßÊäÄËÉΩÔºå10Á∫ßÊäÄËÉΩÔºå20Á∫ßÊäÄËÉΩÔºå40Á∫ßÊäÄËÉΩÔºå100Á∫ßÊäÄËÉΩÈÄöÂÖ≥Ê∏∏Êàè„ÄÇ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 328 ) then
			return "‰ΩøÁî®‰∏≠ÂûãÊçïÂÖΩÁΩëÔºà50W‰∏äÈôêÔºâÊàêÂäüÊçïÊçâÂ§ß‰∫éÊàñÁ≠â‰∫é50Á∫ßÁöÑÊÄ™Áâ©„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 329 ) then
			return "‰ΩøÁî®‰∏≠ÂûãÊçïÂÖΩÁΩëÔºà50W‰∏äÈôêÔºâÊàêÂäüÊçïÊçâÂ§ß‰∫éÊàñÁ≠â‰∫é70Á∫ßÁöÑÊÄ™Áâ©„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 330 ) then
			return "‰ΩøÁî®‰∏≠ÂûãÊçïÂÖΩÁΩëÔºà50W‰∏äÈôêÔºâÊàêÂäüÊçïÊçâÂ§ß‰∫éÊàñÁ≠â‰∫é100Á∫ßÁöÑÊÄ™Áâ©„ÄÇ\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 331 ) then
			return "‰ΩøÁî®‰∏≠ÂûãÊçïÂÖΩÁΩëÔºà50W‰∏äÈôêÔºâÊàêÂäüÊçïÊçâÂ§ß‰∫éÊàñÁ≠â‰∫é150Á∫ßÁöÑÊÄ™Áâ©„ÄÇ\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 43 ) then
			return "Âú®Ëø∑‰Ω†ÊåëÊàò1-È™∑È´ÖÊµ∑‰∏≠ÈáåÈù¢ÁöÑÊó∂Èó¥ÊàêÂäüË∂ÖËøá35Áßí.\n			\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 44 ) then
			return "Âú®Ëø∑‰Ω†ÊåëÊàò1-È™∑È´ÖÊµ∑‰∏≠ÈáåÈù¢ÁöÑÊó∂Èó¥ÊàêÂäüË∂ÖËøá80Áßí.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 45 ) then
			return "4‰∫∫Âèä‰ª•‰∏äÊ∏∏ÊàèÊó∂,Âú®ÂáªË¥•‰∫∫ÁéãÂÇÄÂÑ°‰∏éÂ¶ñÁéãÂÇÄÂÑ°Êó∂‰ªéÊú™Ëß¶ÂèëËøáBOSSÁîüÂëΩËÅîÁªìÊäÄËÉΩ.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		elseif ( achieveID == 46 ) then
			return "ÂçïÊ¨°ÊäÄËÉΩ‰º§ÂÆ≥ËææÂà∞300‰∫ø.\n			\n			|r|cff3366ff‰ΩøÁî®ËØ•ÊàêÂ∞±ËøõË°åÊ∏∏ÊàèËã±ÈõÑ‰ºöÊúâËÉΩÈáè‰πãÂÖâÁöÑÁâπÊïàÂì¶!\n			|cffffff00ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®ÂÆòÊñπÂØπÊàòÂπ≥Âè∞Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂì¶,‰πü‰ºöÊòæÁ§∫Âú®‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢!|r"
		endif
		return ""
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetAchievementIndex takes integer page,integer index returns integer
		if ( page == 1 or page == 2 ) then
			return I3(index == 1 , 325 , page * 10 + index)
		elseif ( page == 2 ) then
			return ( page * 10 + index )
		elseif ( page == 3 ) then
			return I3(index < 8 , 217 - index , 29)
		elseif ( page == 4 ) then
			return index + 216
		elseif ( page == 5 ) then
			return I3(index < 8 , index + 224 , 310)
		elseif ( page == 6 ) then
			return index + 31
		elseif ( page == 7 ) then
			return index + 310
		elseif ( page == 8 ) then
			return I3(index == 7 , 327 , I3(index == 1 , 326 , index + 318))
		elseif ( page == 9 ) then
			return I3(index <= 4 , index + 327 , index + 38)
		endif
		return 0
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetHeroChallenageName takes integer i,integer page returns string

		if ( page == 1 ) then
			if ( i == 1 ) then
				return "|cffff66ccËµ§Ë°ÄÁôΩÁáï|r"
			elseif ( i == 2 ) then
				return "|cff99ccffÊúàËΩÆÁªØÁã±|r"
			elseif ( i == 3 ) then
				return "|cFFFF0000ÊÆõÈúÜÊó†Ëøπ|r"
			elseif ( i == 4 ) then
				return "|cFF33FF33Êú´Êó•ÊùÉÊùñ|r"
			elseif ( i == 5 ) then
				return "|cFFFF3333ÈúúÂ§ú‰πãÂìÄ|r"
			elseif ( i == 6 ) then
				return "|cFFCCFF66‰∏âÂº¶ÊòüË∞ß|r"
			elseif ( i == 7 ) then
				return "|cFF3333FFÁç†Áâô‰πãÂåï|r"
			elseif ( i == 8 ) then
				return "|cFFFF3333ÂèåÊµÅË¥ØÊÅí|r"
			elseif ( i == 9 ) then
				return "|cFF339933Ê≤êÈõ™Êó†Áëï|r"
			endif
		elseif ( page == 2 ) then
			if ( i == 1 ) then
				return "|cFF6699FFÁÜîÊó•ÁÖå‰∏ñ|r"
			elseif ( i == 2 ) then
				return "|cFFFF00CCÊòüÁïåÈ∫íÈ∫ü|r"
			endif
		endif

		return ""
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetSuperChallenageName takes integer i returns string
		if ( i == 1 ) then
			return "ÂÖ®ÊàêÂ∞±ËææÊàê"
		elseif ( i == 2 ) then
			return "ÈÄöÂÖ≥|cff993366Â§©È≠á|r"
		elseif ( i == 3 ) then
			return "ËøûÁª≠ÁôªÂΩï20Â§©"
		endif
		return ""
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetHeroChallenageContent takes integer i,integer page returns string
		if ( page == 1 ) then
			if ( i == 1 ) then
				return "‰ΩøÁî®ÁëüÈõ®Âú®1ÁßíÂÜÖÂ∞ÜËÉΩÈáè‰ªé0%Áõ¥Êé•Â¢ûÂä†Ëá≥105%(Êàñ‰ª•‰∏ä).\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóÁëüÈõ®ÁöÑÁöÆËÇ§\"|cffff66ccËµ§Ë°ÄÁôΩÁáï|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 2 ) then
				return "‰ΩøÁî®ÊôìÊúàÂú®‰∏ÄÂ±ÄÊ∏∏ÊàèÂÜÖÊàêÂäüÂú®ÈªØÈªëÊùÄÈòµÂÜÖÊàêÂäüÂ§çÊ¥ªÊª°150‰∫∫.\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóÊôìÊúàÁöÑÁöÆËÇ§\"|cff99ccffÊúàËΩÆÁªØÁã±|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 3 ) then
				return "‰ΩøÁî®ÊπÆÁÅ≠Âú®‰∏ÄÂ±ÄÊ∏∏ÊàèÂÜÖÊàêÂäüÂÆåÊàê125Ê¨°ËΩ¨Áîü.\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóÊπÆÁÅ≠ÁöÑÁöÆËÇ§\"|cFFFF0000ÊÆõÈúÜÊó†Ëøπ|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 4 ) then
				return "‰ΩøÁî®ÁéÑÈõ™Âú®‰∏ÄÂ±ÄÊ∏∏ÊàèÂÜÖÊàêÂäüÂçïÈÄöÊàò‰∫âÈöæÂ∫¶(Êàñ‰ª•‰∏ä).\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóÁéÑÈõ™ÁöÑÊ®°ÂûãÊ≥ïÊùñ\"|cFF33FF33Êú´Êó•ÊùÉÊùñ|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 5 ) then
				return "‰ΩøÁî®Ëæ∞ÂØÇÂú®‰∏ÄÂ±ÄÊ∏∏Êàè‰∏≠ÊàêÂäü‰ΩøÁî®Êª°7Ê¨°90ÂâëÁÅµÊäÄËÉΩ-ÂºïÊ∏°.\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóËæ∞ÂØÇÁöÑÊ®°ÂûãÁâπÊïà\"|cFFFF3333ÈúúÂ§ú‰πãÂìÄ|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 6 ) then
				return "‰ΩøÁî®Ê≥∞ÈõÖÂú®‰∏ÄÂ±ÄÊ∏∏Êàè‰∏≠ÊàêÂäü‰ΩøÁî®ÊúàÁ•û‰πãÁÆ≠ÊäÄËÉΩËß¶Âèë\"Áßí\"ÊïàÊûúÊùÄÊ≠ªËá≥Â∞ë2500‰∏™Âçï‰Ωç.\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóÊ≥∞ÈõÖÁöÑÁöÆËÇ§\"|cFFCCFF66‰∏âÂº¶ÊòüË∞ß|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 7 ) then
				return "‰ΩøÁî®ÂØíÊÆáÂú®‰∏ÄÂ±ÄÊ∏∏ÊàèÂÜÖÊàêÂäü‰ΩøÁî®Êó†Á©∑ÂêûÂô¨ÊäÄËÉΩËé∑ÂæóË∂ÖËøá500‰∏áÁöÑÊÄªÂíåÂ±ûÊÄß.\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóÂØíÊÆáÁöÑÊ®°ÂûãÊ≠¶Âô®\"|cFF3333FFÁç†Áâô‰πãÂåï|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 8 ) then
				return "ÂòâÂπ¥ÂçéÊ¥ªÂä®‰∏≠ËøûÁª≠Á≠æÂà∞Êª°10Â§©.\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóËæ∞ÂØÇÁöÑÁöÆËÇ§\"|cFFFF3333ÂèåÊµÅË¥ØÊÅí|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 9 ) then
				return "Âú®8Êúà20Âè∑ÂâçÊàêÂäüÂáªË¥•ÂÖ≠ÁïåÂÇÄÂÑ°.\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóÂáåÈõ™ÁöÑÁöÆËÇ§\"|cFF339933Ê≤êÈõ™Êó†Áëï|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			endif
		elseif ( page == 2 ) then
			if ( i == 1 ) then
				return "‰ΩøÁî®ÂáØÊííÂú®‰∏ÄÂ±ÄÊ∏∏Êàè‰∏≠Âè™Èù†|cffff6800Âø†ËØö‰πãË∫Ø|rÊäÄËÉΩÊùÄÊ≠ªÊîªÂáªÂü∫Âú∞ÁöÑÊïå‰∫∫2500‰∏™.\n\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóÂáØÊííÁöÑÁöÆËÇ§\"|cFF6699FFÁÜîÊó•ÁÖå‰∏ñ|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			elseif ( i == 2 ) then
				return "‰ΩøÁî®Ëé´Áê™Âú®‰ΩøÁî®|cffffcc00Ë£ÅÂÜ≥|rÊäÄËÉΩÊó∂ÁöÑÊñΩÊ≥ïËßíÂ∫¶Âú®89.9-90.1Â∫¶‰πãÂÜÖ.\n						(Êç¢Âè•ËØùËØ¥Âç≥‰∏∫ÂÆåÂÖ®ÂûÇÁõ¥Âêë‰∏äÂ∞Ñ)\n				ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜËé∑ÂæóËé´Áê™ÁöÑÁöÆËÇ§\"|cFFFF00CCÊòüÁïåÈ∫íÈ∫ü|r\"(Êã•ÊúâÂ∞ëÈáèÁöÑÂ±ûÊÄßÂä†Êàê)!"
			endif
		endif
		return ""
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetSuperChallenageContent takes integer i returns string
		if ( i == 1 ) then
			return "Ëß£ÈîÅÊà™Ê≠¢‰∏ä‰∏™ÁâàÊú¨‰ª•Êù•ÁöÑÊâÄÊúâÊàêÂ∞±.(ËæìÂÖ•-cjÂèØ‰ª•Êü•ÁúãÊâÄÊúâÊàêÂ∞±ÊÉÖÂÜµ)\n\n			ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†Â∞ÜÂèØ‰ª•‰ΩøÁî®-qmÊåá‰ª§Ëá™ÂÆö‰πâ‰Ω†ÁöÑÊàêÂ∞±Âêç!"
		elseif ( i == 2 ) then
			return "ÈÄöÂÖ≥ÈöêËóèÈöæÂ∫¶|cff993366Â§©È≠á|r(ÈÄöÂÖ≥|cff008000‰∏áÂä´|rÈöæÂ∫¶Ëß£ÈîÅ)\n\n			ÂÆåÊàêËØ•È°πÊåëÊàòÂêé‰Ω†ÁöÑÂêçÂ≠óÂ∞ÜÂú®‰ª•ÂêéÂßãÁªàÁΩÆÈ°∂‰∫é|cff008000\"Â∞ÅÂ∏ù‰∏áÂä´ÂΩï\"|r‰∏≠!\n			Âπ∂Ëé∑ÂæóÂõõÂ≠óÊàêÂ∞±Âêç" + GetAchievementName(42) + "„ÄÇ"
		elseif ( i == 3 ) then
			return "Âú®ÂòâÂπ¥ÂçéÊ¥ªÂä®ÁâàÊú¨‰∏≠ËøûÁª≠Á≠æÂà∞Ëææ20Â§©.\n\n			ÂÆåÊàêËØ•È°πÊåëÊàòÂêéÂèØ‰ª•Âú®ÊØèÊ¨°ÂºÄÂ±ÄÈÄâËã±ÈõÑÂêéÊé•ÂèóÊù•Ëá™ÂÖ≠ÁïåÁöÑÊ¨¢Ëøé„ÄÇ\n			Âπ∂Ëé∑ÂæóÂõõÂ≠óÊàêÂ∞±Âêç" + GetAchievementName(47) + "„ÄÇ"
		endif
		return ""
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetWanjieluName takes nothing returns string
		set Constant__WPointer=Constant__WPointer - 1
		if ( Constant__WPointer <= 0 ) then
			set Constant__WPointer=COUNT_WANJIE
		endif

		if ( Constant__WPointer == 1 ) then
			return "ÂÖ´Èõ∂Â§ßÂèî"
		elseif ( Constant__WPointer == 2 ) then
			return "Wqnmmp‰∏∂"
		elseif ( Constant__WPointer == 3 ) then
			return "Êª°Âú∞ÊâìÊªöÁöÑÁå´Áå´"
		elseif ( Constant__WPointer == 4 ) then
			return "ÊöóÂ§úÈ≠îÁéã‰∏∂ËØ∫Áàπ"
		elseif ( Constant__WPointer == 5 ) then
			return "‰øèÂÖ¨Â≠ê"
		elseif ( Constant__WPointer == 6 ) then
			return "Áå´ÂÑø‰∏∂"
		elseif ( Constant__WPointer == 7 ) then
			return "‰Ω†ÊääÊàëÁÅåÈÜâ„ÄÇ"
		elseif ( Constant__WPointer == 8 ) then
			return "ÂøÉ‰∫¶"
		elseif ( Constant__WPointer == 9 ) then
			return "ÁÅµÈ≠ÇÁöÑÁº†Áªµ"
		elseif ( Constant__WPointer == 10 ) then
			return "Âπª„ÄÅÁ•û"
		elseif ( Constant__WPointer == 11 ) then
			return "Êû´ËêΩÁßãÊâ¨"
		elseif ( Constant__WPointer == 12 ) then
			return "Ê∑±ÈÇÉÁöÑÂ≠§Áã¨‰∏∂"
		elseif ( Constant__WPointer == 13 ) then
			return "Èõ∑ÁëüÂÆàÂ§áÊúÄÂº∫ÁéãËÄÖ"
		elseif ( Constant__WPointer == 14 ) then
			return "‰Ω†ÁöÑÁâõÂ•∂Âë¢‰∏∂"
		elseif ( Constant__WPointer == 15 ) then
			return "Êµ™ÈÄºÂ∫∑Â∞èÂ∏Ö"
		elseif ( Constant__WPointer == 16 ) then
			return "Êµ™ÈÄºÈÉ≠Â∞èÁôû"
		elseif ( Constant__WPointer == 17 ) then
			return "Á≥ñÁ≥ñ‰∏çÂú®Áîú"
		elseif ( Constant__WPointer == 18 ) then
			return "ÈÇ£Â§©1234"
		elseif ( Constant__WPointer == 19 ) then
			return "Êó†Áºò‰πãÈÇ™"
		elseif ( Constant__WPointer == 20 ) then
			return "Flower‰∏∂God"
		elseif ( Constant__WPointer == 21 ) then
			return "‰∏é‰Ω†Á´•Âú®"
		elseif ( Constant__WPointer == 22 ) then
			return "ËØùÂî†„ÄÇ"
		elseif ( Constant__WPointer == 23 ) then
			return "ÂæàÁÉ¶ÂæàÁöÆ"
		elseif ( Constant__WPointer == 24 ) then
			return "sky"
		elseif ( Constant__WPointer == 25 ) then
			return "Ê¢¶Èú≤‰∏∂baby"
		elseif ( Constant__WPointer == 26 ) then
			return "‰∏∂ÂøµÂ∞ë„ÄÇ"
		elseif ( Constant__WPointer == 27 ) then
			return "ÈÄ†‰∏ñË¥¢"
		elseif ( Constant__WPointer == 28 ) then
			return "0‰∏áÁâ©ÁöÜÁ©∫0"
		elseif ( Constant__WPointer == 29 ) then
			return "ËæâÁÖå‰∏∂Á•ûÂÅ∑"
		elseif ( Constant__WPointer == 30 ) then
			return "ÊàëÁúüÁöÑÊòØ‰Ω†ËÄÅÂ≠ê"
		elseif ( Constant__WPointer == 31 ) then
			return "ÈÄ∏ÁÅ¨‰ªô"
		elseif ( Constant__WPointer == 32 ) then
			return "Ê≤êÊÉÖ"
		elseif ( Constant__WPointer == 33 ) then
			return "ÊòüËæ∞Êú´Êó•"
		elseif ( Constant__WPointer == 34 ) then
			return "Á•ûÂ§©ÁæΩ"
		elseif ( Constant__WPointer == 35 ) then
			return "Â¢ôÂ§¥Ëπ≤Á∫¢Êùè"
		elseif ( Constant__WPointer == 36 ) then
			return "7Ëë°ËêÑ"
		elseif ( Constant__WPointer == 37 ) then
			return "ÊàëÈ∏°È∏°Ë¥ºÂ§ß"
		elseif ( Constant__WPointer == 38 ) then
			return "1 1"
		elseif ( Constant__WPointer == 39 ) then
			return "Êû´ÁÉ®Ê°¶"
		elseif ( Constant__WPointer == 40 ) then
			return "Â§ïÂ≠êÂ•àÊúà"
		elseif ( Constant__WPointer == 41 ) then
			return "Âè∏ÂÆ∏"
		elseif ( Constant__WPointer == 42 ) then
			return "Ma‚ÄîLePYe"
		elseif ( Constant__WPointer == 43 ) then
			return "one‰∏∂life„ÅÆÁà±"
		elseif ( Constant__WPointer == 44 ) then
			return "Ê†ëÊûóÈáåÊïÖ‰∫ã"
		elseif ( Constant__WPointer == 45 ) then
			return "ËØ∑Â∏¶ÁùÄÊàëÈ£û"
		elseif ( Constant__WPointer == 46 ) then
			return "ÂøÉÈõ™"
		elseif ( Constant__WPointer == 47 ) then
			return "Rascal‰∏∂ÊÅãÊÉÖ"
		elseif ( Constant__WPointer == 48 ) then
			return "Èò¥‰ºò"
		elseif ( Constant__WPointer == 49 ) then
			return "Ëá≥ÁÆÄi"
		endif
		return ""
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Constant__InitConstant takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				set renshu=renshu + 1
			endif
			set i=i + 1
		endloop
	endfunction

//library Constant ends
//library YDWEAroundSystem:
//library TP1 requires YDWEBase
    function YDWEAroundSystem___spin takes nothing returns nothing
        local integer d= 0
        local real x= 0.
        local real y= 0.
        local integer inst= 0
        
        loop
            exitwhen ( inst == s__YDWEAroundSystem___Data_Total )
            set d=s__YDWEAroundSystem___Data_Structs[inst]
            if ( s__YDWEAroundSystem___Data_dur[d] > 0 ) and ( GetUnitState(s__YDWEAroundSystem___Data_caster[d], UNIT_STATE_LIFE) > 0 ) and ( GetUnitState(s__YDWEAroundSystem___Data_obj[d], UNIT_STATE_LIFE) > 0 ) then
                set s__YDWEAroundSystem___Data_each[d]=s__YDWEAroundSystem___Data_each[d] + YDWEAroundSystem___AROUND_INTER
                if ( s__YDWEAroundSystem___Data_each[d] >= s__YDWEAroundSystem___Data_inter[d] ) then
                    set s__YDWEAroundSystem___Data_angle[d]=s__YDWEAroundSystem___Data_angle[d] + s__YDWEAroundSystem___Data_rate[d]
                    set s__YDWEAroundSystem___Data_radius[d]=s__YDWEAroundSystem___Data_radius[d] + s__YDWEAroundSystem___Data_dis[d]
                    set s__YDWEAroundSystem___Data_height[d]=s__YDWEAroundSystem___Data_height[d] + s__YDWEAroundSystem___Data_rise[d]
                    set x=GetUnitX(s__YDWEAroundSystem___Data_caster[d]) + s__YDWEAroundSystem___Data_radius[d] * Cos(s__YDWEAroundSystem___Data_angle[d])
                    set y=GetUnitY(s__YDWEAroundSystem___Data_caster[d]) + s__YDWEAroundSystem___Data_radius[d] * Sin(s__YDWEAroundSystem___Data_angle[d])
                    set x=YDWECoordinateX(x)
                    set y=YDWECoordinateY(y)
                    call SetUnitX(s__YDWEAroundSystem___Data_obj[d], x)
                    call SetUnitY(s__YDWEAroundSystem___Data_obj[d], y)
                    call SetUnitFlyHeight(s__YDWEAroundSystem___Data_obj[d], s__YDWEAroundSystem___Data_height[d], 0.)
                    set s__YDWEAroundSystem___Data_each[d]=0.
                endif
                set s__YDWEAroundSystem___Data_dur[d]=s__YDWEAroundSystem___Data_dur[d] - YDWEAroundSystem___AROUND_INTER
            else
                set bj_lastAbilityTargetUnit=s__YDWEAroundSystem___Data_caster[d]
                call YDWESyStemAbilityCastingOverTriggerAction(s__YDWEAroundSystem___Data_obj[d] , 10)
                set s__YDWEAroundSystem___Data_caster[d]=null
                set s__YDWEAroundSystem___Data_obj[d]=null
                call s__YDWEAroundSystem___Data_deallocate(d)
                set s__YDWEAroundSystem___Data_Total=s__YDWEAroundSystem___Data_Total - 1
                set s__YDWEAroundSystem___Data_Structs[inst]=s__YDWEAroundSystem___Data_Structs[s__YDWEAroundSystem___Data_Total]
                set inst=inst - 1
            endif
            set inst=inst + 1
        endloop
        if ( s__YDWEAroundSystem___Data_Total == 0 ) then
            call PauseTimer(YDWEAroundSystem___AROUND_TIM)
        endif
    endfunction
    function YDWEAroundSystem takes unit satellite,unit star,real angleRate,real displacement,real riseRate,real timeout,real interval returns nothing
        local integer d= s__YDWEAroundSystem___Data__allocate()
        local real x1= GetUnitX(star)
        local real y1= GetUnitY(star)
        local real x2= GetUnitX(satellite)
        local real y2= GetUnitY(satellite)
        set s__YDWEAroundSystem___Data_caster[d]=star
        set s__YDWEAroundSystem___Data_obj[d]=satellite
        set s__YDWEAroundSystem___Data_dur[d]=timeout
        set s__YDWEAroundSystem___Data_inter[d]=interval
        set s__YDWEAroundSystem___Data_rate[d]=angleRate * ( 3.14159 / 180. )
        set s__YDWEAroundSystem___Data_dis[d]=displacement
        set s__YDWEAroundSystem___Data_rise[d]=riseRate
        set s__YDWEAroundSystem___Data_angle[d]=Atan2(y2 - y1, x2 - x1)
        set s__YDWEAroundSystem___Data_radius[d]=SquareRoot(( x2 - x1 ) * ( x2 - x1 ) + ( y2 - y1 ) * ( y2 - y1 ))
        set s__YDWEAroundSystem___Data_height[d]=GetUnitFlyHeight(s__YDWEAroundSystem___Data_obj[d])
        set s__YDWEAroundSystem___Data_Structs[s__YDWEAroundSystem___Data_Total]=(d)
        set s__YDWEAroundSystem___Data_Total=s__YDWEAroundSystem___Data_Total + 1
        if ( s__YDWEAroundSystem___Data_Total - 1 == 0 ) then
            call TimerStart(YDWEAroundSystem___AROUND_TIM, YDWEAroundSystem___AROUND_INTER, true, function YDWEAroundSystem___spin)
        endif
    endfunction
    

//library YDWEAroundSystem ends
//library YDWECreateEwsp:
//===========================================================================
//ª∑»∆ººƒ‹ƒ£∞Â 
//===========================================================================
function YDWECreateEwsp___Loop takes nothing returns nothing
    local timer t= GetExpiredTimer()
 local string h= I2S(YDWEH2I(t))
    local unit tempUnit
    local real angle
    local integer i
    local unit orderUnit=YDWEGetUnitByString(h , "orderUnit")
    local real UnitLocX= GetUnitX(orderUnit)
    local real UnitLocY= GetUnitY(orderUnit)
    local real radius= YDWEGetRealByString(h , "radius")
    local real speed= YDWEGetRealByString(h , "speed")
    local integer number= YDWEGetIntegerByString(h , "number")
    local integer steps= YDWEGetIntegerByString(h , "steps")
    if steps > 0 and GetUnitState(orderUnit, UNIT_STATE_LIFE) > 0 then
        set steps=steps - 1
        call YDWESaveIntegerByString(h , "steps" , steps)
        set i=0
        loop
            set i=i + 1
            exitwhen i > number
            set tempUnit=YDWEGetUnitByString(h , "units" + I2S(i))
            set angle=YDWEGetRealByString(h , "angles" + I2S(i))
            set angle=angle + speed
            call YDWESaveRealByString(h , "angles" + I2S(i) , angle)
            call SetUnitX(tempUnit, YDWECoordinateX(UnitLocX + radius * Cos(angle)))
            call SetUnitY(tempUnit, YDWECoordinateY(UnitLocY + radius * Sin(angle)))
        endloop
    else
        set i=0
        loop
            set i=i + 1
            exitwhen i > number
            call RemoveUnit(YDWEGetUnitByString(h , "units" + I2S(i)))
        endloop
        call YDWEFlushMissionByString(h)
        call DestroyTimer(t)
        call YDWESyStemAbilityCastingOverTriggerAction(orderUnit , 1)
    endif
    set tempUnit=null
    set orderUnit=null
    set t=null
endfunction
function YDWECreateEwsp takes unit Hero,integer ewsp,integer number,real radius,real lasttime,real interval,real speed returns nothing
    local timer t= CreateTimer()
 local string h= I2S(YDWEH2I(t))
 local real UnitLocX= GetUnitX(Hero)
    local real UnitLocY= GetUnitY(Hero)
    local unit tempUnit
    local player Masterplayer= GetOwningPlayer(Hero)
    local real angle
    local integer i= 0
    local integer steps= R2I(lasttime / interval)
    call YDWESaveUnitByString(h , "orderUnit" , Hero)
    call YDWESaveIntegerByString(h , "steps" , steps)
    call YDWESaveIntegerByString(h , "number" , number)
    call YDWESaveRealByString(h , "radius" , radius)
    call YDWESaveRealByString(h , "speed" , speed * bj_DEGTORAD)
    call GroupClear(bj_lastCreatedGroup)
    loop
        set i=i + 1
        exitwhen i > number
        set angle=2 * i * bj_PI / number
        call YDWESaveRealByString(h , "angles" + I2S(i) , angle)
        set tempUnit=CreateUnit(Masterplayer, ewsp, YDWECoordinateX(UnitLocX + radius * Cos(angle)), YDWECoordinateY(UnitLocY + radius * Sin(angle)), angle * bj_RADTODEG)
        call YDWESaveUnitByString(h , "units" + I2S(i) , tempUnit)
        call UnitIgnoreAlarm(tempUnit, true)
        call GroupAddUnit(bj_lastCreatedGroup, tempUnit)
        set bj_lastCreatedUnit=tempUnit
    endloop
    call TimerStart(t, interval, true, function YDWECreateEwsp___Loop)
    set t=null
    set tempUnit=null
endfunction

//library YDWECreateEwsp ends
//library YDWEGetRandomSubGroupNull:
function YDWEGetRandomSubGroupNull takes integer count,group sourceGroup returns group
    set bj_randomSubGroupGroup=CreateGroup()
    set bj_randomSubGroupWant=count
    set bj_randomSubGroupTotal=CountUnitsInGroup(sourceGroup)
    if ( bj_randomSubGroupWant <= 0 or bj_randomSubGroupTotal <= 0 ) then
        return bj_randomSubGroupGroup
    endif
    call ForGroup(sourceGroup, function YDWEGetRandomSubGroupEnumNull)
    return bj_randomSubGroupGroup
endfunction

//library YDWEGetRandomSubGroupNull ends
//library YDWEGetUnitsInRectAllNull:
function YDWEGetUnitsInRectAllNull takes rect r returns group
    return YDWEGetUnitsInRectMatchingNull(r , null)
endfunction

//library YDWEGetUnitsInRectAllNull ends
//library YDWEGetUnitsOfPlayerAllNull:
function YDWEGetUnitsOfPlayerAllNull takes player whichPlayer returns group
    return YDWEGetUnitsOfPlayerMatchingNull(whichPlayer , null)
endfunction

//library YDWEGetUnitsOfPlayerAllNull ends
//library YDWESetGuard:
function YDWESetGuard___IsUnitIdle takes unit u returns boolean
    return OrderId2String(GetUnitCurrentOrder(u)) == null
endfunction
function YDWERemoveGuard takes unit pet returns nothing
    local integer tm= YDWEGetIntegerByString(I2S(YDWEH2I(pet)) , "Timer")
    call YDWEFlushMissionByString(I2S(YDWEH2I(pet)))
    call YDWEFlushMissionByString(I2S(tm))
    call DestroyTimer(YDWEGetTimerByString(I2S(YDWEH2I(pet)) , "Timer"))
endfunction
function SetGuardTimer takes nothing returns nothing
  local timer tm= GetExpiredTimer()
  local unit pet= ( YDWEGetUnitByString(I2S(YDWEH2I(tm)) , "Pet") )
  local unit captain= ( YDWEGetUnitByString(I2S(YDWEH2I(tm)) , "Captain") )
  local real x= GetUnitX(captain) - GetUnitX(pet)
  local real y= GetUnitY(captain) - GetUnitY(pet)
  local real d= x * x + y * y
  local real v
  local real a
  local real life= YDWEGetRealByString(I2S(YDWEH2I(tm)) , "Life")
  local integer p= YDWEGetIntegerByString(I2S(YDWEH2I(tm)) , "Percent")
  set v=YDWEGetRealByString(I2S(YDWEH2I(tm)) , "GuardRanger")
  if GetUnitState(pet, UNIT_STATE_LIFE) > 0 then
      if d < v * v then
         if YDWESetGuard___IsUnitIdle(pet) and GetRandomInt(0, 100) < p then
           set x=GetUnitX(captain)
           set y=GetUnitY(captain)
           set d=GetRandomReal(0, v)
           set a=GetRandomReal(0, 360)
           call IssuePointOrder(pet, "patrol", x + d * CosBJ(a), y + d * SinBJ(a))
         endif
      else
        set v=YDWEGetRealByString(I2S(YDWEH2I(tm)) , "ReturnRanger")
        if d < v * v then
          if YDWESetGuard___IsUnitIdle(pet) then
            call IssuePointOrder(pet, "patrol", GetUnitX(captain), GetUnitY(captain))
          endif
        else
          set v=YDWEGetRealByString(I2S(YDWEH2I(tm)) , "OutRanger")
            if d != 0 and d > v * v then
              call SetUnitPosition(pet, GetUnitX(captain), GetUnitY(captain))
            else
              call IssuePointOrder(pet, "move", GetUnitX(captain), GetUnitY(captain))
            endif
          endif
       endif
     else
       call IssuePointOrder(pet, "attack", GetUnitX(captain), GetUnitY(captain))
       call YDWERemoveGuard(pet)
       call PauseTimer(tm)
       call DestroyTimer(tm)
  endif
  set tm=null
  set pet=null
  set captain=null
endfunction
function YDWESetGuard takes unit pet,unit captain,real timeout,real guardRanger,real returnRanger,real outRanger,integer percent returns nothing
    local timer tm= CreateTimer()
    call YDWESaveTimerByString(I2S(YDWEH2I(pet)) , "Timer" , tm)
    call YDWESaveUnitByString(I2S(YDWEH2I(tm)) , "pet" , pet)
    call YDWESaveUnitByString(I2S(YDWEH2I(tm)) , "Captain" , captain)
    call YDWESaveIntegerByString(I2S(YDWEH2I(tm)) , "Percent" , percent)
    call YDWESaveRealByString(I2S(YDWEH2I(tm)) , "GuardRanger" , guardRanger)
    call YDWESaveRealByString(I2S(YDWEH2I(tm)) , "ReturnRanger" , returnRanger)
    call YDWESaveRealByString(I2S(YDWEH2I(tm)) , "OutRanger" , outRanger)
    call TimerStart(tm, timeout, true, function SetGuardTimer)
    set tm=null
endfunction

//library YDWESetGuard ends
//library YDWETimerPattern:
//***************************************************
//* °∆ - Matrix ÕÚƒ‹ƒ£∞Â∫Ø ˝
//*--------------------
//* ◊˜’ﬂ£∫Warft_TigerCN  ¥˙¬Î”≈ªØ£∫Fetrix_sai
//***************************************************
//processed:     function interface AfterCollied takes YDWETimerPattern___Thread t,real nx,real ny returns nothing
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    //                                       Timer Pattern Union                                              //
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    function YDWETimerPattern___SingleMagic takes unit sour,unit targ,real x,real y,real h,integer uid,integer aid,integer lv,integer order returns nothing
        local unit dummy= CreateUnit(GetOwningPlayer(sour), uid, x, y, GetUnitFacing(sour))
        call UnitApplyTimedLife(dummy, 'BHwe', 1.0)
        call UnitAddAbility(dummy, aid)
        call SetUnitAbilityLevel(dummy, aid, lv)
        call SetUnitFlyHeight(dummy, h, 0.0)
        call IssueTargetOrderById(dummy, order, targ)
        //debug call BJDebugMsg("Target order")
        set dummy=null
    endfunction
    function YDWETimerPattern___GetUnitZ takes unit u returns real
        call MoveLocation(YDWETimerPattern___yd_loc, GetUnitX(u), GetUnitY(u))
        return GetUnitFlyHeight(u) + GetLocationZ(YDWETimerPattern___yd_loc)
    endfunction
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    //                                            Filter Funcs                                                //
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    function YDWETimerPattern___EnemyFilter takes unit u,unit caster returns boolean
        return IsUnitType(u, UNIT_TYPE_MAGIC_IMMUNE) == false and IsUnitType(u, UNIT_TYPE_RESISTANT) == false and IsUnitType(u, UNIT_TYPE_SLEEPING) == false and GetUnitState(u, UNIT_STATE_LIFE) > 0.405 and IsUnitType(u, UNIT_TYPE_STRUCTURE) == false and IsUnitIllusion(u) == false and IsUnitHidden(u) == false and IsUnitEnemy(u, GetOwningPlayer(caster)) and IsUnitVisible(u, GetOwningPlayer(caster))
    endfunction
    function YDWETimerPattern___TreeFilter takes nothing returns boolean
        local integer id= GetDestructableTypeId(GetFilterDestructable())
        return id == 'LTlt' or id == 'ATtr' or id == 'BTtw' or id == 'KTtw' or id == 'YTft' or id == 'JTct' or id == 'YTst' or id == 'YTct' or id == 'YTwt' or id == 'JTtw' or id == 'DTsh' or id == 'FTtw' or id == 'CTtr' or id == 'ITtw' or id == 'NTtw' or id == 'OTtw' or id == 'ZTtw' or id == 'WTst' or id == 'GTsh' or id == 'VTlt' or id == 'WTtw' or id == 'ATtc' or id == 'BTtc' or id == 'CTtc' or id == 'ITtc' or id == 'NTtc' or id == 'ZTtc'
    endfunction
    function YDWETimerPattern___DamageFilter takes nothing returns boolean
        local unit u= GetFilterUnit()
        local integer d= YDWETimerPattern___tmp_data
        //call BJDebugMsg("outer:"+I2S(CountUnitsInGroup(d.g)))
        if not ( IsUnitInGroup(u, s__YDWETimerPattern___Thread_g[d]) ) and s__YDWETimerPattern___Thread_switch[d] != 0 and YDWETimerPattern___EnemyFilter(u , s__YDWETimerPattern___Thread_caster[d]) then
            call GroupAddUnit(s__YDWETimerPattern___Thread_g[d], u)
            call UnitDamageTarget(s__YDWETimerPattern___Thread_caster[d], u, s__YDWETimerPattern___Thread_amount[d], true, true, bj_lastSetAttackType, bj_lastSetDamageType, bj_lastSetWeaponType)
            //call DestroyEffect(AddSpecialEffectTarget(d.dsfx, u, d.part))
            call DestroyEffect(AddSpecialEffect(s__YDWETimerPattern___Thread_dsfx[d], GetUnitX(u), GetUnitY(u)))
           // call BJDebugMsg(":" + d.dsfx)
            if s__YDWETimerPattern___Thread_skills[d] > '0000' and s__YDWETimerPattern___Thread_skills[d] != null and s__YDWETimerPattern___Thread_order[d] > 0 and s__YDWETimerPattern___Thread_order[d] != null then
                call YDWETimerPattern___SingleMagic(s__YDWETimerPattern___Thread_caster[d] , u , s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[d]] , s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[d]] , GetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[d]) , s__YDWETimerPattern___Thread_unitid[d] , s__YDWETimerPattern___Thread_skills[d] , s__YDWETimerPattern___Thread_level[d] , s__YDWETimerPattern___Thread_order[d])
            endif
            if not ( s__YDWETimerPattern___Thread_recycle[d] ) then
                //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r A one-time.")
                set s__YDWETimerPattern___Thread_switch[d]=0
            endif
            set s__YDWETimerPattern___Thread_target[d]=u
            set u=null
            return true
        endif
        set u=null
        return false
    endfunction
    function YDWETimerPattern___DamageFilter2 takes nothing returns boolean
        local unit u= GetFilterUnit()
        local integer d= YDWETimerPattern___tmp_data
        //call BJDebugMsg("outer:"+I2S(CountUnitsInGroup(d.g)))
        if YDWETimerPattern___EnemyFilter(u , s__YDWETimerPattern___Thread_caster[d]) then
            call UnitDamageTarget(s__YDWETimerPattern___Thread_caster[d], u, s__YDWETimerPattern___Thread_amount[d], true, true, bj_lastSetAttackType, bj_lastSetDamageType, bj_lastSetWeaponType)
            set u=null
            return true
        endif
        set u=null
        return false
    endfunction
    function YDWETimerPattern___TreeKill takes nothing returns nothing
        local destructable d= GetEnumDestructable()
        if GetWidgetLife(d) > 0.405 then
            call KillDestructable(d)
        endif
        set d=null
    endfunction
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    //                                         Major Structure Code                                           //
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
        function s__YDWETimerPattern___Thread__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("YDWETimerPattern." , I2S(YDWEH2I(h)))
        endfunction
        function s__YDWETimerPattern___Thread__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("YDWETimerPattern." , I2S(YDWEH2I(h)) , value)
        endfunction
        function s__YDWETimerPattern___Thread_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("YDWETimerPattern." , I2S(YDWEH2I(h)))
        endfunction
        function s__YDWETimerPattern___Thread__set_x takes integer this,real value returns nothing
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=value
            call SetUnitX(s__YDWETimerPattern___Thread_obj[this], value)
        endfunction
        function s__YDWETimerPattern___Thread__set_y takes integer this,real value returns nothing
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=value
            call SetUnitY(s__YDWETimerPattern___Thread_obj[this], value)
        endfunction
        function s__YDWETimerPattern___Thread__set_z takes integer this,real value returns nothing
            set s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]]=value
            call MoveLocation(YDWETimerPattern___yd_loc, s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]])
            call SetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[this], value - GetLocationZ(YDWETimerPattern___yd_loc), 0)
        endfunction
        function s__YDWETimerPattern___Thread_onDestroy takes integer this returns nothing
            //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r Knockback stopped!")
            call s__YDWETimerPattern___Thread_flush(s__YDWETimerPattern___Thread_obj[this])
            call s__YDWETimerPattern___Thread_flush(s__YDWETimerPattern___Thread_t[this])
            call GroupClear(s__YDWETimerPattern___Thread_g[this])
            call DestroyGroup(s__YDWETimerPattern___Thread_g[this])
            call PauseTimer(s__YDWETimerPattern___Thread_t[this])
            call DestroyTimer(s__YDWETimerPattern___Thread_t[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_des[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_pos[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_vel[this])
            set s__YDWETimerPattern___Thread_caster[this]=null
            set s__YDWETimerPattern___Thread_target[this]=null
            set s__YDWETimerPattern___Thread_obj[this]=null
            set s__YDWETimerPattern___Thread_g[this]=null
            set s__YDWETimerPattern___Thread_t[this]=null
            set s__YDWETimerPattern___Thread_amount[this]=0
            set s__YDWETimerPattern___Thread_skills[this]=0
            set s__YDWETimerPattern___Thread_order[this]=0
            set s__YDWETimerPattern___Thread_afc[this]=0
            set s__YDWETimerPattern___Thread_dsfx[this]=""
            set s__YDWETimerPattern___Thread_gsfx[this]=""
            set s__YDWETimerPattern___Thread_wsfx[this]=""
            set s__YDWETimerPattern___Thread_part[this]=""
        endfunction
        function s__YDWETimerPattern___Parabola_move takes nothing returns nothing
            local integer this= s__YDWETimerPattern___Thread__staticgetindex(GetExpiredTimer())
            //local real vx = .des.x - .pos.x
            //local real vy = .des.y - .pos.y
            //local real vz = .des.z - .pos.z
            //if vx * vx + vy * vy + vz * vz > 900.0 then
                call s__YDWETimerPattern___Thread__set_x(this,GetUnitX(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]) //.pos.x + .vel.x
call s__YDWETimerPattern___Thread__set_y(this,GetUnitY(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]) //.pos.y + .vel.y
call s__YDWETimerPattern___Thread__set_z(this,YDWETimerPattern___GetUnitZ(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___Thread_ac[this] * s__YDWETimerPattern___Thread_step[this] * 2 + s__YDWETimerPattern___Thread_ac[this] * s__YDWETimerPattern___Thread_dist[this] + s__YDWETimerPattern___Thread_bc[this]) //.pos.z + .ac * .step * 2 + .ac * .dist + .bc
set s__YDWETimerPattern___Thread_step[this]=s__YDWETimerPattern___Thread_step[this] + s__YDWETimerPattern___Thread_dist[this]
                //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r high = ." + R2S(GetLocationZ(yd_loc)))
                if YDWECoordinateX(s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]) != s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] or YDWECoordinateY(s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]) != s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] or s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]] <= GetLocationZ(YDWETimerPattern___yd_loc) then
                    set s__YDWETimerPattern___Thread_switch[this]=0
                endif
                if s__YDWETimerPattern___Thread_amount[this] > 0.0 then
                    //call this.damage(.caster, .pos.x + .vel.x, .pos.y + .vel.y, GetUnitZ(.obj), false, false)
                    set YDWETimerPattern___tmp_data=(this)
                    call GroupEnumUnitsInRange(s__YDWETimerPattern___Thread_g[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]], 120.0, Condition(function YDWETimerPattern___DamageFilter))
                    //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r Area damage.")
                endif
            //else
                //set .switch = 0
            //endif
            if s__YDWETimerPattern___Thread_switch[this] == 0 then
                call SetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[this], GetUnitDefaultFlyHeight(s__YDWETimerPattern___Thread_obj[this]), 200.0)
                call SetUnitTimeScale(s__YDWETimerPattern___Thread_obj[this], 1)
                //YDWETriggerEvent
                call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern___Thread_obj[this] , 7)
                call sc__YDWETimerPattern___Thread_deallocate(this)
            endif
        endfunction
        function s__YDWETimerPattern___Parabola_create takes unit source,unit object,real angle,real distance,real time,real interval,real high,real damage,string attach,string deff returns integer
            local integer this= s__YDWETimerPattern___Parabola__allocate()
            local real vx= 0.0
            local real vy= 0.0
            local real vz= 0.0
            set s__YDWETimerPattern___Thread_des[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_pos[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_vel[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=GetUnitX(object)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=GetUnitY(object)
            set s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]]=YDWETimerPattern___GetUnitZ(object)
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_des[this]]=s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] + distance * Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_des[this]]=s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] + distance * Sin(angle)
            call MoveLocation(YDWETimerPattern___yd_loc, s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_des[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_des[this]])
            set s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]]=GetLocationZ(YDWETimerPattern___yd_loc)
            if s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]] > s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]] then
                set high=high + s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]]
            else
                set high=high + s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]]
            endif
            set s__YDWETimerPattern___Thread_ac[this]=( 2 * ( s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]] ) - 4 * high ) / ( distance * distance )
            set s__YDWETimerPattern___Thread_bc[this]=( s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]] - s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]] - s__YDWETimerPattern___Thread_ac[this] * distance * distance ) / distance
            set s__YDWETimerPattern___Thread_dist[this]=distance * interval / time
            set s__YDWETimerPattern___Thread_ac[this]=s__YDWETimerPattern___Thread_ac[this] * s__YDWETimerPattern___Thread_dist[this]
            set s__YDWETimerPattern___Thread_bc[this]=s__YDWETimerPattern___Thread_bc[this] * s__YDWETimerPattern___Thread_dist[this]
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]=s__YDWETimerPattern___Thread_dist[this] * Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]=s__YDWETimerPattern___Thread_dist[this] * Sin(angle)
            set s__YDWETimerPattern___Thread_step[this]=0.0
            set s__YDWETimerPattern___Thread_caster[this]=source
            set s__YDWETimerPattern___Thread_obj[this]=object
            set s__YDWETimerPattern___Thread_amount[this]=damage
            set s__YDWETimerPattern___Thread_dsfx[this]=deff
            set s__YDWETimerPattern___Thread_part[this]=attach
            set s__YDWETimerPattern___Thread_switch[this]=1
            set s__YDWETimerPattern___Thread_recycle[this]=true
            set s__YDWETimerPattern___Thread_t[this]=CreateTimer()
            set s__YDWETimerPattern___Thread_g[this]=CreateGroup()
            call UnitAddAbility(s__YDWETimerPattern___Thread_obj[this], 'Amrf')
            call UnitRemoveAbility(s__YDWETimerPattern___Thread_obj[this], 'Amrf')
            call TimerStart(s__YDWETimerPattern___Thread_t[this], interval, true, function s__YDWETimerPattern___Parabola_move)
            call GroupAddUnit(s__YDWETimerPattern___Thread_g[this], object)
            call s__YDWETimerPattern___Thread__staticsetindex(object, (this))
            call s__YDWETimerPattern___Thread__staticsetindex(s__YDWETimerPattern___Thread_t[this], (this))
            return this
        endfunction
    // uniform speed
        function s__YDWETimerPattern___Linear_move takes nothing returns nothing
            local integer this= s__YDWETimerPattern___Thread__staticgetindex(GetExpiredTimer())
            if s__YDWETimerPattern___Thread_step[this] > s__YDWETimerPattern___Thread_dist[this] then
                call s__YDWETimerPattern___Thread__set_x(this,GetUnitX(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]) //.pos.x + .vel.x
call s__YDWETimerPattern___Thread__set_y(this,GetUnitY(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]) //.pos.y + .vel.y
//set .pos.z = GetUnitZ(.obj)
set s__YDWETimerPattern___Thread_step[this]=s__YDWETimerPattern___Thread_step[this] - s__YDWETimerPattern___Thread_dist[this]
                //call this.damage(.caster, .pos.x, .pos.y, .pos.z, true, true)
                set YDWETimerPattern___tmp_data=(this)
                call GroupEnumUnitsInRange(s__YDWETimerPattern___Thread_g[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]], 120.0, Condition(function YDWETimerPattern___DamageFilter))
                if YDWECoordinateX(s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]) != s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] or YDWECoordinateY(s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]) != s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] then
                    set s__YDWETimerPattern___Thread_switch[this]=0
                endif
            else
                set s__YDWETimerPattern___Thread_switch[this]=0
            endif
            if s__YDWETimerPattern___Thread_switch[this] == 0 then
                // YDWETriggerEvent
                if s__YDWETimerPattern___Thread_target[this] != null then
                    //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r  |cffff0000" + GetUnitName(.target) + "|r was hit!!!")
                    //call YDWESaveUnitByString(I2S(YDWEH2I(.caster)), "MoonPriestessArrow", .target)
                    set bj_lastAbilityTargetUnit=s__YDWETimerPattern___Thread_target[this]
                    call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern___Thread_caster[this] , 8)
                else
                    call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern___Thread_caster[this] , 9)
                endif
                //call KillUnit(.obj)
                call RemoveUnit(s__YDWETimerPattern___Thread_obj[this])
                call sc__YDWETimerPattern___Thread_deallocate(this)
            endif
        endfunction
        function s__YDWETimerPattern___Linear_create takes unit source,unit object,real angle,real distance,real time,real interval,integer uid,integer aid,integer lv,integer orderid,string attach,string sfx returns integer
            local integer this= s__YDWETimerPattern___Linear__allocate()
            set s__YDWETimerPattern___Thread_des[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_pos[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_vel[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_step[this]=distance
            set s__YDWETimerPattern___Thread_dist[this]=distance * interval / time
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]=s__YDWETimerPattern___Thread_dist[this] * Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]=s__YDWETimerPattern___Thread_dist[this] * Sin(angle)
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=GetUnitX(object)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=GetUnitY(object)
            set s__YDWETimerPattern___Thread_caster[this]=source
            set s__YDWETimerPattern___Thread_obj[this]=object
            set s__YDWETimerPattern___Thread_unitid[this]=uid
            set s__YDWETimerPattern___Thread_skills[this]=aid
            set s__YDWETimerPattern___Thread_level[this]=lv
            set s__YDWETimerPattern___Thread_order[this]=orderid
            set s__YDWETimerPattern___Thread_part[this]=attach
            set s__YDWETimerPattern___Thread_gsfx[this]=sfx
            set s__YDWETimerPattern___Thread_switch[this]=1
            set s__YDWETimerPattern___Thread_recycle[this]=false
            set s__YDWETimerPattern___Thread_t[this]=CreateTimer()
            set s__YDWETimerPattern___Thread_g[this]=CreateGroup()
            call TimerStart(s__YDWETimerPattern___Thread_t[this], interval, true, function s__YDWETimerPattern___Linear_move)
            call s__YDWETimerPattern___Thread__staticsetindex(s__YDWETimerPattern___Thread_t[this], (this))
            return this
        endfunction
    // Uniform deceleration
        function s__YDWETimerPattern___Deceleration_move takes nothing returns nothing
            local integer this= s__YDWETimerPattern___Thread__staticgetindex(GetExpiredTimer())
            local real xp= GetUnitX(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___Thread_dist[this] * s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]
            local real yp= GetUnitY(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___Thread_dist[this] * s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]
            local group ge= CreateGroup()
            if s__YDWETimerPattern___Thread_volume[this] == false then
                //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |rPathable without terrain.")
                if IsTerrainPathable(xp, yp, PATHING_TYPE_WALKABILITY) then
                    if ( s__YDWETimerPattern___Thread_afc[this] != 0 ) then
                        call sc___prototype202_execute(s__YDWETimerPattern___Thread_afc[this],this , xp , yp)
                    else
                        set s__YDWETimerPattern___Thread_switch[this]=0
                    endif
                else
                    call s__YDWETimerPattern___Thread__set_x(this,xp)
                    call s__YDWETimerPattern___Thread__set_y(this,yp)
                endif
            else
                call s__YDWETimerPattern___Thread__set_x(this,xp)
                call s__YDWETimerPattern___Thread__set_y(this,yp)
            endif
            if s__YDWETimerPattern___Thread_follow[this] == 0 then
                if GetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[this]) < 5. then
                        call DestroyEffect(AddSpecialEffect(s__YDWETimerPattern___Thread_gsfx[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]))
                endif
            endif
            set s__YDWETimerPattern___Thread_follow[this]=s__YDWETimerPattern___Thread_follow[this] + 1
            if s__YDWETimerPattern___Thread_follow[this] == 2 then
                set s__YDWETimerPattern___Thread_follow[this]=0
            endif
            if s__YDWETimerPattern___Thread_killdest[this] then
                call MoveRectTo(YDWETimerPattern___Area, s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]])
                call EnumDestructablesInRect(YDWETimerPattern___Area, YDWETimerPattern___Bexpr, function YDWETimerPattern___TreeKill)
            endif
            if s__YDWETimerPattern___Thread_amount[this] > 0.0 then
                //call this.damage(.caster, .pos.x, .pos.y, 0.0, false, .recycle)
                set YDWETimerPattern___tmp_data=(this)
                call GroupEnumUnitsInRange(ge, s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___Thread_radius[this], Condition(function YDWETimerPattern___DamageFilter))
            endif
            set s__YDWETimerPattern___Thread_step[this]=s__YDWETimerPattern___Thread_step[this] - 1.
            if s__YDWETimerPattern___Thread_step[this] <= 0.0 or YDWECoordinateX(s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]) != s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] or YDWECoordinateY(s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]) != s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] then
                set s__YDWETimerPattern___Thread_switch[this]=0
            endif
            call DestroyGroup(ge)
            set ge=null
            if not ( IsUnitAliveBJ(s__YDWETimerPattern___Thread_obj[this]) ) then
                set s__YDWETimerPattern___Thread_switch[this]=0
            endif
            if s__YDWETimerPattern___Thread_switch[this] == 0 then
                call SetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[this], GetUnitDefaultFlyHeight(s__YDWETimerPattern___Thread_obj[this]), 200.0)
                call SetUnitTimeScale(s__YDWETimerPattern___Thread_obj[this], 1)
                // YDWETriggerEvent
                call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern___Thread_obj[this] , 6)
                call sc__YDWETimerPattern___Thread_deallocate(this)
            endif
        endfunction
        function s__YDWETimerPattern___Deceleration_create takes unit source,unit object,real angle,real distance,real time,real interval,real damage,real radius,boolean killtrees,boolean cycle,boolean path,string part,string geff,string weff,integer f returns integer
            local integer this= s__YDWETimerPattern___Deceleration__allocate()
local real vx= 0.0
            local real vy= 0.0
            local real l= 0.0
            set s__YDWETimerPattern___Thread_des[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_pos[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_vel[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]=Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]=Sin(angle)
            set s__YDWETimerPattern___Thread_dist[this]=distance * interval / time
            //step∏ƒ≥…¡À‘»ÀŸ‘À∂Ø
            set s__YDWETimerPattern___Thread_step[this]=time / interval
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=GetUnitX(object)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=GetUnitY(object)
            set s__YDWETimerPattern___Thread_caster[this]=source
            set s__YDWETimerPattern___Thread_obj[this]=object
            set s__YDWETimerPattern___Thread_radius[this]=radius
            set s__YDWETimerPattern___Thread_amount[this]=damage
            set s__YDWETimerPattern___Thread_killdest[this]=killtrees
            set s__YDWETimerPattern___Thread_recycle[this]=cycle
            set s__YDWETimerPattern___Thread_volume[this]=path
            set s__YDWETimerPattern___Thread_gsfx[this]=geff
            set s__YDWETimerPattern___Thread_dsfx[this]=weff
            set s__YDWETimerPattern___Thread_switch[this]=1
            set s__YDWETimerPattern___Thread_follow[this]=0
            set s__YDWETimerPattern___Thread_afc[this]=f
            set s__YDWETimerPattern___Thread_g[this]=CreateGroup()
            set s__YDWETimerPattern___Thread_t[this]=CreateTimer()
            call TimerStart(s__YDWETimerPattern___Thread_t[this], interval, true, function s__YDWETimerPattern___Deceleration_move)
            call s__YDWETimerPattern___Thread__staticsetindex(s__YDWETimerPattern___Thread_t[this], (this))
            return this
        endfunction
        function s__YDWETimerPattern___Boomer_move takes nothing returns nothing
            local integer this= s__YDWETimerPattern___Thread__staticgetindex(GetExpiredTimer())
            local real xp= GetUnitX(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___Thread_dist[this] * s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]
            local real yp= GetUnitY(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___Thread_dist[this] * s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]
            call s__YDWETimerPattern___Thread__set_x(this,xp)
            call s__YDWETimerPattern___Thread__set_y(this,yp)
            set s__YDWETimerPattern___Thread_step[this]=s__YDWETimerPattern___Thread_step[this] - 1.
            if s__YDWETimerPattern___Thread_step[this] <= 0.0 or YDWECoordinateX(s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]) != s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] or YDWECoordinateY(s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]) != s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] then
                set s__YDWETimerPattern___Thread_switch[this]=0
            endif
            if s__YDWETimerPattern___Thread_switch[this] == 0 then
                if s__YDWETimerPattern___Thread_amount[this] > 0.0 then
                    //call this.damage(.caster, .pos.x, .pos.y, 0.0, false, .recycle)
                    set YDWETimerPattern___tmp_data=(this)
                    call GroupEnumUnitsInRange(s__YDWETimerPattern___Thread_g[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___Thread_radius[this], Condition(function YDWETimerPattern___DamageFilter2))
                endif
                
                call DestroyEffect(AddSpecialEffect(s__YDWETimerPattern___Thread_gsfx[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]))
                call FlushChildHashtable(YDHT, GetHandleId(s__YDWETimerPattern___Thread_obj[this]))
                call RemoveUnit(s__YDWETimerPattern___Thread_obj[this])
                call sc__YDWETimerPattern___Thread_deallocate(this)
            endif
        endfunction
        function s__YDWETimerPattern___Boomer_create takes unit source,unit object,real angle,real distance,real speed,real interval,real damage,real radius,string geff returns integer
            local integer this= s__YDWETimerPattern___Boomer__allocate()
local real vx= 0.0
            local real vy= 0.0
            local real l= 0.0
            set s__YDWETimerPattern___Thread_des[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_pos[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_vel[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]=Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]=Sin(angle)
            set s__YDWETimerPattern___Thread_dist[this]=speed * interval
            //step∏ƒ≥…¡À‘»ÀŸ‘À∂Ø
            set s__YDWETimerPattern___Thread_step[this]=distance / speed / interval
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=GetUnitX(object)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=GetUnitY(object)
            set s__YDWETimerPattern___Thread_caster[this]=source
            set s__YDWETimerPattern___Thread_obj[this]=object
            set s__YDWETimerPattern___Thread_radius[this]=radius
            set s__YDWETimerPattern___Thread_amount[this]=damage
            set s__YDWETimerPattern___Thread_gsfx[this]=geff
            set s__YDWETimerPattern___Thread_switch[this]=1
            set s__YDWETimerPattern___Thread_g[this]=CreateGroup()
            set s__YDWETimerPattern___Thread_t[this]=CreateTimer()
            call TimerStart(s__YDWETimerPattern___Thread_t[this], interval, true, function s__YDWETimerPattern___Boomer_move)
            call s__YDWETimerPattern___Thread__staticsetindex(s__YDWETimerPattern___Thread_t[this], (this))
            return this
        endfunction
    // Jump Attack PUI
    function YDWETimerPatternJumpAttack takes unit u,real face,real dis,real lasttime,real timeout,real high,real damage,string part,string dsfx returns nothing
        if u == null then
            //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r No object!")
            return
        endif
        call s__YDWETimerPattern___Parabola_create(u , u , Deg2Rad(face) , RMaxBJ(dis, 0) , RMaxBJ(lasttime, 0) , RMaxBJ(timeout, 0) , high , damage , part , dsfx)
    endfunction
    // Moon Priestess Arrow PUI
    function YDWETimerPatternMoonPriestessArrow takes unit u,real face,real dis,real lasttime,real timeout,integer lv,integer aid,integer uid,string order,string part,string dsfx returns nothing
        local unit sour= null
        if u == null then
            //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r No object!")
            return
        endif
        set sour=YDWEGetUnitByString(I2S(YDWEH2I(u)) , "MoonPriestessArrow")
        if sour == null then
            set sour=u
        endif
        call s__YDWETimerPattern___Linear_create(sour , u , Deg2Rad(face) , RMaxBJ(dis, 0) , RMaxBJ(lasttime, 0) , RMaxBJ(timeout, 0) , uid , aid , IMaxBJ(lv, 1) , OrderId(order) , part , dsfx)
        //call YDWEFlushMissionByString(I2S(YDWEH2I(u)))
        set sour=null
    endfunction
    // Rush Slide PUI
    function YDWETimerPatternRushSlide takes unit u,real face,real dis,real lasttime,real timeout,real damage,real radius,boolean killtrees,boolean cycle,boolean path,string part,string gsfx,string wsfx returns nothing
        if u == null then
            //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r No object!")
            return
        endif
        call s__YDWETimerPattern___Deceleration_create(u , u , Deg2Rad(face) , RMaxBJ(dis, 0) , RMaxBJ(lasttime, 0) , RMaxBJ(timeout, 0) , damage , RMaxBJ(radius, 0) , killtrees , cycle , path , part , gsfx , wsfx , 0)
    endfunction
    function YDWETimerPattern___Rebound takes integer t,real nx,real ny returns nothing
        
        if not ( IsTerrainPathable(nx, s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[t]], PATHING_TYPE_WALKABILITY) ) then
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]]=- 1 * s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]]
        elseif not ( IsTerrainPathable(s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[t]], ny, PATHING_TYPE_WALKABILITY) ) then
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]=- 1 * s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]
        else
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]]=- 1 * s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]]
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]=- 1 * s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]
        endif
        call GroupClear(s__YDWETimerPattern___Thread_g[t])
        call SetUnitFacing(s__YDWETimerPattern___Thread_obj[t], Atan2BJ(s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]))
    endfunction
    
    function DIYRushSlide takes unit u,real face,real dis,real lasttime,real timeout,real damage,real radius,boolean killtrees,boolean cycle,boolean path,string part,string gsfx,string wsfx returns nothing
         local integer rebound= (1)
         call s__YDWETimerPattern___Deceleration_create(u , u , Deg2Rad(face) , RMaxBJ(dis, 0) , RMaxBJ(lasttime, 0) , RMaxBJ(timeout, 0) , damage , RMaxBJ(radius, 0) , killtrees , cycle , path , part , gsfx , wsfx , (1))
    endfunction
    function CreateBoom takes unit source,real angle,real distance,real speed,real interval,real damage,real radius,string geff returns nothing
         call s__YDWETimerPattern___Boomer_create(source , source , angle , distance , speed , interval , damage , radius , geff)
    endfunction
    function YDWETimerPattern___Init takes nothing returns nothing
        set YDWETimerPattern___Area=Rect(- 120.0, - 120.0, 120.0, 120.0)
        set YDWETimerPattern___Bexpr=Filter(function YDWETimerPattern___TreeFilter)
    endfunction

//library YDWETimerPattern ends
//library YDWETimerSystem:
function YDWETimerSystem___NewTaskIndex takes nothing returns integer
 local integer h= YDWETimerSystem___TaskListIdleHead
	if YDWETimerSystem___TaskListIdleHead < 0 then
		if YDWETimerSystem___TaskListIdleMax >= 8000 then
    call BJDebugMsg("÷––ƒº∆ ±∆˜»ŒŒÒ∂”¡–“Á≥ˆ£°")
			return 8100
		else
			set YDWETimerSystem___TaskListIdleMax=YDWETimerSystem___TaskListIdleMax + 1
			return YDWETimerSystem___TaskListIdleMax
		endif
	endif
	set YDWETimerSystem___TaskListIdleHead=YDWETimerSystem___TaskListIdle[h]
	return h
endfunction
function YDWETimerSystem___DeleteTaskIndex takes integer index returns nothing
	set YDWETimerSystem___TaskListIdle[index]=YDWETimerSystem___TaskListIdleHead
	set YDWETimerSystem___TaskListIdleHead=index
endfunction
//∏√∫Ø ˝–Ú¡–¥¶¿Ì
function YDWETimerSystem___NewTask takes real time,trigger proc returns integer
 local integer index= YDWETimerSystem___NewTaskIndex()
 local integer h= YDWETimerSystem___TaskListHead
 local integer t= R2I(100. * time) + YDWETimerSystem___CurrentTime
 local integer p
	set YDWETimerSystem___TaskListProc[index]=proc
	set YDWETimerSystem___TaskListTime[index]=t
	loop
		set p=YDWETimerSystem___TaskListNext[h]
		if p < 0 or YDWETimerSystem___TaskListTime[p] >= t then
		//	call BJDebugMsg("NewTask:"+I2S(index))
			set YDWETimerSystem___TaskListNext[h]=index
			set YDWETimerSystem___TaskListNext[index]=p
			return index
		endif
		set h=p
	endloop
	return index
endfunction
function YDWETimerSystemNewTask takes real time,trigger proc returns integer
	return YDWETimerSystem___NewTask(time , proc)
endfunction
function YDWETimerSystemGetCurrentTask takes nothing returns integer
	return YDWETimerSystem___CurrentIndex
endfunction
//…æ≥˝µ•Œª
function YDWETimerSystem___RemoveUnit_CallBack takes nothing returns nothing
    call RemoveUnit(LoadUnitHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRemoveUnit takes real time,unit u returns nothing
    call SaveUnitHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnRemoveUnit), u)
endfunction
//¥›ªŸº∆ ±∆˜
function YDWETimerSystem___DestroyTimer_CallBack takes nothing returns nothing
    call DestroyTimer(LoadTimerHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyTimer takes real time,timer t returns nothing
    call SaveTimerHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnDestroyTimer), t)
endfunction
//…æ≥˝ŒÔ∆∑
function YDWETimerSystem___RemoveItem_CallBack takes nothing returns nothing
    call RemoveItem(LoadItemHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRemoveItem takes real time,item it returns nothing
    call SaveItemHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnRemoveItem), it)
endfunction
//…æ≥˝Ãÿ–ß
function YDWETimerSystem___DestroyEffect_CallBack takes nothing returns nothing
    call DestroyEffect(LoadEffectHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyEffect takes real time,effect e returns nothing
    call SaveEffectHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnDestroyEffect), e)
endfunction
//…æ≥˝…¡µÁÃÿ–ß
function YDWETimerSystem___DestroyLightning_CallBack takes nothing returns nothing
    call DestroyLightning(LoadLightningHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyLightning takes real time,lightning lt returns nothing
 local integer i= YDWETimerSystem___NewTask(time , YDWETimerSystem___fnDestroyLightning)
    call SaveLightningHandle(YDHT, YDWETimerSystem___TimerHandle, i, lt)
endfunction
//‘À––¥•∑¢∆˜
function YDWETimerSystem___RunTrigger_CallBack takes nothing returns nothing
    call TriggerExecute(LoadTriggerHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRunTrigger takes real time,trigger trg returns nothing
    call SaveTriggerHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnRunTrigger), trg)
endfunction
//…æ≥˝∆Ø∏°Œƒ◊÷
function YDWETimerDestroyTextTag takes real time,texttag tt returns nothing
    local integer N=0
    local integer i=0
    if time <= 0 then
        set time=0.01
    endif
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, time)
    call SetTextTagFadepoint(tt, time)
endfunction
//÷––ƒº∆ ±∆˜÷˜∫Ø ˝
function YDWETimerSystem___Main takes nothing returns nothing
 local integer h= YDWETimerSystem___TaskListHead
 local integer p
	loop
		set YDWETimerSystem___CurrentIndex=YDWETimerSystem___TaskListNext[h]
		exitwhen YDWETimerSystem___CurrentIndex < 0 or YDWETimerSystem___CurrentTime < YDWETimerSystem___TaskListTime[YDWETimerSystem___CurrentIndex]
		//call BJDebugMsg("Task:"+I2S(CurrentIndex))
		call TriggerEvaluate(YDWETimerSystem___TaskListProc[YDWETimerSystem___CurrentIndex])
		call YDWETimerSystem___DeleteTaskIndex(YDWETimerSystem___CurrentIndex)
		set YDWETimerSystem___TaskListNext[h]=YDWETimerSystem___TaskListNext[YDWETimerSystem___CurrentIndex]
	endloop
	set YDWETimerSystem___CurrentTime=YDWETimerSystem___CurrentTime + 1
endfunction
//≥ı ºªØ∫Ø ˝
function YDWETimerSystem___Init takes nothing returns nothing
    set YDWETimerSystem___Timer=CreateTimer()
	set YDWETimerSystem___TimerHandle=GetHandleId(YDWETimerSystem___Timer)
	set YDWETimerSystem___CurrentTime=0
	set YDWETimerSystem___TaskListHead=0
	set YDWETimerSystem___TaskListNext[0]=- 1
	set YDWETimerSystem___TaskListIdleHead=1
	set YDWETimerSystem___TaskListIdleMax=1
	set YDWETimerSystem___TaskListIdle[1]=- 1
	
	set YDWETimerSystem___fnRemoveUnit=CreateTrigger()
	set YDWETimerSystem___fnDestroyTimer=CreateTrigger()
	set YDWETimerSystem___fnRemoveItem=CreateTrigger()
	set YDWETimerSystem___fnDestroyEffect=CreateTrigger()
	set YDWETimerSystem___fnDestroyLightning=CreateTrigger()
	set YDWETimerSystem___fnRunTrigger=CreateTrigger()
	call TriggerAddCondition(YDWETimerSystem___fnRemoveUnit, Condition(function YDWETimerSystem___RemoveUnit_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnDestroyTimer, Condition(function YDWETimerSystem___DestroyTimer_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnRemoveItem, Condition(function YDWETimerSystem___RemoveItem_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnDestroyEffect, Condition(function YDWETimerSystem___DestroyEffect_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnDestroyLightning, Condition(function YDWETimerSystem___DestroyLightning_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnRunTrigger, Condition(function YDWETimerSystem___RunTrigger_CallBack))
	
    call TimerStart(YDWETimerSystem___Timer, 0.01, true, function YDWETimerSystem___Main)
endfunction
//—≠ª∑¿‡»‘”√∂¿¡¢º∆ ±∆˜
function YDWETimerSystemGetRunIndex takes nothing returns integer
    return YDWETimerSystem___TimerSystem_RunIndex
endfunction
function YDWETimerSystem___RunPeriodicTriggerFunction takes nothing returns nothing
    local integer tid= GetHandleId(GetExpiredTimer())
    local trigger trg= LoadTriggerHandle(YDHT, tid, $D0001)
	call SaveInteger(YDHT, StringHash(I2S(GetHandleId(trg))), StringHash("RunIndex"), LoadInteger(YDHT, tid, $D0002))
    if TriggerEvaluate(trg) then
        call TriggerExecute(trg)
    endif
    set trg=null
endfunction
function YDWETimerSystem___RunPeriodicTriggerFunctionByTimes takes nothing returns nothing
    local integer tid= GetHandleId(GetExpiredTimer())
    local trigger trg= LoadTriggerHandle(YDHT, tid, $D0001)
    local integer times= LoadInteger(YDHT, tid, $D0003)
	call SaveInteger(YDHT, StringHash(I2S(GetHandleId(trg))), StringHash("RunIndex"), LoadInteger(YDHT, tid, $D0002))
    if TriggerEvaluate(trg) then
        call TriggerExecute(trg)
    endif
    set times=times - 1
    if times > 0 then
		call SaveInteger(YDHT, tid, $D0003, times)
      else
        call DestroyTimer(GetExpiredTimer())
        call FlushChildHashtable(YDHT, tid)
    endif
    set trg=null
endfunction
function YDWETimerRunPeriodicTrigger takes real timeout,trigger trg,boolean b,integer times,integer data returns nothing
    local timer t
    local integer tid
    local integer index= 0
    if timeout < 0 then
        return
      else
        set t=CreateTimer()
		set tid=GetHandleId(t)
    endif
    set YDWETimerSystem___TimerSystem_RunIndex=YDWETimerSystem___TimerSystem_RunIndex + 1
	call SaveTriggerHandle(YDHT, tid, $D0001, trg)
	call SaveInteger(YDHT, tid, $D0002, YDWETimerSystem___TimerSystem_RunIndex)
	set index=LoadInteger(YDHT, GetHandleId(trg), 'YDTS' + data)
    set index=index + 1
	call SaveInteger(YDHT, GetHandleId(trg), 'YDTS' + data, index)
	call SaveTimerHandle(YDHT, GetHandleId(trg), ( 'YDTS' + data ) * index, t)
	
    if b == false then
		call SaveInteger(YDHT, tid, $D0003, times)
        call TimerStart(t, timeout, true, function YDWETimerSystem___RunPeriodicTriggerFunctionByTimes)
      else
        call TimerStart(t, timeout, true, function YDWETimerSystem___RunPeriodicTriggerFunction)
    endif
    set t=null
endfunction
function YDWETimerRunPeriodicTriggerOver takes trigger trg,integer data returns nothing
 local integer trgid= GetHandleId(trg)
    local integer index= LoadInteger(YDHT, trgid, 'YDTS' + data)
    local timer t
    loop
        exitwhen index <= 0
        set t=LoadTimerHandle(YDHT, trgid, ( 'YDTS' + data ) * index)
        call DestroyTimer(t)
        call FlushChildHashtable(YDHT, GetHandleId(t))
		call RemoveSavedHandle(YDHT, trgid, ( 'YDTS' + data ) * index)
        set index=index - 1
    endloop
	
    call RemoveSavedInteger(YDHT, trgid, 'YDTS' + data)
    set t=null
endfunction

//library YDWETimerSystem ends
//library LHBase:

//---------------------------------------------------------------------------------------------------
    
    function IsStrHero takes unit u returns boolean
        return u == kaisa or u == chenji or u == bajue or u == Heiyan or u == xinglong
    endfunction
    
//---------------------------------------------------------------------------------------------------
    
    function IsAgiHero takes unit u returns boolean
        return u == taiya or u == xiaoyue or u == mengji or u == moqi or u == hanshang or u == cangling or u == seyu or u == yanmie or u == sichen
    endfunction
    
//---------------------------------------------------------------------------------------------------
    
    function IsIntHero takes unit u returns boolean
        return u == lingxue or u == xuanxue or u == sheyan or u == Huanyi
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetCycleHash takes string s,integer times returns integer
        local string result= s
        local integer i= 1
        loop
            exitwhen i > times
            set result=I2S(StringHash(result))
            set i=i + 1
        endloop
        return S2I(result)
    endfunction
//---------------------------------------------------------------------------------------------------

    
    function IsXianSpell takes integer spell returns boolean
        return ( spell == 'Acht' ) or ( spell == 'A03A' ) or ( spell == 'A0BM' ) or ( spell == 'A07Z' ) or ( spell == 'A07T' ) or ( spell == 'A05Z' ) or ( spell == 'ACro' ) or ( spell == 'Acht' ) or ( spell == 'A07X' ) or ( spell == 'A05Y' ) or ( spell == 'AChv' ) or ( spell == 'A07V' ) or ( spell == 'Awrg' ) or ( spell == 'A05X' ) or ( spell == 'A07C' ) or ( spell == 'A07D' ) or ( spell == 'Awrh' ) or ( spell == 'A075' ) or ( spell == 'A06W' ) or ( spell == 'A06Y' ) or ( spell == 'A06Q' ) or ( spell == 'A07R' ) or ( spell == 'ACcl' ) or ( spell == 'AOhw' ) or ( spell == 'AIin' ) or ( spell == 'AIil' ) or ( spell == 'A07S' ) or ( spell == 'AChx' )
    endfunction

//---------------------------------------------------------------------------------------------------
    
    function IsYuansu takes unit u returns boolean
        return GetUnitTypeId(u) == 'nlv3' or GetUnitTypeId(u) == 'hwat' or GetUnitTypeId(u) == 'nbal' or GetUnitTypeId(u) == 'nvde' or GetUnitTypeId(u) == 'ehpr' or GetUnitTypeId(u) == 'nsll' or GetUnitTypeId(u) == 'nadr' or GetUnitTypeId(u) == 'nitp' or GetUnitTypeId(u) == 'nsgg' or GetUnitTypeId(u) == 'nehy'
    endfunction
    
//---------------------------------------------------------------------------------------------------
    
    function IsAlly takes unit u,unit caster returns boolean
        return GetUnitState(u, UNIT_STATE_LIFE) > 0.405 and IsUnitAliveBJ(u) and IsUnitAlly(u, GetOwningPlayer(caster))
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsCanCopy takes item i returns boolean
        return ( ( GetItemTypeId(i) != 'mgtk' ) and ( GetItemTypeId(i) != 'k3m1' ) and ( GetItemTypeId(i) != 'pomn' ) and ( GetItemTypeId(i) != 'wild' ) and ( GetItemTypeId(i) != 'hlst' ) and ( GetItemTypeId(i) != 'totw' ) and ( GetItemTypeId(i) != 'sror' ) and ( GetItemTypeId(i) != 'fgrg' ) and ( GetItemTypeId(i) != 'wshs' ) and ( GetItemTypeId(i) != 'IXU1' ) and ( GetItemTypeId(i) != 'I049' ) and ( GetItemTypeId(i) != 'I04A' ) and ( GetItemTypeId(i) != 'I000' ) and ( GetItemTypeId(i) != 'I001' ) and ( GetItemTypeId(i) != 'I002' ) and ( GetItemTypeId(i) != 'I01D' ) and ( GetItemTypeId(i) != 'I02W' ) and ( GetItemTypeId(i) != 'sres' ) and ( GetItemTypeId(i) != 'I06A' ) and ( GetItemTypeId(i) != 'I06B' ) and ( GetItemTypeId(i) != 'I06C' ) and ( GetItemTypeId(i) != 'I06J' ) and ( GetItemTypeId(i) != 'I062' ) and ( GetItemTypeId(i) != 'ICS1' ) and ( GetItemTypeId(i) != 'I04W' ) and ( GetItemTypeId(i) != 'I04Y' ) and ( GetItemTypeId(i) != 'I05T' ) and ( GetItemTypeId(i) != 'I05W' ) and ( GetItemTypeId(i) != 'I05V' ) and ( GetItemTypeId(i) != 'ICY1' ) and ( GetItemTypeId(i) != 'I05X' ) and ( GetItemTypeId(i) != 'IB0A' ) and ( GetItemTypeId(i) != 'I04X' ) and ( GetItemTypeId(i) != 'ICX1' ) and ( GetItemTypeId(i) != 'I05Y' ) and ( GetItemTypeId(i) != 'I05Z' ) and ( GetItemTypeId(i) != 'I060' ) and ( GetItemTypeId(i) != 'I06N' ) )
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsDiamond takes item i returns boolean
        return GetItemTypeId(i) == 'I02N' or GetItemTypeId(i) == 'I04S' or GetItemTypeId(i) == 'azhr' or GetItemTypeId(i) == 'gmfr' or GetItemTypeId(i) == 'jpnt' or GetItemTypeId(i) == 'glsk' or GetItemTypeId(i) == 'kygh' or GetItemTypeId(i) == 'sehr' or GetItemTypeId(i) == 'bzbf' or GetItemTypeId(i) == 'phlt' or GetItemTypeId(i) == 'dkfw' or GetItemTypeId(i) == 'thle'
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Is20Unit takes unit u returns boolean
        return ( ( ( GetUnitTypeId(u) == 'nanw' ) or ( GetUnitTypeId(u) == 'nbld' ) or ( GetUnitTypeId(u) == 'nbdo' ) or ( GetUnitTypeId(u) == 'ncnk' ) or ( GetUnitTypeId(u) == 'nenc' ) or ( GetUnitTypeId(u) == 'ngnw' ) ) )
    endfunction

//---------------------------------------------------------------------------------------------------
    
    function Is10Unit takes unit u returns boolean
        return ( ( ( GetUnitTypeId(u) == 'nano' ) or ( GetUnitTypeId(u) == 'nenf' ) or ( GetUnitTypeId(u) == 'nbda' ) or ( GetUnitTypeId(u) == 'ncim' ) or ( GetUnitTypeId(u) == 'ngns' ) or ( GetUnitTypeId(u) == 'nhfp' ) ) )
    endfunction
//---------------------------------------------------------------------------------------------------
    

    function GetKillCount takes unit u returns integer
        if ( Is10Unit(u) ) then
            return 10 * CModeH(1 , 2)
        elseif ( Is20Unit(u) ) then
            return 20 * CModeH(1 , 2)
        else
            return 1 * CModeH(1 , 2)
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsWudi takes unit u returns boolean
        return GetUnitAbilityLevel(u, 'Avul') > 0
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetBasicRing takes unit u returns item
        if ( UnitHasItemOfTypeBJ(u, 'rat9') ) then
            return GetItemOfTypeFromUnitBJ(u, 'rat9')
        elseif ( UnitHasItemOfTypeBJ(u, 'rlif') ) then
            return GetItemOfTypeFromUnitBJ(u, 'rlif')
        elseif ( UnitHasItemOfTypeBJ(u, 'lgdh') ) then
            return GetItemOfTypeFromUnitBJ(u, 'lgdh')
        elseif ( UnitHasItemOfTypeBJ(u, 'clfm') ) then
            return GetItemOfTypeFromUnitBJ(u, 'clfm')
        elseif ( UnitHasItemOfTypeBJ(u, 'bgst') ) then
            return GetItemOfTypeFromUnitBJ(u, 'bgst')
        elseif ( UnitHasItemOfTypeBJ(u, 'belv') ) then
            return GetItemOfTypeFromUnitBJ(u, 'belv')
        elseif ( UnitHasItemOfTypeBJ(u, 'hcun') ) then
            return GetItemOfTypeFromUnitBJ(u, 'hcun')
        elseif ( UnitHasItemOfTypeBJ(u, 'rag1') ) then
            return GetItemOfTypeFromUnitBJ(u, 'rag1')
        elseif ( UnitHasItemOfTypeBJ(u, 'penr') ) then
            return GetItemOfTypeFromUnitBJ(u, 'penr')
        endif
        return null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetMaxRing takes unit u returns item
        if ( UnitHasItemOfTypeBJ(u, 'brac') ) then
            return GetItemOfTypeFromUnitBJ(u, 'brac')
        elseif ( UnitHasItemOfTypeBJ(u, 'lhst') ) then
            return GetItemOfTypeFromUnitBJ(u, 'lhst')
        elseif ( UnitHasItemOfTypeBJ(u, 'I05W') ) then
            return GetItemOfTypeFromUnitBJ(u, 'I05W')
        elseif ( UnitHasItemOfTypeBJ(u, 'I05V') ) then
            return GetItemOfTypeFromUnitBJ(u, 'I05V')
        endif
        return null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsMaxRing takes item i returns boolean
        return GetItemTypeId(i) == 'brac' or GetItemTypeId(i) == 'lhst' or GetItemTypeId(i) == 'I05W' or GetItemTypeId(i) == 'I05V'
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetRing takes unit u returns item
        if ( UnitHasItemOfTypeBJ(u, 'rat9') ) then
            return GetItemOfTypeFromUnitBJ(u, 'rat9')
        elseif ( UnitHasItemOfTypeBJ(u, 'rlif') ) then
            return GetItemOfTypeFromUnitBJ(u, 'rlif')
        elseif ( UnitHasItemOfTypeBJ(u, 'lgdh') ) then
            return GetItemOfTypeFromUnitBJ(u, 'lgdh')
        elseif ( UnitHasItemOfTypeBJ(u, 'clfm') ) then
            return GetItemOfTypeFromUnitBJ(u, 'clfm')
        elseif ( UnitHasItemOfTypeBJ(u, 'bgst') ) then
            return GetItemOfTypeFromUnitBJ(u, 'bgst')
        elseif ( UnitHasItemOfTypeBJ(u, 'belv') ) then
            return GetItemOfTypeFromUnitBJ(u, 'belv')
        elseif ( UnitHasItemOfTypeBJ(u, 'hcun') ) then
            return GetItemOfTypeFromUnitBJ(u, 'hcun')
        elseif ( UnitHasItemOfTypeBJ(u, 'rag1') ) then
            return GetItemOfTypeFromUnitBJ(u, 'rag1')
        elseif ( UnitHasItemOfTypeBJ(u, 'penr') ) then
            return GetItemOfTypeFromUnitBJ(u, 'penr')
        elseif ( UnitHasItemOfTypeBJ(u, 'brac') ) then
            return GetItemOfTypeFromUnitBJ(u, 'brac')
        elseif ( UnitHasItemOfTypeBJ(u, 'lhst') ) then
            return GetItemOfTypeFromUnitBJ(u, 'lhst')
        elseif ( UnitHasItemOfTypeBJ(u, 'I05W') ) then
            return GetItemOfTypeFromUnitBJ(u, 'I05W')
        elseif ( UnitHasItemOfTypeBJ(u, 'I05V') ) then
            return GetItemOfTypeFromUnitBJ(u, 'I05V')
        endif
        return null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetDeng takes unit u returns integer
        if ( UnitHasItemOfTypeBJ(u, 'ILI1') ) then
            return 1
        elseif ( UnitHasItemOfTypeBJ(u, 'ILI2') ) then
            return 2
        elseif ( UnitHasItemOfTypeBJ(u, 'ILI3') ) then
            return 3
        elseif ( UnitHasItemOfTypeBJ(u, 'ILI4') ) then
            return 4
        elseif ( UnitHasItemOfTypeBJ(u, 'ILI5') ) then
            return 5
        elseif ( UnitHasItemOfTypeBJ(u, 'ILI6') ) then
            return 6
        elseif ( UnitHasItemOfTypeBJ(u, 'ILI7') ) then
            return 7
        elseif ( UnitHasItemOfTypeBJ(u, 'ILI8') ) then
            return 8
        elseif ( UnitHasItemOfTypeBJ(u, 'ILI9') ) then
            return 9
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIA') ) then
            return 10
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIB') ) then
            return 11
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIC') ) then
            return 12
        elseif ( UnitHasItemOfTypeBJ(u, 'ILID') ) then
            return 13
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIE') ) then
            return 14
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIF') ) then
            return 15
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIG') ) then
            return 16
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIH') ) then
            return 17
        elseif ( UnitHasItemOfTypeBJ(u, 'ILII') ) then
            return 18
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIJ') ) then
            return 19
        elseif ( UnitHasItemOfTypeBJ(u, 'ILIK') ) then
            return 20
        endif
        return 0
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsZhanfahun takes item i returns boolean
        local integer id= GetItemTypeId(i)
        return id == 'I01U' or id == 'rde2' or id == 'vamp' or id == 'skul' or id == 'tsct' or id == 'tcas' or id == 'plcl' or id == 'tgrh' or id == 'rst1' or id == 'rnec' or id == 'shas' or id == 'spro' or id == 'phea' or id == 'rin1' or id == 'ward' or id == 'rde1' or id == 'ICX1'
    endfunction

//---------------------------------------------------------------------------------------------------
    
    function IsDeng takes item i returns boolean
        local integer t= GetItemTypeId(i)
        return ( t == 'ILI1' ) or ( t == 'ILI2' ) or ( t == 'ILI3' ) or ( t == 'ILI4' ) or ( t == 'ILI5' ) or ( t == 'ILI6' ) or ( t == 'ILI7' ) or ( t == 'ILI8' ) or ( t == 'ILI9' ) or ( t == 'ILIA' ) or ( t == 'ILIB' ) or ( t == 'ILIC' ) or ( t == 'ILID' ) or ( t == 'ILIE' ) or ( t == 'ILIF' ) or ( t == 'ILIG' ) or ( t == 'ILIH' ) or ( t == 'ILII' ) or ( t == 'ILIJ' ) or ( t == 'ILIK' )
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsEnemyMP takes unit u,player p returns boolean
        return IsUnitType(u, UNIT_TYPE_SLEEPING) == false and GetUnitState(u, UNIT_STATE_LIFE) > 0.405 and IsUnitType(u, UNIT_TYPE_STRUCTURE) == false and IsUnitAliveBJ(u) == true and IsUnitHidden(u) == false and IsUnitEnemy(u, p) and IsUnitVisible(u, p) and GetUnitAbilityLevel(u, 'Avul') < 1 and GetUnitPointValue(u) != 123 and GetUnitPointValue(u) != 0
    endfunction   
//---------------------------------------------------------------------------------------------------

    
    function IsEnemyM takes unit u,unit caster returns boolean
        return IsEnemyMP(u , GetOwningPlayer(caster))
    endfunction   
//---------------------------------------------------------------------------------------------------
    
    function IsSolider takes unit u returns boolean
        return ( GetUnitTypeId(u) == 'uG01' ) or ( GetUnitTypeId(u) == 'uG02' ) or ( GetUnitTypeId(u) == 'uG03' ) or ( GetUnitTypeId(u) == 'uG04' ) or ( GetUnitTypeId(u) == 'uG05' ) or ( GetUnitTypeId(u) == 'uG06' )
    endfunction
//---------------------------------------------------------------------------------------------------

    
   function IsEnemy takes unit u,unit caster returns boolean
        return IsUnitType(u, UNIT_TYPE_MAGIC_IMMUNE) == false and IsEnemyM(u , caster) and IsUnitType(u, UNIT_TYPE_RESISTANT) == false
    endfunction
//---------------------------------------------------------------------------------------------------

    
   function IsEnemy2 takes unit u,unit caster returns boolean
        return GetUnitState(u, UNIT_STATE_LIFE) > 0.405 and IsUnitAliveBJ(u) == true and IsUnitEnemy(u, GetOwningPlayer(caster)) and GetUnitPointValue(u) != 123 and GetUnitPointValue(u) != 0
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsLoyalUnit takes unit u returns boolean
        return ( ( GetUnitTypeId(u) == 'owyv' ) or ( GetUnitTypeId(u) == 'nzom' ) or ( GetUnitTypeId(u) == 'nsog' ) or ( GetUnitTypeId(u) == 'nsoc' ) or ( GetUnitTypeId(u) == 'ninc' ) or ( GetUnitTypeId(u) == 'ninm' ) or ( GetUnitTypeId(u) == 'nsrn' ) or ( GetUnitTypeId(u) == 'nsrh' ) or ( GetUnitTypeId(u) == 'nmit' ) )
    endfunction
//---------------------------------------------------------------------------------------------------
    
   function IsEnemy3 takes unit u,player p returns boolean
        return GetUnitState(u, UNIT_STATE_LIFE) > 0.405 and IsUnitAliveBJ(u) == true and IsUnitEnemy(u, p) and GetUnitPointValue(u) != 123 and GetUnitPointValue(u) != 0
    endfunction
    
//---------------------------------------------------------------------------------------------------
    
    function DeleteGroup takes group g returns nothing
        
        local unit l_unit
        loop
            set l_unit=FirstOfGroup(g)
            exitwhen l_unit == null
            call GroupRemoveUnit(g, l_unit)
            call FlushChildHashtable(YDHT, GetHandleId(l_unit))
            call RemoveUnit(l_unit)
        endloop
        set l_unit=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function HG takes unit u returns nothing
        call SetUnitPositionLoc(u, udg_Point_Fuhuo)
    endfunction
    
//---------------------------------------------------------------------------------------------------
    
    function ShengliAll takes nothing returns nothing
        call CustomVictoryBJ(GetEnumPlayer(), true, true)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetFacingBetweenXY takes real x1,real y1,real x2,real y2 returns real
        return Atan2BJ(y2 - y1, x2 - x1)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetDistance takes real x1,real y1,real x2,real y2 returns real
        local real dx= x2 - x1
        local real dy= y2 - y1
        return SquareRoot(dx * dx + dy * dy)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsUnitInUnitBack takes unit u1,unit u2,real angle returns boolean
        return CosBJ(GetUnitFacing(u1) - YDWEAngleBetweenUnits(u2 , u1)) >= CosBJ(angle)
    endfunction

//---------------------------------------------------------------------------------------------------

    
    function CreateTextTagA takes string name,unit u,real red,real green,real blue,real time,real size returns nothing

        local texttag t= CreateTextTagUnitBJ(name, u, 0, size, red, green, blue, 0)
        call SetTextTagVelocityBJ(t, 64, 90.00)
        if time <= 0 then
            set time=0.01
        endif
        call SetTextTagPermanent(t, false)
        call SetTextTagLifespan(t, time)
        call SetTextTagFadepoint(t, time)
    endfunction

    
    function CreateSpellTextTag takes string name,unit u,real red,real green,real blue,real time returns nothing
        call CreateTextTagA(name , u , red , green , blue , time , 16)
    endfunction

      
    function SimulateSpell takes unit caster,unit target,integer spellId,integer spellLevel,real lifeTime,string orderId,boolean isPoint,boolean isImmediate,boolean isTarget returns nothing
        local unit u= CreateUnit(GetOwningPlayer(caster), 'h000', GetUnitX(target), GetUnitY(target), 0)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', u)
        call UnitAddAbilityBJ(spellId, u)
        call SetUnitAbilityLevel(u, spellId, spellLevel)
        if ( isPoint ) then
            call IssuePointOrder(u, orderId, GetUnitX(target), GetUnitY(target))
        elseif ( isImmediate ) then
            call IssueImmediateOrder(u, orderId)
        elseif ( isTarget ) then
            call IssueTargetOrder(u, orderId, target)
        endif
        set u=null

    endfunction

    
    function SimulateSpell4 takes unit caster,real x,real y,integer spellId,integer spellLevel,real lifeTime,string orderId returns nothing
        local unit u= CreateUnit(GetOwningPlayer(caster), 'h01B', x, y, 0)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', u)
        call UnitAddAbilityBJ(spellId, u)
        call SetUnitAbilityLevel(u, spellId, spellLevel)
        call IssuePointOrder(u, orderId, x, y)
        set u=null

    endfunction

    

    function CreateUnitEffectSpecifyTime takes player whichPlayer,integer unitType,real x,real y,real facing,real time returns nothing
        call UnitApplyTimedLifeBJ(time, 'BHwe', CreateUnit(whichPlayer, unitType, x, y, facing))
    endfunction

    function CreateUnitEffect takes player whichPlayer,integer unitType,real x,real y,real facing returns nothing
        call CreateUnitEffectSpecifyTime(whichPlayer , unitType , x , y , facing , 5)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function DamageAreaMirror takes unit attacker,real x,real y,real radius,real damage returns nothing
        local group l_group= CreateGroup()
        local unit l_unit
        call GroupEnumUnitsInRange(l_group, x, y, radius, null)
        loop
            set l_unit=FirstOfGroup(l_group)
            exitwhen l_unit == null
            call GroupRemoveUnit(l_group, l_unit)
            if ( IsEnemy(l_unit , attacker) and ( udg_U_Zhuansheng_Dantiao[2] != l_unit or udg_U_Zhuansheng_Dantiao[1] == attacker ) ) then
                call UnitDamageTarget(attacker, l_unit, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            endif
        endloop
        call DestroyGroup(l_group)
        set l_group=null
        set l_unit=null
    endfunction
//---------------------------------------------------------------------------------------------------

    
    function DamageArea takes unit attacker,real x,real y,real radius,real damage returns nothing
        local group l_group= CreateGroup()
        local unit l_unit
        call GroupEnumUnitsInRange(l_group, x, y, radius, null)
        loop
            set l_unit=FirstOfGroup(l_group)
            exitwhen l_unit == null
            call GroupRemoveUnit(l_group, l_unit)
            if ( IsEnemy(l_unit , attacker) ) then
                call UnitDamageTarget(attacker, l_unit, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            endif
        endloop
        call DestroyGroup(l_group)
        set l_group=null
        set l_unit=null
    endfunction
//---------------------------------------------------------------------------------------------------

    
    function DamageAreaEff takes unit attacker,real x,real y,real radius,real damage,string eff returns nothing
        local group l_group= CreateGroup()
        local unit l_unit
        call GroupEnumUnitsInRange(l_group, x, y, radius, null)
        loop
            set l_unit=FirstOfGroup(l_group)
            exitwhen l_unit == null
            call GroupRemoveUnit(l_group, l_unit)
            if ( IsEnemy(l_unit , attacker) ) then
                call UnitDamageTarget(attacker, l_unit, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                call DestroyEffect(AddSpecialEffect(eff, GetUnitX(l_unit), GetUnitY(l_unit)))
            endif
        endloop
        call DestroyGroup(l_group)
        set l_group=null
        set l_unit=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function AddHero3W takes unit u,integer value returns nothing
        local unit hero= udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
        if ( hero == chenji ) then
            call SetHeroStr(hero, GetHeroStr(hero, true) + value * 3, true)
        else
            call SetHeroInt(hero, GetHeroInt(hero, true) + value, true)
            call SetHeroAgi(hero, GetHeroAgi(hero, true) + value, true)
            call SetHeroStr(hero, GetHeroStr(hero, true) + value, true)
        endif
        set hero=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetLimit takes integer i returns integer
        if ( i < 0 or i > 2100000000 ) then
            return 2100000000
        else
            return i
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function ShowGameHint takes player p,string content returns nothing
        local dialog d= DialogCreate()
        local string s= "\n            " + content
        call DialogSetMessage(d, s)
        call DialogAddButton(d, "ÊàëÁü•ÈÅì‰∫Ü|cffff6800(Esc)|r", 512)
        call DialogDisplay(p, d, true)
        set d=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    
    function ChooseSpinHero takes player p,unit u returns nothing
        call ShowGameHint(p , "ËØ•Ëã±ÈõÑÊòØ" + GetUnitName(u) + "Ëã±ÈõÑÁöÑÁöÆËÇ§" + GetHeroProperName(u) + "„ÄÇ\n        ‰ΩøÁî®Ëã±ÈõÑ" + GetUnitName(u) + "ÂÆåÊàêÂØπÂ∫îÁöÑËã±ÈõÑÊåëÊàòÂç≥ÂèØËé∑ÂèñËØ•ÁöÆËÇ§„ÄÇ\n        ÂâçÂæÄÂü∫Âú∞Â∑¶ËæπÂïÜÂ∫óÂ§ÑÂèØ‰ª•Êü•ÁúãËØ•ÊåëÊàòÁöÑËØ¶ÁªÜÂÜÖÂÆπ„ÄÇ")
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function ShowGameHintAll takes string content returns nothing
        local integer i= 1
        local dialog d= DialogCreate()
        local string s= "\n            " + content
        call DialogSetMessage(d, s)
        call DialogAddButton(d, "ÊàëÁü•ÈÅì‰∫Ü|cffff6800(Esc)|r", 512)
        loop
            exitwhen i > 6
            call DialogDisplay(ConvertedPlayer(i), d, true)
            set i=i + 1
        endloop
        set d=null
    endfunction

//---------------------------------------------------------------------------------------------------

    
    function BuyerFilter takes unit buyer returns boolean
        return ( GetUnitTypeId(buyer) != 'N018' )
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function HasLiuli takes unit u returns boolean
        return ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IXU1')) == 'IXU1' )
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function RecoverUnitHP takes unit u,real volume returns nothing
        call SetUnitLifeBJ(u, GetUnitState(u, UNIT_STATE_LIFE) + GetUnitState(u, UNIT_STATE_MAX_LIFE) * volume)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function RecoverUnitMP takes unit u,real volume returns nothing
        call SetUnitManaBJ(u, GetUnitState(u, UNIT_STATE_MANA) + volume)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function KillSelf takes unit u returns nothing
        call UnitDamageTarget(u, u, GetUnitState(u, UNIT_STATE_MAX_LIFE) * 2, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function UnitAddAbilityP takes unit u,integer i returns nothing
            call UnitAddAbility(u, i)
            if ( u == xinglong ) then
                call UnitMakeAbilityPermanent(u, true, i)
            endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsUnitHasSlot takes unit u returns boolean
        local integer i= 1
        loop
            exitwhen i > 6
            if ( UnitItemInSlotBJ(u, i) == null ) then
                return true
            endif
            set i=i + 1
        endloop

        return false
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function IsInRect takes real x,real y,rect reg returns boolean
        return ( GetRectMaxX(reg) >= x and GetRectMinX(reg) <= x and GetRectMaxY(reg) >= y and GetRectMinY(reg) <= y )
    endfunction
//---------------------------------------------------------------------------------------------------

    
    function IsInForbitRegion takes real x,real y,unit u returns boolean
        return ( IsInRect(x , y , gg_rct_______a3) and ( not ( RectContainsUnit(gg_rct_______a3, u) ) ) ) or ( IsInRect(x , y , gg_rct_Arena_forbit) and ( not ( RectContainsUnit(gg_rct_Arena_forbit, u) ) ) )
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function GetFirstPlayer takes nothing returns player
        local integer i= 1
        loop
            exitwhen i > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
                return ConvertedPlayer(i)
            endif
            set i=i + 1
        endloop
        return ConvertedPlayer(1)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function LHBase__StartWanjieTimer takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer id= GetHandleId(t)
        local integer value= LoadInteger(LHTable, id, 1)
        local texttag tt= null
        local location point= null
        if ( value <= 200 ) then
            call SaveInteger(LHTable, GetHandleId(t), 1, value + 1)
            set point=Location(GetUnitX(Uwanjie) - 100, GetUnitY(Uwanjie))
            set tt=CreateTextTagLocBJ("|cffFFD700„Äê‰∏áÂä´ÂΩï„Äë" + GetWanjieluName(), point, 50.00, 12, 100, 100, 100, 0)
            call SetTextTagVelocityBJ(tt, 64, 90.00)
            call SetTextTagPermanent(tt, false)
            call SetTextTagLifespan(tt, 5)
            call SetTextTagFadepoint(tt, 5)
            call RemoveLocation(point)
            set point=null
            set tt=null
        else
            call PauseTimer(t)
            call FlushChildHashtable(LHTable, id)
            call DestroyTimer(t)
        endif
        set t=null
    endfunction
//---------------------------------------------------------------------------------------------------
    function LHBase__InitLHBase takes nothing returns nothing

        local timer t= CreateTimer()
        local integer i= 1

        loop
            exitwhen i > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
                set BMoshou[i]=false
            endif
            set i=i + 1
        endloop
        
        set UDepot[1]=CreateUnit(Player(0), 'nmgv', 10175.0, - 691.0, 270.000)
        set UDepot[2]=CreateUnit(Player(1), 'nmgv', 10307.0, - 691.0, 270.000)
        set UDepot[3]=CreateUnit(Player(2), 'nmgv', 10431.0, - 691.0, 270.000)
        set UDepot[4]=CreateUnit(Player(3), 'nmgv', 10175.0, - 60.6, 270.000)
        set UDepot[5]=CreateUnit(Player(4), 'nmgv', 10307.0, - 60.6, 270.000)
        set UDepot[6]=CreateUnit(Player(5), 'nmgv', 10431.0, - 60.6, 270.000)

        set Uwanjie=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'n01F', - 14524.0, - 15446.0, 270.000)

        call SaveInteger(LHTable, GetHandleId(t), 1, 0)
        call TimerStart(t, 2, true, function LHBase__StartWanjieTimer)


        set t=null
    endfunction

//library LHBase ends
//library Achievement:
	

//---------------------------------------------------------------------------------------------------
	 
 function GetBit takes integer num,integer bit returns integer
  local string s= I2S(num)
  local integer length= StringLength(s)
		if ( length < bit ) then
			return 0
		endif

		return S2I(SubStringBJ(s, length - bit + 1, length - bit + 1))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Int2Bin takes integer num returns string
  local string result= ""
  local integer mod= 0
  local integer number= num
  local integer i= 1

		loop
			exitwhen i > 31
			if ( number == 0 ) then
				set result="0" + result
			else
				set mod=ModuloInteger(number, 2)
				set result=I2S(mod) + result
				set number=number / 2
			endif
			set i=i + 1
		endloop
		if ( num < 0 ) then
			set result="1" + result
		else
			set result="0" + result
		endif
		return result
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Bin2Int takes string bin returns integer
  local integer i= StringLength(bin)
  local integer result= 0
  local integer mi= 0
		if ( i < 1 ) then
			return 0
		endif

		loop
			exitwhen i == 1
			
			set result=result + R2I(Pow(2, mi)) * S2I(SubStringBJ(bin, i, i))

			set mi=mi + 1
			set i=i - 1
		endloop

		if ( S2I(SubStringBJ(bin, 1, 1)) == 1 ) then
			set result=result * - 1
		endif

		return result
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetBinBit takes string bin,integer bit,boolean isOne returns string
  local string result
  local integer length= StringLength(bin)

		if ( length < bit or bit <= 0 ) then
			return bin
		endif

		set result=SubStringBJ(bin, 1, bit - 1)
		if ( isOne ) then
			set result=result + "1"
		else
			set result=result + "0"
		endif
		return result + SubStringBJ(bin, bit + 1, length)

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetIntegerBit takes integer int,integer bit,boolean isOne returns integer
		return Bin2Int(SetBinBit(Int2Bin(int) , bit , isOne))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetIntegerBit takes integer int,integer bit returns integer
		return S2I(SubStringBJ(Int2Bin(int), bit, bit))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetIntegerHasOne takes integer num returns integer
  local integer result= 0
  local integer number= num
  local integer i= 1

		loop
			exitwhen i > 31
			set result=ModuloInteger(number, 2) + result
			set number=number / 2
			set i=i + 1
		endloop
		if ( num < 0 ) then
			set result=1 + result
		endif
		return result
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Achievement__GetAchievePage takes integer i returns integer
		return S2I(SubStringBJ(I2S(i), 1, 1))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Achievement__GetAchieveTarget takes integer i returns integer
		return S2I(SubStringBJ(I2S(i), 2, StringLength(I2S(i))))
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function GetSeyu1Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 2) > 0
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetSeyuSpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 2) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 10
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñÁëüÈõ®ÁöÆËÇ§\"|cffff66ccËµ§Ë°ÄÁôΩÁáï|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetXiaoyue1Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 3) > 0
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetXiaoyueSpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 3) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 100
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñÊôìÊúàÁöÆËÇ§\"|cff99ccffÊúàËΩÆÁªØÁã±|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetYanmie1Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 4) > 0
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetYanmieSpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 4) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 1000
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñÊπÆÁÅ≠ÁöÆËÇ§\"|cFFFF0000ÊÆõÈúÜÊó†Ëøπ|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetXuanxue1Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 5) > 0
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetXuanxueSpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 5) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 10000
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñÁéÑÈõ™Ê≠¶Âô®Ê®°Âûã\"|cFF33FF33Êú´Êó•ÊùÉÊùñ|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetTaiya1Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 6) > 0
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetTaiyaSpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 6) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 100000
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñÊ≥∞ÈõÖÁöÆËÇ§\"|cFFCCFF66‰∏âÂº¶ÊòüË∞ß|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetChenji1Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 7) > 0
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetChenji1SpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 7) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 1000000
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñËæ∞ÂØÇÊ≠¶Âô®Ê®°Âûã\"|cFFFF3333ÈúúÂ§ú‰πãÂìÄ|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetHanshang1Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 8) > 0
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetHanshangSpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 8) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 10000000
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñÂØíÊÆáÊ≠¶Âô®Ê®°Âûã\"|cFF3333FFÁç†Áâô‰πãÂåï|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetLingxue1Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 9) > 0
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetLingxueSpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 9) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 100000000
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñÂáåÈõ™ÁöÆËÇ§\"|cFF339933Ê≤êÈõ™Êó†Áëï|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetChenji2Spin takes player p returns boolean
		return GetBit(spin[GetConvertedPlayerId(p)] , 10) > 0
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetChenji2SpinOK takes player p returns nothing
		if ( GetBit(spin[GetConvertedPlayerId(p)] , 10) < 1 ) then
			set spin[GetConvertedPlayerId(p)]=spin[GetConvertedPlayerId(p)] + 1000000000
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñËæ∞ÂØÇÁöÆËÇ§\"|cFFFF3333ÂèåÊµÅË¥ØÊÅí|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin" , spin[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetMoqiSpin takes player p returns boolean
		return GetBit(spin2[GetConvertedPlayerId(p)] , 1) > 0
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetMoqiSpinOK takes player p returns nothing
		if ( GetBit(spin2[GetConvertedPlayerId(p)] , 10) < 1 ) then
			set spin2[GetConvertedPlayerId(p)]=spin2[GetConvertedPlayerId(p)] + 1
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñËé´Áê™ÁöÆËÇ§\"|cFFFF00CCÊòüÁïåÈ∫íÈ∫ü|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin2" , spin2[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetKaisaSpin takes player p returns boolean
		return GetBit(spin2[GetConvertedPlayerId(p)] , 2) > 0
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetKaisaSpinOK takes player p returns nothing
		if ( GetBit(spin2[GetConvertedPlayerId(p)] , 10) < 2 ) then
			set spin2[GetConvertedPlayerId(p)]=spin2[GetConvertedPlayerId(p)] + 10
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†ÊàêÂäüËé∑ÂèñÂáØÊííÁöÆËÇ§\"|cFF6699FFÁÜîÊó•ÁÖå‰∏ñ|r\"ÔºÅ")
			call DzAPI_Map_StoreInteger(p , "spin2" , spin2[GetConvertedPlayerId(p)])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsAchieveOK takes player p,integer achieveID returns boolean
  local integer id= GetConvertedPlayerId(p)
  local integer page= Achievement__GetAchievePage(achieveID)
  local integer target= Achievement__GetAchieveTarget(achieveID)
		if ( page == 1 ) then
			return ( GetBit(achieve[id] , target) > 0 )
		elseif ( page == 2 ) then
			return ( GetIntegerBit(achieve2[id] , target) > 0 )
		elseif ( page == 3 ) then
			return ( GetIntegerBit(achieve3[id] , target) > 0 )
		elseif ( page == 4 ) then
			return ( GetIntegerBit(achieve4[id] , target) > 0 )
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsQuanchengjiu takes player p returns boolean
  local boolean result= true
  local integer i= 11
		loop
			exitwhen i > 18
			set result=result and IsAchieveOK(p , i)
			set i=i + 1
		endloop
		set i=21
		loop
			exitwhen i > 29
			set result=result and IsAchieveOK(p , i)
			set i=i + 1
		endloop

		set i=210
		loop
			exitwhen i > 231
			set result=result and IsAchieveOK(p , i)
			set i=i + 1
		endloop

		set i=32
		loop
			exitwhen i > 39
			set result=result and IsAchieveOK(p , i)
			set i=i + 1
		endloop


		set i=310
		loop
			exitwhen i > 318
			set result=result and IsAchieveOK(p , i)
			set i=i + 1
		endloop

		set i=320
		loop
			exitwhen i > 331
			set result=result and IsAchieveOK(p , i)
			set i=i + 1
		endloop

		return result

	endfunction
//---------------------------------------------------------------------------------------------------

	
 function SetAchievement takes player p,integer achieveID returns nothing
  local integer id= GetConvertedPlayerId(p)
		if ( udg_H[id] == null ) then
			return
		endif
		if ( IsAchieveOK(p , achieveID) ) then
			set achiPage[id]=achieveID
			//ÂΩ©Âêç	
			if ( IsAchieveColor(achieveID) ) then
				call SetPlayerName(p, GetAchievementName(achieveID) + GetRandomColor() + playerName[id] + "|r")
			elseif ( IsAchieveWhite(achieveID) ) then
				call SetPlayerName(p, GetAchievementName(achieveID) + playerName[id])
			else
				call SetPlayerName(p, GetAchievementName(achieveID) + playerName[id] + "|r")
			endif
			//ÁâπÊïà
			if ( IsAchieveLight(achieveID) ) then
				if ( achiEff[id] != null ) then
					call DestroyEffect(achiEff[id])
				endif
				set achiEff[id]=AddSpecialEffectTargetUnitBJ("origin", udg_H[id], "war3mapImported\\lunhuitexiao.mdl")
			endif
			call DzAPI_Map_Stat_SetStat(p, "achi", GetAchievementWhiteName(achieveID))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchievePointer takes player p returns nothing
		call DzAPI_Map_StoreInteger(p , "page" , achiPage[GetConvertedPlayerId(p)])
	endfunction 
//---------------------------------------------------------------------------------------------------
	
 function SaveAchieveData1 takes player p returns nothing
		call DzAPI_Map_StoreString(p , "achieve" , I2S(achieve[GetConvertedPlayerId(p)]))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchieveData2 takes player p returns nothing
		call DzAPI_Map_StoreInteger(p , "achieve2" , achieve2[GetConvertedPlayerId(p)])
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchieveData3 takes player p returns nothing
		call DzAPI_Map_StoreInteger(p , "achieve3" , achieve3[GetConvertedPlayerId(p)])
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchieveData4 takes player p returns nothing
		call DzAPI_Map_StoreInteger(p , "achieve4" , achieve4[GetConvertedPlayerId(p)])
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetAchievementAndSave takes player p,integer achieveID returns nothing
  local integer id= GetConvertedPlayerId(p)
		if ( udg_H[id] == null ) then
			return
		endif
		if not ( IsAchieveOK(p , achieveID) ) then
			if ( Achievement__GetAchievePage(achieveID) == 1 ) then
				set achieve[id]=achieve[id] + R2I(Pow(10, I2R(achieveID - 11)))
			elseif ( Achievement__GetAchievePage(achieveID) == 2 ) then
				set achieve2[id]=SetIntegerBit(achieve2[id] , Achievement__GetAchieveTarget(achieveID) , true)
			elseif ( Achievement__GetAchievePage(achieveID) == 3 ) then
				set achieve3[id]=SetIntegerBit(achieve3[id] , Achievement__GetAchieveTarget(achieveID) , true)
			elseif ( Achievement__GetAchievePage(achieveID) == 4 ) then
				set achieve4[id]=SetIntegerBit(achieve4[id] , Achievement__GetAchieveTarget(achieveID) , true)
			endif
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÅ≠Âñú‰Ω†Ëé∑ÂæóÊàêÂ∞±\"" + GetAchievementName(achieveID) + "|r\",ËØ•ÊàêÂ∞±‰ºöÊòæÁ§∫Âú®Ê∏∏ÊàèÂ§ßÂéÖÂÜÖÂèä‰Ω†ÁöÑÂêçÂ≠óÂâçÈù¢.")
		    call SetAchievement(p , achieveID)
			call SaveAchieveData1(p)
			call SaveAchieveData2(p)
			call SaveAchieveData3(p)
			call SaveAchieveData4(p)
		    call SaveAchievePointer(p)
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ¶ÇÊûú‰Ω†ÊÉ≥‰ΩøÁî®ÂÖ∂‰ªñÁöÑÊàêÂ∞±ÔºåËØ∑ËæìÂÖ•\"-cj\"Êù•ÂàáÊç¢‰Ω†ÁöÑÁé∞ÊúâÊàêÂ∞±„ÄÇ")
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function NextPageAchievement takes player p,dialog d,integer page returns nothing
     local integer i= 1
		if ( page == 1 ) then
		    loop
		    	exitwhen i > 8
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 10) + S3(IsAchieveOK(p , i + 10) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
	    	call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButtonBJ(d, GetAchievementName(325) + S3(IsAchieveOK(p , 325) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		elseif ( page == 2 ) then
		    loop
		    	exitwhen i > 8
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 20) + S3(IsAchieveOK(p , i + 20) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
		elseif ( page == 3 ) then
		    loop
		    	exitwhen i > 7
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(217 - i) + S3(IsAchieveOK(p , 217 - i) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
	    	call SaveButtonHandle(LHTable, GetHandleId(d), 8, DialogAddButtonBJ(d, GetAchievementName(29) + S3(IsAchieveOK(p , 29) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		elseif ( page == 4 ) then
		    loop
		    	exitwhen i > 8
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 216) + S3(IsAchieveOK(p , i + 216) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
		elseif ( page == 5 ) then
		    loop
		    	exitwhen i > 7
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 224) + S3(IsAchieveOK(p , i + 224) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
	    	call SaveButtonHandle(LHTable, GetHandleId(d), 8, DialogAddButtonBJ(d, GetAchievementName(310) + S3(IsAchieveOK(p , 310) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		elseif ( page == 6 ) then
		    loop
		    	exitwhen i > 8
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 31) + S3(IsAchieveOK(p , i + 31) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
		elseif ( page == 7 ) then
		    loop
		    	exitwhen i > 8
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 310) + S3(IsAchieveOK(p , i + 310) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
		elseif ( page == 8 ) then
	    	call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButtonBJ(d, GetAchievementName(326) + S3(IsAchieveOK(p , 326) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
			set i=2
		    loop
		    	exitwhen i > 6
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 318) + S3(IsAchieveOK(p , i + 318) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
    	    	call SaveButtonHandle(LHTable, GetHandleId(d), 7, DialogAddButtonBJ(d, GetAchievementName(327) + S3(IsAchieveOK(p , 327) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		elseif ( page == 9 ) then
			set i=1
		    loop
		    	exitwhen i > 4
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 327) + S3(IsAchieveOK(p , i + 327) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
			set i=5
		    loop
		    	exitwhen i > 8
		    	call SaveButtonHandle(LHTable, GetHandleId(d), i, DialogAddButtonBJ(d, GetAchievementName(i + 38) + S3(IsAchieveOK(p , i + 38) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r")))
		    	set i=i + 1
		    endloop
		endif

    	call SaveButtonHandle(LHTable, GetHandleId(d), 10, DialogAddButtonBJ(d, "‰∏ã‰∏ÄÈ°µ"))
    	call SaveButtonHandle(LHTable, GetHandleId(d), 11, DialogAddButton(d, "ÂÖ≥Èó≠|cffff6800(Esc)|r", 512))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CreateHeroDialogContent takes player p,dialog d,integer page returns nothing
		if ( page == 1 ) then
			call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButtonBJ(d, GetHeroChallenageName(1 , 1) + S3(GetSeyu1Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 2, DialogAddButtonBJ(d, GetHeroChallenageName(2 , 1) + S3(GetXiaoyue1Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 3, DialogAddButtonBJ(d, GetHeroChallenageName(3 , 1) + S3(GetYanmie1Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 4, DialogAddButtonBJ(d, GetHeroChallenageName(4 , 1) + S3(GetXuanxue1Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 5, DialogAddButtonBJ(d, GetHeroChallenageName(5 , 1) + S3(GetChenji1Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 6, DialogAddButtonBJ(d, GetHeroChallenageName(6 , 1) + S3(GetTaiya1Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 7, DialogAddButtonBJ(d, GetHeroChallenageName(7 , 1) + S3(GetHanshang1Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 8, DialogAddButtonBJ(d, GetHeroChallenageName(8 , 1) + S3(GetChenji2Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 9, DialogAddButtonBJ(d, GetHeroChallenageName(9 , 1) + S3(GetLingxue1Spin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
		elseif ( page == 2 ) then
			call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButtonBJ(d, GetHeroChallenageName(1 , 2) + S3(GetKaisaSpin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
			call SaveButtonHandle(LHTable, GetHandleId(d), 2, DialogAddButtonBJ(d, GetHeroChallenageName(2 , 2) + S3(GetMoqiSpin(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
		endif


    	call SaveButtonHandle(LHTable, GetHandleId(d), 10, DialogAddButtonBJ(d, "‰∏ã‰∏ÄÈ°µ"))
    	call SaveButtonHandle(LHTable, GetHandleId(d), 11, DialogAddButton(d, "ÂÖ≥Èó≠|cffff6800(Esc)|r", 512))

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CreateSuperDialogContent takes player p,dialog d returns nothing
		
		call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButtonBJ(d, GetSuperChallenageName(1) + S3(IsQuanchengjiu(p) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
		call SaveButtonHandle(LHTable, GetHandleId(d), 2, DialogAddButtonBJ(d, GetSuperChallenageName(2) + S3(IsAchieveOK(p , 42) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))
		call SaveButtonHandle(LHTable, GetHandleId(d), 3, DialogAddButtonBJ(d, GetSuperChallenageName(3) + S3(IsAchieveOK(p , 47) , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r")))

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AchievementDialogClick takes nothing returns nothing
  local dialog d= GetClickedDialogBJ()
     local integer i= 1
     local integer page= LoadInteger(LHTable, GetHandleId(d), 12)
     local player p= LoadPlayerHandle(LHTable, GetHandleId(d), 13)
     local integer achieveID= LoadInteger(LHTable, GetHandleId(d), 14)

        //Êü•ÁúãÊù°‰ª∂‰∏éËÆæÁΩÆ
	    if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 15) ) then
	    	call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetAchievementName(achieveID) + "|rÊàêÂ∞±ÁöÑËé∑ÂèñÊù°‰ª∂Â¶Ç‰∏ãÊâÄÁ§∫:")
	    	call DisplayTextToPlayer(p, 0., 0., GetAchievementCondition(achieveID))
	    elseif ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 16) ) then
	    	call SetAchievement(p , achieveID)
	    	call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂú∞Â∞ÜÊàêÂ∞±ËÆæÁΩÆÊàê‰∫Ü" + GetAchievementName(achieveID) + ".")
	    	//‰øùÂ≠òÂà∞ÊúçÂä°Âô®
	    	call SaveAchievePointer(p)
	    endif

	    //ÈÄÄÂá∫
	    if ( ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 11) ) or ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 15) ) or ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 16) ) ) then
            call DialogClear(d)
	        call FlushChildHashtable(LHTable, GetHandleId(d))
        	call DialogDisplay(p, d, false)
	        call DialogDestroy(d)
	        set d=null
	        set p=null
	        call DestroyTrigger(GetTriggeringTrigger())
	        return
	    endif

	    //‰∏ã‰∏ÄÈ°µ
	    if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 10) ) then
            call DialogClear(d)
	    	set page=I3(page < PAGE_ACHIEVE , page + 1 , 1)
    		call SaveInteger(LHTable, GetHandleId(d), 12, page)
	    	call DialogSetMessage(d, "ÊàëÁöÑÊàêÂ∞±|cffff6800(Á¨¨" + I2S(page) + "/" + I2S(PAGE_ACHIEVE) + "È°µ)|r\n	    		Êî∂ÈõÜÂÖ®ÈÉ®ÊàêÂ∞±ÂèØ‰ª•Ëá™ÂÆö‰πâÊàêÂ∞±Âêç")
	    	call NextPageAchievement(p , d , page)
        	call DialogDisplay(p, d, true)
		    set d=null
		    set p=null
	    	return
	    endif

	    //ÁÇπÂáªÊåáÂÆöÁöÑÊàêÂ∞±
	    loop
	        exitwhen i > 9
	        if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), i) ) then
                call DialogClear(d)
	        	set achieveID=GetAchievementIndex(page , i)
	    		call SaveInteger(LHTable, GetHandleId(d), 14, achieveID)
	    		call DialogSetMessage(d, GetAchievementName(achieveID) + S3(IsAchieveOK(p , achieveID) , "|cffff9900(Â∑≤Ëß£ÈîÅ)|r" , "|cff33cccc(Êú™Ëß£ÈîÅ)|r"))
		    	call SaveButtonHandle(LHTable, GetHandleId(d), 15, DialogAddButtonBJ(d, "Êü•ÁúãËé∑ÂèñÊù°‰ª∂"))
		    	if ( IsAchieveOK(p , achieveID) ) then
		    		call SaveButtonHandle(LHTable, GetHandleId(d), 16, DialogAddButtonBJ(d, "‰ΩøÁî®ËØ•ÊàêÂ∞±"))
		    	endif
		    	call SaveButtonHandle(LHTable, GetHandleId(d), 11, DialogAddButton(d, "ÂÖ≥Èó≠|cffff6800(Esc)|r", 512))
	            exitwhen true
	        endif
	        set i=i + 1
	    endloop

        call DialogDisplay(p, d, true)
	    set d=null
	    set p=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function HeroDialogClick takes nothing returns nothing
  local dialog d= GetClickedDialogBJ()
     local player p= LoadPlayerHandle(LHTable, GetHandleId(d), 13)
     local integer page= LoadInteger(LHTable, GetHandleId(d), 12)
  local integer i= 1

	    //ÈÄÄÂá∫
	    if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 11) ) then
            call DialogClear(d)
	        call FlushChildHashtable(LHTable, GetHandleId(d))
        	call DialogDisplay(p, d, false)
	        call DialogDestroy(d)
	        set d=null
	        set p=null
	        call DestroyTrigger(GetTriggeringTrigger())
	        return
	    endif

	    //‰∏ã‰∏ÄÈ°µ
	    if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 10) ) then
            call DialogClear(d)
	    	set page=I3(page < PAGE_HERO_CHALLANGER , page + 1 , 1)
	    	call DialogSetMessage(d, "Ëã±ÈõÑÊåëÊàò")
    		call SaveInteger(LHTable, GetHandleId(d), 12, page)
	    	call CreateHeroDialogContent(p , d , page)
        	call DialogDisplay(p, d, true)
		    set d=null
		    set p=null
	    	return
	    endif

	    //ÁÇπÂáª
	    loop
	        exitwhen i > 9
	        if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), i) ) then
                call DialogClear(d)
		    	call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetHeroChallenageName(i , page) + "|rËã±ÈõÑÊåëÊàòÁöÑÊù°‰ª∂Â¶Ç‰∏ãÊâÄÁ§∫:")
		    	call DisplayTextToPlayer(p, 0., 0., GetHeroChallenageContent(i , page))
	            exitwhen true
	        endif
	        set i=i + 1
	    endloop

        call DialogClear(d)
        call FlushChildHashtable(LHTable, GetHandleId(d))
    	call DialogDisplay(p, d, false)
        call DialogDestroy(d)
        set d=null
        set p=null
        call DestroyTrigger(GetTriggeringTrigger())
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SuperAchievementClick takes nothing returns nothing
  local dialog d= GetClickedDialogBJ()
     local player p= LoadPlayerHandle(LHTable, GetHandleId(d), 13)
  local integer i= 1
	    loop
	        exitwhen i > 9
	        if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), i) ) then
                call DialogClear(d)
		    	call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetSuperChallenageName(i) + "|rË∂ÖÁ∫ßÊàêÂ∞±ÁöÑÂÆåÊàêÊù°‰ª∂Â¶Ç‰∏ãÊâÄÁ§∫:")
		    	call DisplayTextToPlayer(p, 0., 0., GetSuperChallenageContent(i))
		    	if ( i == 2 ) then
	    			call SetAchievement(p , 42)
		    	elseif ( i == 3 ) then
	    			call SetAchievement(p , 47)
		    	endif
	            exitwhen true
	        endif
	        set i=i + 1
	    endloop

        call DialogClear(d)
        call FlushChildHashtable(LHTable, GetHandleId(d))
    	call DialogDisplay(p, d, false)
        call DialogDestroy(d)
        set d=null
        set p=null
        call DestroyTrigger(GetTriggeringTrigger())
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function CreateAchievementDialog takes player p returns nothing
     local trigger t= CreateTrigger()
     local dialog d= DialogCreate()
	    call DialogSetMessage(d, "ÊàëÁöÑÊàêÂ∞±|cffff6800(Á¨¨1/" + I2S(PAGE_ACHIEVE) + "È°µ)|r\n	    	Êî∂ÈõÜÂÖ®ÈÉ®ÊàêÂ∞±ÂèØ‰ª•Ëá™ÂÆö‰πâÊàêÂ∞±Âêç")
	    call NextPageAchievement(p , d , 1)
    	call SaveButtonHandle(LHTable, GetHandleId(d), 15, null)
    	call SaveButtonHandle(LHTable, GetHandleId(d), 16, null)
    	call SaveInteger(LHTable, GetHandleId(d), 12, 1)
	    call SavePlayerHandle(LHTable, GetHandleId(d), 13, p)
	    call SaveInteger(LHTable, GetHandleId(d), 14, 10)
	    call DialogDisplay(p, d, true)
	    call TriggerRegisterDialogEvent(t, d)
	    call TriggerAddAction(t, function AchievementDialogClick)
	    set d=null
	    set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CreateHeroChallenagerDialog takes player p returns nothing
  local trigger t= CreateTrigger()
     local dialog d= DialogCreate()
	    call DialogSetMessage(d, "Ëã±ÈõÑÊåëÊàò")
	    call CreateHeroDialogContent(p , d , 1)
	    call SavePlayerHandle(LHTable, GetHandleId(d), 13, p)
	    call SaveInteger(LHTable, GetHandleId(d), 12, 1)
	    call DialogDisplay(p, d, true)
	    call TriggerRegisterDialogEvent(t, d)
	    call TriggerAddAction(t, function HeroDialogClick)
	    set d=null
	    set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CreateSuperAchievementDialog takes player p returns nothing
  local trigger t= CreateTrigger()
     local dialog d= DialogCreate()
	    call DialogSetMessage(d, "Ë∂ÖÁ∫ßÊàêÂ∞±")
	    call CreateSuperDialogContent(p , d)
	    call SavePlayerHandle(LHTable, GetHandleId(d), 13, p)
	    call DialogDisplay(p, d, true)
	    call TriggerRegisterDialogEvent(t, d)
	    call TriggerAddAction(t, function SuperAchievementClick)
	    set d=null
	    set t=null
	endfunction



//library Achievement ends
//library Attr:
	
//---------------------------------------------------------------------------------------------------

	
 function GetAgiPercent takes integer playerID returns real
		return udg_I_Xianglian[( playerID + 6 )]
	endfunction

	
 function GetStrPercent takes integer playerID returns real
		return udg_I_Xianglian[( playerID )]
	endfunction

	
 function GetIntPercent takes integer playerID returns real
		return udg_I_Xianglian[( playerID + 12 )]
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function FlashHeroStr takes player p returns nothing
  local integer index= GetConvertedPlayerId(p)
  local integer temp= 0
		if ( ( GetPlayerSlotState(p) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(p) == MAP_CONTROL_USER ) and ( GetStrPercent(index) != 0 or IStr[index] != 0 ) ) then
			set temp=R2I(I2R(GetHeroStr(udg_H[index], true) - IStr[index]) * GetStrPercent(index))
			if ( temp != IStr[index] ) then
				call SetHeroStr(udg_H[index], GetHeroStr(udg_H[index], true) - IStr[index] + temp, true)
				set IStr[index]=temp
			endif
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function FlashAllHeroStr takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call FlashHeroStr(ConvertedPlayer(i))
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function FlashHeroAgi takes player p returns nothing
  local integer index= GetConvertedPlayerId(p)
  local integer temp= 0
		if ( ( GetPlayerSlotState(p) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(p) == MAP_CONTROL_USER ) and ( GetAgiPercent(index) != 0 or IAgi[index] != 0 ) ) then
			set temp=R2I(I2R(GetHeroAgi(udg_H[index], true) - IAgi[index]) * GetAgiPercent(index))
			if ( temp != IAgi[index] ) then
				call SetHeroAgi(udg_H[index], GetHeroAgi(udg_H[index], true) - IAgi[index] + temp, true)
				set IAgi[index]=temp
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function FlashAllHeroAgi takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call FlashHeroAgi(ConvertedPlayer(i))
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function FlashHeroInt takes player p returns nothing
  local integer index= GetConvertedPlayerId(p)
  local integer temp= 0
		if ( ( GetPlayerSlotState(p) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(p) == MAP_CONTROL_USER ) and ( GetIntPercent(index) != 0 or IInt[index] != 0 ) ) then
			set temp=R2I(I2R(GetHeroInt(udg_H[index], true) - IInt[index]) * GetIntPercent(index))
			if ( temp != IInt[index] ) then
				call SetHeroInt(udg_H[index], GetHeroInt(udg_H[index], true) - IInt[index] + temp, true)
				set IInt[index]=temp
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function FlashAllHeroInt takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call FlashHeroInt(ConvertedPlayer(i))
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddHPPercent takes integer playerID,real value returns nothing
		set udg_I_Xianglian[( playerID + 18 )]=udg_I_Xianglian[( playerID + 18 )] + value
		call TriggerExecute(gg_trg_D7)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddAgiPercent takes integer playerID,real value returns nothing
		set udg_I_Xianglian[( playerID + 6 )]=udg_I_Xianglian[( playerID + 6 )] + value
		call TriggerExecute(gg_trg_D7)
	endfunction

	
 function AddAgiPercentImme takes integer playerID,real value returns nothing
		call AddAgiPercent(playerID , value)
    	call FlashHeroAgi(ConvertedPlayer(playerID))
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function AddStrPercent takes integer playerID,real value returns nothing
		set udg_I_Xianglian[( playerID )]=udg_I_Xianglian[( playerID )] + value
		call TriggerExecute(gg_trg_D7)
	endfunction

	
 function AddStrPercentImme takes integer playerID,real value returns nothing
		call AddStrPercent(playerID , value)
    	call FlashHeroStr(ConvertedPlayer(playerID))
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function AddIntPercent takes integer playerID,real value returns nothing
		set udg_I_Xianglian[( playerID + 12 )]=udg_I_Xianglian[( playerID + 12 )] + value
		call TriggerExecute(gg_trg_D7)
	endfunction

	
 function AddIntPercentImme takes integer playerID,real value returns nothing
		call AddIntPercent(playerID , value)
    	call FlashHeroInt(ConvertedPlayer(playerID))
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function AddMoneyPercent takes integer playerID,real value returns nothing
		set udg_I_Jinqianhuodelv[playerID]=udg_I_Jinqianhuodelv[playerID] + value
		call TriggerExecute(gg_trg_D7)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddAttackPercent takes integer playerID,real value returns nothing
		set udg_I_Xianglian[playerID + 24]=udg_I_Xianglian[playerID + 24] + value
		call TriggerExecute(gg_trg_D7)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddDefensePercent takes integer playerID,real value returns nothing
		set udg_I_Xianglian[playerID + 30]=udg_I_Xianglian[playerID + 30] + value
		call TriggerExecute(gg_trg_D7)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddSpellPercent takes integer playerID,real value returns nothing
		set udg_I_Jinengjiacheng[playerID]=udg_I_Jinengjiacheng[playerID] + value
		call TriggerExecute(gg_trg_D7)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddDamagePercent takes integer playerID,real value returns nothing
		set udg_I_Shanghai[playerID]=udg_I_Shanghai[playerID] + value
		call TriggerExecute(gg_trg_D7)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetAttack takes unit u,integer attack returns nothing
	    set udg_Unit=u
	    call SaveInteger(YDHT, GetHandleId(u), 0x5039AFFB, attack)
	    call TriggerExecute(gg_trg_____________800W)
	endfunction	

 function GetAttack takes unit u returns integer
		return LoadInteger(YDHT, GetHandleId(u), 0x5039AFFB)
	endfunction	

 function AddAttack takes unit u,integer attack returns nothing
		call SetAttack(u , GetAttack(u) + attack)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetDefense takes unit u,integer defense returns nothing
	    set udg_Unit=u
	    call SaveInteger(YDHT, GetHandleId(u), 0x81FD3994, defense)
	    call TriggerExecute(gg_trg___________________4000______u)
	endfunction

 function GetDefense takes unit u returns integer
		return LoadInteger(YDHT, GetHandleId(u), 0x81FD3994)
	endfunction	

 function AddDefense takes unit u,integer defense returns nothing
		call SetDefense(u , GetDefense(u) + defense)
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetHP takes unit u,integer hp returns nothing
	    set udg_Unit=u
	    call SaveInteger(YDHT, GetHandleId(u), 0xFCD961C9, hp)
    	call TriggerExecute(gg_trg_HP_____________________u)
	endfunction
	
 function GetHP takes unit u returns integer
		return LoadInteger(YDHT, GetHandleId(u), 0xFCD961C9)
	endfunction	

 function AddHP takes unit u,integer hp returns nothing
		call SetHP(u , GetHP(u) + hp)
	endfunction
//---------------------------------------------------------------------------------------------------

 function Attr___InitAttr takes nothing returns nothing
		


	endfunction


//library Attr ends
//library Battle:
	
//---------------------------------------------------------------------------------------------------
	
	

 function TStartFastMonsterAct takes nothing returns nothing
  local integer i= 1

		if ( GetItemTypeId(GetSoldItem()) == 'I04P' ) then
			set BSkip[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
	        call PingMinimap(8189.00, 1461, 8.00)
			loop
				exitwhen i > 6
				if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
					if ( BSkip[i] ) then
	    				call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetUnitName(udg_H[i]) + "ÊâìÂºÄ‰∫ÜÊÄ•ÈÄüÂá∫ÊÄ™ÁöÑÂºÄÂÖ≥,ÈúÄË¶ÅÂÖ®ÂëòÊâìÂºÄÊâçËÉΩÊÄ•ÈÄüÂá∫ÊÄ™ÔºÅ")
	    			else
	    				call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetUnitName(udg_H[i]) + "ËøòÊú™ÊâìÂºÄÊÄ•ÈÄüÂá∫ÊÄ™ÁöÑÂºÄÂÖ≥,ÈúÄË¶ÅÂÖ®ÂëòÊâìÂºÄÊâçËÉΩÊÄ•ÈÄüÂá∫ÊÄ™ÔºÅ")
					endif
				endif
				set i=i + 1
			endloop
		endif
	    if ( ( GetItemTypeId(GetSoldItem()) == 'ssan' ) ) then
	        call SetUnitUserData(gg_unit_ndrz_0019, 1)
	        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂá∫ÊÄ™Èó¥ÈöîË¢´Ë∞ÉÊï¥Êàê‰∫Ü1s„ÄÇ|cffffff00ÔºàÊ≠§Êó∂ÂæàÂç±Èô©ÔºÅÔºâ|r")
	    endif
	    if ( ( GetItemTypeId(GetSoldItem()) == 'sreg' ) ) then
	        call SetUnitUserData(gg_unit_ndrz_0019, 2)
	        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂá∫ÊÄ™Èó¥ÈöîË¢´Ë∞ÉÊï¥Êàê‰∫Ü2s„ÄÇ|cffffff00ÔºàÊ≠§Êó∂ËæÉÂç±Èô©ÔºÅÔºâ|r")
	    endif
	    if ( ( GetItemTypeId(GetSoldItem()) == 'stwp' ) ) then
	        call SetUnitUserData(gg_unit_ndrz_0019, 3)
	        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂá∫ÊÄ™Èó¥ÈöîË¢´Ë∞ÉÊï¥Êàê‰∫Ü3s„ÄÇ")
	    endif
	    if ( ( GetItemTypeId(GetSoldItem()) == 'mcri' ) ) then
	        call SetUnitUserData(gg_unit_ndrz_0019, 4)
	        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂá∫ÊÄ™Èó¥ÈöîË¢´Ë∞ÉÊï¥Êàê‰∫Ü4s„ÄÇ")
	    endif
	    if ( ( GetItemTypeId(GetSoldItem()) == 'pnvl' ) ) then
	        call SetUnitUserData(gg_unit_ndrz_0019, 5)
	        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂá∫ÊÄ™Èó¥ÈöîË¢´Ë∞ÉÊï¥Êàê‰∫Ü5s„ÄÇ|cffffff00ÔºàÊ≠§Êó∂ËæÉÂÆâÂÖ®„ÄÇÔºâ|r")
	    endif
	    if ( ( GetItemTypeId(GetSoldItem()) == 'pclr' ) ) then
	        call SetUnitUserData(gg_unit_ndrz_0019, 6)
	        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂá∫ÊÄ™Èó¥ÈöîË¢´Ë∞ÉÊï¥Êàê‰∫Ü6s„ÄÇ|cffffff00ÔºàÊ≠§Êó∂ÂæàÂÆâÂÖ®„ÄÇÔºâ|r")
	    endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Battle___IsFastly takes nothing returns boolean
  local integer i= 1
  local integer count= 0
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) and BSkip[i] ) then
				set count=count + 1
			endif
			set i=i + 1
		endloop

		return count >= udg_RENSHU
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function GetMonsterSpeed takes nothing returns real
		if ( Battle___IsFastly() ) then
			return 3.
		endif
		return I2R(GetUnitUserData(gg_unit_ndrz_0019))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetFastMonsterCount takes integer i returns integer
		if ( Battle___IsFastly() ) then
			return i / 3
		endif

		return CModeH(i , i / 2)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetBoSpeed takes nothing returns real
		if ( Battle___IsFastly() ) then
			return 51.
		else
			return RCModeH(300. , 150.)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetWangSpeed takes nothing returns real
		if ( Battle___IsFastly() ) then
			return 60.
		else
			return 420.
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Battle___InitBattle takes nothing returns nothing
  local integer i= 1
     local trigger t= CreateTrigger()
		loop
			exitwhen i > 6
			set BSkip[i]=false
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) then
				set BSkip[i]=false
			endif
			set i=i + 1
		endloop

	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SELL_ITEM)
	    call TriggerAddAction(t, function TStartFastMonsterAct)
	    set t=null
	endfunction

//library Battle ends
//library Beast:
	

//---------------------------------------------------------------------------------------------------
	

 function Beast__isOutOfRange takes integer i returns boolean
		return ( ( i > 255 ) or ( i < 0 ) )
	endfunction

 function Beast__GetModifiedColor takes integer i returns integer
		return IMinBJ(IAbsBJ(i), 255)
	endfunction

 function Beast__DiscolorTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(itemTable, id, Beast__kU)
  local integer r= LoadInteger(itemTable, id, Beast__kr)
  local integer g= LoadInteger(itemTable, id, Beast__kg)
  local integer b= LoadInteger(itemTable, id, Beast__kb)
  local integer sr= LoadInteger(itemTable, id, Beast__ksr)
  local integer sg= LoadInteger(itemTable, id, Beast__ksg)
  local integer sb= LoadInteger(itemTable, id, Beast__ksb)
		if ( ( IsUnitAliveBJ(u) == true ) or ( IsUnitType(u, UNIT_TYPE_HERO) ) ) then


//textmacro instance: ChangeColor("r")
				
			if ( sr > 0 ) then
				set r=r + GetRandomInt(0, sr)
			else
				set r=r + GetRandomInt(sr, 0)
			endif
			if ( Beast__isOutOfRange(r) ) then
				set r=Beast__GetModifiedColor(r)
				if ( sr > 0 ) then
					call SaveInteger(itemTable, GetHandleId(t), Beast__ksr, GetRandomInt(- 60, - 20))
				else
					call SaveInteger(itemTable, GetHandleId(t), Beast__ksr, GetRandomInt(20, 60))
				endif
			endif
			call SaveInteger(itemTable, GetHandleId(t), Beast__kr, r)
//end of: ChangeColor("r")
//textmacro instance: ChangeColor("g")
				
			if ( sg > 0 ) then
				set g=g + GetRandomInt(0, sg)
			else
				set g=g + GetRandomInt(sg, 0)
			endif
			if ( Beast__isOutOfRange(g) ) then
				set g=Beast__GetModifiedColor(g)
				if ( sg > 0 ) then
					call SaveInteger(itemTable, GetHandleId(t), Beast__ksg, GetRandomInt(- 60, - 20))
				else
					call SaveInteger(itemTable, GetHandleId(t), Beast__ksg, GetRandomInt(20, 60))
				endif
			endif
			call SaveInteger(itemTable, GetHandleId(t), Beast__kg, g)
//end of: ChangeColor("g")
//textmacro instance: ChangeColor("b")
				
			if ( sb > 0 ) then
				set b=b + GetRandomInt(0, sb)
			else
				set b=b + GetRandomInt(sb, 0)
			endif
			if ( Beast__isOutOfRange(b) ) then
				set b=Beast__GetModifiedColor(b)
				if ( sb > 0 ) then
					call SaveInteger(itemTable, GetHandleId(t), Beast__ksb, GetRandomInt(- 60, - 20))
				else
					call SaveInteger(itemTable, GetHandleId(t), Beast__ksb, GetRandomInt(20, 60))
				endif
			endif
			call SaveInteger(itemTable, GetHandleId(t), Beast__kb, b)
//end of: ChangeColor("b")
    		call SetUnitVertexColor(u, r, g, b, 255)
		else
			call SetUnitVertexColor(u, 255, 255, 255, 255)
			call PauseTimer(t)
			call DestroyTimer(t)
			call FlushChildHashtable(itemTable, id)
		endif
		set t=null
		set u=null
	endfunction

 function Discolor takes unit u returns nothing
  local timer t= CreateTimer()
		call SaveUnitHandle(itemTable, GetHandleId(t), Beast__kU, u)
		call SaveInteger(itemTable, GetHandleId(t), Beast__kr, GetRandomInt(0, 254))
		call SaveInteger(itemTable, GetHandleId(t), Beast__kg, GetRandomInt(0, 254))
		call SaveInteger(itemTable, GetHandleId(t), Beast__kb, GetRandomInt(0, 254))
		call SaveInteger(itemTable, GetHandleId(t), Beast__ksr, GetRandomInt(20, 60))
		call SaveInteger(itemTable, GetHandleId(t), Beast__ksg, GetRandomInt(20, 60))
		call SaveInteger(itemTable, GetHandleId(t), Beast__ksb, GetRandomInt(20, 60))

		call TimerStart(t, 0.1, true, function Beast__DiscolorTimer)
		if ( IsUnitType(u, UNIT_TYPE_HERO) ) then
			set TBianse[GetConvertedPlayerId(GetOwningPlayer(u))]=t
		endif
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function Beast__CreateBeast takes unit captain,integer itemId returns nothing
  local integer unitID= LoadInteger(itemTable, Beast__kBeastItem, itemId)
  local unit u= CreateUnit(GetOwningPlayer(captain), unitID, GetUnitX(captain), GetUnitY(captain), 0)
		//ÂèòËâ≤
		if ( ( unitID == 'ub08' ) or ( unitID == 'ub09' ) or ( unitID == 'ub10' ) or ( unitID == 'ub11' ) ) then
			call Discolor(u)
		endif

		if ( Unit_Beast[GetConvertedPlayerId(GetOwningPlayer(captain))] != null ) then
			call RemoveUnit(Unit_Beast[GetConvertedPlayerId(GetOwningPlayer(captain))])
		endif
		set Unit_Beast[GetConvertedPlayerId(GetOwningPlayer(captain))]=u
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", GetUnitX(captain), GetUnitY(captain)))
		if ( BMoshou[GetConvertedPlayerId(GetOwningPlayer(captain))] ) then
			call UnitAddAbility(u, 'Aloc')
		endif
		call YDWESetGuard(u , captain , 1 , 600 , 600 , 600 , 100)
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Beast__IsBeast takes item i returns boolean
		return GetItemTypeId(i) == 'IB00' or GetItemTypeId(i) == 'IB01' or GetItemTypeId(i) == 'IB02' or GetItemTypeId(i) == 'IB03' or GetItemTypeId(i) == 'IB04' or GetItemTypeId(i) == 'IB05' or GetItemTypeId(i) == 'IB06' or GetItemTypeId(i) == 'IB07' or GetItemTypeId(i) == 'IB08' or GetItemTypeId(i) == 'IB09' or GetItemTypeId(i) == 'I04X' or GetItemTypeId(i) == 'IB0A'
	endfunction
	
 function Beast__UnitHasBeastInSlot takes unit u,integer slot returns boolean
		return Beast__IsBeast(UnitItemInSlotBJ(u, slot))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Beast__GetBeastInUnit takes unit u returns item

  local integer i= 1
		loop
			exitwhen i > 6
			if ( Beast__UnitHasBeastInSlot(u , i) ) then
				return UnitItemInSlotBJ(u, i)
			endif
			set i=i + 1
		endloop
		return null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Beast__TBeastEquitAct takes nothing returns nothing
  local integer i= 1
  local integer beastCount= 0
		loop
			exitwhen i > 6
			if ( Beast__UnitHasBeastInSlot(GetTriggerUnit() , i) ) then
				set beastCount=beastCount + 1
			endif
			set i=i + 1
		endloop

		//Â¶ÇÊûúËÆ°Êï∞ÂêõÂ§ß‰∫é1Âàô‰∏¢Êéâ
		if ( beastCount > 1 ) then
			call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Âè™ËÉΩÂêåÊó∂Ë£ÖÂ§á‰∏ä‰∏Ä‰∏™È≠îÂÖΩÔºÅ")
			return
		elseif ( beastCount == 1 ) then
		//‰∫ßÁîüÁõ∏ÂØπÂ∫îÁöÑÈ≠îÂÖΩÊìç‰Ωú
			call Beast__CreateBeast(GetTriggerUnit() , GetItemTypeId(GetManipulatedItem()))
		endif

	endfunction

 function Beast__TBeastEquitCon takes nothing returns boolean
		return ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( Beast__IsBeast(GetManipulatedItem()) == true )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function RemoveBeast takes unit u returns nothing
		call RemoveUnit(Unit_Beast[GetConvertedPlayerId(GetOwningPlayer(u))])
		set Unit_Beast[GetConvertedPlayerId(GetOwningPlayer(u))]=null
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function ReviveBeast takes unit u returns nothing
		if ( Beast__GetBeastInUnit(u) != null ) then
			call Beast__CreateBeast(u , GetItemTypeId(Beast__GetBeastInUnit(u)))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Beast__TBeastDropAct takes nothing returns nothing

  local integer i= 1
  local integer beastCount= 0
		loop
			exitwhen i > 6
			if ( Beast__UnitHasBeastInSlot(GetTriggerUnit() , i) ) then
				set beastCount=beastCount + 1
			endif
			set i=i + 1
		endloop
		if ( beastCount != 2 ) then
			call RemoveBeast(GetManipulatingUnit())
		endif
	endfunction

 function Beast__TBeastDropCon takes nothing returns boolean
		return ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( Beast__IsBeast(GetManipulatedItem()) == true )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Beast__TBeastDamageAct takes nothing returns nothing
  local integer unitID= GetUnitTypeId(GetEventDamageSource())
  local integer playerID= GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))
  local item beast= Beast__GetBeastInUnit(udg_H[playerID])


		//È≠îÂÖΩÊÄíÂêº
		if ( GetUnitAbilityLevel(Unit_Beast[playerID], 'ABe9') >= 1 ) then
			
			call SetItemCharges(beast, GetItemCharges(beast) + 1)
			if ( GetItemCharges(beast) > CHARGES_BEAST ) then
					call CreateSpellTextTag("È≠îÂÖΩÊÄíÂêº!" , Unit_Beast[playerID] , 0 , 100 , 0 , 2)
 					call SimulateSpell(Unit_Beast[playerID] , Unit_Beast[playerID] , 'A0CR' , 1 , 5 , "stomp" , false , true , false)
					call SetItemCharges(beast, 0)
			endif
		endif

		//‰ΩôÊï∞‰∏∫4ÂàôÊñΩÊîæ
		if ( ModuloInteger(GetItemCharges(beast), 4) == 0 and GetUnitTypeId(GetEventDamageSource()) == 'ub11' ) then
			call UnitApplyTimedLifeBJ(2.00, 'BHwe', CreateUnit(ConvertedPlayer(playerID), 'h01P', YDWECoordinateX(GetUnitX(GetEventDamageSource()) + GetRandomReal(- 100, 100)), YDWECoordinateY(GetUnitY(GetEventDamageSource()) + GetRandomReal(- 100, 100)), GetRandomReal(0, 360)))
		endif

		
		if ( GetUnitAbilityLevel(Unit_Beast[playerID], 'ABea') >= 1 and BMoshou[playerID] and GetUnitState(Unit_Beast[playerID], UNIT_STATE_MANA) > 999 ) then
			call IssueImmediateOrder(Unit_Beast[playerID], "berserk")
		endif

		

//textmacro instance: DamageBeast1("00")
		if ( unitID == 'ub00' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_00, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("00")
//textmacro instance: DamageBeast1("01")
		if ( unitID == 'ub01' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_01, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("01")
//textmacro instance: DamageBeast1("02")
		if ( unitID == 'ub02' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_02, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("02")
//textmacro instance: DamageBeast1("03")
		if ( unitID == 'ub03' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_03, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("03")
//textmacro instance: DamageBeast1("04")
		if ( unitID == 'ub04' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_04, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("04")
//textmacro instance: DamageBeast1("05")
		if ( unitID == 'ub05' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_05, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("05")
//textmacro instance: DamageBeast1("06")
		if ( unitID == 'ub06' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_06, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("06")
//textmacro instance: DamageBeast1("07")
		if ( unitID == 'ub07' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_07, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("07")
//textmacro instance: DamageBeast1("08")
		if ( unitID == 'ub08' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_08, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("08")
//textmacro instance: DamageBeast1("09")
		if ( unitID == 'ub09' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_09, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("09")
//textmacro instance: DamageBeast1("10")
		if ( unitID == 'ub10' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_10, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("10")
//textmacro instance: DamageBeast1("11")
		if ( unitID == 'ub11' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(udg_H[playerID], GetTriggerUnit(), DAMAGE_BEAST_11, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			set beast=null
			return
		endif
//end of: DamageBeast1("11")

	endfunction

 function Beast__TBeastDamageCon takes nothing returns boolean
		return ( ( GetEventDamage() > 0 ) and ( IsUnitIllusion(GetEventDamageSource()) == false ) and ( GetEventDamageSource() == Unit_Beast[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ) )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CombineBeast takes unit u returns nothing

		
//textmacro instance: SummonBeast("IB00","IMJ1","IB01")
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IB00')) == 'IB00' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IMJ1')) == 'IMJ1' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IB00')) == true ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IMJ1')) == true ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IMJ1'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IB00'))
            call UnitAddItemById(u, 'IB01')
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			return
		endif
//end of: SummonBeast("IB00","IMJ1","IB01")
//textmacro instance: SummonBeast("IB01","IMJ2","IB02")
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IB01')) == 'IB01' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IMJ2')) == 'IMJ2' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IB01')) == true ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IMJ2')) == true ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IMJ2'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IB01'))
            call UnitAddItemById(u, 'IB02')
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			return
		endif
//end of: SummonBeast("IB01","IMJ2","IB02")
//textmacro instance: SummonBeast("IB02","IMJ3","IB03")
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IB02')) == 'IB02' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IMJ3')) == 'IMJ3' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IB02')) == true ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IMJ3')) == true ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IMJ3'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IB02'))
            call UnitAddItemById(u, 'IB03')
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			return
		endif
//end of: SummonBeast("IB02","IMJ3","IB03")
//textmacro instance: SummonBeast("IB03","IMJ4","IB04")
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IB03')) == 'IB03' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IMJ4')) == 'IMJ4' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IB03')) == true ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IMJ4')) == true ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IMJ4'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IB03'))
            call UnitAddItemById(u, 'IB04')
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			return
		endif
//end of: SummonBeast("IB03","IMJ4","IB04")
//textmacro instance: SummonBeast("IB04","IMJ5","IB05")
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IB04')) == 'IB04' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IMJ5')) == 'IMJ5' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IB04')) == true ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IMJ5')) == true ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IMJ5'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IB04'))
            call UnitAddItemById(u, 'IB05')
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			return
		endif
//end of: SummonBeast("IB04","IMJ5","IB05")
//textmacro instance: SummonBeast("IB05","IMJ6","IB06")
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IB05')) == 'IB05' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IMJ6')) == 'IMJ6' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IB05')) == true ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IMJ6')) == true ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IMJ6'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IB05'))
            call UnitAddItemById(u, 'IB06')
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			return
		endif
//end of: SummonBeast("IB05","IMJ6","IB06")
//textmacro instance: SummonBeast("IB06","IMJ7","IB07")
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IB06')) == 'IB06' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IMJ7')) == 'IMJ7' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IB06')) == true ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IMJ7')) == true ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IMJ7'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IB06'))
            call UnitAddItemById(u, 'IB07')
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			return
		endif
//end of: SummonBeast("IB06","IMJ7","IB07")
//textmacro instance: SummonBeast("IB07","IMJ8","IB08")
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IB07')) == 'IB07' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'IMJ8')) == 'IMJ8' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IB07')) == true ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'IMJ8')) == true ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IMJ8'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'IB07'))
            call UnitAddItemById(u, 'IB08')
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÂè¨Âî§Êñ∞ÁöÑÈ≠îÂÖΩ,Â¶ÇÊûúÊÉ≥ËÆ©È≠îÂÖΩËøõÂÖ•‰∏çÂèØÁÇπÂáªÁä∂ÊÄÅ,ËØ∑ËæìÂÖ•\"-ms\"!")
			return
		endif
//end of: SummonBeast("IB07","IMJ8","IB08")
	endfunction        
     
//---------------------------------------------------------------------------------------------------

	
 function Beast__initBeastItem takes nothing returns nothing
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB00', 'ub00')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB01', 'ub01')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB02', 'ub02')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB03', 'ub03')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB04', 'ub04')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB05', 'ub05')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB06', 'ub06')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB07', 'ub07')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB08', 'ub08')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB09', 'ub09')
		call SaveInteger(itemTable, Beast__kBeastItem, 'IB0A', 'ub10')
		call SaveInteger(itemTable, Beast__kBeastItem, 'I04X', 'ub11')
	endfunction

//---------------------------------------------------------------------------------------------------

 function Beast__InitBeast takes nothing returns nothing
		//ÂàùÂßãÂåñ
  local trigger t= CreateTrigger()
		call Beast__initBeastItem()

		//Âè™ËÉΩÂêåÊó∂Ë£ÖÂ§á‰∏Ä‰∏™È≠îÂÖΩ
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
		call TriggerAddCondition(t, Condition(function Beast__TBeastEquitCon))
		call TriggerAddAction(t, function Beast__TBeastEquitAct)

		//È≠îÂÖΩ‰º§ÂÆ≥‰∫ã‰ª∂
		set t=CreateTrigger()
		call YDWESyStemAnyUnitDamagedRegistTrigger(t)
		call TriggerAddCondition(t, Condition(function Beast__TBeastDamageCon))
		call TriggerAddAction(t, function Beast__TBeastDamageAct)

		//‰∏¢ÂºÉÈ≠îÂÖΩ‰∫ã‰ª∂
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DROP_ITEM)
		call TriggerAddCondition(t, Condition(function Beast__TBeastDropCon))
		call TriggerAddAction(t, function Beast__TBeastDropAct)
		set t=null
	endfunction

//library Beast ends
//library CenterBase:

//---------------------------------------------------------------------------------------------------
		
 function CenterBase__TAttackCenterBaseCon takes nothing returns boolean
		return ( ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == true ) and ( GetOwningPlayer(GetAttackedUnitBJ()) == Player(6) ) and ( IsUnitAlly(GetAttacker(), Player(6)) == true ) )
	endfunction
	
 function CenterBase__TAttackCenterBaseAct takes nothing returns nothing
			call IssueImmediateOrder(GetAttacker(), "stop")
			call KillSelf(GetAttacker())
			call DisplayTimedTextToForce(GetPlayersAll(), 30, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÊúâ‰∫∫‰ºÅÂõæÊîªÊâìËá™Â∑±ÁöÑÂü∫Âú∞ÔºåË¢´‰ºüÂ§ßÁöÑCrainaxÂ§ÑÊ≠ª‰∫Ü„ÄÇ")
	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÂºÄÂêØÈò≤Êä§ÁΩ©
 function CenterBase__Kaiqifanghuzhao takes nothing returns nothing
  local real x= GetUnitX(gg_unit_haro_0030)
  local real y= GetUnitY(gg_unit_haro_0030)
	    set udg_I_Er_diansi[1]=( udg_I_Er_diansi[1] - 1 )
	    call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©ÂºÄÂêØÔºåËøòÂâ©‰∏ã" + ( I2S(udg_I_Er_diansi[1]) + "Ê¨°ÁöÑÈò≤Êä§ÁΩ©„ÄÇ" ) ))
	    call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©ÂºÄÂêØÔºåËøòÂâ©‰∏ã" + ( I2S(udg_I_Er_diansi[1]) + "Ê¨°ÁöÑÈò≤Êä§ÁΩ©„ÄÇ" ) ))
	    call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©ÂºÄÂêØÔºåËøòÂâ©‰∏ã" + ( I2S(udg_I_Er_diansi[1]) + "Ê¨°ÁöÑÈò≤Êä§ÁΩ©„ÄÇ" ) ))
	    call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©ÂºÄÂêØÔºåËøòÂâ©‰∏ã" + ( I2S(udg_I_Er_diansi[1]) + "Ê¨°ÁöÑÈò≤Êä§ÁΩ©„ÄÇ" ) ))
	    call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©ÂºÄÂêØÔºåËøòÂâ©‰∏ã" + ( I2S(udg_I_Er_diansi[1]) + "Ê¨°ÁöÑÈò≤Êä§ÁΩ©„ÄÇ" ) ))
	    call PlaySoundBJ(gg_snd_kill_boss)
	    call RemoveUnit(gg_unit_haro_0030)
	    set gg_unit_haro_0030=CreateUnit(Player(6), 'haro', x, y, 270)
	    call TriggerRegisterUnitEvent(TCenterBaseDeath, gg_unit_haro_0030, EVENT_UNIT_DEATH)
    	call TriggerRegisterUnitEvent(gg_trg____________________035, gg_unit_haro_0030, EVENT_UNIT_DAMAGED)
	    call UnitAddAbility(gg_unit_haro_0030, 'Avul')
	    call PolledWait(30.00)
	    call UnitRemoveAbility(gg_unit_haro_0030, 'Avul')
	    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©Ê∂àÂ§±„ÄÇ")
	    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©Ê∂àÂ§±„ÄÇ")
	    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©Ê∂àÂ§±„ÄÇ")
	    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©Ê∂àÂ§±„ÄÇ")
	    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÈò≤Êä§ÁΩ©Ê∂àÂ§±„ÄÇ")
	endfunction

 function CenterBase__Jidibaozha takes nothing returns nothing
     local integer i= 1
	    loop
	    	exitwhen i > 6
	    	call CustomDefeatBJ(ConvertedPlayer(i), "\n	    		Âú£ÂÖâÂÆùÁü≥Á†¥Á¢éÔºå‰∫îÁïåÂù†ÂÖ•‰∫ÜÊ∑±Ê∏ä‚Ä¶‚Ä¶\n				ËΩÆÂõû‰πãÁã±Áé©ÂÆ∂‰∫§ÊµÅÁæ§:413359254\n				(ÂºÄÈªë„ÄÅÊîªÁï•Ôºå‰∏ÄÂ∫î‰ø±ÂÖ®)\n")
	    	set i=i + 1
	    endloop
	endfunction

 function TCenterBaseDeathAct takes nothing returns nothing

	    if ( udg_I_Er_diansi[1] > 0 ) then
	    	//ÂºÄÂêØÈò≤Êä§ÁΩ©
	    	call CenterBase__Kaiqifanghuzhao()
	    else
	    	//Ê∏∏ÊàèÂ§±Ë¥•
			call CenterBase__Jidibaozha()
	    endif

	endfunction
//---------------------------------------------------------------------------------------------------

 function CenterBase__InitCenterBase takes nothing returns nothing

  local trigger t= CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerAddCondition(t, Condition(function CenterBase__TAttackCenterBaseCon))
		call TriggerAddAction(t, function CenterBase__TAttackCenterBaseAct)

	    set TCenterBaseDeath=CreateTrigger()
	    call TriggerRegisterUnitEvent(TCenterBaseDeath, gg_unit_haro_0030, EVENT_UNIT_DEATH)
	    call TriggerAddAction(TCenterBaseDeath, function TCenterBaseDeathAct)

		set t=null
	endfunction




//library CenterBase ends
//library Exercise:

//---------------------------------------------------------------------------------------------------
	
	
 function TMonsterFilter1 takes nothing returns boolean
	    return ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( ( GetUnitTypeId(GetFilterUnit()) == 'nano' ) or ( GetUnitTypeId(GetFilterUnit()) == 'nanw' ) ) )
	endfunction

 function TMonsterFilter2 takes nothing returns boolean
	    return ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( ( GetUnitTypeId(GetFilterUnit()) == 'nenf' ) or ( GetUnitTypeId(GetFilterUnit()) == 'nbld' ) ) )
	endfunction

 function TMonsterFilter3 takes nothing returns boolean
	    return ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( ( GetUnitTypeId(GetFilterUnit()) == 'nbda' ) or ( GetUnitTypeId(GetFilterUnit()) == 'nbdo' ) ) )
	endfunction

 function TMonsterFilter4 takes nothing returns boolean
	    return ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( ( GetUnitTypeId(GetFilterUnit()) == 'ncim' ) or ( GetUnitTypeId(GetFilterUnit()) == 'ncnk' ) ) )
	endfunction

 function TMonsterFilter5 takes nothing returns boolean
	    return ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( ( GetUnitTypeId(GetFilterUnit()) == 'ngns' ) or ( GetUnitTypeId(GetFilterUnit()) == 'ngnw' ) ) )
	endfunction

 function TMonsterFilter6 takes nothing returns boolean
	    return ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( ( GetUnitTypeId(GetFilterUnit()) == 'nhfp' ) or ( GetUnitTypeId(GetFilterUnit()) == 'nenc' ) ) )
	endfunction

	
 function TMonsterPlayerFilter takes nothing returns boolean
	    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) )
	endfunction

//---------------------------------------------------------------------------------------------------
	
	
//textmacro instance: FlashMonster("1")
 function FlashMonsterPlayer1 takes nothing returns nothing

  local group g
  local group g2

		//Âå∫Âüü1
		set g=GetUnitsInRectMatching(regionM1[1], Condition(function TMonsterFilter1))
		set g2=GetUnitsInRectMatching(regionM1[1], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then


			    if ( IsUnitInGroup(udg_H[1], g2) != true ) then
			        call CreateUnit(Player(10), 'nano', GetRectCenterX(regionM1[1]), GetRectCenterY(regionM1[1]), 270)
			    else
			        call CreateUnit(Player(10), 'nanw', GetRectCenterX(regionM1[1]), GetRectCenterY(regionM1[1]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

		//Âå∫Âüü2
		set g=GetUnitsInRectMatching(regionM2[1], Condition(function TMonsterFilter2))
		set g2=GetUnitsInRectMatching(regionM2[1], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[1], g2) != true ) then
			        call CreateUnit(Player(10), 'nenf', GetRectCenterX(regionM2[1]), GetRectCenterY(regionM2[1]), 270)
			    else
			        call CreateUnit(Player(10), 'nbld', GetRectCenterX(regionM2[1]), GetRectCenterY(regionM2[1]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü3
		set g=GetUnitsInRectMatching(regionM3[1], Condition(function TMonsterFilter3))
		set g2=GetUnitsInRectMatching(regionM3[1], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[1], g2) != true ) then
			        call CreateUnit(Player(10), 'nbda', GetRectCenterX(regionM3[1]), GetRectCenterY(regionM3[1]), 270)
			    else
			        call CreateUnit(Player(10), 'nbdo', GetRectCenterX(regionM3[1]), GetRectCenterY(regionM3[1]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü4
		set g=GetUnitsInRectMatching(regionM4[1], Condition(function TMonsterFilter4))
		set g2=GetUnitsInRectMatching(regionM4[1], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[1], g2) != true ) then
			        call CreateUnit(Player(10), 'ncim', GetRectCenterX(regionM4[1]), GetRectCenterY(regionM4[1]), 270)
			    else
			        call CreateUnit(Player(10), 'ncnk', GetRectCenterX(regionM4[1]), GetRectCenterY(regionM4[1]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü5
		set g=GetUnitsInRectMatching(regionM5[1], Condition(function TMonsterFilter5))
		set g2=GetUnitsInRectMatching(regionM5[1], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[1], g2) != true ) then
			        call CreateUnit(Player(10), 'ngns', GetRectCenterX(regionM5[1]), GetRectCenterY(regionM5[1]), 270)
			    else
			        call CreateUnit(Player(10), 'ngnw', GetRectCenterX(regionM5[1]), GetRectCenterY(regionM5[1]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü6
		set g=GetUnitsInRectMatching(regionM6[1], Condition(function TMonsterFilter6))
		set g2=GetUnitsInRectMatching(regionM6[1], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[1], g2) != true ) then
			        call CreateUnit(Player(10), 'nhfp', GetRectCenterX(regionM6[1]), GetRectCenterY(regionM6[1]), 270)
			    else
			        call CreateUnit(Player(10), 'nenc', GetRectCenterX(regionM6[1]), GetRectCenterY(regionM6[1]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    set g=null
	    set g2=null

	endfunction

//end of: FlashMonster("1")
//textmacro instance: FlashMonster("2")
 function FlashMonsterPlayer2 takes nothing returns nothing

  local group g
  local group g2

		//Âå∫Âüü1
		set g=GetUnitsInRectMatching(regionM1[2], Condition(function TMonsterFilter1))
		set g2=GetUnitsInRectMatching(regionM1[2], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then


			    if ( IsUnitInGroup(udg_H[2], g2) != true ) then
			        call CreateUnit(Player(10), 'nano', GetRectCenterX(regionM1[2]), GetRectCenterY(regionM1[2]), 270)
			    else
			        call CreateUnit(Player(10), 'nanw', GetRectCenterX(regionM1[2]), GetRectCenterY(regionM1[2]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

		//Âå∫Âüü2
		set g=GetUnitsInRectMatching(regionM2[2], Condition(function TMonsterFilter2))
		set g2=GetUnitsInRectMatching(regionM2[2], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[2], g2) != true ) then
			        call CreateUnit(Player(10), 'nenf', GetRectCenterX(regionM2[2]), GetRectCenterY(regionM2[2]), 270)
			    else
			        call CreateUnit(Player(10), 'nbld', GetRectCenterX(regionM2[2]), GetRectCenterY(regionM2[2]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü3
		set g=GetUnitsInRectMatching(regionM3[2], Condition(function TMonsterFilter3))
		set g2=GetUnitsInRectMatching(regionM3[2], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[2], g2) != true ) then
			        call CreateUnit(Player(10), 'nbda', GetRectCenterX(regionM3[2]), GetRectCenterY(regionM3[2]), 270)
			    else
			        call CreateUnit(Player(10), 'nbdo', GetRectCenterX(regionM3[2]), GetRectCenterY(regionM3[2]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü4
		set g=GetUnitsInRectMatching(regionM4[2], Condition(function TMonsterFilter4))
		set g2=GetUnitsInRectMatching(regionM4[2], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[2], g2) != true ) then
			        call CreateUnit(Player(10), 'ncim', GetRectCenterX(regionM4[2]), GetRectCenterY(regionM4[2]), 270)
			    else
			        call CreateUnit(Player(10), 'ncnk', GetRectCenterX(regionM4[2]), GetRectCenterY(regionM4[2]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü5
		set g=GetUnitsInRectMatching(regionM5[2], Condition(function TMonsterFilter5))
		set g2=GetUnitsInRectMatching(regionM5[2], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[2], g2) != true ) then
			        call CreateUnit(Player(10), 'ngns', GetRectCenterX(regionM5[2]), GetRectCenterY(regionM5[2]), 270)
			    else
			        call CreateUnit(Player(10), 'ngnw', GetRectCenterX(regionM5[2]), GetRectCenterY(regionM5[2]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü6
		set g=GetUnitsInRectMatching(regionM6[2], Condition(function TMonsterFilter6))
		set g2=GetUnitsInRectMatching(regionM6[2], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[2], g2) != true ) then
			        call CreateUnit(Player(10), 'nhfp', GetRectCenterX(regionM6[2]), GetRectCenterY(regionM6[2]), 270)
			    else
			        call CreateUnit(Player(10), 'nenc', GetRectCenterX(regionM6[2]), GetRectCenterY(regionM6[2]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    set g=null
	    set g2=null

	endfunction

//end of: FlashMonster("2")
//textmacro instance: FlashMonster("3")
 function FlashMonsterPlayer3 takes nothing returns nothing

  local group g
  local group g2

		//Âå∫Âüü1
		set g=GetUnitsInRectMatching(regionM1[3], Condition(function TMonsterFilter1))
		set g2=GetUnitsInRectMatching(regionM1[3], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then


			    if ( IsUnitInGroup(udg_H[3], g2) != true ) then
			        call CreateUnit(Player(10), 'nano', GetRectCenterX(regionM1[3]), GetRectCenterY(regionM1[3]), 270)
			    else
			        call CreateUnit(Player(10), 'nanw', GetRectCenterX(regionM1[3]), GetRectCenterY(regionM1[3]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

		//Âå∫Âüü2
		set g=GetUnitsInRectMatching(regionM2[3], Condition(function TMonsterFilter2))
		set g2=GetUnitsInRectMatching(regionM2[3], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[3], g2) != true ) then
			        call CreateUnit(Player(10), 'nenf', GetRectCenterX(regionM2[3]), GetRectCenterY(regionM2[3]), 270)
			    else
			        call CreateUnit(Player(10), 'nbld', GetRectCenterX(regionM2[3]), GetRectCenterY(regionM2[3]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü3
		set g=GetUnitsInRectMatching(regionM3[3], Condition(function TMonsterFilter3))
		set g2=GetUnitsInRectMatching(regionM3[3], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[3], g2) != true ) then
			        call CreateUnit(Player(10), 'nbda', GetRectCenterX(regionM3[3]), GetRectCenterY(regionM3[3]), 270)
			    else
			        call CreateUnit(Player(10), 'nbdo', GetRectCenterX(regionM3[3]), GetRectCenterY(regionM3[3]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü4
		set g=GetUnitsInRectMatching(regionM4[3], Condition(function TMonsterFilter4))
		set g2=GetUnitsInRectMatching(regionM4[3], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[3], g2) != true ) then
			        call CreateUnit(Player(10), 'ncim', GetRectCenterX(regionM4[3]), GetRectCenterY(regionM4[3]), 270)
			    else
			        call CreateUnit(Player(10), 'ncnk', GetRectCenterX(regionM4[3]), GetRectCenterY(regionM4[3]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü5
		set g=GetUnitsInRectMatching(regionM5[3], Condition(function TMonsterFilter5))
		set g2=GetUnitsInRectMatching(regionM5[3], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[3], g2) != true ) then
			        call CreateUnit(Player(10), 'ngns', GetRectCenterX(regionM5[3]), GetRectCenterY(regionM5[3]), 270)
			    else
			        call CreateUnit(Player(10), 'ngnw', GetRectCenterX(regionM5[3]), GetRectCenterY(regionM5[3]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü6
		set g=GetUnitsInRectMatching(regionM6[3], Condition(function TMonsterFilter6))
		set g2=GetUnitsInRectMatching(regionM6[3], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[3], g2) != true ) then
			        call CreateUnit(Player(10), 'nhfp', GetRectCenterX(regionM6[3]), GetRectCenterY(regionM6[3]), 270)
			    else
			        call CreateUnit(Player(10), 'nenc', GetRectCenterX(regionM6[3]), GetRectCenterY(regionM6[3]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    set g=null
	    set g2=null

	endfunction

//end of: FlashMonster("3")
//textmacro instance: FlashMonster("4")
 function FlashMonsterPlayer4 takes nothing returns nothing

  local group g
  local group g2

		//Âå∫Âüü1
		set g=GetUnitsInRectMatching(regionM1[4], Condition(function TMonsterFilter1))
		set g2=GetUnitsInRectMatching(regionM1[4], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then


			    if ( IsUnitInGroup(udg_H[4], g2) != true ) then
			        call CreateUnit(Player(10), 'nano', GetRectCenterX(regionM1[4]), GetRectCenterY(regionM1[4]), 270)
			    else
			        call CreateUnit(Player(10), 'nanw', GetRectCenterX(regionM1[4]), GetRectCenterY(regionM1[4]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

		//Âå∫Âüü2
		set g=GetUnitsInRectMatching(regionM2[4], Condition(function TMonsterFilter2))
		set g2=GetUnitsInRectMatching(regionM2[4], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[4], g2) != true ) then
			        call CreateUnit(Player(10), 'nenf', GetRectCenterX(regionM2[4]), GetRectCenterY(regionM2[4]), 270)
			    else
			        call CreateUnit(Player(10), 'nbld', GetRectCenterX(regionM2[4]), GetRectCenterY(regionM2[4]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü3
		set g=GetUnitsInRectMatching(regionM3[4], Condition(function TMonsterFilter3))
		set g2=GetUnitsInRectMatching(regionM3[4], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[4], g2) != true ) then
			        call CreateUnit(Player(10), 'nbda', GetRectCenterX(regionM3[4]), GetRectCenterY(regionM3[4]), 270)
			    else
			        call CreateUnit(Player(10), 'nbdo', GetRectCenterX(regionM3[4]), GetRectCenterY(regionM3[4]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü4
		set g=GetUnitsInRectMatching(regionM4[4], Condition(function TMonsterFilter4))
		set g2=GetUnitsInRectMatching(regionM4[4], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[4], g2) != true ) then
			        call CreateUnit(Player(10), 'ncim', GetRectCenterX(regionM4[4]), GetRectCenterY(regionM4[4]), 270)
			    else
			        call CreateUnit(Player(10), 'ncnk', GetRectCenterX(regionM4[4]), GetRectCenterY(regionM4[4]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü5
		set g=GetUnitsInRectMatching(regionM5[4], Condition(function TMonsterFilter5))
		set g2=GetUnitsInRectMatching(regionM5[4], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[4], g2) != true ) then
			        call CreateUnit(Player(10), 'ngns', GetRectCenterX(regionM5[4]), GetRectCenterY(regionM5[4]), 270)
			    else
			        call CreateUnit(Player(10), 'ngnw', GetRectCenterX(regionM5[4]), GetRectCenterY(regionM5[4]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü6
		set g=GetUnitsInRectMatching(regionM6[4], Condition(function TMonsterFilter6))
		set g2=GetUnitsInRectMatching(regionM6[4], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[4], g2) != true ) then
			        call CreateUnit(Player(10), 'nhfp', GetRectCenterX(regionM6[4]), GetRectCenterY(regionM6[4]), 270)
			    else
			        call CreateUnit(Player(10), 'nenc', GetRectCenterX(regionM6[4]), GetRectCenterY(regionM6[4]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    set g=null
	    set g2=null

	endfunction

//end of: FlashMonster("4")
//textmacro instance: FlashMonster("5")
 function FlashMonsterPlayer5 takes nothing returns nothing

  local group g
  local group g2

		//Âå∫Âüü1
		set g=GetUnitsInRectMatching(regionM1[5], Condition(function TMonsterFilter1))
		set g2=GetUnitsInRectMatching(regionM1[5], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then


			    if ( IsUnitInGroup(udg_H[5], g2) != true ) then
			        call CreateUnit(Player(10), 'nano', GetRectCenterX(regionM1[5]), GetRectCenterY(regionM1[5]), 270)
			    else
			        call CreateUnit(Player(10), 'nanw', GetRectCenterX(regionM1[5]), GetRectCenterY(regionM1[5]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

		//Âå∫Âüü2
		set g=GetUnitsInRectMatching(regionM2[5], Condition(function TMonsterFilter2))
		set g2=GetUnitsInRectMatching(regionM2[5], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[5], g2) != true ) then
			        call CreateUnit(Player(10), 'nenf', GetRectCenterX(regionM2[5]), GetRectCenterY(regionM2[5]), 270)
			    else
			        call CreateUnit(Player(10), 'nbld', GetRectCenterX(regionM2[5]), GetRectCenterY(regionM2[5]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü3
		set g=GetUnitsInRectMatching(regionM3[5], Condition(function TMonsterFilter3))
		set g2=GetUnitsInRectMatching(regionM3[5], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[5], g2) != true ) then
			        call CreateUnit(Player(10), 'nbda', GetRectCenterX(regionM3[5]), GetRectCenterY(regionM3[5]), 270)
			    else
			        call CreateUnit(Player(10), 'nbdo', GetRectCenterX(regionM3[5]), GetRectCenterY(regionM3[5]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü4
		set g=GetUnitsInRectMatching(regionM4[5], Condition(function TMonsterFilter4))
		set g2=GetUnitsInRectMatching(regionM4[5], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[5], g2) != true ) then
			        call CreateUnit(Player(10), 'ncim', GetRectCenterX(regionM4[5]), GetRectCenterY(regionM4[5]), 270)
			    else
			        call CreateUnit(Player(10), 'ncnk', GetRectCenterX(regionM4[5]), GetRectCenterY(regionM4[5]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü5
		set g=GetUnitsInRectMatching(regionM5[5], Condition(function TMonsterFilter5))
		set g2=GetUnitsInRectMatching(regionM5[5], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[5], g2) != true ) then
			        call CreateUnit(Player(10), 'ngns', GetRectCenterX(regionM5[5]), GetRectCenterY(regionM5[5]), 270)
			    else
			        call CreateUnit(Player(10), 'ngnw', GetRectCenterX(regionM5[5]), GetRectCenterY(regionM5[5]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü6
		set g=GetUnitsInRectMatching(regionM6[5], Condition(function TMonsterFilter6))
		set g2=GetUnitsInRectMatching(regionM6[5], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[5], g2) != true ) then
			        call CreateUnit(Player(10), 'nhfp', GetRectCenterX(regionM6[5]), GetRectCenterY(regionM6[5]), 270)
			    else
			        call CreateUnit(Player(10), 'nenc', GetRectCenterX(regionM6[5]), GetRectCenterY(regionM6[5]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    set g=null
	    set g2=null

	endfunction

//end of: FlashMonster("5")
//textmacro instance: FlashMonster("6")
 function FlashMonsterPlayer6 takes nothing returns nothing

  local group g
  local group g2

		//Âå∫Âüü1
		set g=GetUnitsInRectMatching(regionM1[6], Condition(function TMonsterFilter1))
		set g2=GetUnitsInRectMatching(regionM1[6], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then


			    if ( IsUnitInGroup(udg_H[6], g2) != true ) then
			        call CreateUnit(Player(10), 'nano', GetRectCenterX(regionM1[6]), GetRectCenterY(regionM1[6]), 270)
			    else
			        call CreateUnit(Player(10), 'nanw', GetRectCenterX(regionM1[6]), GetRectCenterY(regionM1[6]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

		//Âå∫Âüü2
		set g=GetUnitsInRectMatching(regionM2[6], Condition(function TMonsterFilter2))
		set g2=GetUnitsInRectMatching(regionM2[6], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[6], g2) != true ) then
			        call CreateUnit(Player(10), 'nenf', GetRectCenterX(regionM2[6]), GetRectCenterY(regionM2[6]), 270)
			    else
			        call CreateUnit(Player(10), 'nbld', GetRectCenterX(regionM2[6]), GetRectCenterY(regionM2[6]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü3
		set g=GetUnitsInRectMatching(regionM3[6], Condition(function TMonsterFilter3))
		set g2=GetUnitsInRectMatching(regionM3[6], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[6], g2) != true ) then
			        call CreateUnit(Player(10), 'nbda', GetRectCenterX(regionM3[6]), GetRectCenterY(regionM3[6]), 270)
			    else
			        call CreateUnit(Player(10), 'nbdo', GetRectCenterX(regionM3[6]), GetRectCenterY(regionM3[6]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü4
		set g=GetUnitsInRectMatching(regionM4[6], Condition(function TMonsterFilter4))
		set g2=GetUnitsInRectMatching(regionM4[6], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[6], g2) != true ) then
			        call CreateUnit(Player(10), 'ncim', GetRectCenterX(regionM4[6]), GetRectCenterY(regionM4[6]), 270)
			    else
			        call CreateUnit(Player(10), 'ncnk', GetRectCenterX(regionM4[6]), GetRectCenterY(regionM4[6]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü5
		set g=GetUnitsInRectMatching(regionM5[6], Condition(function TMonsterFilter5))
		set g2=GetUnitsInRectMatching(regionM5[6], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[6], g2) != true ) then
			        call CreateUnit(Player(10), 'ngns', GetRectCenterX(regionM5[6]), GetRectCenterY(regionM5[6]), 270)
			    else
			        call CreateUnit(Player(10), 'ngnw', GetRectCenterX(regionM5[6]), GetRectCenterY(regionM5[6]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    //Âå∫Âüü6
		set g=GetUnitsInRectMatching(regionM6[6], Condition(function TMonsterFilter6))
		set g2=GetUnitsInRectMatching(regionM6[6], Condition(function TMonsterPlayerFilter))
		if ( CountUnitsInGroup(g2) != 0 ) then
			//Âà∑ÊÄ™
			if ( CountUnitsInGroup(g) == 0 ) then
			    if ( IsUnitInGroup(udg_H[6], g2) != true ) then
			        call CreateUnit(Player(10), 'nhfp', GetRectCenterX(regionM6[6]), GetRectCenterY(regionM6[6]), 270)
			    else
			        call CreateUnit(Player(10), 'nenc', GetRectCenterX(regionM6[6]), GetRectCenterY(regionM6[6]), 270)
			    endif
			endif
		else
			if ( CountUnitsInGroup(g) != 0 ) then
				//‰∏çÂà∑‰∏îÂà†ÂÖµ
				call DeleteGroup(g)
			endif
		endif
	    call DestroyGroup(g)
	    call DestroyGroup(g2)

	    set g=null
	    set g2=null

	endfunction

//end of: FlashMonster("6")
//---------------------------------------------------------------------------------------------------
		

//textmacro instance: TExerciseForbitCon("1")
  function Exercise__TExerciseForbitCon1 takes nothing returns boolean
			return ( ( ConvertedPlayer(1) != GetOwningPlayer(GetTriggerUnit()) ) and ( IsEnemy3(GetTriggerUnit() , Player(10)) ) )
		endfunction
//end of: TExerciseForbitCon("1")
//textmacro instance: TExerciseForbitCon("2")
  function Exercise__TExerciseForbitCon2 takes nothing returns boolean
			return ( ( ConvertedPlayer(2) != GetOwningPlayer(GetTriggerUnit()) ) and ( IsEnemy3(GetTriggerUnit() , Player(10)) ) )
		endfunction
//end of: TExerciseForbitCon("2")
//textmacro instance: TExerciseForbitCon("3")
  function Exercise__TExerciseForbitCon3 takes nothing returns boolean
			return ( ( ConvertedPlayer(3) != GetOwningPlayer(GetTriggerUnit()) ) and ( IsEnemy3(GetTriggerUnit() , Player(10)) ) )
		endfunction
//end of: TExerciseForbitCon("3")
//textmacro instance: TExerciseForbitCon("4")
  function Exercise__TExerciseForbitCon4 takes nothing returns boolean
			return ( ( ConvertedPlayer(4) != GetOwningPlayer(GetTriggerUnit()) ) and ( IsEnemy3(GetTriggerUnit() , Player(10)) ) )
		endfunction
//end of: TExerciseForbitCon("4")
//textmacro instance: TExerciseForbitCon("5")
  function Exercise__TExerciseForbitCon5 takes nothing returns boolean
			return ( ( ConvertedPlayer(5) != GetOwningPlayer(GetTriggerUnit()) ) and ( IsEnemy3(GetTriggerUnit() , Player(10)) ) )
		endfunction
//end of: TExerciseForbitCon("5")
//textmacro instance: TExerciseForbitCon("6")
  function Exercise__TExerciseForbitCon6 takes nothing returns boolean
			return ( ( ConvertedPlayer(6) != GetOwningPlayer(GetTriggerUnit()) ) and ( IsEnemy3(GetTriggerUnit() , Player(10)) ) )
		endfunction
//end of: TExerciseForbitCon("6")

 function Exercise__TExerciseForbitAct takes nothing returns nothing
		call SetUnitX(GetTriggerUnit(), GetUnitX(gg_unit_haro_0030))
		call SetUnitY(GetTriggerUnit(), GetUnitY(gg_unit_haro_0030))
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†‰∏çËÉΩËøõÂÖ•ÂÖ∂‰ªñÁé©ÂÆ∂ÁöÑÊàøÈó¥ÔºÅ")
		if ( IsSolider(GetTriggerUnit()) ) then
			call RemoveUnit(GetTriggerUnit())
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Exercise__InitExerciseTrigger takes nothing returns nothing
  local trigger t


//textmacro instance: CreateMonsterTrigger("1")
			if ( ( GetPlayerSlotState(ConvertedPlayer(1)) == PLAYER_SLOT_STATE_PLAYING ) and GetPlayerController(ConvertedPlayer(1)) == MAP_CONTROL_USER ) then
				set t=CreateTrigger()
			    call TriggerRegisterEnterRectSimple(t, regionAll[1])
			    call TriggerAddCondition(t, Condition(function Exercise__TExerciseForbitCon1))
			    call TriggerAddAction(t, function Exercise__TExerciseForbitAct)
				call CreateUnit(Player(15), 'uS02', GetRectCenterX(regionM1[1]) + 300, GetRectCenterY(regionM1[1]) - 300, 270)
			    set Exercise__TiExercise[1]=CreateTimer()
			    call TimerStart(Exercise__TiExercise[1], 5, true, function FlashMonsterPlayer1)
			endif
//end of: CreateMonsterTrigger("1")
//textmacro instance: CreateMonsterTrigger("2")
			if ( ( GetPlayerSlotState(ConvertedPlayer(2)) == PLAYER_SLOT_STATE_PLAYING ) and GetPlayerController(ConvertedPlayer(2)) == MAP_CONTROL_USER ) then
				set t=CreateTrigger()
			    call TriggerRegisterEnterRectSimple(t, regionAll[2])
			    call TriggerAddCondition(t, Condition(function Exercise__TExerciseForbitCon2))
			    call TriggerAddAction(t, function Exercise__TExerciseForbitAct)
				call CreateUnit(Player(15), 'uS02', GetRectCenterX(regionM1[2]) + 300, GetRectCenterY(regionM1[2]) - 300, 270)
			    set Exercise__TiExercise[2]=CreateTimer()
			    call TimerStart(Exercise__TiExercise[2], 5, true, function FlashMonsterPlayer2)
			endif
//end of: CreateMonsterTrigger("2")
//textmacro instance: CreateMonsterTrigger("3")
			if ( ( GetPlayerSlotState(ConvertedPlayer(3)) == PLAYER_SLOT_STATE_PLAYING ) and GetPlayerController(ConvertedPlayer(3)) == MAP_CONTROL_USER ) then
				set t=CreateTrigger()
			    call TriggerRegisterEnterRectSimple(t, regionAll[3])
			    call TriggerAddCondition(t, Condition(function Exercise__TExerciseForbitCon3))
			    call TriggerAddAction(t, function Exercise__TExerciseForbitAct)
				call CreateUnit(Player(15), 'uS02', GetRectCenterX(regionM1[3]) + 300, GetRectCenterY(regionM1[3]) - 300, 270)
			    set Exercise__TiExercise[3]=CreateTimer()
			    call TimerStart(Exercise__TiExercise[3], 5, true, function FlashMonsterPlayer3)
			endif
//end of: CreateMonsterTrigger("3")
//textmacro instance: CreateMonsterTrigger("4")
			if ( ( GetPlayerSlotState(ConvertedPlayer(4)) == PLAYER_SLOT_STATE_PLAYING ) and GetPlayerController(ConvertedPlayer(4)) == MAP_CONTROL_USER ) then
				set t=CreateTrigger()
			    call TriggerRegisterEnterRectSimple(t, regionAll[4])
			    call TriggerAddCondition(t, Condition(function Exercise__TExerciseForbitCon4))
			    call TriggerAddAction(t, function Exercise__TExerciseForbitAct)
				call CreateUnit(Player(15), 'uS02', GetRectCenterX(regionM1[4]) + 300, GetRectCenterY(regionM1[4]) - 300, 270)
			    set Exercise__TiExercise[4]=CreateTimer()
			    call TimerStart(Exercise__TiExercise[4], 5, true, function FlashMonsterPlayer4)
			endif
//end of: CreateMonsterTrigger("4")
//textmacro instance: CreateMonsterTrigger("5")
			if ( ( GetPlayerSlotState(ConvertedPlayer(5)) == PLAYER_SLOT_STATE_PLAYING ) and GetPlayerController(ConvertedPlayer(5)) == MAP_CONTROL_USER ) then
				set t=CreateTrigger()
			    call TriggerRegisterEnterRectSimple(t, regionAll[5])
			    call TriggerAddCondition(t, Condition(function Exercise__TExerciseForbitCon5))
			    call TriggerAddAction(t, function Exercise__TExerciseForbitAct)
				call CreateUnit(Player(15), 'uS02', GetRectCenterX(regionM1[5]) + 300, GetRectCenterY(regionM1[5]) - 300, 270)
			    set Exercise__TiExercise[5]=CreateTimer()
			    call TimerStart(Exercise__TiExercise[5], 5, true, function FlashMonsterPlayer5)
			endif
//end of: CreateMonsterTrigger("5")
//textmacro instance: CreateMonsterTrigger("6")
			if ( ( GetPlayerSlotState(ConvertedPlayer(6)) == PLAYER_SLOT_STATE_PLAYING ) and GetPlayerController(ConvertedPlayer(6)) == MAP_CONTROL_USER ) then
				set t=CreateTrigger()
			    call TriggerRegisterEnterRectSimple(t, regionAll[6])
			    call TriggerAddCondition(t, Condition(function Exercise__TExerciseForbitCon6))
			    call TriggerAddAction(t, function Exercise__TExerciseForbitAct)
				call CreateUnit(Player(15), 'uS02', GetRectCenterX(regionM1[6]) + 300, GetRectCenterY(regionM1[6]) - 300, 270)
			    set Exercise__TiExercise[6]=CreateTimer()
			    call TimerStart(Exercise__TiExercise[6], 5, true, function FlashMonsterPlayer6)
			endif
//end of: CreateMonsterTrigger("6")

		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CloseExerciseTimer takes player p returns nothing
		call PauseTimer(Exercise__TiExercise[GetConvertedPlayerId(p)])
		call DestroyTimer(Exercise__TiExercise[GetConvertedPlayerId(p)])
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function Exercise__InitExerciseRegions takes nothing returns nothing

		set regionM1[1]=Rect(- 15488.0, 13952.0, - 14240.0, 15232.0)
	    set regionM2[1]=Rect(- 13280.0, 13952.0, - 12096.0, 15232.0)
	    set regionM3[1]=Rect(- 15488.0, 12288.0, - 14208.0, 13536.0)
	    set regionM4[1]=Rect(- 13312.0, 12288.0, - 12064.0, 13568.0)
	    set regionM5[1]=Rect(- 15488.0, 10624.0, - 14208.0, 11904.0)
	    set regionM6[1]=Rect(- 13312.0, 10624.0, - 12032.0, 11904.0)
		
	    set regionM1[2]=Rect(- 15488.0, 8960.0, - 14240.0, 10240.0)
	    set regionM2[2]=Rect(- 13280.0, 8960.0, - 12096.0, 10240.0)
	    set regionM3[2]=Rect(- 15488.0, 7296.0, - 14208.0, 8544.0)
	    set regionM4[2]=Rect(- 13312.0, 7296.0, - 12064.0, 8576.0)
	    set regionM5[2]=Rect(- 15488.0, 5632.0, - 14208.0, 6912.0)
	    set regionM6[2]=Rect(- 13312.0, 5632.0, - 12032.0, 6912.0)

	    set regionM1[3]=Rect(- 11104.0, 13984.0, - 9888.0, 15232.0)
	    set regionM2[3]=Rect(- 8960.0, 13952.0, - 7680.0, 15232.0)
	    set regionM3[3]=Rect(- 11136.0, 12288.0, - 9888.0, 13536.0)
	    set regionM4[3]=Rect(- 8928.0, 12288.0, - 7680.0, 13568.0)
	    set regionM5[3]=Rect(- 11136.0, 10624.0, - 9856.0, 11904.0)
	    set regionM6[3]=Rect(- 8960.0, 10624.0, - 7680.0, 11904.0)
		
	    set regionM1[4]=Rect(- 11104.0, 8992.0, - 9888.0, 10240.0)
	    set regionM2[4]=Rect(- 8960.0, 8960.0, - 7680.0, 10240.0)
	    set regionM3[4]=Rect(- 11136.0, 7296.0, - 9888.0, 8544.0)
	    set regionM4[4]=Rect(- 8928.0, 7296.0, - 7680.0, 8576.0)
	    set regionM5[4]=Rect(- 11136.0, 5632.0, - 9856.0, 6912.0)
	    set regionM6[4]=Rect(- 8960.0, 5632.0, - 7680.0, 6912.0)
		
	    set regionM1[5]=Rect(- 6752.0, 13952.0, - 5536.0, 15200.0)
	    set regionM2[5]=Rect(- 4736.0, 13952.0, - 3456.0, 15232.0)
	    set regionM3[5]=Rect(- 6784.0, 12256.0, - 5536.0, 13504.0)
	    set regionM4[5]=Rect(- 4704.0, 12288.0, - 3456.0, 13568.0)
	    set regionM5[5]=Rect(- 6784.0, 10592.0, - 5504.0, 11872.0)
	    set regionM6[5]=Rect(- 4736.0, 10624.0, - 3456.0, 11904.0)

	    set regionM1[6]=Rect(- 6752.0, 8960.0, - 5536.0, 10208.0)
	    set regionM2[6]=Rect(- 4736.0, 8960.0, - 3456.0, 10240.0)
	    set regionM3[6]=Rect(- 6784.0, 7264.0, - 5536.0, 8512.0)
	    set regionM4[6]=Rect(- 4704.0, 7296.0, - 3456.0, 8576.0)
	    set regionM5[6]=Rect(- 6784.0, 5600.0, - 5504.0, 6880.0)
	    set regionM6[6]=Rect(- 4736.0, 5632.0, - 3456.0, 6912.0)

	    set regionAll[1]=Rect(- 15808.0, 10400.0, - 11744.0, 15456.0)
	    set regionAll[2]=Rect(- 15808.0, 5344.0, - 11712.0, 10400.0)
	    set regionAll[3]=Rect(- 11744.0, 10400.0, - 7232.0, 15456.0)
	    set regionAll[4]=Rect(- 11744.0, 5312.0, - 7232.0, 10400.0)
	    set regionAll[5]=Rect(- 7264.0, 10432.0, - 3136.0, 15456.0)
	    set regionAll[6]=Rect(- 7264.0, 5312.0, - 3136.0, 10432.0)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function EnterExerciseRegion takes nothing returns nothing
  local real x
  local real y


//textmacro instance: EnterSpecifyExercise("I05J","1")
		if ( ( GetItemTypeId(GetSoldItem()) == 'I05J' ) ) then
			set x=GetRectCenterX(regionM1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
			set y=GetRectCenterY(regionM1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])

	        call SetUnitX(GetBuyingUnit(), x)
	        call SetUnitY(GetBuyingUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	    endif
//end of: EnterSpecifyExercise("I05J","1")
//textmacro instance: EnterSpecifyExercise("I053","2")
		if ( ( GetItemTypeId(GetSoldItem()) == 'I053' ) ) then
			set x=GetRectCenterX(regionM2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
			set y=GetRectCenterY(regionM2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])

	        call SetUnitX(GetBuyingUnit(), x)
	        call SetUnitY(GetBuyingUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	    endif
//end of: EnterSpecifyExercise("I053","2")
//textmacro instance: EnterSpecifyExercise("I05K","3")
		if ( ( GetItemTypeId(GetSoldItem()) == 'I05K' ) ) then
			set x=GetRectCenterX(regionM3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
			set y=GetRectCenterY(regionM3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])

	        call SetUnitX(GetBuyingUnit(), x)
	        call SetUnitY(GetBuyingUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	    endif
//end of: EnterSpecifyExercise("I05K","3")
//textmacro instance: EnterSpecifyExercise("I06Y","4")
		if ( ( GetItemTypeId(GetSoldItem()) == 'I06Y' ) ) then
			set x=GetRectCenterX(regionM4[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
			set y=GetRectCenterY(regionM4[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])

	        call SetUnitX(GetBuyingUnit(), x)
	        call SetUnitY(GetBuyingUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	    endif
//end of: EnterSpecifyExercise("I06Y","4")
//textmacro instance: EnterSpecifyExercise("I06Z","5")
		if ( ( GetItemTypeId(GetSoldItem()) == 'I06Z' ) ) then
			set x=GetRectCenterX(regionM5[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
			set y=GetRectCenterY(regionM5[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])

	        call SetUnitX(GetBuyingUnit(), x)
	        call SetUnitY(GetBuyingUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	    endif
//end of: EnterSpecifyExercise("I06Z","5")
//textmacro instance: EnterSpecifyExercise("I03Z","6")
		if ( ( GetItemTypeId(GetSoldItem()) == 'I03Z' ) ) then
			set x=GetRectCenterX(regionM6[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
			set y=GetRectCenterY(regionM6[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])

	        call SetUnitX(GetBuyingUnit(), x)
	        call SetUnitY(GetBuyingUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	    endif
//end of: EnterSpecifyExercise("I03Z","6")
	endfunction
//---------------------------------------------------------------------------------------------------

 function Exercise__InitExercise takes nothing returns nothing
		call Exercise__InitExerciseRegions()
		call Exercise__InitExerciseTrigger()

	endfunction


//library Exercise ends
//library GoldSystem:
	
//---------------------------------------------------------------------------------------------------
	
 function TGoldDeathCon takes nothing returns boolean
	    return ( ( HaveSavedInteger(YDHT, GetUnitTypeId(GetDyingUnit()), 0x9DA51395) == true ) and ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetPlayerController(GetOwningPlayer(GetKillingUnitBJ())) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(GetOwningPlayer(GetKillingUnitBJ())) == PLAYER_SLOT_STATE_PLAYING ) )
	endfunction

 function TGoldDeathAct takes nothing returns nothing
  local integer index= GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
  local integer rate= 1
		if ( IsHighSpeed() ) then
			if not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) ) then
				set rate=2
			endif
		endif
	    set udg_gold[index]=( R2I(I2R(LoadInteger(YDHT, GetUnitTypeId(GetDyingUnit()), 0x9DA51395)) * udg_I_Jinqianhuodelv[index]) ) * rate + udg_gold[index] + udg_gold[index + 6]
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddGoldForPlayerTimer takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6

			if ( ( udg_gold[i] != 0 ) ) then
		        call AdjustPlayerStateBJ(udg_gold[i], ConvertedPlayer(i), PLAYER_STATE_RESOURCE_GOLD)
	    		call CreateSpellTextTag("ÈªÑÈáë+" + I2S(udg_gold[i]) , udg_H[i] , 255 , 255 , 0 , 2)
		        set udg_gold[i]=0
		    endif

			set i=i + 1
		endloop

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GoldSystem__InitAllMonsterGoldSystem takes nothing returns nothing
		call SaveInteger(YDHT, 'nitr', 0x9DA51395, 100)
	    call SaveInteger(YDHT, 'nitw', 0x9DA51395, 100)
	    call SaveInteger(YDHT, 'nith', 0x9DA51395, 125)
	    call SaveInteger(YDHT, 'nits', 0x9DA51395, 125)
	    call SaveInteger(YDHT, 'nmrl', 0x9DA51395, 150)
	    call SaveInteger(YDHT, 'nmrm', 0x9DA51395, 150)
	    call SaveInteger(YDHT, 'hfoo', 0x9DA51395, 175)
	    call SaveInteger(YDHT, 'hmpr', 0x9DA51395, 175)
	    call SaveInteger(YDHT, 'hsor', 0x9DA51395, 200)
	    call SaveInteger(YDHT, 'hspt', 0x9DA51395, 200)
	    call SaveInteger(YDHT, 'uban', 0x9DA51395, 225)
	    call SaveInteger(YDHT, 'unec', 0x9DA51395, 225)
	    call SaveInteger(YDHT, 'ugho', 0x9DA51395, 250)
	    call SaveInteger(YDHT, 'ucry', 0x9DA51395, 250)
	    call SaveInteger(YDHT, 'earc', 0x9DA51395, 275)
	    call SaveInteger(YDHT, 'esen', 0x9DA51395, 275)
	    call SaveInteger(YDHT, 'ogru', 0x9DA51395, 300)
	    call SaveInteger(YDHT, 'orai', 0x9DA51395, 300)
	    call SaveInteger(YDHT, 'hkni', 0x9DA51395, 325)
	    call SaveInteger(YDHT, 'hrif', 0x9DA51395, 325)
	    call SaveInteger(YDHT, 'ohun', 0x9DA51395, 350)
	    call SaveInteger(YDHT, 'odoc', 0x9DA51395, 350)
	    call SaveInteger(YDHT, 'njks', 0x9DA51395, 375)
	    call SaveInteger(YDHT, 'hhes', 0x9DA51395, 375)
	    call SaveInteger(YDHT, 'nchr', 0x9DA51395, 400)
	    call SaveInteger(YDHT, 'nchw', 0x9DA51395, 400)
	    call SaveInteger(YDHT, 'okod', 0x9DA51395, 425)
	    call SaveInteger(YDHT, 'oshm', 0x9DA51395, 425)
	    call SaveInteger(YDHT, 'nzom', 0x9DA51395, 450)
	    call SaveInteger(YDHT, 'uswb', 0x9DA51395, 450)
	    call SaveInteger(YDHT, 'hgry', 0x9DA51395, 475)
	    call SaveInteger(YDHT, 'hdhw', 0x9DA51395, 475)
	    call SaveInteger(YDHT, 'otau', 0x9DA51395, 500)
	    call SaveInteger(YDHT, 'ospw', 0x9DA51395, 500)
	    call SaveInteger(YDHT, 'edry', 0x9DA51395, 525)
	    call SaveInteger(YDHT, 'edot', 0x9DA51395, 525)
	    call SaveInteger(YDHT, 'hgyr', 0x9DA51395, 550)
	    call SaveInteger(YDHT, 'hmtm', 0x9DA51395, 550)
	    call SaveInteger(YDHT, 'efdr', 0x9DA51395, 575)
	    call SaveInteger(YDHT, 'edoc', 0x9DA51395, 575)
	    call SaveInteger(YDHT, 'uobs', 0x9DA51395, 600)
	    call SaveInteger(YDHT, 'umtw', 0x9DA51395, 600)
	    call SaveInteger(YDHT, 'otbr', 0x9DA51395, 625)
	    call SaveInteger(YDHT, 'owyv', 0x9DA51395, 625)
	    call SaveInteger(YDHT, 'owar', 0x9DA51395, 650)
	    call SaveInteger(YDHT, 'oswy', 0x9DA51395, 650)
	    call SaveInteger(YDHT, 'emtg', 0x9DA51395, 700)
	    call SaveInteger(YDHT, 'ebal', 0x9DA51395, 700)
	    call SaveInteger(YDHT, 'nfgb', 0x9DA51395, 5000)
	    call SaveInteger(YDHT, 'nsgb', 0x9DA51395, 5000)
	    call SaveInteger(YDHT, 'nwrg', 0x9DA51395, 6000)
	    call SaveInteger(YDHT, 'nlkl', 0x9DA51395, 6000)
	    call SaveInteger(YDHT, 'nltc', 0x9DA51395, 7000)
	    call SaveInteger(YDHT, 'nltc', 0x9DA51395, 7000)
	    call SaveInteger(YDHT, 'nmsc', 0x9DA51395, 8000)
	    call SaveInteger(YDHT, 'nplg', 0x9DA51395, 8000)
	    call SaveInteger(YDHT, 'nlrv', 0x9DA51395, 9000)
	    call SaveInteger(YDHT, 'nvdg', 0x9DA51395, 9000)
	    call SaveInteger(YDHT, 'nano', 0x9DA51395, 200)
	    call SaveInteger(YDHT, 'nanw', 0x9DA51395, 400)
	    call SaveInteger(YDHT, 'nenf', 0x9DA51395, 500)
	    call SaveInteger(YDHT, 'nbld', 0x9DA51395, 1000)
	    call SaveInteger(YDHT, 'nbda', 0x9DA51395, 1000)
	    call SaveInteger(YDHT, 'nbdo', 0x9DA51395, 2000)
	    call SaveInteger(YDHT, 'ncim', 0x9DA51395, 2500)
	    call SaveInteger(YDHT, 'ncnk', 0x9DA51395, 5000)
	    call SaveInteger(YDHT, 'ngnw', 0x9DA51395, 10000)
	    call SaveInteger(YDHT, 'ngns', 0x9DA51395, 5000)
	    call SaveInteger(YDHT, 'ngna', 0x9DA51395, 500)
	    call SaveInteger(YDHT, 'nhhr', 0x9DA51395, 1000)
	    call SaveInteger(YDHT, 'nhfp', 0x9DA51395, 10000)
	    call SaveInteger(YDHT, 'nenc', 0x9DA51395, 20000)
	    call SaveInteger(YDHT, 'Nbst', 0x9DA51395, 20000)
	    call SaveInteger(YDHT, 'Hblm', 0x9DA51395, 50000)
	    call SaveInteger(YDHT, 'Obla', 0x9DA51395, 150000)
	    call SaveInteger(YDHT, 'Npbm', 0x9DA51395, 250000)
	    call SaveInteger(YDHT, 'Hamg', 0x9DA51395, 400000)
	    call SaveInteger(YDHT, 'nltl', 0x9DA51395, 100)
	    call SaveInteger(YDHT, 'nthl', 0x9DA51395, 500)
	    call SaveInteger(YDHT, 'nstw', 0x9DA51395, 1500)
	    call SaveInteger(YDHT, 'nslm', 0x9DA51395, 100)
	    call SaveInteger(YDHT, 'nslf', 0x9DA51395, 500)
	    call SaveInteger(YDHT, 'nsln', 0x9DA51395, 1500)
	    call SaveInteger(YDHT, 'nspd', 0x9DA51395, 100)
	    call SaveInteger(YDHT, 'nnwa', 0x9DA51395, 500)
	    call SaveInteger(YDHT, 'nnwl', 0x9DA51395, 1500)
	    call SaveInteger(YDHT, 'nubk', 0x9DA51395, 100)
	    call SaveInteger(YDHT, 'nubr', 0x9DA51395, 500)
	    call SaveInteger(YDHT, 'nubw', 0x9DA51395, 1500)
	endfunction
//---------------------------------------------------------------------------------------------------
 function GoldSystem__InitGoldSystem takes nothing returns nothing

		//ÊÄ™Áâ©Ê≠ª‰∫°‰∫ã‰ª∂
     local trigger t= CreateTrigger()
     local timer ti= CreateTimer()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	    call TriggerAddCondition(t, Condition(function TGoldDeathCon))
	    call TriggerAddAction(t, function TGoldDeathAct)

	    call GoldSystem__InitAllMonsterGoldSystem()

	    //ÊØèÁßíÂ¢ûÂä†ÈªÑÈáë
	    call TimerStart(ti, 1, true, function AddGoldForPlayerTimer)
	    set t=null
	    set ti=null
	endfunction


//library GoldSystem ends
//library Mirror:

//---------------------------------------------------------------------------------------------------
    
    function ShowLiuliProcess takes nothing returns nothing
        if ( udg_Z[GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))] < 42 ) then
            call DisplayTextToPlayer(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]), 0., 0., "|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r" + I2S(udg_Z[GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))]) + "/42.")
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Mirror___MirrorTimeOut takes nothing returns nothing
        //ÁßªÂä®Âçï‰ΩçÂõûÂü∫Âú∞
        call DisplayTextToPlayer(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Êú™ËÉΩÂú®ÈôêÂÆöÊó∂Èó¥ÂÜÖÈÄöËøáËΩ¨ÁîüÔºÅ")
        call SetUnitPositionLoc(udg_U_Zhuansheng_Dantiao[1], udg_Point_Fuhuo)
    endfunction

    function DestroyMirrorTimer takes nothing returns nothing
        call TimerDialogDisplay(TiDiaMirror, false)
        call DestroyTimerDialog(TiDiaMirror)
        call PauseTimer(TiMirror)
        call DestroyTimer(TiMirror)
        set TiMirror=null
        set TiDiaMirror=null
    endfunction

    function CreateMirrorTimer takes nothing returns nothing
        set TiMirror=CreateTimer()
        set TiDiaMirror=CreateTimerDialogBJ(TiMirror, "ËΩ¨ÁîüÊó∂Èó¥")
        call TimerStart(TiMirror, 60, false, function Mirror___MirrorTimeOut)
        call TimerDialogDisplay(TiDiaMirror, true)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    
    function AddMirrorSpell takes nothing returns nothing
        local unit mirror= udg_U_Zhuansheng_Dantiao[2]
        local unit defier= udg_U_Zhuansheng_Dantiao[1]
        local integer count= udg_Z[GetConvertedPlayerId(GetOwningPlayer(defier))]
        if ( count == 20 ) then
            call DisplayTextToPlayer(GetOwningPlayer(defier), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé" + I2S(count) + "ËΩ¨ÂºÄÂßãÈïúÂÉèÂ∞ÜËé∑Âæó33%30ÂÄçÊîªÂáª‰∏éÁ†¥ÈöêÊäÄËÉΩ„ÄÇ")
        elseif ( count == 40 ) then
            call DisplayTextToPlayer(GetOwningPlayer(defier), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé" + I2S(count) + "ËΩ¨ÂºÄÂßãÈïúÂÉèÂ∞ÜËé∑ÂæóÁ•ûÂú£Êä§Áî≤ÊäÄËÉΩ„ÄÇ")
        elseif ( count == 60 ) then
            call DisplayTextToPlayer(GetOwningPlayer(defier), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé" + I2S(count) + "ËΩ¨ÂºÄÂßãÈïúÂÉèÂ∞ÜËé∑Âæó10%ÂõûË°ÄÊäÄËÉΩ„ÄÇ")
        elseif ( count == 80 ) then
            call DisplayTextToPlayer(GetOwningPlayer(defier), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé" + I2S(count) + "ËΩ¨ÂºÄÂßãÈïúÂÉèÂ∞ÜËé∑Âæó15ÁßíÈáçÁîüÊäÄËÉΩ„ÄÇ")
        elseif ( count == 100 ) then
            call DisplayTextToPlayer(GetOwningPlayer(defier), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé" + I2S(count) + "ËΩ¨ÂºÄÂßãÈïúÂÉèÂ∞ÜËé∑ÂæóÁßíÊùÄÁåÆÁ•≠ÊäÄËÉΩ„ÄÇ")
        elseif ( count == 120 ) then
            call DisplayTextToPlayer(GetOwningPlayer(defier), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé" + I2S(count) + "ËΩ¨ÂºÄÂßãÈïúÂÉèÂ∞ÜËé∑ÂæóÁ†¥Èò≤10‰∏áÊäÄËÉΩ„ÄÇ")
        elseif ( count == 150 ) then
            call DisplayTextToPlayer(GetOwningPlayer(defier), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé" + I2S(count) + "ËΩ¨ÂºÄÂßãÈïúÂÉèÂ∞ÜËé∑ÂæóÊÄ•ÈÄüÁ†¥È≠îÊäÄËÉΩ„ÄÇ")
        elseif ( count == 160 ) then
            call DisplayTextToPlayer(GetOwningPlayer(defier), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé" + I2S(count) + "ËΩ¨ÂºÄÂßãÈïúÂÉèÂ∞ÜËé∑ÂæóÂáèÂ∞ë50%È≠îÊ≥ï‰º§ÂÆ≥ÊäÄËÉΩ„ÄÇ")
        endif

        if ( count >= 20 ) then
            call UnitAddAbility(mirror, 'A0GL')
            call UnitAddAbility(mirror, 'Adtg')
        endif
        if ( count >= 40 ) then
            call UnitAddAbility(mirror, 'A0F1')
        endif
        if ( count >= 60 ) then
            call UnitAddAbility(mirror, 'A0GM')
        endif
        if ( count >= 80 ) then
            call UnitAddAbility(mirror, 'A0GN')
        endif
        if ( count >= 100 ) then
            call UnitAddAbility(mirror, 'A0GO')
        endif
        if ( count >= 120 ) then
            call UnitAddAbility(mirror, 'A0GP')
        endif
        if ( count >= 150 ) then
            call UnitAddAbility(mirror, 'A0GQ')
        endif
        if ( count >= 160 ) then
            call UnitAddAbility(mirror, 'A052')
        endif
    endfunction


//library Mirror ends
//library Printer:

	

//---------------------------------------------------------------------------------------------------
	

 function PrintSpellAdd takes player whichPlayer,string spellName,real damage,string addtional returns nothing
		if ( BHideDamage[GetConvertedPlayerId(whichPlayer)] ) then
			return
		endif
		if ( damage > 10000 ) then
	    	call DisplayTextToPlayer(whichPlayer, 0, 0, ( "|cFFFF66CC„Äê|r" + spellName + "|cFFFF66CC„Äë|r‰º§ÂÆ≥Âä†Êàê" + I2S(R2I(( ( udg_I_Jinengjiacheng[GetConvertedPlayerId(whichPlayer)] * 100.00 ) - 99.00 ))) + ( "%,‰º§ÂÆ≥" + ( I2S(R2I(damage / 10000)) + "‰∏á" + addtional + "." ) ) ))
	    else
	    	call DisplayTextToPlayer(whichPlayer, 0, 0, ( "|cFFFF66CC„Äê|r" + spellName + "|cFFFF66CC„Äë|r‰º§ÂÆ≥Âä†Êàê" + I2S(R2I(( ( udg_I_Jinengjiacheng[GetConvertedPlayerId(whichPlayer)] * 100.00 ) - 99.00 ))) + ( "%,‰º§ÂÆ≥" + ( I2S(R2I(damage)) + addtional + "." ) ) ))
		endif
	endfunction

 function PrintSpell takes player whichPlayer,string spellName,real damage returns nothing
		call PrintSpellAdd(whichPlayer , spellName , damage , "")
	endfunction
	
 function PrintSpellContent takes player whichPlayer,string spellName,string content returns nothing
		if ( BHideDamage[GetConvertedPlayerId(whichPlayer)] ) then
			return
		endif
	    call DisplayTextToPlayer(whichPlayer, 0, 0, ( "|cFFFF66CC„Äê|r" + spellName + "|cFFFF66CC„Äë|r" + content ))
	endfunction

 function PrintSpellName takes player whichPlayer,string spellName returns nothing
		call PrintSpellContent(whichPlayer , spellName , "")
	endfunction

//---------------------------------------------------------------------------------------------------

 function Printer___InitPrinter takes nothing returns nothing
		
	endfunction


//library Printer ends
//library SameItem:



//-------------------------------------------------------------------------------
	
 function SameItem___UnitHasHumanInSlot takes unit u,integer slot returns boolean
		return GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'frhg' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'mlst' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'nspi' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'oli2' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'ofir' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'soul' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'sbok' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'arsc' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'gldo' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'gsou' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'envl' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'rugt' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'shdt' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'crdt' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'pspd' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'rump' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'rump' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'shen' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'stpg' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'rde0' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'oflg' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'frgd' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'tbsm' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'tfar' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'drph' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'oven' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'rej4' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'dtsb' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'gobm' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'gvsm' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'pgin' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'rej6' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'tels' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'tbak' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'I05Y' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'I05Z' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'I060'
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsSharedItem takes item i returns boolean
		return GetItemTypeId(i) == 'fgrg' or GetItemTypeId(i) == 'hlst' or GetItemTypeId(i) == 'wshs' or GetItemTypeId(i) == 'wild' or GetItemTypeId(i) == 'totw' or GetItemTypeId(i) == 'sror' or GetItemTypeId(i) == 'olig' or GetItemTypeId(i) == 'srtl' or GetItemTypeId(i) == 'shhn' or GetItemTypeId(i) == 'flag' or GetItemTypeId(i) == 'shcw' or GetItemTypeId(i) == 'shtm' or GetItemTypeId(i) == 'IXU1' or GetItemTypeId(i) == 'I049' or GetItemTypeId(i) == 'I04A' or GetItemTypeId(i) == 'I06N'
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function SameItem___UnitHasJubaoInSlot takes unit u,integer slot returns boolean
		return GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'I05P' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'I05Q' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'I05R'
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SameItem___UnitHasXianglianInSlot takes unit u,integer slot returns boolean
		return GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'rde3' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'ssil' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'I04Y' or GetItemTypeId(UnitItemInSlotBJ(u, slot)) == 'I05T'
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SameItem___OnlyOneZhuangbei takes integer itemID returns nothing
  local integer i= 1
  local integer count= 0
		loop
			exitwhen i > 6
			if ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i)) == itemID ) then
				set count=count + 1
			endif
			set i=i + 1
		endloop

		//Â¶ÇÊûúËÆ°Êï∞ÂêõÂ§ß‰∫é1Âàô‰∏¢Êéâ
		if ( count > 1 ) then
			call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Âè™ËÉΩÂêåÊó∂Ë£ÖÂ§á‰∏Ä‰∏™" + GetItemName(GetManipulatedItem()) + "ÔºÅ")
		endif
	endfunction

//---------------------------------------------------------------------------------------------------

	
 function SameItem___TOnlyOneItemAct takes nothing returns nothing
  local integer i= 1
  local integer count= 0

		//Â§ö‰∏™‰∫∫Âô®ÁöÑÂà§Êñ≠
		loop
			exitwhen i > 6
			if ( SameItem___UnitHasHumanInSlot(GetTriggerUnit() , i) ) then
				set count=count + 1
			endif
			set i=i + 1
		endloop

		//Â¶ÇÊûúËÆ°Êï∞ÂêõÂ§ß‰∫é1Âàô‰∏¢Êéâ
		if ( count > 1 ) then
			call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Âè™ËÉΩÂêåÊó∂Ë£ÖÂ§á‰∏Ä‰∏™‰∫∫Âô®ÔºÅ")
			return
		endif

		//Â§ö‰∏™ËÅöÂÆùÁöÑÂà§Êñ≠
		set i=1
		set count=0
		loop
			exitwhen i > 6
			if ( SameItem___UnitHasJubaoInSlot(GetTriggerUnit() , i) ) then
				set count=count + 1
			endif
			set i=i + 1
		endloop

		//Â¶ÇÊûúËÆ°Êï∞ÂêõÂ§ß‰∫é1Âàô‰∏¢Êéâ
		if ( count > 1 ) then
			call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Âè™ËÉΩÂêåÊó∂Ë£ÖÂ§á‰∏Ä‰∏™1Á∫ß‰ª•‰∏äÁöÑËÅöÂÆùÔºÅ")
			return

		endif

		//Â§ö‰∏™È°πÈìæÁöÑÂà§Êñ≠
		set i=1
		set count=0
		loop
			exitwhen i > 6
			if ( SameItem___UnitHasXianglianInSlot(GetTriggerUnit() , i) ) then
				set count=count + 1
			endif
			set i=i + 1
		endloop

		//Â¶ÇÊûúËÆ°Êï∞ÂêõÂ§ß‰∫é1Âàô‰∏¢Êéâ
		if ( count > 1 ) then
			call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
			call BJDebugMsg("ÊµãËØïÈ°πÈìæ")
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Âè™ËÉΩÂêåÊó∂Ë£ÖÂ§á‰∏Ä‰∏™È°πÈìæÔºÅ")
			return

		endif

		call SameItem___OnlyOneZhuangbei('ratc')
		call SameItem___OnlyOneZhuangbei('I04L')
		//call OnlyOneZhuangbei('rat6')

	endfunction


 function SameItem___TOnlyOneItemCon takes nothing returns boolean
		return ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true )
	endfunction
//---------------------------------------------------------------------------------------------------

 function SameItem___InitSameItem takes nothing returns nothing
		//‰∫∫Âô®ÊàñËÄÖËÅöÂÆùÂè™ËÉΩË£ÖÂ§á‰∏Ä‰∏™
  local trigger t= CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
		call TriggerAddCondition(t, Condition(function SameItem___TOnlyOneItemCon))
		call TriggerAddAction(t, function SameItem___TOnlyOneItemAct)

		set t=null
	endfunction

//library SameItem ends
//library Sheyan:
	
//---------------------------------------------------------------------------------------------------
	
 function SimulateDamageSheyan takes unit u returns boolean

		if ( GetUnitTypeId(u) == 'O000' and BJuexing1[GetConvertedPlayerId(GetOwningPlayer(sheyan))] ) then
			call UnitDamageTarget(sheyan, GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * 0.01, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddLangRevive takes unit u returns nothing
		if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(sheyan))] ) then
			call UnitAddAbility(u, 'A0G5')
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function JuexingSheyan2 takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 7
			if ( IsUnitAliveBJ(udg_Lang[i]) ) then
				call AddLangRevive(udg_Lang[i])
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function QJuexingSheyan takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 7
			if ( IsUnitAliveBJ(udg_Lang[i]) ) then
				call UnitRemoveAbility(udg_Lang[i], 'A0G5')
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitSheyan takes unit u returns nothing
		set sheyan=u

	endfunction


//library Sheyan ends
//library SpellBase:


//---------------------------------------------------------------------------------------------------

	
 function SpellBase___ImmuteDamageTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(spellTable, id, kUImmuteDamage)
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(spellTable, id)
		call UnitRemoveAbility(u, 'Avul')
		set u=null
		set t=null
	endfunction

 function ImmuteDamageInterval takes unit u,real time returns nothing
  local timer t= CreateTimer()
		call UnitAddAbility(u, 'Avul')
		call SaveUnitHandle(spellTable, GetHandleId(t), kUImmuteDamage, u)
		call TimerStart(t, time, false, function SpellBase___ImmuteDamageTimer)
		set t=null
	endfunction

 function ImmuteDamage takes unit u returns nothing
		call ImmuteDamageInterval(u , 0)
	endfunction


//---------------------------------------------------------------------------------------------------
	
		

  function s__Connect_connect takes nothing returns nothing
   local integer this= sc__Connect__staticgetindex(GetExpiredTimer())
			call MoveLightning(s__Connect_l[this], true, GetUnitX(s__Connect_unit1[this]), GetUnitY(s__Connect_unit1[this]), GetUnitX(s__Connect_unit2[this]), GetUnitY(s__Connect_unit2[this]))
  endfunction

        function s__Connect__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("SpellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__Connect__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("SpellBase" , I2S(YDWEH2I(h)) , value)
        endfunction

        function s__Connect_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("SpellBase" , I2S(YDWEH2I(h)))
        endfunction

  function s__Connect_create takes unit unit1,unit unit2,string lightningType returns integer
      local integer this= s__Connect__allocate()
		   	set s__Connect_unit1[this]=unit1
		   	set s__Connect_unit2[this]=unit2
			set s__Connect_l[this]=AddLightning(lightningType, true, GetUnitX(unit1), GetUnitY(unit1), GetUnitX(unit2), GetUnitY(unit2))
			set s__Connect_t[this]=CreateTimer()
			call s__Connect__staticsetindex(s__Connect_t[this], (this))
			call TimerStart(s__Connect_t[this], 0.05, true, function s__Connect_connect)
			return this
  endfunction

  function s__Connect_onDestroy takes integer this returns nothing
			call s__Connect_flush(s__Connect_t[this])
			set s__Connect_unit1[this]=null
			set s__Connect_unit2[this]=null
			call DestroyLightningBJ(s__Connect_l[this])
			set s__Connect_l[this]=null
			call PauseTimer(s__Connect_t[this])
			call DestroyTimer(s__Connect_t[this])
			set s__Connect_t[this]=null
  endfunction

//Generated destructor of Connect
function s__Connect_deallocate takes integer this returns nothing
    if this==null then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: Connect")
        return
    elseif (si__Connect_V[this]!=-1) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: Connect")
        return
    endif
    call s__Connect_onDestroy(this)
    set si__Connect_V[this]=si__Connect_F
    set si__Connect_F=this
endfunction

//---------------------------------------------------------------------------------------------------
  

  function s__Attract_attract takes nothing returns nothing
   local real x1
   local real y1
   local real x2
   local real y2
   local real facing
   local real distance
   local integer this= sc__Attract__staticgetindex(GetExpiredTimer())
   local group l_group= CreateGroup()
   local unit l_unit
			if ( IsUnitAliveBJ(s__Attract_caster[this]) ) then
				call GroupEnumUnitsInRange(l_group, GetUnitX(s__Attract_caster[this]), GetUnitY(s__Attract_caster[this]), s__Attract_radius[this], null)
				loop
				    set l_unit=FirstOfGroup(l_group)
				    exitwhen l_unit == null
				    call GroupRemoveUnit(l_group, l_unit)
				    if ( IsEnemyM(l_unit , s__Attract_caster[this]) and ( GetUnitMoveSpeed(l_unit) > 0 ) and ( not ( s__Attract_forbitHero[this] and IsUnitType(l_unit, UNIT_TYPE_HERO) ) ) and GetUnitAbilityLevel(l_unit, 'A0IH') < 1 ) then
				    	set x2=GetUnitX(l_unit)
				    	set y2=GetUnitY(l_unit)
				    	set x1=GetUnitX(s__Attract_caster[this])
				    	set y1=GetUnitY(s__Attract_caster[this])
				    	set distance=SquareRoot(( x1 - x2 ) * ( x1 - x2 ) + ( y1 - y2 ) * ( y1 - y2 ))
				    	if ( distance > 80 ) then
				    	set facing=Atan2BJ(y1 - y2, x1 - x2)
				    	call SetUnitX(l_unit, YDWECoordinateX(x2 + CosBJ(facing) * s__Attract_speed[this]))
				    	call SetUnitY(l_unit, YDWECoordinateY(y2 + SinBJ(facing) * s__Attract_speed[this]))
				    	endif
				    endif
				endloop
				call DestroyGroup(l_group)
			else
				call sc__Attract_deallocate(this)
			endif
			set l_group=null
			set l_unit=null
  endfunction

        function s__Attract__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__Attract__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("SPellBase" , I2S(YDWEH2I(h)) , value)
        endfunction

        function s__Attract_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

  function s__Attract_create takes unit caster,real radius,real interval,real speed returns integer
      local integer this= s__Attract__allocate()
      local timer t
			set s__Attract_caster[this]=caster
			set s__Attract_radius[this]=radius
			set s__Attract_interval[this]=interval
			set s__Attract_speed[this]=speed
			set s__Attract_forbitHero[this]=false
			return this
  endfunction

  function s__Attract_SetForbitHero takes integer this returns nothing
			set s__Attract_forbitHero[this]=true
  endfunction

  function s__Attract_start takes integer this returns nothing
			set s__Attract_t[this]=CreateTimer()
			call s__Attract__staticsetindex(s__Attract_t[this], (this))
			call TimerStart(s__Attract_t[this], s__Attract_interval[this], true, function s__Attract_attract)
  endfunction

  function s__Attract_onDestroy takes integer this returns nothing
			call s__Attract_flush(s__Attract_t[this])
			set s__Attract_caster[this]=null
			call PauseTimer(s__Attract_t[this])
			call DestroyTimer(s__Attract_t[this])
			set s__Attract_t[this]=null
  endfunction

//Generated destructor of Attract
function s__Attract_deallocate takes integer this returns nothing
    if this==null then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: Attract")
        return
    elseif (si__Attract_V[this]!=-1) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: Attract")
        return
    endif
    call s__Attract_onDestroy(this)
    set si__Attract_V[this]=si__Attract_F
    set si__Attract_F=this
endfunction

//---------------------------------------------------------------------------------------------------



  function s__Missile_explode takes nothing returns nothing
   local integer this= sc__Missile__staticgetindex(GetExpiredTimer())
   local group l_group= CreateGroup()
   local unit l_unit
			call GroupEnumUnitsInRange(l_group, s__Missile_x[this], s__Missile_y[this], s__Missile_radius[this], null)
			loop
			    set l_unit=FirstOfGroup(l_group)
			    exitwhen l_unit == null
			    call GroupRemoveUnit(l_group, l_unit)
			    if ( IsEnemyM(l_unit , s__Missile_caster[this]) == true ) then
			    	call UnitDamageTarget(s__Missile_caster[this], l_unit, s__Missile_damage[this], false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			    endif
			endloop
			call DestroyGroup(l_group)
			set l_group=null
			set l_unit=null
			call sc__Missile_deallocate(this)
  endfunction

  function s__Missile_launch takes nothing returns nothing
   local integer this= sc__Missile__staticgetindex(GetExpiredTimer())
			call DestroyEffect(AddSpecialEffect(s__Missile_effx[this], s__Missile_x[this], s__Missile_y[this]))
			call PauseTimer(s__Missile_t[this])
			call TimerStart(s__Missile_t[this], s__Missile_interval2[this], false, function s__Missile_explode)
  endfunction


        function s__Missile__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__Missile__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("SPellBase" , I2S(YDWEH2I(h)) , value)
        endfunction

        function s__Missile_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

  function s__Missile_create takes unit caster,integer preview,string effx,real radius,real range,real interval1,real interval2,real damage returns integer
      local integer this= s__Missile__allocate()
      local real Rangel= GetRandomReal(- 180, 180)
      local real Rradius= GetRandomReal(0, range)
		   	set s__Missile_x[this]=GetUnitX(caster) + Rradius * CosBJ(Rangel)
		   	set s__Missile_y[this]=GetUnitY(caster) + Rradius * SinBJ(Rangel)
			set s__Missile_caster[this]=caster
			set s__Missile_effx[this]=effx
			set s__Missile_radius[this]=radius
			set s__Missile_interval1[this]=interval1
			set s__Missile_interval2[this]=interval2
			set s__Missile_damage[this]=damage

			set s__Missile_t[this]=CreateTimer()
			call s__Missile__staticsetindex(s__Missile_t[this], (this))
			call UnitApplyTimedLifeBJ(interval1 + interval2, 'BHwe', CreateUnit(GetOwningPlayer(s__Missile_caster[this]), preview, s__Missile_x[this], s__Missile_y[this], 0))
			call TimerStart(s__Missile_t[this], s__Missile_interval1[this], false, function s__Missile_launch)
			return this
  endfunction


  function s__Missile_onDestroy takes integer this returns nothing
			call s__Missile_flush(s__Missile_t[this])
			set s__Missile_caster[this]=null
			call PauseTimer(s__Missile_t[this])
			call DestroyTimer(s__Missile_t[this])
			set s__Missile_t[this]=null
  endfunction

//Generated destructor of Missile
function s__Missile_deallocate takes integer this returns nothing
    if this==null then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: Missile")
        return
    elseif (si__Missile_V[this]!=-1) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: Missile")
        return
    endif
    call s__Missile_onDestroy(this)
    set si__Missile_V[this]=si__Missile_F
    set si__Missile_F=this
endfunction

//---------------------------------------------------------------------------------------------------
	


  function s__Roubang_roubangrotate takes nothing returns nothing
   local integer this= sc__Roubang__staticgetindex(GetExpiredTimer())
   local integer i= 1
			if ( not ( IsUnitAliveBJ(s__Roubang_caster[this]) ) and GetUnitAbilityLevel(s__Roubang_caster[this], 'A0KH') < 1 ) then
				call sc__Roubang_deallocate(this)
			endif
			set s__Roubang_cAngle[this]=ModuloReal(s__Roubang_cAngle[this] + s__Roubang_aSpeed[this], 360.)
			loop
				exitwhen i > s__Roubang_number[this]
				if ( s___Roubang_URou[s__Roubang_URou[this]+i] != null ) then
					call SetUnitX(s___Roubang_URou[s__Roubang_URou[this]+i], YDWECoordinateX(GetUnitX(s__Roubang_caster[this]) + s__Roubang_radius[this] * ( 2 * i - 1 ) * CosBJ(s__Roubang_cAngle[this])))
					call SetUnitY(s___Roubang_URou[s__Roubang_URou[this]+i], YDWECoordinateY(GetUnitY(s__Roubang_caster[this]) + s__Roubang_radius[this] * ( 2 * i - 1 ) * SinBJ(s__Roubang_cAngle[this])))
					call SetUnitFacing(s___Roubang_URou[s__Roubang_URou[this]+i], s__Roubang_cAngle[this] + 90)
				endif
				set i=i + 1
			endloop
  endfunction

        function s__Roubang__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__Roubang__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("SPellBase" , I2S(YDWEH2I(h)) , value)
        endfunction

        function s__Roubang_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

  function s__Roubang_create takes unit caster,integer number,real radius,real aSpeed,real angle,integer utype returns integer
   local integer i= 2
      local integer this= s__Roubang__allocate()
			set s__Roubang_caster[this]=caster
			set s__Roubang_number[this]=IMinBJ(29, number)
			set s__Roubang_radius[this]=radius
			set s__Roubang_aSpeed[this]=aSpeed
			set s__Roubang_cAngle[this]=angle
			set s__Roubang_t[this]=CreateTimer()
			call s__Roubang__staticsetindex(s__Roubang_t[this], (this))
			set s___Roubang_URou[s__Roubang_URou[this]+1]=null
		   	loop
		   		exitwhen i > IMinBJ(29, number)
	   			set s___Roubang_URou[s__Roubang_URou[this]+i]=CreateUnit(GetOwningPlayer(caster), utype, YDWECoordinateX(GetUnitX(caster) + radius * ( 2 * i - 1 ) * CosBJ(angle)), YDWECoordinateY(GetUnitY(caster) + radius * ( 2 * i - 1 ) * SinBJ(angle)), angle + 90)
		   		set i=i + 1
		   	endloop
			call TimerStart(s__Roubang_t[this], 0.05, true, function s__Roubang_roubangrotate)
			return this
  endfunction


  function s__Roubang_onDestroy takes integer this returns nothing
   local integer i= 1
			call s__Roubang_flush(s__Roubang_t[this])
			set s__Roubang_caster[this]=null
			loop
				exitwhen i > s__Roubang_number[this]
				if ( s___Roubang_URou[s__Roubang_URou[this]+i] != null ) then
					call RemoveUnit(s___Roubang_URou[s__Roubang_URou[this]+i])
					set s___Roubang_URou[s__Roubang_URou[this]+i]=null
				endif
				set i=i + 1
			endloop
			call PauseTimer(s__Roubang_t[this])
			call DestroyTimer(s__Roubang_t[this])
			set s__Roubang_aSpeed[this]=0.
			set s__Roubang_cAngle[this]=0.
			set s__Roubang_radius[this]=0.
			set s__Roubang_number[this]=0
			set s__Roubang_t[this]=null
  endfunction

//Generated destructor of Roubang
function s__Roubang_deallocate takes integer this returns nothing
    if this==null then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: Roubang")
        return
    elseif (si__Roubang_V[this]!=-1) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: Roubang")
        return
    endif
    call s__Roubang_onDestroy(this)
    set si__Roubang_V[this]=si__Roubang_F
    set si__Roubang_F=this
endfunction

//---------------------------------------------------------------------------------------------------
	
		
		
  function s__MultiLife_flashLoc takes nothing returns nothing
   local integer this= sc__MultiLife__staticgetindex(GetExpiredTimer())
			if ( s__MultiLife_current[this] >= s__MultiLife_times[this] ) then
				return
			endif
			call SetTextTagPosUnitBJ(s__MultiLife_ttHint[this], s__MultiLife_caster[this], 20)
			if not ( IsUnitAliveBJ(s__MultiLife_caster[this]) ) then
				set s__MultiLife_current[this]=s__MultiLife_current[this] + 1
				call SetUnitLifePercentBJ(s__MultiLife_caster[this], 100)
				call SetTextTagTextBJ(s__MultiLife_ttHint[this], I2S(s__MultiLife_current[this]) + "/" + I2S(s__MultiLife_times[this]) + "Ê¨°ÁîüÂëΩ", 20)
				if ( s__MultiLife_current[this] >= s__MultiLife_times[this] ) then
					call UnitRemoveAbility(s__MultiLife_caster[this], 'A0KH')
				endif
			endif
  endfunction

  function s__MultiLife_getTimes takes integer this returns integer
			return s__MultiLife_current[this]
  endfunction

  function s__MultiLife__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__MultiLife__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("SPellBase" , I2S(YDWEH2I(h)) , value)
        endfunction

        function s__MultiLife_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__MultiLife_create takes unit caster,integer times returns integer

      local integer this
		   	set this=s__MultiLife__allocate()
			set s__MultiLife_caster[this]=caster
			set s__MultiLife_times[this]=times
			set s__MultiLife_ttHint[this]=CreateTextTagUnitBJ("1/" + I2S(times) + "Ê¨°ÁîüÂëΩ", caster, 0, 20, 0, 100, 100, 0)
			set s__MultiLife_current[this]=1
			//Âä†‰∏äÂ§çÊ¥ªÊäÄËÉΩ
			call UnitAddAbility(caster, 'A0KH')
			set s__MultiLife_t[this]=CreateTimer()
			call s__MultiLife__staticsetindex(s__MultiLife_t[this], (this))
			call TimerStart(s__MultiLife_t[this], 0.05, true, function s__MultiLife_flashLoc)
			return this
  endfunction

  function s__MultiLife_onDestroy takes integer this returns nothing
			call s__MultiLife_flush(s__MultiLife_t[this])
			call UnitRemoveAbility(s__MultiLife_caster[this], 'A0KH')
			call DestroyTextTag(s__MultiLife_ttHint[this])
			set s__MultiLife_ttHint[this]=null
			set s__MultiLife_caster[this]=null
			call PauseTimer(s__MultiLife_t[this])
			call DestroyTimer(s__MultiLife_t[this])
			set s__MultiLife_t[this]=null
  endfunction

//Generated destructor of MultiLife
function s__MultiLife_deallocate takes integer this returns nothing
    if this==null then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: MultiLife")
        return
    elseif (si__MultiLife_V[this]!=-1) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: MultiLife")
        return
    endif
    call s__MultiLife_onDestroy(this)
    set si__MultiLife_V[this]=si__MultiLife_F
    set si__MultiLife_F=this
endfunction

//---------------------------------------------------------------------------------------------------
	
		


  function s__SuperShield_flashLife takes nothing returns nothing

   local integer this= sc__SuperShield__staticgetindex(GetExpiredTimer())
			if ( IsUnitAliveBJ(s__SuperShield_caster[this]) ) then
				if ( s__SuperShield_current[this] <= s__SuperShield_times[this] and GetUnitState(s__SuperShield_caster[this], UNIT_STATE_LIFE) < ( GetUnitState(s__SuperShield_caster[this], UNIT_STATE_MAX_LIFE) * ( 1.0 - ( ( I2R(s__SuperShield_current[this]) ) / ( I2R(s__SuperShield_times[this] + 1) ) ) ) ) ) then
					call ImmuteDamageInterval(s__SuperShield_caster[this] , 5)
					call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(s__SuperShield_caster[this]), GetUnitY(s__SuperShield_caster[this])))
		    		call CreateSpellTextTag(I2S(s__SuperShield_current[this]) + "/" + I2S(s__SuperShield_times[this]) + "ÊÆµÊó†Êïå" , s__SuperShield_caster[this] , 100 , 0 , 0 , 4)
		    		call SetUnitLifePercentBJ(s__SuperShield_caster[this], 100.0 * ( 1.0 - ( ( I2R(s__SuperShield_current[this]) ) / ( I2R(s__SuperShield_times[this] + 1) ) ) ))
					call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL, s__SuperShield_caster[this])
					set s__SuperShield_current[this]=s__SuperShield_current[this] + 1
				endif
			else
				call sc__SuperShield_deallocate(this)
			endif

  endfunction


        function s__SuperShield__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__SuperShield__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("SPellBase" , I2S(YDWEH2I(h)) , value)
        endfunction

        function s__SuperShield_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

  function s__SuperShield_create takes unit caster,integer times returns integer

      local integer this= s__SuperShield__allocate()
			set s__SuperShield_caster[this]=caster
			set s__SuperShield_times[this]=times
			set s__SuperShield_current[this]=1

			set s__SuperShield_t[this]=CreateTimer()
			call s__SuperShield__staticsetindex(s__SuperShield_t[this], (this))
			call TimerStart(s__SuperShield_t[this], 0.5, true, function s__SuperShield_flashLife)
			return this
  endfunction


  function s__SuperShield_onDestroy takes integer this returns nothing
			call s__SuperShield_flush(s__SuperShield_t[this])
			set s__SuperShield_caster[this]=null
			call PauseTimer(s__SuperShield_t[this])
			call DestroyTimer(s__SuperShield_t[this])
			set s__SuperShield_t[this]=null
  endfunction

//Generated destructor of SuperShield
function s__SuperShield_deallocate takes integer this returns nothing
    if this==null then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: SuperShield")
        return
    elseif (si__SuperShield_V[this]!=-1) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: SuperShield")
        return
    endif
    call s__SuperShield_onDestroy(this)
    set si__SuperShield_V[this]=si__SuperShield_F
    set si__SuperShield_F=this
endfunction

//---------------------------------------------------------------------------------------------------
	
 function IJ1 takes unit u,integer i1,integer i2 returns integer
		if ( BJuexing1[GetConvertedPlayerId(GetOwningPlayer(u))] ) then
			return i1
		else
			return i2
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function RJ1 takes unit u,real r1,real r2 returns real
		if ( BJuexing1[GetConvertedPlayerId(GetOwningPlayer(u))] ) then
			return r1
		else
			return r2
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IJ2 takes unit u,integer i1,integer i2 returns integer
		if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(u))] ) then
			return i1
		else
			return i2
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function RJ2 takes unit u,real r1,real r2 returns real
		if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(u))] ) then
			return r1
		else
			return r2
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function IJ3 takes unit u,integer i1,integer i2 returns integer
		if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(u))] ) then
			return i1
		else
			return i2
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function RJ3 takes unit u,real r1,real r2 returns real
		if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(u))] ) then
			return r1
		else
			return r2
		endif
	endfunction


//---------------------------------------------------------------------------------------------------

	
 function GetDamageStr takes unit u returns real
  local unit uH= udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
  local real damage= ( ( GetHeroStr(uH, true) * 1.80 ) + ( GetHeroAgi(uH, true) ) + ( GetHeroInt(uH, true) * 1.20 ) ) * SquareRoot(GetHeroLevel(uH)) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(uH))]
		set uH=null
		return damage
	endfunction

	
 function GetDamageChenji takes unit u returns real
  local unit uH= udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
  local real damage=  ( GetHeroStr(uH, true) ) * 2 * SquareRoot(GetHeroLevel(uH)) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(uH))]
		set uH=null
		return damage
	endfunction

	
 function GetDamageAgi takes unit u returns real
  local unit uH= udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
  local real damage= ( ( GetHeroStr(uH, true) ) + ( GetHeroAgi(uH, true) * 1.80 ) + ( GetHeroInt(uH, true) * 1.20 ) ) * SquareRoot(GetHeroLevel(uH)) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(uH))]
		set uH=null
		return damage
	endfunction

	
 function GetDamageInt takes unit u returns real
  local unit uH= udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
  local real damage= ( ( GetHeroStr(uH, true) ) + ( GetHeroAgi(uH, true) ) + ( GetHeroInt(uH, true) * 2.0 ) ) * SquareRoot(GetHeroLevel(uH)) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(uH))]
		set uH=null
		return damage
	endfunction	

	
 function GetDamageBase takes unit u returns real
  local unit uH= udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
  local real damage= ( ( GetHeroStr(uH, true) * 1.30 ) + ( GetHeroAgi(uH, true) * 1.30 ) + ( GetHeroInt(uH, true) * 1.3 ) ) * SquareRoot(GetHeroLevel(uH)) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(uH))]
		set uH=null
		return damage
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsSecondSpellOK takes unit hero returns boolean
		return GetPlayerTechCountSimple('R006', GetOwningPlayer(hero)) == 1
	endfunction

	
 function IsThirdSpellOK takes unit hero returns boolean
		return GetPlayerTechCountSimple('R007', GetOwningPlayer(hero)) == 1
	endfunction

	
 function IsFourthSpellOK takes unit hero returns boolean
		return GetPlayerTechCountSimple('R008', GetOwningPlayer(hero)) == 1
	endfunction

	
 function IsFifthSpellOK takes unit hero returns boolean
		return ( GetPlayerTechCountSimple('R009', GetOwningPlayer(hero)) == 1 ) and ( GetPlayerTechCountSimple('R00A', GetOwningPlayer(hero)) == 1 ) and ( GetPlayerTechCountSimple('R00B', GetOwningPlayer(hero)) == 1 )
	endfunction
//---------------------------------------------------------------------------------------------------



//library SpellBase ends
//library Structs:
	
//---------------------------------------------------------------------------------------------------
	

  function s__TextTagBind_flash takes nothing returns nothing
   local integer this= sc__TextTagBind__staticgetindex(GetExpiredTimer())
			call SetTextTagPos(s__TextTagBind_tt[this], YDWECoordinateX(GetUnitX(s__TextTagBind_caster[this]) - s__TextTagBind_xOff[this]), YDWECoordinateY(GetUnitY(s__TextTagBind_caster[this]) - s__TextTagBind_yOff[this]), 20)
  endfunction

        function s__TextTagBind__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("TextTagBind" , I2S(YDWEH2I(h)))
        endfunction

        function s__TextTagBind__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("TextTagBind" , I2S(YDWEH2I(h)) , value)
        endfunction

        function s__TextTagBind_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("TextTagBind" , I2S(YDWEH2I(h)))
        endfunction

  function s__TextTagBind_create takes unit caster,real xOff,real yOff returns integer
      local integer this= s__TextTagBind__allocate()
      local location point= Location(YDWECoordinateX(GetUnitX(caster) - xOff), YDWECoordinateY(GetUnitY(caster) - yOff))
			set s__TextTagBind_xOff[this]=xOff
			set s__TextTagBind_yOff[this]=yOff
			set s__TextTagBind_caster[this]=caster
			set s__TextTagBind_tt[this]=CreateTextTagLocBJ("", point, 0, 20.00, 0, 100, 100, 0)
			set s__TextTagBind_t[this]=CreateTimer()
			call s__TextTagBind__staticsetindex(s__TextTagBind_t[this], (this))
			call TimerStart(s__TextTagBind_t[this], 0.05, true, function s__TextTagBind_flash)
			call RemoveLocation(point)
			set point=null
			return this
  endfunction

  function s__TextTagBind_setContent takes integer this,string s returns nothing
			call SetTextTagTextBJ(s__TextTagBind_tt[this], s, 20)
  endfunction

  function s__TextTagBind_onDestroy takes integer this returns nothing
			call s__TextTagBind_flush(s__TextTagBind_t[this])
			set s__TextTagBind_caster[this]=null
			call DestroyTextTag(s__TextTagBind_tt[this])
			set s__TextTagBind_tt[this]=null
			set s__TextTagBind_xOff[this]=0.
			set s__TextTagBind_yOff[this]=0.
			call PauseTimer(s__TextTagBind_t[this])
			call DestroyTimer(s__TextTagBind_t[this])
			set s__TextTagBind_t[this]=null
  endfunction

//Generated destructor of TextTagBind
function s__TextTagBind_deallocate takes integer this returns nothing
    if this==null then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: TextTagBind")
        return
    elseif (si__TextTagBind_V[this]!=-1) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: TextTagBind")
        return
    endif
    call s__TextTagBind_onDestroy(this)
    set si__TextTagBind_V[this]=si__TextTagBind_F
    set si__TextTagBind_F=this
endfunction




//library Structs ends
//library TouristTrap:

	
//---------------------------------------------------------------------------------------------------
	
 function TouristTrap___TTouristTrapSellCon takes nothing returns boolean
		return ( GetUnitTypeId(GetSellingUnit()) == 'uS01' )
	endfunction
	
 function TouristTrap___TTouristTrapSellAct takes nothing returns nothing
  local integer index= GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))
  local integer lumber
		if not ( HasCombineHalf[index] ) then
			call DisplayTextToPlayer(ConvertedPlayer(index), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†‰ªéÊú™ÂêàÊàêËøá‰ªª‰∏ÄÂçäË∂ÖÁ•ûÂô®ÔºÅ")
			return
		endif
		if ( HasLiuli(GetBuyingUnit()) ) then
			set lumber=1000
		else
			set lumber=3000
		endif

		if ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) < lumber ) then
			call DisplayTextToPlayer(ConvertedPlayer(index), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + I2S(lumber) + "ÁöÑÊú®Â§¥ÔºÅ")
			return
		endif

		call AdjustPlayerStateBJ(- 1 * lumber, ConvertedPlayer(index), PLAYER_STATE_RESOURCE_LUMBER)
		call DisplayTextToPlayer(ConvertedPlayer(index), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rË¥≠‰π∞ÊàêÂäüÔºÅ")


//textmacro instance: GiveMaxShen("IXU2","olig")
			if ( ( GetItemTypeId(GetSoldItem()) == 'IXU2' ) ) then
				call UnitAddItemByIdSwapped('olig', GetBuyingUnit())
        		call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
	            return
			endif
//end of: GiveMaxShen("IXU2","olig")
//textmacro instance: GiveMaxShen("IXU3","srtl")
			if ( ( GetItemTypeId(GetSoldItem()) == 'IXU3' ) ) then
				call UnitAddItemByIdSwapped('srtl', GetBuyingUnit())
        		call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
	            return
			endif
//end of: GiveMaxShen("IXU3","srtl")
//textmacro instance: GiveMaxShen("IXU4","shhn")
			if ( ( GetItemTypeId(GetSoldItem()) == 'IXU4' ) ) then
				call UnitAddItemByIdSwapped('shhn', GetBuyingUnit())
        		call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
	            return
			endif
//end of: GiveMaxShen("IXU4","shhn")
//textmacro instance: GiveMaxShen("IXU5","flag")
			if ( ( GetItemTypeId(GetSoldItem()) == 'IXU5' ) ) then
				call UnitAddItemByIdSwapped('flag', GetBuyingUnit())
        		call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
	            return
			endif
//end of: GiveMaxShen("IXU5","flag")
//textmacro instance: GiveMaxShen("IXU6","shcw")
			if ( ( GetItemTypeId(GetSoldItem()) == 'IXU6' ) ) then
				call UnitAddItemByIdSwapped('shcw', GetBuyingUnit())
        		call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
	            return
			endif
//end of: GiveMaxShen("IXU6","shcw")
//textmacro instance: GiveMaxShen("IXU7","shtm")
			if ( ( GetItemTypeId(GetSoldItem()) == 'IXU7' ) ) then
				call UnitAddItemByIdSwapped('shtm', GetBuyingUnit())
        		call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
	            return
			endif
//end of: GiveMaxShen("IXU7","shtm")
	endfunction
		
//---------------------------------------------------------------------------------------------------
	
 function TouristTrap___InitTouristTrap takes nothing returns nothing


  local trigger t= CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SELL_ITEM)
		call TriggerAddCondition(t, Condition(function TouristTrap___TTouristTrapSellCon))
		call TriggerAddAction(t, function TouristTrap___TTouristTrapSellAct)
		set t=null
	endfunction

//library TouristTrap ends
//library UseItem:
    
//---------------------------------------------------------------------------------------------------
    
    function UseItem___TUseItem takes nothing returns nothing
        if ( ( GetItemTypeId(GetManipulatedItem()) == 'pomn' ) ) then
            call SetHeroLevelBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], ( GetHeroLevel(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + 50 ), true)
        elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I001' ) ) then
            call SetUnitLifeBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + 10000.00 ))
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I02W' ) ) then
            call SetUnitLifeBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + 50000.00 ))
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I000' ) ) then
            call SetUnitLifeBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + 250000.00 ))
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I002' ) ) then
            call SetUnitLifeBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + 1250000.00 ))
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I01D' ) ) then
            call SetUnitLifeBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + 20000000.00 ))
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    function UseItem___InitUse takes nothing returns nothing
        
        local trigger t= CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_USE_ITEM)
        call TriggerAddAction(t, function UseItem___TUseItem)
        set t=null
    endfunction

//library UseItem ends
//library Wing:
	

//---------------------------------------------------------------------------------------------------
	
 function Wing__WingDialogClick takes nothing returns nothing
     local dialog d= GetClickedDialogBJ()
     local unit u= LoadUnitHandle(itemTable, GetHandleId(d), kWingUnit)


//textmacro instance: WingClick("1")

	        if ( GetClickedButtonBJ() == LoadButtonHandle(itemTable, GetHandleId(d), kWingDialog1) ) then
	        	call SetUnitX(u, GetRectCenterX(gg_rct____1))
	        	call SetUnitY(u, GetRectCenterY(gg_rct____1))
		        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct____1), GetRectCenterY(gg_rct____1), 0.2)
		        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct____1), GetRectCenterY(gg_rct____1)))
		        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	        endif
//end of: WingClick("1")
//textmacro instance: WingClick("2")

	        if ( GetClickedButtonBJ() == LoadButtonHandle(itemTable, GetHandleId(d), kWingDialog2) ) then
	        	call SetUnitX(u, GetRectCenterX(gg_rct____2))
	        	call SetUnitY(u, GetRectCenterY(gg_rct____2))
		        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct____2), GetRectCenterY(gg_rct____2), 0.2)
		        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct____2), GetRectCenterY(gg_rct____2)))
		        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	        endif
//end of: WingClick("2")
//textmacro instance: WingClick("3")

	        if ( GetClickedButtonBJ() == LoadButtonHandle(itemTable, GetHandleId(d), kWingDialog3) ) then
	        	call SetUnitX(u, GetRectCenterX(gg_rct____3))
	        	call SetUnitY(u, GetRectCenterY(gg_rct____3))
		        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct____3), GetRectCenterY(gg_rct____3), 0.2)
		        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct____3), GetRectCenterY(gg_rct____3)))
		        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	        endif
//end of: WingClick("3")
//textmacro instance: WingClick("4")

	        if ( GetClickedButtonBJ() == LoadButtonHandle(itemTable, GetHandleId(d), kWingDialog4) ) then
	        	call SetUnitX(u, GetRectCenterX(gg_rct____4))
	        	call SetUnitY(u, GetRectCenterY(gg_rct____4))
		        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct____4), GetRectCenterY(gg_rct____4), 0.2)
		        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct____4), GetRectCenterY(gg_rct____4)))
		        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	        endif
//end of: WingClick("4")
//textmacro instance: WingClick("5")

	        if ( GetClickedButtonBJ() == LoadButtonHandle(itemTable, GetHandleId(d), kWingDialog5) ) then
	        	call SetUnitX(u, GetRectCenterX(gg_rct____5))
	        	call SetUnitY(u, GetRectCenterY(gg_rct____5))
		        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct____5), GetRectCenterY(gg_rct____5), 0.2)
		        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct____5), GetRectCenterY(gg_rct____5)))
		        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	        endif
//end of: WingClick("5")
//textmacro instance: WingClick("6")

	        if ( GetClickedButtonBJ() == LoadButtonHandle(itemTable, GetHandleId(d), kWingDialog6) ) then
	        	call SetUnitX(u, GetRectCenterX(gg_rct____6))
	        	call SetUnitY(u, GetRectCenterY(gg_rct____6))
		        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct____6), GetRectCenterY(gg_rct____6), 0.2)
		        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct____6), GetRectCenterY(gg_rct____6)))
		        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	        endif
//end of: WingClick("6")

        call FlushChildHashtable(itemTable, GetHandleId(d))
    	call DialogDisplay(GetOwningPlayer(u), d, false)
        call DialogClear(d)
        call DialogDestroy(d)
        set d=null
        set u=null
        call DestroyTrigger(GetTriggeringTrigger())
	endfunction

 function CreateWingDialog takes unit u returns nothing
     local trigger t= CreateTrigger()
     local dialog d= DialogCreate()

	    call DialogSetMessage(d, "ËØ∑ÈÄâÊã©ËøõÂÖ•ÁöÑÁøÖËÜÄÂå∫")
	    call SaveButtonHandle(itemTable, GetHandleId(d), kWingDialog1, DialogAddButton(d, "ÁøÖËÜÄ1Âå∫", '1'))
	    call SaveButtonHandle(itemTable, GetHandleId(d), kWingDialog2, DialogAddButton(d, "ÁøÖËÜÄ2Âå∫", '2'))
	    call SaveButtonHandle(itemTable, GetHandleId(d), kWingDialog3, DialogAddButton(d, "ÁøÖËÜÄ3Âå∫", '3'))
	    call SaveButtonHandle(itemTable, GetHandleId(d), kWingDialog4, DialogAddButton(d, "ÁøÖËÜÄ4Âå∫", '4'))
	    call SaveButtonHandle(itemTable, GetHandleId(d), kWingDialog5, DialogAddButton(d, "ÁøÖËÜÄ5Âå∫", '5'))
	    call SaveButtonHandle(itemTable, GetHandleId(d), kWingDialog6, DialogAddButton(d, "ÁøÖËÜÄ6Âå∫", '6'))
	    call SaveUnitHandle(itemTable, GetHandleId(d), kWingUnit, u)
	    call DialogDisplay(GetOwningPlayer(u), d, true)
	    call TriggerRegisterDialogEvent(t, d)
	    call TriggerAddAction(t, function Wing__WingDialogClick)
	    set d=null
	    set t=null
	endfunction


//library Wing ends
//library Aura:
	

//---------------------------------------------------------------------------------------------------
	
 function Aura___TSpellYanmie3Con takes nothing returns boolean
		return udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] != null and ( IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitPointValue(GetDyingUnit()) != 0 ) and ( GetUnitTypeId(GetDyingUnit()) != 'h000' ) and ( IsUnitAlly(GetDyingUnit(), GetOwningPlayer(GetKillingUnitBJ())) != true ) and ( GetPlayerController(GetOwningPlayer(GetKillingUnitBJ())) == MAP_CONTROL_USER )
	endfunction

 function Aura___TSpellYanmie3Act takes nothing returns nothing
  local integer i= GetKillCount(GetDyingUnit())
  local integer index= GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
		set Aura___YKillCount[index]=Aura___YKillCount[index] + i
		if ( Aura___YKillCount[index] >= 100 ) then
			call AddHero3W(udg_H[index] , GetHeroLevel(udg_H[index]) + 200)
			set Aura___YKillCount[index]=0
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitKaisaAura takes nothing returns nothing
		call UnitAddAbility(gg_unit_n01S_0258, 'A0JU')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitYanmieAura takes nothing returns nothing
		set Aura___TSpellYanmie3=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(Aura___TSpellYanmie3, EVENT_PLAYER_UNIT_DEATH)
		call TriggerAddCondition(Aura___TSpellYanmie3, Condition(function Aura___TSpellYanmie3Con))
		call TriggerAddAction(Aura___TSpellYanmie3, function Aura___TSpellYanmie3Act)
		//ÊπÆÁÅ≠Êñ∞ÂÖâÁéØTodo
		call UnitAddAbility(gg_unit_n01S_0258, 'A0HF')
		call BJDebugMsg("|cffff66cc„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤Ëé∑ÂæóÊù•Ëá™|cFF3333FFÈõ∑Á•ûÂØÇÁÅ≠|rÂÖâÁéØÁöÑÊïàÊûú,ÊùÄÊÄ™ÂèØ‰ª•Â¢ûÂä†|cffffff00(Ëã±ÈõÑÁ≠âÁ∫ß/100 + 2)ÁÇπÂÖ®Â±ûÊÄß|r.")
		call BJDebugMsg("|cffff66cc„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤Ëé∑ÂæóÊù•Ëá™|cFF3333FFÈõ∑Á•ûÂØÇÁÅ≠|rÂÖâÁéØÁöÑÊïàÊûú,ÊùÄÊÄ™ÂèØ‰ª•Â¢ûÂä†|cffffff00(Ëã±ÈõÑÁ≠âÁ∫ß/100 + 2)ÁÇπÂÖ®Â±ûÊÄß|r.")
		call BJDebugMsg("|cffff66cc„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤Ëé∑ÂæóÊù•Ëá™|cFF3333FFÈõ∑Á•ûÂØÇÁÅ≠|rÂÖâÁéØÁöÑÊïàÊûú,ÊùÄÊÄ™ÂèØ‰ª•Â¢ûÂä†|cffffff00(Ëã±ÈõÑÁ≠âÁ∫ß/100 + 2)ÁÇπÂÖ®Â±ûÊÄß|r.")
		call BJDebugMsg("|cffff66cc„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤Ëé∑ÂæóÊù•Ëá™|cFF3333FFÈõ∑Á•ûÂØÇÁÅ≠|rÂÖâÁéØÁöÑÊïàÊûú,ÊùÄÊÄ™ÂèØ‰ª•Â¢ûÂä†|cffffff00(Ëã±ÈõÑÁ≠âÁ∫ß/100 + 2)ÁÇπÂÖ®Â±ûÊÄß|r.")
		call BJDebugMsg("|cffff66cc„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤Ëé∑ÂæóÊù•Ëá™|cFF3333FFÈõ∑Á•ûÂØÇÁÅ≠|rÂÖâÁéØÁöÑÊïàÊûú,ÊùÄÊÄ™ÂèØ‰ª•Â¢ûÂä†|cffffff00(Ëã±ÈõÑÁ≠âÁ∫ß/100 + 2)ÁÇπÂÖ®Â±ûÊÄß|r.")
		endfunction
//---------------------------------------------------------------------------------------------------
	
 function Aura___SanchuanShunTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local integer playerID= LoadInteger(spellTable, GetHandleId(t), 1)
		if not ( Aura___shunHints[playerID] ) then
			call DisplayTextToPlayer(ConvertedPlayer(playerID), 0., 0., "|cffff66cc„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤Ëé∑ÂæóÊù•Ëá™|cffffff00Èò¥Èò≥‰∏âÂ∑ùÁÆ≠|rÂÖâÁéØÁöÑÊïàÊûú,|cffffcc00‰ΩøÁî®MÈîÆÂèØ‰ª•Áû¨ÁßªËá≥‰ªªÊÑèÂú∞ÁÇπ|r,ÂÜ∑Âç¥2.5s.")
		else
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
		endif
		set t=null
	endfunction

 function Aura___InitShunyi takes nothing returns nothing
  local timer t= null
  local integer i= 1
		loop
			exitwhen i > 6
			if ( udg_H[i] != null ) then
				set t=CreateTimer()
				call SaveInteger(spellTable, GetHandleId(t), 1, i)
				call TimerStart(t, 4, true, function Aura___SanchuanShunTimer)
				set Aura___shunHints[i]=false
    			call TriggerRegisterUnitEvent(Aura___TSpellMengji3, udg_H[i], EVENT_UNIT_ISSUED_POINT_ORDER)
			endif
			set i=i + 1
		endloop
		set t=null
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Aura___TSpellMengji3Con takes nothing returns boolean
	    return ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("move") ) and ( not ( Aura___shunHints[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) )
	endfunction

 function Aura___TSpellMengji3Act takes nothing returns nothing
		if ( IsInForbitRegion(GetOrderPointX() , GetOrderPointY() , GetTriggerUnit()) ) then
			call IssueImmediateOrder(GetTriggerUnit(), "stop")
	        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢Áû¨ÁßªÂà∞Ëææ.")
	        return
		endif
	    if ( IsTerrainPathable(GetOrderPointX(), GetOrderPointY(), PATHING_TYPE_WALKABILITY) ) then
	    	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁõÆÊ†áÂú∞ÁÇπ‰∏çËÉΩÈÄöË°å,Áû¨ÁßªÂ§±Ë¥•ÔºÅ")
	    	return
	    endif
		set Aura___shunHints[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
		call SetUnitX(GetTriggerUnit(), GetOrderPointX())
		call SetUnitY(GetTriggerUnit(), GetOrderPointY())
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", GetOrderPointX(), GetOrderPointY()))
		call PolledWait(2.5)
		set Aura___shunHints[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitXiaoyueAura takes nothing returns nothing
		call UnitAddAbilityBJ('A0AJ', gg_unit_n01S_0258)
	    call EnableTrigger(gg_trg_____________71)
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function InitXuanxueAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call AddDamagePercent(i , 0.4)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'A0JV')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitBajueAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call AddStrPercent(i , 0.4)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'AOae')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitSeyuAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call AddAgiPercent(i , 0.4)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'A0JW')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitMoqiAura takes nothing returns nothing
		call UnitAddAbility(gg_unit_n01S_0258, 'A04I')
		call EnableTrigger(gg_trg_______21)
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function InitLingxueAura takes nothing returns nothing
	    call UnitAddAbilityBJ('A0FY', gg_unit_n01S_0258)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitChenjiAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call AddDefensePercent(i , 0.4)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'A0JX')
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function InitHanshangAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
            call AddMoneyPercent(i , 0.5)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'A0JY')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitTaiyaAura takes nothing returns nothing
		call UnitAddAbility(gg_unit_n01S_0258, 'A0JZ')
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function InitSheyanAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
            call AddIntPercent(i , 0.4)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'A0K0')
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function InitHeiyanAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call AddHPPercent(i , 0.5)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'A0GR')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitCanglingAura takes nothing returns nothing
		call UnitAddAbility(gg_unit_n01S_0258, 'A0HR')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitMengjiAura takes nothing returns nothing
		
	    //Ëã±ÈõÑÁ¨¨‰∏â‰∏™ÊäÄËÉΩÁû¨Áßª‰∫ã‰ª∂
	    set Aura___TSpellMengji3=CreateTrigger()
	    call TriggerAddCondition(Aura___TSpellMengji3, Condition(function Aura___TSpellMengji3Con))
	    call TriggerAddAction(Aura___TSpellMengji3, function Aura___TSpellMengji3Act)
		call UnitAddAbility(gg_unit_n01S_0258, 'A0EL')
		call Aura___InitShunyi()
		
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitHuanyiAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call AddSpellPercent(i , 0.6)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'A0GS')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitSichenAura takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call AddStrPercent(i , 0.2)
			call AddAgiPercent(i , 0.2)
			call AddIntPercent(i , 0.2)
			set i=i + 1
		endloop
		call UnitAddAbility(gg_unit_n01S_0258, 'A0JE')
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitSpecifyAura takes unit u returns nothing
  local integer index= GetHeroIndex(GetUnitTypeId(u))
		if ( index == 1 ) then
			call InitKaisaAura()
		elseif ( index == 2 ) then
			call InitYanmieAura()
		elseif ( index == 3 ) then
			call InitMoqiAura()
		elseif ( index == 4 ) then
			call InitXuanxueAura()
		elseif ( index == 5 ) then
			call InitBajueAura()
		elseif ( index == 6 ) then
			call InitSeyuAura()
		elseif ( index == 7 ) then
			call InitXiaoyueAura()
		elseif ( index == 8 ) then
			call InitLingxueAura()
		elseif ( index == 9 ) then
			call InitChenjiAura()
		elseif ( index == 10 ) then
			call InitHanshangAura()
		elseif ( index == 11 ) then
			call InitTaiyaAura()
		elseif ( index == 12 ) then
			call InitSheyanAura()
		elseif ( index == 13 ) then
			call InitHeiyanAura()
		elseif ( index == 14 ) then
			call InitMengjiAura()
		elseif ( index == 15 ) then
			call InitHuanyiAura()
		elseif ( index == 16 ) then
			call InitCanglingAura()
		elseif ( index == 17 ) then
			call InitSichenAura()
		endif
	endfunction


//library Aura ends
//library Huodong:

//---------------------------------------------------------------------------------------------------
	
 function IsHuodong7 takes nothing returns boolean
		//return true
		return ( ( DzAPI_Map_GetGameStartTime() / 10 ) > 149978880 ) and ( ( DzAPI_Map_GetGameStartTime() / 10 ) < 150315840 )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsJianianhua takes nothing returns boolean
		return true
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsTianyanOK takes nothing returns boolean
		return IsAchieveOK(Player(0) , 325)
	endfunction


//library Huodong ends
//library ItemAttr:
	
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemStr takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0x8D205575, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemAgi takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0x384C9D86, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemInt takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0x1B5C932E, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItem3W takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0x5BAE281D, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemHP takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0xFCD961C9, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemDefense takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0x81FD3994, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemAttack takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0x5039AFFB, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemXixue takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0x1ADEDE7B, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemZhishang takes integer itemID,integer value returns nothing
		call SaveInteger(YDHT, itemID, 0xA6870C96, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemFanji takes integer itemID,integer value returns nothing

		call SaveInteger(YDHT, itemID, 0x0F3DF677, value)

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemStrPerc takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0x06C64278, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemAgiPerc takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0x6FFF4132, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemIntPerc takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0xC0C6918C, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemAttackPerc takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0x4C0507D9, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemSpellPerc takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0xF374F3BD, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemDamagePerc takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0xA3BA0D94, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemJingyan takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0x3EBF688A, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemHPPer takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0xFAA305CD, value)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___SetItemDefensePer takes integer itemID,real value returns nothing
		call SaveReal(YDHT, itemID, 0x0B6FB20F, value)
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___InitErdianQi takes nothing returns nothing
		
		call ItemAttr___SetItemStrPerc('I049' , 0.2)
		call ItemAttr___SetItemAgiPerc('I049' , 0.2)
		call ItemAttr___SetItemIntPerc('I049' , 0.2)
		call ItemAttr___SetItemAttackPerc('I049' , 0.5)
		call ItemAttr___SetItemSpellPerc('I049' , 0.4)
		call ItemAttr___SetItemDamagePerc('I049' , 0.2)
		call ItemAttr___SetItemStrPerc('I04A' , 1)
		call ItemAttr___SetItemAgiPerc('I04A' , 1)
		call ItemAttr___SetItemIntPerc('I04A' , 1)
		call ItemAttr___SetItemAttackPerc('I04A' , 1)
		call ItemAttr___SetItemSpellPerc('I04A' , 1)
		call ItemAttr___SetItemDamagePerc('I04A' , 0.4)
		
		call ItemAttr___SetItemStr('ciri' , 400000)
		call ItemAttr___SetItemAgi('ciri' , 400000)
		call ItemAttr___SetItemInt('ciri' , 400000)
		call ItemAttr___SetItemDefense('ciri' , 20000)
		call ItemAttr___SetItemHP('ciri' , 9000000)
		call ItemAttr___SetItemSpellPerc('ciri' , 0.8)
		call ItemAttr___SetItemDamagePerc('ciri' , 0.25)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___InitErdianBa takes nothing returns nothing
		
		call ItemAttr___SetItemStr('tlum' , 320000)
		call ItemAttr___SetItemAgi('tlum' , 470000)
		call ItemAttr___SetItemInt('tlum' , 420000)
		call ItemAttr___SetItemSpellPerc('tlum' , 1.3)
		call ItemAttr___SetItemXixue('tlum' , 40000)
		call ItemAttr___SetItemZhishang('tlum' , 8000000)
		call ItemAttr___SetItemAttack('tlum' , 2000000)
		
		call ItemAttr___SetItem3W('rat9' , 3000)
	    call ItemAttr___SetItem3W('rlif' , 9000)
	    call ItemAttr___SetItem3W('lgdh' , 18000)
	    call ItemAttr___SetItem3W('clfm' , 30000)
	    call ItemAttr___SetItem3W('bgst' , 45000)
	    call ItemAttr___SetItem3W('belv' , 63000)
	    call ItemAttr___SetItem3W('hcun' , 84000)
	    call ItemAttr___SetItem3W('rag1' , 108000)
	    call ItemAttr___SetItem3W('penr' , 135000)
	    call ItemAttr___SetItem3W('brac' , 165000)
	    call ItemAttr___SetItem3W('lhst' , 240000)
	endfunction
//---------------------------------------------------------------------------------------------------
	
	
 function ItemAttr___InitDengClothes takes nothing returns nothing
		//ÁÅØ
	    call ItemAttr___SetItem3W('ILI1' , 1000)
	    call ItemAttr___SetItem3W('ILI2' , 3000)
	    call ItemAttr___SetItem3W('ILI3' , 7500)
	    call ItemAttr___SetItem3W('ILI4' , 15000)
	    call ItemAttr___SetItem3W('ILI5' , 25000)
	    call ItemAttr___SetItem3W('ILI6' , 40000)
	    call ItemAttr___SetItem3W('ILI7' , 60000)
	    call ItemAttr___SetItem3W('ILI8' , 80000)
	    call ItemAttr___SetItem3W('ILI9' , 120000)
	    call ItemAttr___SetItem3W('ILIA' , 150000)
	    call ItemAttr___SetItem3W('ILIB' , 180000)
	    call ItemAttr___SetItem3W('ILIC' , 200000)
	    call ItemAttr___SetItem3W('ILID' , 220000)
	    call ItemAttr___SetItem3W('ILIE' , 250000)
	    call ItemAttr___SetItem3W('ILIF' , 290000)
	    call ItemAttr___SetItem3W('ILIG' , 340000)
	    call ItemAttr___SetItem3W('ILIH' , 380000)
	    call ItemAttr___SetItem3W('ILII' , 420000)
	    call ItemAttr___SetItem3W('ILIJ' , 450000)
	    call ItemAttr___SetItem3W('ILIK' , 490000)
		call ItemAttr___SetItemXixue('ILI3' , 8000)
		call ItemAttr___SetItemXixue('ILI4' , 16000)
		call ItemAttr___SetItemXixue('ILI5' , 25000)
		call ItemAttr___SetItemXixue('ILI6' , 34000)
		call ItemAttr___SetItemXixue('ILI7' , 50000)
		call ItemAttr___SetItemXixue('ILI8' , 100000)
		call ItemAttr___SetItemXixue('ILI9' , 200000)
		call ItemAttr___SetItemXixue('ILIA' , 300000)
		call ItemAttr___SetItemXixue('ILIB' , 400000)
		call ItemAttr___SetItemXixue('ILIC' , 600000)
		call ItemAttr___SetItemXixue('ILID' , 800000)
		call ItemAttr___SetItemXixue('ILIE' , 1000000)
		call ItemAttr___SetItemXixue('ILIF' , 1300000)
		call ItemAttr___SetItemXixue('ILIG' , 1500000)
		call ItemAttr___SetItemXixue('ILIH' , 1800000)
		call ItemAttr___SetItemXixue('ILII' , 2200000)
		call ItemAttr___SetItemXixue('ILIJ' , 2800000)
		call ItemAttr___SetItemXixue('ILIK' , 3300000)

		//Ë°£Êúç
	    call ItemAttr___SetItemDefense('rej6' , 1500)
	    call ItemAttr___SetItemDefense('dtsb' , 2000)
	    call ItemAttr___SetItemDefense('tels' , 3000)
		call ItemAttr___SetItemDefense('ofir' , 3800)
		call ItemAttr___SetItemDefense('soul' , 5000)
		call ItemAttr___SetItemDefense('sbok' , 6000)
		call ItemAttr___SetItemDefense('arsc' , 9500)
		call ItemAttr___SetItemDefense('rde0' , 13000)
		call ItemAttr___SetItemDefense('oflg' , 13000)
		call ItemAttr___SetItemDefense('frgd' , 16000)
		call ItemAttr___SetItemDefense('rej4' , 2000)
		call ItemAttr___SetItemDefense('drph' , 3000)
		call ItemAttr___SetItemDefense('oven' , 3800)
		call ItemAttr___SetItemDefense('frhg' , 5000)
		call ItemAttr___SetItemDefense('mlst' , 6000)
		call ItemAttr___SetItemDefense('nspi' , 7000)
		call ItemAttr___SetItemDefense('oli2' , 10500)
		call ItemAttr___SetItemDefense('rump' , 13000)
		call ItemAttr___SetItemDefense('shen' , 15000)
		call ItemAttr___SetItemDefense('stpg' , 19000)
		call ItemAttr___SetItemDefense('pgin' , 1500)
		call ItemAttr___SetItemDefense('gobm' , 2000)
		call ItemAttr___SetItemDefense('gvsm' , 3000)
		call ItemAttr___SetItemDefense('gldo' , 3800)
		call ItemAttr___SetItemDefense('gsou' , 5000)
		call ItemAttr___SetItemDefense('envl' , 6000)
		call ItemAttr___SetItemDefense('rugt' , 7000)
		call ItemAttr___SetItemDefense('shdt' , 11000)
		call ItemAttr___SetItemDefense('crdt' , 13000)
		call ItemAttr___SetItemDefense('pspd' , 16000)
	    call ItemAttr___SetItemHP('rej6' , 200000)
		call ItemAttr___SetItemHP('dtsb' , 300000)
		call ItemAttr___SetItemHP('tels' , 400000)
		call ItemAttr___SetItemHP('ofir' , 500000)
		call ItemAttr___SetItemHP('soul' , 600000)
		call ItemAttr___SetItemHP('sbok' , 1750000)
		call ItemAttr___SetItemHP('arsc' , 2950000)
		call ItemAttr___SetItemHP('rde0' , 4200000)
		call ItemAttr___SetItemHP('oflg' , 4500000)
		call ItemAttr___SetItemHP('frgd' , 6000000)
		call ItemAttr___SetItemHP('rej4' , 300000)
		call ItemAttr___SetItemHP('drph' , 400000)
		call ItemAttr___SetItemHP('oven' , 500000)
		call ItemAttr___SetItemHP('frhg' , 600000)
		call ItemAttr___SetItemHP('mlst' , 750000)
		call ItemAttr___SetItemHP('nspi' , 1950000)
		call ItemAttr___SetItemHP('oli2' , 3200000)
		call ItemAttr___SetItemHP('rump' , 4500000)
		call ItemAttr___SetItemHP('shen' , 2000000)
		call ItemAttr___SetItemHP('stpg' , 6500000)
		call ItemAttr___SetItemHP('pgin' , 200000)
		call ItemAttr___SetItemHP('gobm' , 300000)
		call ItemAttr___SetItemHP('gvsm' , 400000)
		call ItemAttr___SetItemHP('gldo' , 500000)
		call ItemAttr___SetItemHP('gsou' , 600000)
		call ItemAttr___SetItemHP('envl' , 1750000)
		call ItemAttr___SetItemHP('rugt' , 2950000)
		call ItemAttr___SetItemHP('shdt' , 4200000)
		call ItemAttr___SetItemHP('crdt' , 4500000)
		call ItemAttr___SetItemHP('pspd' , 6000000)
    	call ItemAttr___SetItem3W('rej6' , 10000)
		call ItemAttr___SetItem3W('dtsb' , 16000)
		call ItemAttr___SetItem3W('tels' , 25000)
		call ItemAttr___SetItem3W('ofir' , 50000)
		call ItemAttr___SetItem3W('soul' , 80000)
		call ItemAttr___SetItem3W('sbok' , 120000)
		call ItemAttr___SetItem3W('arsc' , 150000)
		call ItemAttr___SetItem3W('rde0' , 210000)
		call ItemAttr___SetItem3W('oflg' , 270000)
		call ItemAttr___SetItem3W('frgd' , 320000)
		call ItemAttr___SetItem3W('rej4' , 6000)
		call ItemAttr___SetItem3W('drph' , 10000)
		call ItemAttr___SetItem3W('oven' , 16000)
		call ItemAttr___SetItem3W('frhg' , 35000)
		call ItemAttr___SetItem3W('mlst' , 60000)
		call ItemAttr___SetItem3W('nspi' , 100000)
		call ItemAttr___SetItem3W('oli2' , 130000)
		call ItemAttr___SetItem3W('rump' , 160000)
		call ItemAttr___SetItem3W('shen' , 220000)
		call ItemAttr___SetItem3W('stpg' , 280000)
		call ItemAttr___SetItem3W('pgin' , 6000)
		call ItemAttr___SetItem3W('gobm' , 10000)
		call ItemAttr___SetItem3W('gvsm' , 16000)
		call ItemAttr___SetItem3W('gldo' , 35000)
		call ItemAttr___SetItem3W('gsou' , 60000)
		call ItemAttr___SetItem3W('envl' , 100000)
		call ItemAttr___SetItem3W('rugt' , 130000)
		call ItemAttr___SetItem3W('shdt' , 160000)
		call ItemAttr___SetItem3W('crdt' , 220000)
		call ItemAttr___SetItem3W('pspd' , 280000)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___InitBeast takes nothing returns nothing

		call ItemAttr___SetItemJingyan('I01S' , 0.50)
	    call ItemAttr___SetItemJingyan('IB05' , 1.75)
	    call ItemAttr___SetItemJingyan('IB03' , 1.25)
	    call ItemAttr___SetItemJingyan('IB00' , 0.50)
	    call ItemAttr___SetItemJingyan('IB01' , 0.75)
	    call ItemAttr___SetItemJingyan('IB09' , 3.00)
	    call ItemAttr___SetItemJingyan('IB08' , 2.50)
	    call ItemAttr___SetItemJingyan('IB06' , 2.00)
	    call ItemAttr___SetItemJingyan('IB07' , 2.25)
	    call ItemAttr___SetItemJingyan('IB04' , 1.50)
	    call ItemAttr___SetItemJingyan('IB02' , 1.00)
	    call ItemAttr___SetItemJingyan('I04X' , 3.50)
	    call ItemAttr___SetItemJingyan('IB0A' , 3.50)

	    call ItemAttr___SetItemJingyan('ratc' , 5.00)
	    call ItemAttr___SetItemJingyan('I04L' , 6.00)
	    call ItemAttr___SetItemJingyan('I04M' , 6.00)

	    call ItemAttr___SetItemHP('IB05' , 3200000)
		call ItemAttr___SetItemHP('IB03' , 800000)
		call ItemAttr___SetItemHP('IB00' , 50000)
		call ItemAttr___SetItemHP('IB01' , 200000)
		call ItemAttr___SetItemHP('IB09' , 20000000)
		call ItemAttr___SetItemHP('I04X' , 30000000)
		call ItemAttr___SetItemHP('IB0A' , 30000000)
		call ItemAttr___SetItemHP('IB08' , 14000000)
		call ItemAttr___SetItemHP('IB06' , 5000000)
		call ItemAttr___SetItemHP('IB07' , 7000000)
		call ItemAttr___SetItemHP('IB04' , 1600000)
		call ItemAttr___SetItemHP('IB02' , 400000)
	    call ItemAttr___SetItem3W('IB05' , 32000)
	    call ItemAttr___SetItem3W('IB03' , 15000)
	    call ItemAttr___SetItem3W('IB01' , 5000)
	    call ItemAttr___SetItem3W('IB09' , 150000)
	    call ItemAttr___SetItem3W('I04X' , 220000)
	    call ItemAttr___SetItem3W('IB0A' , 220000)
	    call ItemAttr___SetItem3W('IB08' , 100000)
	    call ItemAttr___SetItem3W('IB06' , 50000)
	    call ItemAttr___SetItem3W('IB07' , 70000)
	    call ItemAttr___SetItem3W('IB04' , 24000)
	    call ItemAttr___SetItem3W('IB02' , 8000)
    
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemAttr___InitLeitai takes nothing returns nothing
		//ÊìÇÂè∞
		call ItemAttr___SetItem3W('prvt' , 1500)
	    call ItemAttr___SetItem3W('cnob' , 5000)
	    call ItemAttr___SetItem3W('rhth' , 8000)
	    call ItemAttr___SetItemStr('hval' , 30000)
	    call ItemAttr___SetItem3W('afac' , 30000)
	    call ItemAttr___SetItem3W('pmna' , 57000)
	    call ItemAttr___SetItem3W('evtl' , 100000)
	    call ItemAttr___SetItem3W('bspd' , 160000)

	    call ItemAttr___SetItem3W('mcou' , 250000)
		call ItemAttr___SetItemSpellPerc('mcou' , 0.70)
		call ItemAttr___SetItemAttack('mcou' , 2300000)
		call ItemAttr___SetItemDefensePer('mcou' , 0.15)
		call ItemAttr___SetItemDamagePerc('mcou' , 0.20)
		//ÁöéÊúà
	    call ItemAttr___SetItem3W('I04L' , 250000)
		call ItemAttr___SetItemSpellPerc('I04L' , 0.70)
		call ItemAttr___SetItemAttack('I04L' , 2300000)
		call ItemAttr___SetItemDefensePer('I04L' , 0.15)
		call ItemAttr___SetItemDamagePerc('I04L' , 0.20)
		//Ê∑∑Ê≤åÂ§úÂìÄ
	    call ItemAttr___SetItem3W('I04M' , 250000)
		call ItemAttr___SetItemSpellPerc('I04M' , 0.70)
		call ItemAttr___SetItemAttack('I04M' , 2300000)
		call ItemAttr___SetItemDefensePer('I04M' , 0.15)
		call ItemAttr___SetItemDamagePerc('I04M' , 0.20)

	    call ItemAttr___SetItemSpellPerc('cnob' , 0.15)
		call ItemAttr___SetItemSpellPerc('hval' , 0.25)
		call ItemAttr___SetItemSpellPerc('afac' , 0.40)
		call ItemAttr___SetItemSpellPerc('pmna' , 0.50)
		call ItemAttr___SetItemSpellPerc('evtl' , 0.55)
		call ItemAttr___SetItemSpellPerc('bspd' , 0.65)
		call ItemAttr___SetItemSpellPerc('rde3' , 0.30)
	    call ItemAttr___SetItemAttack('rhth' , 35000)
		call ItemAttr___SetItemAttack('afac' , 200000)
		call ItemAttr___SetItemAttack('bspd' , 1500000)
	    call ItemAttr___SetItemHP('rhth' , 100000)
	    call ItemAttr___SetItemHP('evtl' , 1000000)
	    call ItemAttr___SetItemDefense('hval' , 1000)
	    call ItemAttr___SetItemHPPer('pmna' , 0.10)
		call ItemAttr___SetItemHPPer('rde3' , 0.20)
		call ItemAttr___SetItemDefensePer('evtl' , 0.10)
		call ItemAttr___SetItemDefensePer('rde3' , 0.20)
		call ItemAttr___SetItemDamagePerc('evtl' , 0.10)
		call ItemAttr___SetItemDamagePerc('bspd' , 0.15)
		call ItemAttr___SetItemDamagePerc('rde3' , 0.20)
		call ItemAttr___SetItemStrPerc('rde3' , 0.20)
		call ItemAttr___SetItemAgiPerc('rde3' , 0.20)
		call ItemAttr___SetItemIntPerc('rde3' , 0.20)
		call ItemAttr___SetItemAttackPerc('rde3' , 0.50)

		call ItemAttr___SetItemHPPer('ssil' , 0.30)
		call ItemAttr___SetItemDefensePer('ssil' , 0.30)
		call ItemAttr___SetItemDamagePerc('ssil' , 0.30)
		call ItemAttr___SetItemStrPerc('ssil' , 0.30)
		call ItemAttr___SetItemAgiPerc('ssil' , 0.30)
		call ItemAttr___SetItemIntPerc('ssil' , 0.30)
		call ItemAttr___SetItemAttackPerc('ssil' , 0.75)
	    call ItemAttr___SetItemSpellPerc('ssil' , 0.45)

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitChaoshen takes nothing returns nothing
	    call ItemAttr___SetItemAttack('rst1' , 1500000)
	    call ItemAttr___SetItemSpellPerc('rst1' , 1.00)
	    call ItemAttr___SetItem3W('I05F' , 370000)
	    call ItemAttr___SetItemHP('I05F' , 2500000)
	    call ItemAttr___SetItemFanji('I05F' , 5000000)
	    call ItemAttr___SetItemSpellPerc('I05F' , 1.00)
	    call ItemAttr___SetItem3W('tbsm' , 350000)
	    call ItemAttr___SetItemDefense('tbsm' , 25000)
	    call ItemAttr___SetItemHP('tbsm' , 9000000)
	    call ItemAttr___SetItem3W('tfar' , 420000)
	    call ItemAttr___SetItemDefense('tfar' , 20000)
	    call ItemAttr___SetItemHP('tfar' , 7500000)
	    call ItemAttr___SetItem3W('tbak' , 350000)
	    call ItemAttr___SetItemHP('tbak' , 7500000)
	    call ItemAttr___SetItemDefense('tbak' , 20000)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitHundun takes nothing returns nothing
		
		call ItemAttr___SetItemStr('ICS1' , 360000)
		call ItemAttr___SetItemAgi('ICS1' , 510000)
		call ItemAttr___SetItemInt('ICS1' , 460000)
		call ItemAttr___SetItemSpellPerc('ICS1' , 1.4)
		call ItemAttr___SetItemXixue('ICS1' , 80000)
		call ItemAttr___SetItemZhishang('ICS1' , 10000000)
		call ItemAttr___SetItemAttack('ICS1' , 3000000)
		call ItemAttr___SetItemStr('I04W' , 360000)
		call ItemAttr___SetItemAgi('I04W' , 510000)
		call ItemAttr___SetItemInt('I04W' , 460000)
		call ItemAttr___SetItemSpellPerc('I04W' , 1.4)
		call ItemAttr___SetItemXixue('I04W' , 80000)
		call ItemAttr___SetItemZhishang('I04W' , 10000000)
		call ItemAttr___SetItemAttack('I04W' , 3000000)
		
		call ItemAttr___SetItemHPPer('I05T' , 0.35)
		call ItemAttr___SetItemDefensePer('I05T' , 0.35)
		call ItemAttr___SetItemDamagePerc('I05T' , 0.35)
		call ItemAttr___SetItemStrPerc('I05T' , 0.35)
		call ItemAttr___SetItemAgiPerc('I05T' , 0.35)
		call ItemAttr___SetItemIntPerc('I05T' , 0.35)
		call ItemAttr___SetItemAttackPerc('I05T' , 0.75)
	    call ItemAttr___SetItemSpellPerc('I05T' , 0.5)
		call ItemAttr___SetItemHPPer('I04Y' , 0.35)
		call ItemAttr___SetItemDefensePer('I04Y' , 0.35)
		call ItemAttr___SetItemDamagePerc('I04Y' , 0.35)
		call ItemAttr___SetItemStrPerc('I04Y' , 0.35)
		call ItemAttr___SetItemAgiPerc('I04Y' , 0.35)
		call ItemAttr___SetItemIntPerc('I04Y' , 0.35)
		call ItemAttr___SetItemAttackPerc('I04Y' , 0.75)
	    call ItemAttr___SetItemSpellPerc('I04Y' , 0.5)

		
	    call ItemAttr___SetItem3W('I05Y' , 400000)
	    call ItemAttr___SetItemDefense('I05Y' , 30000)
	    call ItemAttr___SetItemHP('I05Y' , 15000000)
	    call ItemAttr___SetItem3W('I05Z' , 470000)
	    call ItemAttr___SetItemDefense('I05Z' , 25000)
	    call ItemAttr___SetItemHP('I05Z' , 10000000)
	    call ItemAttr___SetItem3W('I060' , 400000)
	    call ItemAttr___SetItemDefense('I060' , 25000)
	    call ItemAttr___SetItemHP('I060' , 10000000)
	    
	    call ItemAttr___SetItemSpellPerc('ICX1' , 1.5)
	    call ItemAttr___SetItemAttack('ICX1' , 2500000)
	    
	    call ItemAttr___SetItem3W('I05W' , 400000)
	    call ItemAttr___SetItem3W('I05V' , 300000)
	    
	    call ItemAttr___SetItem3W('I05X' , 410000)
	    call ItemAttr___SetItemHP('I05X' , 5000000)
	    call ItemAttr___SetItemFanji('I05X' , 80000000)
	    call ItemAttr___SetItemSpellPerc('I05X' , 1.2)
	    call ItemAttr___SetItem3W('ICY1' , 470000)
	    call ItemAttr___SetItemHP('ICY1' , 5000000)
	    call ItemAttr___SetItemFanji('ICY1' , 80000000)
	    call ItemAttr___SetItemSpellPerc('ICY1' , 1.3)
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function ItemAttr___InitItemAttr takes nothing returns nothing
		call ItemAttr___InitErdianQi()
		call ItemAttr___InitErdianBa()
		call ItemAttr___InitDengClothes()
		call ItemAttr___InitBeast()
		call ItemAttr___InitLeitai()
		call InitChaoshen()
		call InitHundun()
	endfunction


//library ItemAttr ends
//library Cangling:

//---------------------------------------------------------------------------------------------------
	
 function IsSwitchItemCangling takes unit u,item it returns boolean
  local integer i= I3(Cangling__BiBo , 7 , 1)

		if ( u != cangling ) then
			return true
		endif

		if not ( IsItemPawnable(it) ) then
			return true
		endif

		loop
			exitwhen i > I3(Cangling__BiBo , 12 , 6)
			if ( it == Cangling__IBibo[i] ) then

				return false
			endif
			set i=i + 1
		endloop

		return true
	endfunction

//---------------------------------------------------------------------------------------------------
	
	
//---------------------------------------------------------------------------------------------------

	
 function Cangling__BiBoBaoZhuo takes nothing returns nothing
  local integer i= 1
  local integer ii= 1
  local integer iii
  local integer iiii= 1
  local item temp= null

		//Âà§Êñ≠ÊòØÂê¶Êúâ‰∏çÂèØ‰∏¢ÂºÉÁöÑÊ≥ïÈ≠Ç
		loop
			exitwhen iiii > 6
			if ( IsZhanfahun(UnitItemInSlotBJ(cangling, iiii)) and not ( IsItemPawnable(UnitItemInSlotBJ(cangling, iiii)) ) ) then
				call DisplayTextToPlayer(GetOwningPlayer(cangling), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊàòÈ≠Ç‰∏éÊ≥ïÈ≠ÇÂÜ∑Âç¥ÊúüÈó¥‰∏çËÉΩÂàáÊç¢Ë£ÖÂ§áÊ†è,ËØ∑Á≠âÂÜ∑Âç¥ÁªìÊùü.")
				return
			endif
			set iiii=iiii + 1
		endloop
		//‰øùÂ≠òË£ÖÂ§á
		loop
			exitwhen i > 6
			set Cangling__IBibo[i + I3(Cangling__BiBo , 6 , 0)]=UnitItemInSlotBJ(cangling, i)
			set i=i + 1
		endloop
		//‰∏¢ÂºÉË£ÖÂ§á
		loop
			exitwhen ii > 6
			set temp=UnitItemInSlotBJ(cangling, ii)
			//call UnitRemoveItemSwapped(temp,mengji)
			call SetItemPosition(temp, 0, 0)
			call SetItemVisible(temp, false)
			set ii=ii + 1
		endloop
		set Cangling__BiBo=not ( Cangling__BiBo )
		//Ëé∑ÂæóË£ÖÂ§á
		set iii=I3(Cangling__BiBo , 7 , 1)
		loop
			exitwhen iii > I3(Cangling__BiBo , 12 , 6)
			call UnitAddItem(cangling, Cangling__IBibo[iii])
			set Cangling__IBibo[iii]=null
			set iii=iii + 1
		endloop
		set temp=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Cangling__BiBoBaoZhuoTimer takes nothing returns nothing
		if ( IsUnitAliveBJ(cangling) ) then
			if ( GetUnitState(cangling, UNIT_STATE_LIFE) < ( 0.05 + RJ1(cangling , 0.05 , 0) + RJ2(cangling , 0.05 , 0) ) * GetUnitState(cangling, UNIT_STATE_MAX_LIFE) ) then
				call SetUnitLifePercentBJ(cangling, 10)
			endif
		endif

		if ( IsUnitAliveBJ(Cangling__UCangFeng) ) then
			if ( GetUnitState(Cangling__UCangFeng, UNIT_STATE_LIFE) < ( 0.05 + RJ1(cangling , 0.05 , 0) + RJ2(cangling , 0.05 , 0) ) * GetUnitState(Cangling__UCangFeng, UNIT_STATE_MAX_LIFE) ) then
				call SetUnitLifePercentBJ(Cangling__UCangFeng, 10)
			endif
		endif

		if ( IsUnitAliveBJ(Cangling__UCangHuo) ) then
			if ( GetUnitState(Cangling__UCangHuo, UNIT_STATE_LIFE) < ( 0.05 + RJ1(cangling , 0.05 , 0) + RJ2(cangling , 0.05 , 0) ) * GetUnitState(Cangling__UCangHuo, UNIT_STATE_MAX_LIFE) ) then
				call SetUnitLifePercentBJ(Cangling__UCangHuo, 10)
			endif
		endif
	endfunction

//---------------------------------------------------------------------------------------------------

	
	
 function SimulateDamageCangling takes unit u returns boolean

		if ( GetUnitTypeId(u) == 'h00V' ) then
			call UnitDamageTarget(cangling, GetTriggerUnit(), GetDamageAgi(cangling) * 0.33, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			if ( IsUnitDeadBJ(GetTriggerUnit()) ) then
				call SetUnitUserData(GetEventDamageSource(), GetUnitUserData(GetEventDamageSource()) + 1)
			endif
			return true
		endif
		if ( GetUnitTypeId(u) == 'h00W' ) then
			call UnitDamageTarget(cangling, GetTriggerUnit(), GetDamageAgi(cangling) * 0.20, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		if ( GetUnitTypeId(u) == 'h00Y' ) then
			call SimulateSpell(GetEventDamageSource() , GetTriggerUnit() , 'A0HU' , 1 , 5 , "hex" , false , false , true)
			return true
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Cangling__BuMieZhenYanTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(spellTable, id, 1)
  local texttag tt= LoadTextTagHandle(spellTable, id, 2)
  local integer value= GetUnitUserData(u) - 1
		if ( value > 0 ) then
			call SetTextTagTextBJ(tt, I2S(value) + "Áßí", 20)
			call SetUnitUserData(u, value)
		else
			call RemoveUnit(u)
			call DestroyTextTag(tt)
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
		endif
		set u=null
		set t=null
		set tt=null
	endfunction

 function Cangling__BuMieZhenYan takes integer lifeTime,integer abilityID,real x,real y returns nothing
  local real damage= GetDamageAgi(cangling) * 0.4
  local timer t= CreateTimer()
  local unit u= CreateUnit(GetOwningPlayer(cangling), 'h00V', x, y, 270)
		call SetUnitUserData(u, lifeTime)
		call SaveUnitHandle(spellTable, GetHandleId(t), 1, u)
		call SaveTextTagHandle(spellTable, GetHandleId(t), 2, CreateTextTagUnitBJ(I2S(lifeTime) + "Áßí", u, 0, 20, 100, 0, 100, 0))
		call TimerStart(t, 1, true, function Cangling__BuMieZhenYanTimer)
	    call PrintSpell(GetOwningPlayer(cangling) , GetAbilityName(abilityID) , damage)
	    set u=null
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Cangling__LianJieDiMeng takes nothing returns nothing
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl", GetUnitX(cangling), GetUnitY(cangling)))
	    call PrintSpellContent(GetOwningPlayer(cangling) , GetAbilityName('A0HJ') , "ÁªìÁõüÊàêÂäüÔºÅ")
    	call SetPlayerAllianceStateBJ(Player(11), GetOwningPlayer(cangling), bj_ALLIANCE_ALLIED_VISION)
    	call SetPlayerAllianceStateBJ(Player(10), GetOwningPlayer(cangling), bj_ALLIANCE_ALLIED_VISION)
    	call ImmuteDamageInterval(cangling , 1)
    	call PolledWait(10)
    	call SetPlayerAllianceStateBJ(Player(11), GetOwningPlayer(cangling), bj_ALLIANCE_UNALLIED)
    	call SetPlayerAllianceStateBJ(Player(10), GetOwningPlayer(cangling), bj_ALLIANCE_UNALLIED)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl", GetUnitX(cangling), GetUnitY(cangling)))
	    call PrintSpellContent(GetOwningPlayer(cangling) , GetAbilityName('A0HJ') , "ÁªìÁõüÁªìÊùüÔºÅ")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Cangling__TSpellCangling2Con takes nothing returns boolean
		return ( GetAttacker() == cangling or ( GetAttacker() == Cangling__UCangFeng and Cangling__UCangFeng != null ) or ( GetAttacker() == Cangling__UCangHuo and Cangling__UCangHuo != null ) ) and IsSecondSpellOK(cangling) == true and GetUnitState(cangling, UNIT_STATE_MANA) >= 250 and GetUnitAbilityLevel(cangling, 'A0HJ') == 1 and GetRandomInt(1, 20) == 1
	endfunction

 function Cangling__TSpellCangling2Act takes nothing returns nothing
		call DisableTrigger(GetTriggeringTrigger())
		call Cangling__BuMieZhenYan(2 , 'A0HJ' , GetUnitX(GetAttackedUnitBJ()) , GetUnitY(GetAttackedUnitBJ()))
		call PolledWait(5)
		call EnableTrigger(GetTriggeringTrigger())
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Cangling__DestroyGuangYin takes nothing returns nothing
		if ( Cangling__TGuang != null ) then
			call PauseTimer(Cangling__TGuang)
			call DestroyTimer(Cangling__TGuang)
			set Cangling__TGuang=null
		endif
		if ( Cangling__EGuang != null ) then
			call DestroyEffect(Cangling__EGuang)
			set Cangling__EGuang=null
		endif
		set Cangling__UGuang=null
		set Cangling__RGuang=0.
		set Cangling__IGuang=0
	endfunction

 function Cangling__GuangYinWuSuoTimer takes nothing returns nothing
		set Cangling__IGuang=Cangling__IGuang - 1
		if ( IsUnitAliveBJ(Cangling__UGuang) and Cangling__IGuang > 0 ) then
			call UnitDamageTarget(cangling, Cangling__UGuang, GetDamageAgi(cangling) * Cangling__RGuang, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	    	call CreateSpellTextTag(I2S(R2I(Cangling__RGuang * 100)) + "%X!" , Cangling__UGuang , 0 , 100 , 0 , 4)
		else
			call Cangling__DestroyGuangYin()
		endif
	endfunction

 function Cangling__GuangYinWuSuo takes nothing returns nothing
		if ( Cangling__UGuang != GetSpellTargetUnit() ) then
			call Cangling__DestroyGuangYin()
			set Cangling__UGuang=GetSpellTargetUnit()
		endif
		set Cangling__RGuang=R3(Cangling__RGuang == 0. , 0.3 , Cangling__RGuang + 0.1)
		set Cangling__IGuang=10
		if ( Cangling__TGuang == null ) then
			set Cangling__TGuang=CreateTimer()
			call TimerStart(Cangling__TGuang, 1, true, function Cangling__GuangYinWuSuoTimer)
		endif
		if ( Cangling__EGuang == null ) then
			set Cangling__EGuang=AddSpecialEffectTargetUnitBJ("head", GetSpellTargetUnit(), "Abilities\\Spells\\NightElf\\shadowstrike\\shadowstrike.mdl")
		endif
	    call PrintSpellContent(GetOwningPlayer(cangling) , GetAbilityName('A0HK') , "ÁôæÂàÜÊØî‰º§ÂÆ≥" + I2S(R2I(Cangling__RGuang * 100)) + "%!")
	endfunction
//---------------------------------------------------------------------------------------------------
	

    function Cangling__GuangyinResetTimer takes nothing returns nothing
     local timer t= GetExpiredTimer()
     local integer id= GetHandleId(t)
     local integer pID= LoadInteger(spellTable, id, 1)
    	set Cangling__BWusuo[pID]=false
		call PauseTimer(t)
		call FlushChildHashtable(spellTable, id)
		call DestroyTimer(t)
    	set t=null
    endfunction

    function Cangling__StartTimerGuangyin takes unit u returns nothing
     local timer t= CreateTimer()
	    call SaveInteger(spellTable, GetHandleId(t), 1, GetConvertedPlayerId(GetOwningPlayer(u)))
	    call TimerStart(t, 42, false, function Cangling__GuangyinResetTimer)
	    set t=null
    endfunction

 function IsGuangyinRevive takes nothing returns boolean
		if ( GetUnitAbilityLevel(gg_unit_n01S_0258, 'A0HR') == 1 and not ( Cangling__BWusuo[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] ) ) then
			set Cangling__BWusuo[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]=true
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetPlayerName(GetOwningPlayer(GetDyingUnit())) + "Ë¢´" + GetUnitName(GetKillingUnitBJ()) + "Âπ≤Êéâ‰∫ÜÔºåË¢´|cff808000ÂÖâÈò¥Êó†Ê¢≠|rÊïëËµ∑,Á≠âÂæÖ3ÁßíÂéüÂú∞Â§çÊ¥ª.")
		    call PolledWait(3.00)
		    call Cangling__StartTimerGuangyin(GetDyingUnit())
		    call ReviveHero(GetDyingUnit(), GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()), true)
		    call SetUnitManaBJ(GetDyingUnit(), 0.5 * GetUnitState(GetDyingUnit(), UNIT_STATE_MAX_MANA))
			return true
		else
			return false
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Cangling__ZiLeiHuTi takes nothing returns nothing
		if ( Cangling__UCangFeng != null ) then
			if ( IsUnitAliveBJ(Cangling__UCangFeng) ) then
	    		call DamageArea(cangling , GetUnitX(Cangling__UCangFeng) , GetUnitY(Cangling__UCangFeng) , 450 , GetDamageAgi(cangling) * 0.2)
			endif
		else
		    call PauseTimer(GetExpiredTimer())
		    call DestroyTimer(GetExpiredTimer())
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Cangling__YangYanWuShuang takes nothing returns nothing
  local group l_group= GetUnitsOfTypeIdAll('h00V')
  local unit l_unit= null
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", GetUnitX(GetSpellAbilityUnit()), GetUnitY(GetSpellAbilityUnit())))
		loop
		    set l_unit=FirstOfGroup(l_group)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(l_group, l_unit)
	    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", GetUnitX(l_unit), GetUnitY(l_unit)))
			call SetUnitUserData(l_unit, GetUnitUserData(l_unit) + 6)
		endloop
		call DestroyGroup(l_group)
		set l_group=null
		set l_unit=null
	    call PrintSpellContent(GetOwningPlayer(cangling) , GetAbilityName('A0HS') , "ÊàêÂäüÁª≠ÂëΩ6ÁßíÔºÅ")
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function Cangling__YiQiSanHuaTimer takes nothing returns nothing
	    call PrintSpellContent(GetOwningPlayer(cangling) , GetAbilityName('A0HL') , "ÊäÄËÉΩÊó∂Èó¥ÁªìÊùüÔºÅ")
	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", GetUnitX(Cangling__UCangFeng), GetUnitY(Cangling__UCangFeng)))
	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", GetUnitX(Cangling__UCangHuo), GetUnitY(Cangling__UCangHuo)))
	    call FlushChildHashtable(YDHT, GetHandleId(Cangling__UCangFeng))
	    call FlushChildHashtable(YDHT, GetHandleId(Cangling__UCangHuo))
	    call RemoveUnit(Cangling__UCangFeng)
	    call RemoveUnit(Cangling__UCangHuo)
	    set Cangling__UCangHuo=null
	    set Cangling__UCangFeng=null
	    call PauseTimer(GetExpiredTimer())
	    call DestroyTimer(GetExpiredTimer())
	endfunction

 function Cangling__YiQiSanHua takes nothing returns nothing
	    call PrintSpellName(GetOwningPlayer(cangling) , GetAbilityName('A0HL'))
	    set Cangling__UCangFeng=CreateUnit(GetOwningPlayer(cangling), 'Ogld', YDWECoordinateX(GetUnitX(cangling) + GetRandomReal(- 200, 200)), YDWECoordinateY(GetUnitY(cangling) + GetRandomReal(- 200, 200)), 0)
	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", GetUnitX(Cangling__UCangFeng), GetUnitY(Cangling__UCangFeng)))
	    call SetHeroInt(Cangling__UCangFeng, GetHeroInt(cangling, true), true)
	    call SetHeroAgi(Cangling__UCangFeng, GetHeroAgi(cangling, true), true)
	    call SetHeroStr(Cangling__UCangFeng, GetHeroStr(cangling, true), true)
	    call SetHeroLevel(Cangling__UCangFeng, GetHeroLevel(cangling), false)
	    call SelectHeroSkill(Cangling__UCangFeng, 'A0HI')
	    call SelectHeroSkill(Cangling__UCangFeng, 'A0HJ')
	    call SelectHeroSkill(Cangling__UCangFeng, 'A0HK')
	    call SetAttack(Cangling__UCangFeng , GetAttack(cangling))
	    call SetDefense(Cangling__UCangFeng , GetDefense(cangling))
	    call SetHP(Cangling__UCangFeng , GetHP(cangling))
	    set Cangling__UCangHuo=CreateUnit(GetOwningPlayer(cangling), 'Orex', YDWECoordinateX(GetUnitX(cangling) + GetRandomReal(- 200, 200)), YDWECoordinateY(GetUnitY(cangling) + GetRandomReal(- 200, 200)), 0)
	    call SetHeroInt(Cangling__UCangHuo, GetHeroInt(cangling, true), true)
	    call SetHeroAgi(Cangling__UCangHuo, GetHeroAgi(cangling, true), true)
	    call SetHeroStr(Cangling__UCangHuo, GetHeroStr(cangling, true), true)
	    call SetHeroLevel(Cangling__UCangHuo, GetHeroLevel(cangling), false)
	    call SelectHeroSkill(Cangling__UCangHuo, 'A0HI')
	    call SelectHeroSkill(Cangling__UCangHuo, 'A0HJ')
	    call SelectHeroSkill(Cangling__UCangHuo, 'A0HK')
	    call SetAttack(Cangling__UCangHuo , GetAttack(cangling))
	    call SetDefense(Cangling__UCangHuo , GetDefense(cangling))
	    call SetHP(Cangling__UCangHuo , GetHP(cangling))
	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", GetUnitX(Cangling__UCangHuo), GetUnitY(Cangling__UCangHuo)))
		call TimerStart(CreateTimer(), 120, false, function Cangling__YiQiSanHuaTimer)
		call TimerStart(CreateTimer(), 1, true, function Cangling__ZiLeiHuTi)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Cangling__CreateTanlang takes nothing returns nothing
  local integer i= GetRandomInt(1, 3)
  local integer ty= 0
  local real x= YDWECoordinateX(GetUnitX(Cangling__UTanlang) + GetRandomReal(- 400, 400))
  local real y= YDWECoordinateY(GetUnitY(Cangling__UTanlang) + GetRandomReal(- 400, 400))
  local unit u= null
		if ( i == 1 ) then
			set ty='h00W'
		elseif ( i == 2 ) then
			set ty='h00Y'
		else
			set ty='h00Z'
		endif
		set u=CreateUnit(GetOwningPlayer(cangling), ty, x, y, GetRandomReal(0, 360))
		call UnitApplyTimedLifeBJ(10, 'BHwe', u)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", GetUnitX(u), GetUnitY(u)))
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function Cangling__TanLangMangYaoTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local integer i= LoadInteger(spellTable, id, 1)
		if ( i > 0 ) then
			call SaveInteger(spellTable, id, 1, i - 1)
			call Cangling__CreateTanlang()
		else
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
	    	call PrintSpellContent(GetOwningPlayer(cangling) , GetAbilityName('A0HM') , "ÊäÄËÉΩÊó∂Èó¥ÁªìÊùüÔºÅ")
		endif
		set t=null
	endfunction

	
 function Cangling__TanLangMangYaoRotateTimer takes nothing returns nothing
		if ( IsUnitAliveBJ(Cangling__UTanlang) ) then
			call SetUnitFacing(Cangling__UTanlang, ModuloReal(GetUnitFacing(Cangling__UTanlang) + 7.2, 360))
		else
			call PauseTimer(GetExpiredTimer())
			call DestroyTimer(GetExpiredTimer())
			set Cangling__UTanlang=null
		endif
	endfunction

 function Cangling__TanLangMangYao takes nothing returns nothing
  local timer t= CreateTimer()
		set Cangling__UTanlang=CreateUnit(GetOwningPlayer(cangling), 'h013', GetUnitX(cangling), GetUnitY(cangling), 0)
		call UnitApplyTimedLifeBJ(25, 'BHwe', Cangling__UTanlang)
		call SaveInteger(spellTable, GetHandleId(t), 1, 15)
		call TimerStart(t, 1, true, function Cangling__TanLangMangYaoTimer)
		call TimerStart(CreateTimer(), 0.05, true, function Cangling__TanLangMangYaoRotateTimer)
    	call PlaySoundBJ(gg_snd_cangling_5)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function Cangling__TSpellCanglingCon takes nothing returns boolean
		return GetOwningPlayer(GetSpellAbilityUnit()) == GetOwningPlayer(cangling)
	endfunction

 function Cangling__TSpellCanglingAct takes nothing returns nothing
		if ( GetSpellAbilityId() == 'A0HI' ) then
			call Cangling__BuMieZhenYan(5 , GetSpellAbilityId() , GetSpellTargetX() , GetSpellTargetY())
		elseif ( GetSpellAbilityId() == 'A0HJ' and GetSpellAbilityUnit() == cangling ) then
			call Cangling__LianJieDiMeng()
		elseif ( GetSpellAbilityId() == 'A0HK' ) then
			call Cangling__GuangYinWuSuo()
		elseif ( GetSpellAbilityId() == 'A0HL' ) then
			call Cangling__YiQiSanHua()
		elseif ( GetSpellAbilityId() == 'A0HM' ) then
			call Cangling__TanLangMangYao()
		//ÂàáÊç¢ËÉåÂåÖ
		elseif ( GetSpellAbilityId() == 'A0HH' ) then
			if ( IsInRect(GetUnitX(cangling) , GetUnitY(cangling) , gg_rct_______a3) and IsInRect(GetUnitX(cangling) , GetUnitY(cangling) , gg_rct_______a3) ) then
				call DisplayTextToPlayer(GetOwningPlayer(cangling), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢ÂàáÊç¢ËÉåÂåÖ.")
			else
				call Cangling__BiBoBaoZhuo()
			endif
		//Èò≥ÁÇéÊó†Âèå
		elseif ( GetSpellAbilityId() == 'A0HS' ) then
			call Cangling__YangYanWuShuang()

		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillCanglingI takes unit learner,integer whichSpell returns nothing
  local integer i
		if ( learner == cangling ) then
			if ( whichSpell == 3 and IsThirdSpellOK(cangling) == true and GetUnitAbilityLevel(cangling, 'A0HK') == 1 ) then
				//ÊäÄËÉΩ3ÂàùÂßãÂåñ
				call AddSpecialEffectTargetUnitBJ("origin", cangling, "war3mapImported\\yanbao.mdl")
				call InitCanglingAura()
			endif
		endif
	endfunction

 function LearnSkillCangling takes unit learner,integer learnSpellID returns nothing
		if ( learner == cangling ) then
			if ( learnSpellID == 'A0HI' ) then
				call LearnSkillCanglingI(learner , 1)
			elseif ( learnSpellID == 'A0HJ' ) then
				call LearnSkillCanglingI(learner , 2)
			elseif ( learnSpellID == 'A0HK' ) then
				call LearnSkillCanglingI(learner , 3)
			elseif ( learnSpellID == 'A0HL' ) then
				call LearnSkillCanglingI(learner , 4)
			elseif ( learnSpellID == 'A0HM' ) then
				call LearnSkillCanglingI(learner , 5)
			endif
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function InitCangling takes unit u returns nothing
		set cangling=u

	    //Ëã±ÈõÑÁ¨¨‰∫å‰∏™ÊäÄËÉΩÊîªÂáª‰∫ã‰ª∂
	    set Cangling__TSpellCangling2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Cangling__TSpellCangling2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Cangling__TSpellCangling2, Condition(function Cangling__TSpellCangling2Con))
	    call TriggerAddAction(Cangling__TSpellCangling2, function Cangling__TSpellCangling2Act)

	    //ËãçÂáåÁöÑÊâÄÊúâÊäÄËÉΩ
		set Cangling__TSpellCangling=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Cangling__TSpellCangling, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	    call TriggerAddCondition(Cangling__TSpellCangling, Condition(function Cangling__TSpellCanglingCon))
	    call TriggerAddAction(Cangling__TSpellCangling, function Cangling__TSpellCanglingAct)


	    call TimerStart(CreateTimer(), 0.05, true, function Cangling__BiBoBaoZhuoTimer)

	endfunction


//library Cangling ends
//library Diffculty:
	



//---------------------------------------------------------------------------------------------------
	
 function GetDiffculty takes nothing returns integer

		if ( udg_Nandu_JJJ > 7 ) then
			return 9
		elseif ( udg_Nandu > 20 ) then
			return 8
		elseif ( udg_Nandu > 10 ) then
			return 7
		elseif ( udg_Nandu > 8 ) then
			return 6
		elseif ( udg_Nandu > 6 ) then
			return 5
		elseif ( udg_Nandu > 4 ) then
			return 4
		elseif ( udg_Nandu > 2 ) then
			return 3
		elseif ( udg_Nandu > 1 ) then
			return 2
		else
			return 1
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function IsWanjie takes nothing returns boolean
		return GetDiffculty() == 9
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function EnhanceDiffAttack takes unit u returns nothing
		if ( NanDiff <= 0 ) then
			return
		endif

		//100ÂÄçÊîªÂáªÂä†Âº∫
		if ( GetUnitAbilityLevel(u, 'A09V') >= 1 ) then
			call SetUnitAbilityLevel(u, 'A09V', NanDiff + 1)
			return
		endif

		call UnitAddAbility(u, 'A0EY')
		call SetUnitAbilityLevel(u, 'A0EY', NanDiff)
		
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddTianyanmokang takes unit u returns nothing
		if ( IsTianyan ) then
			 call UnitAddAbility(u, 'A09G')
		endif
	endfunction


//---------------------------------------------------------------------------------------------------
	
 function RemoveDiffAttack takes unit u returns nothing
		if ( GetUnitAbilityLevel(u, 'A09V') >= 1 ) then
			call SetUnitAbilityLevel(u, 'A09V', 1)
		endif

		call UnitRemoveAbility(u, 'A0EY')
		call UnitRemoveAbility(u, 'A05O')
	endfunction
//---------------------------------------------------------------------------------------------------
		
 function EnhanceWanjieAttack takes unit u returns nothing
		if ( IsWanjie() ) then
			call EnhanceDiffAttack(u)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AttackBase takes unit u returns nothing
		if ( IsTianyan and GetUnitTypeId(u) == 'hrif' ) then
			call IssueTargetOrder(u, "attack", gg_unit_haro_0030)
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function GetJunengTech takes nothing returns integer

		if ( NanDiff == 1 ) then
			return 'R00T'
		elseif ( NanDiff == 2 ) then
			return 'R00U'
		elseif ( NanDiff == 3 ) then
			return 'R00V'
		else
			return 'R00R'
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetHundunTech takes nothing returns integer

		if ( NanDiff == 1 ) then
			return 'R01H'
		elseif ( NanDiff == 2 ) then
			return 'R01I'
		elseif ( NanDiff == 3 ) then
			return 'R01J'
		else
			return 'R01G'
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetForbidTianfuTime takes nothing returns real
		if ( GetDiffculty() >= 9 ) then
			return 9.5
		elseif ( GetDiffculty() >= 8 ) then
			return 7.5
		else
			return 5.
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetArenaUpdateSpeed takes nothing returns real
		if ( NanDiff == 1 ) then
			return 4.
		elseif ( NanDiff == 2 ) then
			return 3.
		elseif ( NanDiff == 3 ) then
			return 2.
		else
			return 5.
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetWanjieInt takes integer value,real rate returns integer
		if ( IsWanjie() ) then
			return IMinBJ(2100000000, R2I(I2R(value) * rate))
		endif

		return value
	endfunction

	
 function GetWanjieReal takes real value,real rate returns real
		if ( IsWanjie() ) then
			return value * rate
		endif

		return value
	endfunction
	
 function GetWanjieAddInt takes integer value,integer add returns integer
		if ( IsWanjie() ) then
			return value + add
		endif

		return value
	endfunction

	 
//---------------------------------------------------------------------------------------------------
	
 function AddWanjieSpell takes unit u returns nothing
		if ( IsWanjie() ) then
			if ( udg_Bo > 10 ) then
				//60ÂÄçÊäÄËÉΩ
				call UnitAddAbility(u, 'A0GL')
			endif

			//Èó™ÁÉÅÊäÄËÉΩ
			call UnitAddAbility(u, 'ANbl')
			call UnitAddAbility(u, 'A0HE')
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function PrintDifficulty takes nothing returns nothing
  local integer d= GetDiffculty()
		if ( d == 6 ) then
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂú∞Áã±ÈöæÂ∫¶‰∏ãÔºå‰ºöÈ¢ùÂ§ñÊèêÈ´ò‰ª•‰∏ãÊÄ™Áâ©ÁöÑÈöæÂ∫¶Ôºö")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁÇºÁã±30+Â±Ç„ÄÅÂÆùÁü≥Âå∫ÊÄ™Áâ©ÂíåÁøÖËÜÄÂå∫‰º§ÂÆ≥ÊèêÈ´ò100%,ÁîüÂëΩÊèêÈ´ò66%.")
		elseif ( d == 7 ) then
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff0000Êú´Êó•|rÈöæÂ∫¶‰∏ãÔºå‰ºöÈ¢ùÂ§ñÊèêÈ´ò‰ª•‰∏ãÊÄ™Áâ©ÁöÑÈöæÂ∫¶Ôºö")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁÇºÁã±30+Â±Ç„ÄÅÂÆùÁü≥Âå∫ÊÄ™Áâ©ÂíåÁøÖËÜÄÂå∫‰º§ÂÆ≥ÊèêÈ´ò200%,ÁîüÂëΩÊèêÈ´ò133%.")
		elseif ( d == 8 ) then
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff00ffËΩÆÂõû|rÈöæÂ∫¶‰∏ãÔºå‰ºöÈ¢ùÂ§ñÊèêÈ´ò‰ª•‰∏ãÊÄ™Áâ©ÁöÑÈöæÂ∫¶Ôºö")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁÇºÁã±30+Â±Ç„ÄÅÂÆùÁü≥Âå∫ÊÄ™Áâ©ÂíåÁøÖËÜÄÂå∫‰º§ÂÆ≥ÊèêÈ´ò300%,ÊúâÂá†ÁéáÊó†ËßÜÈó™ÈÅø,ÁîüÂëΩÊèêÈ´ò200%.")
		elseif ( d == 9 ) then
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff008000‰∏áÂä´|rÈöæÂ∫¶‰∏ãÔºå‰ºöÈ¢ùÂ§ñÊèêÈ´ò‰ª•‰∏ãÊÄ™Áâ©ÁöÑÈöæÂ∫¶Ôºö")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁÇºÁã±30+Â±Ç„ÄÅÂÆùÁü≥Âå∫ÊÄ™Áâ©ÂíåÁøÖËÜÄÂå∫‰º§ÂÆ≥ÊèêÈ´ò300%,ÊúâÂá†ÁéáÊó†ËßÜÈó™ÈÅø,ÁîüÂëΩÊèêÈ´ò200%.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁÇºÁã±Ââç30Â±Ç‰∏éÂ§©Â∫≠Âùá‰ºöÂ¢ûÂº∫Âêå‰∏äÂ±ûÊÄß.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊâÄÊúâÂçï‰ΩçÂ¢ûÂä†50%Âü∫Á°ÄÈò≤Âæ°,ÊâÄÊúâÈùûËã±ÈõÑÂçï‰ΩçÂ¢ûÂä†2%ÁîüÂëΩÂõûÂ§çÈÄüÂ∫¶.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈáéÊÄ™ÊØèÊ¨°ÂçáÁ∫ß‰ºöÂçá3Á∫ß.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËøõÊîªÊÄ™Ëé∑ÂæóÊäÄËÉΩ\"Èó™ÁÉÅ\",10Ê≥¢‰ª•ÂêéÊÄ™Áâ©ÊèêÈ´ò20ÂÄçÁîüÂëΩ‰∏é20ÂÄçÊîªÂáª.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁÜäÁå´‰∏éÂ§ßÊ≥ïBOSSÊèêÈ´ò50ÂÄçÁîüÂëΩ‰∏é20ÂÄçÁîüÂëΩ.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËã±ÈõÑËé∑ÂæóÁªèÈ™åÂáèÂ∞ë25%.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈÄöÂÖ≥ËØ•ÈöæÂ∫¶ÂèØ‰ª•Âä†ËΩÆÂõû‰πãÁã±‰∏ªÁæ§Êää‰Ω†ÂêçÂ≠óÊ∞∏‰πÖ‰øùÂ≠òÂú®|cff99cc00Â∞ÅÂ∏ù‰∏áÂä´ÂΩï|r‰∏≠Âì¶!")
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitWanjie takes nothing returns nothing

		//ÂÖâÁéØÔºàÂä†Èò≤ÂíåÂõûË°ÄÔºâ
    	set UWanjieGuanghuan=CreateUnit(Player(10), 'h00U', 0, 0, 0)
    	if ( IsTianyan ) then
    		call SetUnitAbilityLevel(UWanjieGuanghuan, 'A0HD', 2)
    		call UnitAddAbility(UWanjieGuanghuan, 'A0JJ')
    	endif
    	call ShowUnitHide(UWanjieGuanghuan)

		//Ââç‰∏âÈáé‰∏éÂâç30Â±ÇÁßëÊäÄ 3ÂÄçÁîüÂëΩ
    	call SetPlayerTechResearchedSwap('R00X', 1, Player(10))
    	call SetPlayerTechResearchedSwap('R00X', 1, Player(11))
    	//11-24Ê≥¢ÊÄ™Áâ©Ôºå10ÂÄçÁîüÂëΩ
    	call SetPlayerTechResearchedSwap('R00Y', 1, Player(10))
    	call SetPlayerTechResearchedSwap('R00Y', 1, Player(11))
    	//Âä†ÂÆùÁü≥Â∞ÑÁ®ã
    	call SetPlayerTechResearchedSwap('R010', 1, Player(10))
    	call SetPlayerTechResearchedSwap('R010', 1, Player(11))
    	call SetPlayerTechResearchedSwap('R011', 1, Player(10))
    	call SetPlayerTechResearchedSwap('R011', 1, Player(11))
    	//ÂÜ•Âàπ30000E
    	call SetPlayerTechResearchedSwap('R013', 1, Player(10))
    	call SetPlayerTechResearchedSwap('R013', 1, Player(11))

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Diffculty___UnlimitSlienceTianyanTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(spellTable, id, 1)
		if ( IsUnitAliveBJ(u) ) then
 			call SimulateSpell(u , u , 'A0JK' , 1 , 5 , "silence" , true , false , false)
		else
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
		endif
		set u=null
		set t=null
	endfunction
	
 function UnlimitSlienceTianyan takes unit u returns nothing
  local timer t= CreateTimer()
		call SaveUnitHandle(spellTable, GetHandleId(t), 1, u)
		call TimerStart(t, 3, true, function Diffculty___UnlimitSlienceTianyanTimer)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitTianyan takes nothing returns nothing
  local unit l_unit= null
  local group g= GetUnitsOfTypeIdAll('uzg2')
		loop
		    set l_unit=FirstOfGroup(g)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(g, l_unit)
		    call AddTianyanmokang(l_unit)
		endloop
    	call SetPlayerTechResearchedSwap('R00Z', 1, Player(10))
    	call SetPlayerTechResearchedSwap('R00Z', 1, Player(11))
    	call SetPlayerTechResearchedSwap('R01F', 1, Player(10))
    	call SetPlayerTechResearchedSwap('R01F', 1, Player(11))
    	call DestroyGroup(g)
    	set g=null
    	set l_unit=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Show245Dialog takes nothing returns nothing
		call ShowGameHintAll("\n		ÊÑüË∞¢ÂØπÊú¨Âú∞ÂõæÁöÑÊîØÊåÅÔºÅ\n    	‰Ω†ÈÄâÊã©ÁöÑÈöæÂ∫¶Âú®ËøôÊ≥¢Â∞±ÁªìÊùü‰∫Ü.\n    	ÂêéÁª≠ÁöÑÂÖ≥Âç°ËØ∑ÈÄâÊã©\"ÂíåË∞ê\"ÈöæÂ∫¶(ÈöæÂ∫¶3)Êàñ‰ª•‰∏äËøõË°å‰ΩìÈ™å\n    	(Ââç5‰∏™ÈöæÂ∫¶ÂÖ∂ÂÆûÊèêÂçá‰∏çÂ§ß)")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Show2451Dialog takes nothing returns nothing
		call ShowGameHintAll("\n			ÊÑüË∞¢ÂØπÊú¨Âú∞ÂõæÁöÑÊîØÊåÅÔºÅ\n	    	‰Ω†ÈÄâÊã©ÁöÑÈöæÂ∫¶Âú®ËøôÊ≥¢Â∞±ÁªìÊùü‰∫Ü.\n	    	ÂêéÁª≠ÁöÑÂÖ≥Âç°ËØ∑ÈÄâÊã©\"ÁÇºÁã±\"ÈöæÂ∫¶(ÈöæÂ∫¶35)Êàñ‰ª•‰∏äËøõË°å‰ΩìÈ™å\n	    	(Ââç5‰∏™ÈöæÂ∫¶ÂÖ∂ÂÆûÊèêÂçá‰∏çÂ§ß)")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ShowMingjieDialog takes nothing returns nothing
		call ShowGameHintAll("\n			|cffff6800Êñ∞‰ªªÂä°:|r\n			ÂáªË¥•Êù•Ëá™ÂÜ•ÁïåÁöÑ5Ê≥¢ÊîªÂáªÂπ∂ÂáªË¥•|cffff0000ÂÜ•Âàπ|r.")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ShowKuileiDialog takes nothing returns nothing
		call ShowGameHintAll("\n			|cffff6800Êñ∞‰ªªÂä°:|r\n			ÂáªË¥•ÂÖ≠ÁïåÂÇÄÂÑ°|cffffff00Á©ÜÊô¥|r‰∏éÁôΩÊµÖ.")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ChooseDifficulty takes nothing returns nothing
		call DialogSetMessage(udg_X_Nandu, "ÈÄâÊã©ÈöæÂ∫¶")
	    call DialogAddButtonBJ(udg_X_Nandu, "Â§©ÂõΩÔºà24+5+1Ê≥¢Ôºâ[Ê¥ªÂä®ÊúüÈó¥]")
	    set udg_X_Nandu_Chuangkou[1]=GetLastCreatedButtonBJ()
	    call DialogAddButtonBJ(udg_X_Nandu, "Â§™Âπ≥Ôºà24+5+1Ê≥¢Ôºâ[Ê¥ªÂä®ÊúüÈó¥]")
	    set udg_X_Nandu_Chuangkou[2]=GetLastCreatedButtonBJ()
	    call DialogAddButtonBJ(udg_X_Nandu, "ÂíåË∞êÔºà24+5+1Ê≥¢Ôºâ[Ê¥ªÂä®ÊúüÈó¥]")
	    set udg_X_Nandu_Chuangkou[3]=GetLastCreatedButtonBJ()
	    call DialogAddButtonBJ(udg_X_Nandu, "Êàò‰∫âÔºà24+5+1Ê≥¢Ôºâ[Ê¥ªÂä®ÊúüÈó¥]")
	    set udg_X_Nandu_Chuangkou[4]=GetLastCreatedButtonBJ()
	    call DialogAddButtonBJ(udg_X_Nandu, "ÁÇºÁã±Ôºà24+5+1Ê≥¢Ôºâ")
	    set udg_X_Nandu_Chuangkou[5]=GetLastCreatedButtonBJ()
	    call DialogAddButtonBJ(udg_X_Nandu, "Âú∞Áã±Ôºà24+5+1Ê≥¢Ôºâ")
	    set udg_X_Nandu_Chuangkou[6]=GetLastCreatedButtonBJ()
	    call DialogAddButtonBJ(udg_X_Nandu, "|cFFFF0000Êú´Êó•|rÔºà24+5+1Ê≥¢Ôºâ")
	    set udg_X_Nandu_Chuangkou[7]=GetLastCreatedButtonBJ()
	    call DialogAddButtonBJ(udg_X_Nandu, "|cffff00ffËΩÆÂõû|rÔºà24+5+1Ê≥¢Ôºâ")
	    set udg_X_Nandu_Chuangkou[8]=GetLastCreatedButtonBJ()
	    call DialogAddButtonBJ(udg_X_Nandu, "|cff008000‰∏áÂä´|rÔºà24+5+1Ê≥¢Ôºâ")
	    set udg_X_Nandu_Chuangkou[9]=GetLastCreatedButtonBJ()
	    if ( IsTianyanOK() ) then
		    call DialogAddButtonBJ(udg_X_Nandu, "|cff993366Â§©È≠á|rÔºà24+5+1Ê≥¢Ôºâ")
		    set udg_X_Nandu_Chuangkou[10]=GetLastCreatedButtonBJ()
	    endif
	    call DialogDisplay(GetFirstPlayer(), udg_X_Nandu, true)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Diffculty___GameModeClick takes nothing returns nothing
     local dialog d= GetClickedDialogBJ()

        if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 1) ) then
			//ÁªèÂÖ∏Ê®°Âºè
			set mode=1
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÁöÑÊ∏∏ÊàèÊ®°Âºè‰∏∫\"ÁªèÂÖ∏Ê®°Âºè\".")
			set SgameMode="ÁªèÂÖ∏"
		elseif ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 2) ) then
			//Âä†ÈÄüÊ®°Âºè
			set mode=2
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÁöÑÊ∏∏ÊàèÊ®°Âºè‰∏∫\"Âä†ÈÄüÊ®°Âºè\".")
			set SgameMode="Âä†ÈÄü"
		endif

		call ChooseDifficulty()
        call FlushChildHashtable(LHTable, GetHandleId(d))
    	call DialogDisplay(Player(0), d, false)
        call DialogClear(d)
        call DialogDestroy(d)
        set d=null
        call DestroyTrigger(GetTriggeringTrigger())
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ChooseGameMode takes nothing returns nothing
     local trigger t= CreateTrigger()
     local dialog d= DialogCreate()

	    call DialogSetMessage(d, "ËØ∑ÈÄâÊã©Ê∏∏ÊàèÊ®°Âºè")
	    call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButtonBJ(d, "ÁªèÂÖ∏Ê®°Âºè"))
	    call SaveButtonHandle(LHTable, GetHandleId(d), 2, DialogAddButtonBJ(d, "Âä†ÈÄüÊ®°Âºè(ËøõÈò∂)"))
	    call DialogDisplay(GetFirstPlayer(), d, true)
	    call TriggerRegisterDialogEvent(t, d)
	    call TriggerAddAction(t, function Diffculty___GameModeClick)
	    set d=null
	    set t=null
	endfunction

//library Diffculty ends
//library Heiyan:
	
//---------------------------------------------------------------------------------------------------
	
 function Heiyan__IsFull takes nothing returns boolean
		return CountUnitsInGroup(Heiyan__GSacri) >= Heiyan__ISacriMaxCount
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Heiyan__CreateBasicSacrifice takes real tx,real ty returns nothing
  local unit u
  local real angle
  local real x
  local real y
  local integer i= 3
		if ( Heiyan__IsFull() ) then
			return
		endif
		if ( Heiyan__IsDouble == true ) then
			set i=1
		endif
		loop
			exitwhen i > 3

			set angle=GetRandomReal(0, 360)
			set x=YDWECoordinateX(tx + 80 * CosBJ(angle))
			set y=YDWECoordinateY(ty + 80 * SinBJ(angle))
			if ( Heiyan__BIsMojie == true ) then
				set u=CreateUnit(Player(11), 'h012', x, y, 0)
			else
				set u=CreateUnit(GetOwningPlayer(Heiyan), 'h012', x, y, 0)
			endif
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", x, y))
		    call UnitApplyTimedLifeBJ(6 + IJ1(Heiyan , 3 , 0) + IJ2(Heiyan , 3 , 0), 'BHwe', u)
	    	call GroupAddUnit(Heiyan__GSacri, u)

		    set i=i + 1
		endloop

		set u=null
	endfunction

 function Heiyan__CreateSuperSacrifice takes real x,real y returns nothing
  local unit u
  local integer i= 3
		if ( Heiyan__IsDouble == true ) then
			set i=1
		endif
		loop
			exitwhen i > 3

			set u=CreateUnit(GetOwningPlayer(Heiyan), 'h011', x, y, 0)
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", x, y))
		    call UnitApplyTimedLifeBJ(30, 'BHwe', u)

			set i=i + 1
		endloop
		set u=null
	endfunction

 function Heiyan__CreateSacrifice takes unit creater returns nothing
		call Heiyan__CreateBasicSacrifice(GetUnitX(creater) , GetUnitY(creater))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Heiyan__SacriDamageFlash takes nothing returns nothing
		set Heiyan__DamageSacri=GetDamageStr(Heiyan) * 0.01
	endfunction
//---------------------------------------------------------------------------------------------------
	
	
 function SimulateDamageHeiyan takes unit u returns boolean
		//Á•≠ÂìÅÁöÑ‰º§ÂÆ≥
		if ( GetUnitTypeId(u) == 'h012' ) then
			if ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(Heiyan)) ) then
				call DisableTrigger(GetTriggeringTrigger())
				if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(Heiyan))] ) then
					call UnitDamageTarget(u, GetTriggerUnit(), RMaxBJ(Heiyan__DamageSacri * IJ2(Heiyan , 12 , IJ1(Heiyan , 6 , 3)), GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * 0.01 * 0.5), false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				else
					call UnitDamageTarget(u, GetTriggerUnit(), Heiyan__DamageSacri * IJ2(Heiyan , 12 , IJ1(Heiyan , 6 , 3)), false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				endif
				call EnableTrigger(GetTriggeringTrigger())
			else
				call SetUnitLifeBJ(GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * RJ2(Heiyan , 0.12 , RJ1(Heiyan , 0.06 , 0.03)))
				call SetUnitManaBJ(GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) + 3)
			endif
				return true
		endif

		//Ê≥£ÁΩóÂàπÂêéÁª≠‰∏éÈ´òÁ∫ßÁ•≠ÂìÅ
		if ( GetUnitTypeId(u) == 'hh04' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(u, GetTriggerUnit(), Heiyan__DamageSacri * 10, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			return true
		endif
		if ( GetUnitTypeId(u) == 'h011' ) then
			call DisableTrigger(GetTriggeringTrigger())
			call UnitDamageTarget(u, GetTriggerUnit(), Heiyan__DamageSacri * 50, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			call SetUnitLifeBJ(Heiyan, GetUnitState(Heiyan, UNIT_STATE_LIFE) + Heiyan__DamageSacri * 1.5)
			call EnableTrigger(GetTriggeringTrigger())
			return true
		endif
		return false
	endfunction

//---------------------------------------------------------------------------------------------------
	
	//È≠îÁïå
 function Heiyan__YeShenJi takes nothing returns nothing
  local unit u= GetSpellAbilityUnit()
  local group l_group= CreateGroup()
  local unit l_unit
		set Heiyan__BIsMojie=not ( Heiyan__BIsMojie )
		call GroupAddGroup(Heiyan__GSacri, l_group)
		if ( Heiyan__BIsMojie == true ) then
		    call PrintSpellContent(GetOwningPlayer(u) , GetAbilityName(GetSpellAbilityId()) , "ÂΩìÂâçÁ•≠ÂìÅÊéßÂà∂ÊùÉ‰∏∫È≠îÁïå.")

		    loop
		        set l_unit=FirstOfGroup(l_group)
		        exitwhen l_unit == null
		        call GroupRemoveUnit(l_group, l_unit)

		        call SetUnitOwner(l_unit, Player(11), true)
		    endloop
		else
		    call PrintSpellContent(GetOwningPlayer(u) , GetAbilityName(GetSpellAbilityId()) , "ÂΩìÂâçÁ•≠ÂìÅÊéßÂà∂ÊùÉ‰∏∫Ëá™Â∑±.")
		    loop
		        set l_unit=FirstOfGroup(l_group)
		        exitwhen l_unit == null
		        call GroupRemoveUnit(l_group, l_unit)

		    	call SetUnitOwner(l_unit, GetOwningPlayer(Heiyan), true)
		    endloop
		endif
		call DestroyGroup(l_group)
		set l_group=null
		set u=null
		set l_unit=null
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function Heiyan__TSpellHeiyan00Con takes nothing returns boolean
		return ( GetKillingUnitBJ() == Heiyan and IsUnitIllusion(GetKillingUnitBJ()) == false and GetUnitPointValue(GetDyingUnit()) != 123 and GetUnitPointValue(GetDyingUnit()) != 0 and IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(GetKillingUnitBJ())) and GetUnitTypeId(GetDyingUnit()) != 'h012' )
	endfunction

 function Heiyan__TSpellHeiyan00Act takes nothing returns nothing
		call Heiyan__CreateSacrifice(GetDyingUnit())
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Heiyan__HeiyanFilter takes nothing returns boolean
		return ( IsEnemy(GetFilterUnit() , Heiyan) or IsUnitInGroup(GetFilterUnit(), Heiyan__GSacri) )
	endfunction

 function Heiyan__QianGuiXie takes unit speller,unit target,real damageRate,integer abilityID returns nothing
  local unit u= speller
  local real damage= GetDamageStr(u) * damageRate
     local group l_group= CreateGroup()
     local unit l_unit
     local integer count
	    call CreateUnitEffect(GetOwningPlayer(u) , 'h008' , GetUnitX(target) , GetUnitY(target) , 0)
	    call GroupEnumUnitsInRange(l_group, GetUnitX(target), GetUnitY(target), 600, Condition(function Heiyan__HeiyanFilter))
	    set count=CountUnitsInGroup(l_group)
	    set damage=damage * ( 0.5 + 0.20 * count )
	    loop
	        set l_unit=FirstOfGroup(l_group)
	        exitwhen l_unit == null
	        call GroupRemoveUnit(l_group, l_unit)
	        if not ( IsUnitInGroup(l_unit, Heiyan__GSacri) ) then
	        	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl", GetUnitX(l_unit), GetUnitY(l_unit)))
	    		call UnitDamageTarget(u, l_unit, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	        endif
	    endloop
	    //ËæìÂá∫‰º§ÂÆ≥
	    call PrintSpellAdd(GetOwningPlayer(u) , GetAbilityName(abilityID) , damage , ",Êïå‰∫∫Êï∞Èáè" + I2S(count) + "‰∏™")
	    call DestroyGroup(l_group)
	    set l_group=null
	    set l_unit=null
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
    function Heiyan__TSpellHeiyan2Con takes nothing returns boolean
    	return GetAttacker() == Heiyan and IsSecondSpellOK(Heiyan) == true and GetUnitState(Heiyan, UNIT_STATE_MANA) >= 250 and CountUnitsInGroup(Heiyan__GSacri) >= 1 and GetUnitAbilityLevel(Heiyan, 'A0C8') == 1
    endfunction
    
    function Heiyan__TSpellHeiyan2Act takes nothing returns nothing
    	call DisableTrigger(GetTriggeringTrigger())
		call Heiyan__QianGuiXie(Heiyan , GetAttackedUnitBJ() , 0.4 , 'A0C8')
		call PolledWait(2)
    	call EnableTrigger(GetTriggeringTrigger())
    endfunction

    

    function Heiyan__YanLuoDianCreate takes nothing returns nothing
     local timer t= GetExpiredTimer()
     local unit u= LoadUnitHandle(spellTable, GetHandleId(t), kUYanluo)
    	if ( IsUnitAliveBJ(u) == true ) then
    		call Heiyan__CreateSacrifice(u)
    	else
    		call PauseTimer(t)
    		call DestroyTimer(t)
    		call FlushChildHashtable(spellTable, GetHandleId(t))
    	endif
    	set u=null
    	set t=null
    endfunction

    function Heiyan__YanLuoDian takes nothing returns nothing
     local timer t= CreateTimer()
     local unit u= CreateUnit(GetOwningPlayer(GetSpellAbilityUnit()), 'hh02', GetSpellTargetX(), GetSpellTargetY(), 0)
	    call UnitApplyTimedLifeBJ(30.00, 'BHwe', u)
    	call SaveUnitHandle(spellTable, GetHandleId(t), kUYanluo, u)
    	call TimerStart(t, 1, true, function Heiyan__YanLuoDianCreate)
		call PrintSpellName(GetOwningPlayer(u) , GetAbilityName(GetSpellAbilityId()))
    	set u=null
    	set t=null
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function Heiyan__SheHunJue takes nothing returns nothing
		call Heiyan__CreateSuperSacrifice(GetSpellTargetX() , GetSpellTargetY())
		call PrintSpell(GetOwningPlayer(GetSpellAbilityUnit()) , GetAbilityName(GetSpellAbilityId()) , Heiyan__DamageSacri)
	endfunction

//---------------------------------------------------------------------------------------------------
	

 function Heiyan__SimulateDeathHeiyanBoom takes unit u returns nothing
	    call CreateUnitEffectSpecifyTime(GetOwningPlayer(Heiyan) , 'hh04' , GetUnitX(u) , GetUnitY(u) , 0 , 1.8)
	endfunction
	
 function SimulateDeathHeiyan takes unit u returns nothing
		if not ( IsUnitInGroup(u, Heiyan__GSacri) == true ) then
			return
		endif

		call GroupRemoveUnit(Heiyan__GSacri, GetDyingUnit())
		if ( IsFourthSpellOK(Heiyan) == true and GetUnitAbilityLevel(Heiyan, 'A0D2') == 1 and GetUnitState(Heiyan, UNIT_STATE_MANA) >= 600 ) then
			call Heiyan__SimulateDeathHeiyanBoom(u)
		endif
	endfunction

//---------------------------------------------------------------------------------------------------

	
 function Heiyan__QiLuoCha takes nothing returns nothing
		set Heiyan__IsDouble=true
		call PrintSpellName(GetOwningPlayer(GetSpellAbilityUnit()) , GetAbilityName(GetSpellAbilityId()))
		call YDWETimerDestroyEffect(60 , AddSpecialEffectTargetUnitBJ("chest", Heiyan, "war3mapImported\\doomtargetpurpl.mdx"))
		call PolledWait(60)
		call PrintSpellContent(GetOwningPlayer(GetSpellAbilityUnit()) , GetAbilityName(GetSpellAbilityId()) , "Âä†ÈÄüÁªìÊùü„ÄÇ")
		set Heiyan__IsDouble=false
	endfunction

	
 function Heiyan__TSpellHeiyan41Con takes nothing returns boolean
		return ( GetEventDamage() > GetUnitState(Heiyan, UNIT_STATE_LIFE) and ( CountUnitsInGroup(Heiyan__GSacri) >= 1 ) and ( IsFourthSpellOK(Heiyan) == true ) and ( GetUnitAbilityLevel(Heiyan, 'A0D2') == 1 ) ) and ( GetEventDamage() < GetUnitState(Heiyan, UNIT_STATE_MAX_LIFE) or GetRandomInt(1, 2) == 1 )
	endfunction
	
 function Heiyan__TSpellHeiyan41Act takes nothing returns nothing
		call KillUnit(FirstOfGroup(Heiyan__GSacri))
    	call RecoverUnitHP(Heiyan , 0.1)
		call ImmuteDamageInterval(Heiyan , 0.1)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", GetUnitX(Heiyan), GetUnitY(Heiyan)))
		call PrintSpellContent(GetOwningPlayer(Heiyan) , GetAbilityName('A0D2') , "ÊäµÊ∂àËá¥Ê≠ª‰º§ÂÆ≥.")
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Heiyan__ZangJiuTianTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local real x= GetUnitX(Heiyan__UZangJiuTian)
  local real y= GetUnitY(Heiyan__UZangJiuTian)
  local integer ii= 1
		//Â¶ÇÊûúÁ•≠ÂìÅÊ≤°Êúâ‰∫ÜÂàôÈòµÊ∂àÂ§±
		if ( CountUnitsInGroup(Heiyan__GSacri) >= 1 ) then
			loop
				exitwhen ii > 6
					call DestroyEffect(AddSpecialEffect("war3mapImported\\GhostStrike.mdx", x + CosBJ(ii * 60) * GetRandomInt(100, 500), y + SinBJ(ii * 60) * GetRandomInt(100, 500)))
				set ii=ii + 1
			endloop
			call DamageArea(Heiyan , x , y , 600 , GetDamageStr(Heiyan))
		else
			call RemoveUnit(Heiyan__UZangJiuTian)
			call PauseTimer(t)
			call DestroyTimer(t)
			set Heiyan__UZangJiuTian=null
		endif
		set t=null
	endfunction

 function Heiyan__ZangJiuTian takes nothing returns nothing
  local timer t= CreateTimer()
		call RemoveUnit(Heiyan__UZangJiuTian)
		set Heiyan__UZangJiuTian=CreateUnit(GetOwningPlayer(GetSpellAbilityUnit()), 'hh05', GetUnitX(GetSpellAbilityUnit()), GetUnitY(GetSpellAbilityUnit()), 0)
	    call PrintSpell(GetOwningPlayer(GetSpellAbilityUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageStr(Heiyan))
		call TimerStart(t, 1, true, function Heiyan__ZangJiuTianTimer)
        call PlaySoundBJ(gg_snd_heiyan_5)

		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function Heiyan__TSpellHeiyanAct takes nothing returns nothing
  local integer i= 1
		if ( GetSpellAbilityId() == 'A0C7' ) then
			call Heiyan__QianGuiXie(Heiyan , GetSpellTargetUnit() , 1 , GetSpellAbilityId())
		elseif ( GetSpellAbilityId() == 'A0A3' or GetSpellAbilityId() == 'A0BI' ) then
			call Heiyan__YeShenJi()
			//‰∏çÂè¨Âî§Á•≠ÂìÅ
			return
		elseif ( GetSpellAbilityId() == 'A0C8' ) then
			call Heiyan__YanLuoDian()
		elseif ( GetSpellAbilityId() == 'A0JH' ) then
			call Heiyan__SheHunJue()
		elseif ( GetSpellAbilityId() == 'A0D2' ) then
			call Heiyan__QiLuoCha()
		elseif ( GetSpellAbilityId() == 'A0DD' ) then
			call Heiyan__ZangJiuTian()
		endif

		if not ( GetUnitState(Heiyan, UNIT_STATE_MANA) >= 100 ) then
			return
		endif

		call Heiyan__CreateSacrifice(GetSpellAbilityUnit())
	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillHeiyanI takes unit learner,integer whichSpell returns nothing
  local integer i
		if ( learner == Heiyan ) then
			if ( whichSpell == 1 ) then
				set Heiyan__ISacriMaxCount=Heiyan__ISacriMaxCount + 3
			elseif ( whichSpell == 2 and IsSecondSpellOK(Heiyan) == true and GetUnitAbilityLevel(Heiyan, 'A0C8') == 1 ) then
				//ÊäÄËÉΩ2ÂàùÂßãÂåñ
				set Heiyan__ISacriMaxCount=Heiyan__ISacriMaxCount + 3
			elseif ( whichSpell == 3 and IsThirdSpellOK(Heiyan) == true and GetUnitAbilityLevel(Heiyan, 'A0JH') == 1 ) then
				//ÊäÄËÉΩ3ÂàùÂßãÂåñ
				set Heiyan__ISacriMaxCount=Heiyan__ISacriMaxCount + 3
				call AddSpecialEffectTargetUnitBJ("origin", Heiyan, "war3mapImported\\devilaura.mdl")
				call InitHeiyanAura()
			elseif ( whichSpell == 4 and IsFourthSpellOK(Heiyan) == true and GetUnitAbilityLevel(Heiyan, 'A0D2') == 1 ) then
				//ÊäÄËÉΩ4ÂàùÂßãÂåñ
				set Heiyan__ISacriMaxCount=Heiyan__ISacriMaxCount + 3
			elseif ( whichSpell == 5 and IsFifthSpellOK(Heiyan) == true and GetUnitAbilityLevel(Heiyan, 'A0DD') == 1 ) then
				//ÊäÄËÉΩ5ÂàùÂßãÂåñ
				set Heiyan__ISacriMaxCount=Heiyan__ISacriMaxCount + 6
			endif
		endif
	endfunction

 function LearnSkillHeiyan takes unit learner,integer learnSpellID returns nothing
		if ( learner == Heiyan ) then
			if ( learnSpellID == 'A0C7' ) then
				call LearnSkillHeiyanI(learner , 1)
			elseif ( learnSpellID == 'A0C8' ) then
				call LearnSkillHeiyanI(learner , 2)
			elseif ( learnSpellID == 'A0JH' ) then
				call LearnSkillHeiyanI(learner , 3)
			elseif ( learnSpellID == 'A0D2' ) then
				call LearnSkillHeiyanI(learner , 4)
			elseif ( learnSpellID == 'A0DD' ) then
				call LearnSkillHeiyanI(learner , 5)
			endif
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function AfterReviveHeiyan takes unit u returns nothing
		if ( u == Heiyan ) then
    		call SetUnitPathing(Heiyan, false)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function InitHeiyan takes unit u returns nothing
  local timer t= CreateTimer()
		set Heiyan__GSacri=CreateGroup()
		set Heiyan=u
		call SetUnitPathing(Heiyan, false)
		//‰∏ªËã±ÈõÑÊäÄËÉΩ
		set Heiyan__TSpellHeiyan1=CreateTrigger()
	    call TriggerRegisterUnitEvent(Heiyan__TSpellHeiyan1, u, EVENT_UNIT_SPELL_EFFECT)
	    call TriggerAddAction(Heiyan__TSpellHeiyan1, function Heiyan__TSpellHeiyanAct)

	    //‰∏ªËã±ÈõÑÊùÄÊïå‰∫ã‰ª∂
	    set Heiyan__TSpellHeiyan00=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Heiyan__TSpellHeiyan00, EVENT_PLAYER_UNIT_DEATH)
	    call TriggerAddCondition(Heiyan__TSpellHeiyan00, Condition(function Heiyan__TSpellHeiyan00Con))
	    call TriggerAddAction(Heiyan__TSpellHeiyan00, function Heiyan__TSpellHeiyan00Act)

	    //Ëã±ÈõÑÁ¨¨‰∫å‰∏™ÊäÄËÉΩÊîªÂáª‰∫ã‰ª∂
	    set Heiyan__TSpellHeiyan2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Heiyan__TSpellHeiyan2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Heiyan__TSpellHeiyan2, Condition(function Heiyan__TSpellHeiyan2Con))
	    call TriggerAddAction(Heiyan__TSpellHeiyan2, function Heiyan__TSpellHeiyan2Act)

		//Á•≠ÂìÅ‰º§ÂÆ≥ÁöÑÂà∑Êñ∞
		call TimerStart(t, 3, true, function Heiyan__SacriDamageFlash)
		set t=null

		//Ëã±ÈõÑÁ¨¨Âõõ‰∏™ÊäÄËÉΩÊó∂ÁöÑÊó†Êïå
	    set Heiyan__TSpellHeiyan41=CreateTrigger()
	    call TriggerRegisterUnitEvent(Heiyan__TSpellHeiyan41, Heiyan, EVENT_UNIT_DAMAGED)
		call TriggerAddCondition(Heiyan__TSpellHeiyan41, Condition(function Heiyan__TSpellHeiyan41Con))
		call TriggerAddAction(Heiyan__TSpellHeiyan41, function Heiyan__TSpellHeiyan41Act)
	endfunction


//library Heiyan ends
//library Mengji:

//---------------------------------------------------------------------------------------------------
	
	
 function SimulateDamageMengji takes unit u returns boolean

		if ( GetUnitTypeId(u) == 'hhm1' ) then
			call UnitDamageTarget(mengji, GetTriggerUnit(), GetDamageAgi(mengji) * 0.2, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		if ( GetUnitTypeId(u) == 'hhm2' ) then

			call UnitDamageTarget(mengji, GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * 0.02, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		if ( GetUnitTypeId(u) == 'hhm3' ) then
			call RecoverUnitHP(GetTriggerUnit() , 0.1)
			return true
		endif
		//Áû¨‰ºêÂøÉ
		if ( GetUnitTypeId(u) == 'h01B' and udg_H[GetConvertedPlayerId(GetOwningPlayer(u))] == mengji ) then
			call UnitDamageTarget(mengji, GetTriggerUnit(), GetDamageAgi(mengji) * 0.35, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		if ( GetUnitTypeId(u) == 'hhm4' ) then
			call UnitDamageTarget(mengji, GetTriggerUnit(), GetDamageAgi(mengji) * 0.4, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetOtherLiutao takes unit u,item it returns boolean
		if ( GetItemTypeId(it) == 'I049' or GetItemTypeId(it) == 'I04A' or it == Mengji___Nihe ) then
			return ( u == mengji )
		else
			return true
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function Mengji___HasShenggong takes nothing returns boolean
		return UnitHasItem(mengji, Mengji___Liutao)
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Mengji___ExchangeChao takes boolean higher returns nothing
  local integer charges= GetItemCharges(Mengji___Liutao)
		call FlushChildHashtable(YDHT, GetHandleId(Mengji___Liutao))
		call RemoveItem(Mengji___Liutao)
		if ( higher or BJuexing3[GetConvertedPlayerId(GetOwningPlayer(mengji))] ) then
			set Mengji___Liutao=CreateItem('I04A', GetUnitX(mengji), GetUnitY(mengji))
		else
			set Mengji___Liutao=CreateItem('I049', GetUnitX(mengji), GetUnitY(mengji))
		endif
	    call SaveInteger(YDHT, GetHandleId(Mengji___Liutao), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(mengji)))
		call SetItemCharges(Mengji___Liutao, charges)
		if ( Mengji___Nihe != null ) then
			call SetItemVisible(Mengji___Liutao, false)
		else
			if ( IsUnitHasSlot(mengji) ) then
				//ÊúâÁ©∫‰ΩçÂàôÁªôËã±ÈõÑ
				call UnitAddItem(mengji, Mengji___Liutao)
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function Mengji___NitaiTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
		if ( Mengji___Nihe != null ) then
			call RemoveItem(Mengji___Nihe)
		endif
		set Mengji___Nihe=null
		call SetItemVisible(Mengji___Liutao, true)
		if ( IsUnitHasSlot(mengji) and IsUnitAliveBJ(mengji) ) then
			//ÊúâÁ©∫‰ΩçÂàôÁªôËã±ÈõÑ
			call UnitAddItem(mengji, Mengji___Liutao)
	    	call PrintSpellContent(GetOwningPlayer(mengji) , GetAbilityName('A0GX') , "ÔºåÊãüÊÄÅÁªìÊùüÔºåÂú£ÂºìÂõûÂΩíËá≥Ëã±ÈõÑË∫´‰∏ä.")
		else
			//Ê≤°Êúâ‰ΩçÁΩÆÂàôÁßªÂà∞Ëã±ÈõÑËÑö‰∏ã
			call SetItemPosition(Mengji___Liutao, GetUnitX(mengji), GetUnitY(mengji))
			call PingMinimapForForce(GetForceOfPlayer(GetOwningPlayer(mengji)), GetUnitX(mengji), GetUnitY(mengji), 2.00)
	    	call PrintSpellContent(GetOwningPlayer(mengji) , GetAbilityName('A0GX') , "ÔºåÊãüÊÄÅÁªìÊùüÔºåÁî±‰∫éËÉåÂåÖÂ∑≤Êª°ÔºåÂú£ÂºìÂõûÂΩíËá≥Ëã±ÈõÑËÑö‰∏ã.")
		endif
		call PauseTimer(t)
		call FlushChildHashtable(spellTable, id)
		call DestroyTimer(t)
		set t=null
	endfunction

 function Mengji___Nitai takes nothing returns nothing
  local timer t= CreateTimer()
  local item temp= GetSpellTargetItem()
  local integer spellID= GetSpellAbilityId()
		//call SetItemPosition(Liutao,0,0)
		call UnitRemoveItemSwapped(Mengji___Liutao, mengji)
		call SetItemVisible(Mengji___Liutao, false)
		call UnitAddItemByIdSwapped(GetItemTypeId(temp), mengji)
		set Mengji___Nihe=GetLastCreatedItem()
		call SetItemPawnable(Mengji___Nihe, false)
		call TimerStart(t, 30, false, function Mengji___NitaiTimer)
	    call PrintSpellContent(GetOwningPlayer(mengji) , GetAbilityName(spellID) , "ÊãüÂêàÂá∫" + GetItemName(temp))
		set t=null
		set temp=null
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function RuohuanmengChatBack1 takes nothing returns nothing
		if ( Mengji___Nihe != null ) then
			call RemoveItem(Mengji___Nihe)
			set Mengji___Nihe=null
		endif
		if ( IsUnitHasSlot(mengji) and IsUnitAliveBJ(mengji) ) then
			//ÊúâÁ©∫‰ΩçÂàôÁªôËã±ÈõÑ
			call UnitAddItem(mengji, Mengji___Liutao)
	    	call PrintSpellContent(GetOwningPlayer(mengji) , GetAbilityName('A0GX') , "ÔºåÂú£ÂºìÂõûÂΩíËá≥Ëã±ÈõÑË∫´‰∏ä.")
		else
			//Ê≤°Êúâ‰ΩçÁΩÆÂàôÁßªÂà∞Ëã±ÈõÑËÑö‰∏ã
			call SetItemPosition(Mengji___Liutao, GetUnitX(mengji), GetUnitY(mengji))
			call PingMinimapForForce(GetForceOfPlayer(GetOwningPlayer(mengji)), GetUnitX(mengji), GetUnitY(mengji), 2.00)
	    	call PrintSpellContent(GetOwningPlayer(mengji) , GetAbilityName('A0GX') , "Áî±‰∫éËÉåÂåÖÂ∑≤Êª°ÔºåÂú£ÂºìÂõûÂΩíËá≥Ëã±ÈõÑËÑö‰∏ã.")
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function RuohuanmengChatBack takes nothing returns nothing
		if ( Mengji___Nihe != null ) then
			call RemoveItem(Mengji___Nihe)
			set Mengji___Nihe=null
		endif
		if ( IsUnitInRange(mengji, Mengji___ULinglong1, 900) ) then
			call Mengji___ExchangeChao(true)
		else
			call Mengji___ExchangeChao(false)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Mengji___RuohuanmengAttackCon takes nothing returns boolean
		return GetAttacker() == mengji and Mengji___HasShenggong()
	endfunction

 function Mengji___RuohuanmengAttack takes nothing returns nothing
  local integer times= GetItemCharges(Mengji___Liutao)
		if ( GetItemTypeId(Mengji___Liutao) == 'I049' ) then
			if ( times < IJ2(mengji , 200 , 100) ) then
				call SetItemCharges(Mengji___Liutao, times + 1)
			endif
		else
			call SetItemCharges(Mengji___Liutao, IMinBJ(1000, times + 1))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function RuohuanmengDeathCon takes nothing returns boolean
	    return ( ( GetEventDamage() >= GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) ) and GetItemCharges(Mengji___Liutao) >= 100 and IsUnitAliveBJ(mengji) )
	endfunction

 function RuohuanmengDeathAct takes nothing returns nothing
		call SetItemCharges(Mengji___Liutao, IMaxBJ(0, GetItemCharges(Mengji___Liutao) - 100))
	    call UnitAddAbilityBJ('A0GV', GetTriggerUnit())
	    call PolledWait(0.01)
	    call UnitRemoveAbilityBJ('A0GV', GetTriggerUnit())
	endfunction

//---------------------------------------------------------------------------------------------------
	
    function Mengji___RuohuanmengTimer takes nothing returns nothing
    	if ( Mengji___HuanmengX != GetUnitX(mengji) or Mengji___HuanmengY != GetUnitY(mengji) ) then
    		set Mengji___HuanmengX=GetUnitX(mengji)
    		set Mengji___HuanmengY=GetUnitY(mengji)
    		//ÁßªÂä®
    		if ( GetUnitAbilityLevel(mengji, 'A0GX') >= 1 ) then
    			call UnitRemoveAbility(mengji, 'A0GX')
    			call UnitAddAbility(mengji, 'A0GY')
    			call SetUnitAbilityLevel(mengji, 'A0GY', 1 + IJ1(mengji , 1 , 0) + IJ2(mengji , 1 , 0) + IJ3(mengji , 1 , 0))
    		endif
    	else
    		//ÈùôÊ≠¢
    		if ( GetUnitAbilityLevel(mengji, 'A0GY') >= 1 ) then
    			call UnitRemoveAbility(mengji, 'A0GY')
    			call UnitAddAbility(mengji, 'A0GX')
    			call SetUnitAbilityLevel(mengji, 'A0GX', 1 + IJ1(mengji , 1 , 0) + IJ2(mengji , 1 , 0) + IJ3(mengji , 1 , 0))
    		endif
    	endif
    endfunction
    
//---------------------------------------------------------------------------------------------------
	
 function Mengji___Tanyoujian takes real damageRate,integer abilityID,real x2,real y2,integer count returns nothing

  local real damage= GetDamageAgi(mengji) * damageRate
     local real x1= GetUnitX(mengji)
     local real y1= GetUnitY(mengji)
     local real facing= Atan2BJ(y2 - y1, x2 - x1)
  local unit u= null
  local boolean next= true
  local integer i= - 1 * count / 2
		loop
			exitwhen i > count / 2
			set u=CreateUnit(GetOwningPlayer(mengji), 'hhm5', x1, y1, facing + i * 20)
	    	call UnitApplyTimedLifeBJ(2, 'BHwe', u)
		    call YDWETimerPatternRushSlide(u , facing + i * 20 , 2000 , 2 , 0.05 , damage , 300. , false , true , true , "origin" , "Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl" , "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
			set i=i + 1
		endloop
	    call PrintSpell(GetOwningPlayer(mengji) , GetAbilityName(abilityID) , damage)
	    set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Mengji___Zhenhunsuo takes nothing returns nothing
   local unit u= CreateUnit(GetOwningPlayer(mengji), 'h000', GetUnitX(mengji), GetUnitY(mengji), 0)
	    call UnitApplyTimedLifeBJ(12.00, 'BHwe', u)
        call UnitAddAbilityBJ('A0H0', u)
    	call IssueTargetOrder(u, "magicleash", GetSpellTargetUnit())
 		set u=CreateUnit(GetOwningPlayer(mengji), 'h000', GetUnitX(mengji), GetUnitY(mengji), 0)
	    call UnitApplyTimedLifeBJ(12.00, 'BHwe', u)
        call UnitAddAbilityBJ('A0H0', u)
    	call IssueTargetOrder(u, "magicleash", GetSpellTargetUnit())
	    set u=null
	    call PrintSpellName(GetOwningPlayer(mengji) , GetAbilityName(GetSpellAbilityId()))
	endfunction
//---------------------------------------------------------------------------------------------------
	
    function Mengji___TSpellMengji2Con takes nothing returns boolean
    	return GetAttacker() == mengji and IsSecondSpellOK(mengji) == true and GetUnitState(mengji, UNIT_STATE_MANA) >= 250 and Mengji___HasShenggong() and GetUnitAbilityLevel(mengji, 'AHM2') == 1
    endfunction
    
    function Mengji___TSpellMengji2Act takes nothing returns nothing
    	call DisableTrigger(GetTriggeringTrigger())
		call Mengji___Tanyoujian(0.4 , 'AHM2' , GetUnitX(GetAttackedUnitBJ()) , GetUnitY(GetAttackedUnitBJ()) , 1)
		call PolledWait(5)
    	call EnableTrigger(GetTriggeringTrigger())
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function Mengji___Sanchuanjian takes nothing returns nothing
  local real damage= GetDamageAgi(mengji) * 0.2
  local real x= YDWECoordinateX(GetSpellTargetX() + GetRandomInt(- 100, 100))
  local real y= YDWECoordinateY(GetSpellTargetY() + GetRandomInt(- 100, 100))

        local unit u= CreateUnit(GetOwningPlayer(mengji), 'hhm1', x, y, 0)
        call UnitApplyTimedLifeBJ(22.00, 'BHwe', u)
        call IssuePointOrder(u, "stampede", GetSpellTargetX(), GetSpellTargetY())

		set x=YDWECoordinateX(GetSpellTargetX() + GetRandomInt(- 100, 100))
		set y=YDWECoordinateY(GetSpellTargetY() + GetRandomInt(- 100, 100))
 		set u=CreateUnit(GetOwningPlayer(mengji), 'hhm2', x, y, 0)
        call UnitApplyTimedLifeBJ(22.00, 'BHwe', u)
        call IssuePointOrder(u, "stampede", GetSpellTargetX(), GetSpellTargetY())

		set x=YDWECoordinateX(GetSpellTargetX() + GetRandomInt(- 100, 100))
		set y=YDWECoordinateY(GetSpellTargetY() + GetRandomInt(- 100, 100))
 		set u=CreateUnit(Player(10), 'hhm3', x, y, 0)
        call UnitApplyTimedLifeBJ(22.00, 'BHwe', u)
        call IssuePointOrder(u, "stampede", GetSpellTargetX(), GetSpellTargetY())

	    call PrintSpell(GetOwningPlayer(mengji) , GetAbilityName(GetSpellAbilityId()) , damage)
        set u=null
	endfunction

//---------------------------------------------------------------------------------------------------

	
 function Mengji___Shunfaxin takes nothing returns nothing
  local real damage= GetDamageAgi(mengji) * 0.1

	    call EnableTrigger(Mengji___TSpellMengji41)
	    call EnableTrigger(Mengji___TSpellMengji42)
        call PlaySoundBJ(gg_snd_mengji_4)
	    call PrintSpell(GetOwningPlayer(mengji) , GetAbilityName('AHM4') , damage)
	    call PolledWait(30)
	    call DisableTrigger(Mengji___TSpellMengji41)
	    call DisableTrigger(Mengji___TSpellMengji42)
	    call PrintSpellContent(GetOwningPlayer(mengji) , GetAbilityName('AHM4') , ",ÊñΩÊ≥ïÁªìÊùü.")
	endfunction

	
 function Mengji___ShunfaxinArrow takes real x2,real y2 returns nothing
     local real x1= GetUnitX(mengji)
     local real y1= GetUnitY(mengji)
     local real facing= Atan2BJ(y2 - y1, x2 - x1)
     local real x= x2 - CosBJ(facing) * 100
     local real y= y2 - SinBJ(facing) * 100
   local unit u= CreateUnit(GetOwningPlayer(mengji), 'h01B', x, y, 0)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', u)
        call UnitAddAbility(u, 'A0H4')
        call IssuePointOrder(u, "carrionswarm", x2, y2)
        set u=null
        call PolledWait(0.01)
        if ( RAbsBJ(GetUnitX(mengji) - x1) < 600 ) then
	        call SetUnitX(mengji, x1)
	        call SetUnitY(mengji, y1)
        	endif
        call IssueImmediateOrder(mengji, "stop")
	endfunction

 function Mengji___TSpellMengji4Con takes nothing returns boolean
	    return ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") ) )
	endfunction

 function Mengji___TSpellMengji41Act takes nothing returns nothing
	    call Mengji___ShunfaxinArrow(GetUnitX(GetOrderTargetUnit()) , GetUnitY(GetOrderTargetUnit()))
	endfunction

 function Mengji___TSpellMengji42Act takes nothing returns nothing
	    call Mengji___ShunfaxinArrow(GetOrderPointX() , GetOrderPointY())
	endfunction

//---------------------------------------------------------------------------------------------------

	
 function Mengji___LinglongwuTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local unit u= null
  local integer id= GetHandleId(t)
  local integer count= LoadInteger(spellTable, id, 1)
  local real angel= GetRandomReal(0, 360)
		if ( IsUnitInRange(mengji, Mengji___ULinglong1, 900) ) then
			if ( IsUnitAliveBJ(mengji) ) then
				set u=CreateUnit(GetOwningPlayer(mengji), 'hhm4', GetUnitX(mengji), GetUnitY(mengji), angel)
	       		call UnitApplyTimedLifeBJ(5.00, 'BHwe', u)
	        	call IssuePointOrder(u, "carrionswarm", YDWECoordinateX(GetUnitX(mengji) + 100 * CosBJ(angel)), YDWECoordinateY(GetUnitY(mengji) + 100 * SinBJ(angel)))
			endif
	        call MoveLightningEx(Mengji___LLinglong[1], true, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 900 * CosBJ(count)), YDWECoordinateY(GetUnitY(Mengji___ULinglong1) + 900 * SinBJ(count)), 0, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 900 * CosBJ(count)), YDWECoordinateY(GetUnitY(Mengji___ULinglong1) + 900 * SinBJ(count)), 750)
	        call MoveLightningEx(Mengji___LLinglong[2], true, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 900 * CosBJ(count + 120)), YDWECoordinateY(GetUnitY(Mengji___ULinglong1) + 900 * SinBJ(count + 120)), 0, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 900 * CosBJ(count + 120)), YDWECoordinateY(GetUnitY(Mengji___ULinglong1) + 900 * SinBJ(count + 120)), 750)
	        call MoveLightningEx(Mengji___LLinglong[3], true, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 900 * CosBJ(count + 240)), YDWECoordinateY(GetUnitY(Mengji___ULinglong1) + 900 * SinBJ(count + 240)), 0, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 900 * CosBJ(count + 240)), YDWECoordinateY(GetUnitY(Mengji___ULinglong1) + 900 * SinBJ(count + 240)), 750)
			call SaveInteger(spellTable, GetHandleId(t), 1, ModuloInteger(count + 6, 360))
			set u=null
		else
			call RemoveUnit(Mengji___ULinglong1)
			call RemoveUnit(Mengji___ULinglong2)
			call DestroyLightningBJ(Mengji___LLinglong[1])
			call DestroyLightningBJ(Mengji___LLinglong[2])
			call DestroyLightningBJ(Mengji___LLinglong[3])
			set Mengji___ULinglong1=null
			set Mengji___ULinglong2=null
			set Mengji___LLinglong[1]=null
			set Mengji___LLinglong[2]=null
			set Mengji___LLinglong[3]=null
			call Mengji___ExchangeChao(false)
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
		endif
		set t=null
	endfunction

 function Mengji___Linglongwu takes nothing returns nothing

  local timer t= null
		if ( Mengji___ULinglong1 != null ) then
			return
		endif
		set t=CreateTimer()
        call PlaySoundBJ(gg_snd_mengji_5)
		set Mengji___ULinglong1=CreateUnit(GetOwningPlayer(mengji), 'h00S', GetUnitX(mengji), GetUnitY(mengji), 0)
		set Mengji___ULinglong2=CreateUnit(GetOwningPlayer(mengji), 'h00T', GetUnitX(mengji), GetUnitY(mengji), 0)
		set Mengji___LLinglong[1]=AddLightningEx("DRAM", true, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 900), YDWECoordinateY(GetUnitY(Mengji___ULinglong1)), 0, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 900), YDWECoordinateY(GetUnitY(Mengji___ULinglong1)), 750)
		set Mengji___LLinglong[2]=AddLightningEx("DRAM", true, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) - 450), YDWECoordinateY(GetUnitY(Mengji___ULinglong1)), 0, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) + 779), YDWECoordinateY(GetUnitY(Mengji___ULinglong1)), 750)
		set Mengji___LLinglong[3]=AddLightningEx("DRAM", true, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) - 450), YDWECoordinateY(GetUnitY(Mengji___ULinglong1)), 0, YDWECoordinateX(GetUnitX(Mengji___ULinglong1) - 779), YDWECoordinateY(GetUnitY(Mengji___ULinglong1)), 750)
		call Mengji___ExchangeChao(true)
		call SaveInteger(spellTable, GetHandleId(t), 1, 0)
		call TimerStart(t, 0.1, true, function Mengji___LinglongwuTimer)
	    call PrintSpell(GetOwningPlayer(mengji) , GetAbilityName('AHM5') , GetDamageAgi(mengji) * 0.2)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function Mengji___TSpellMengjiAct takes nothing returns nothing
		if ( GetSpellAbilityId() == 'AHM1' ) then
			call Mengji___Tanyoujian(0.75 , GetSpellAbilityId() , GetSpellTargetX() , GetSpellTargetY() , 5)
		elseif ( GetSpellAbilityId() == 'AHM2' ) then
			call Mengji___Zhenhunsuo()
		elseif ( GetSpellAbilityId() == 'A0GW' ) then
			call Mengji___Sanchuanjian()
		elseif ( GetSpellAbilityId() == 'AHM4' ) then
			call Mengji___Shunfaxin()
		elseif ( GetSpellAbilityId() == 'AHM5' ) then
			call Mengji___Linglongwu()
		//ÊãüÊÄÅ
		elseif ( GetSpellAbilityId() == 'A0JG' and IsCanCopy(GetSpellTargetItem()) ) then
			if ( IsInRect(GetUnitX(mengji) , GetUnitY(mengji) , gg_rct_______a3) and IsInRect(GetUnitX(mengji) , GetUnitY(mengji) , gg_rct_______a3) ) then
				call DisplayTextToPlayer(GetOwningPlayer(mengji), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢ÊãüÊÄÅ.")
			else
				call Mengji___Nitai()
			endif
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillMengjiI takes unit learner,integer whichSpell returns nothing
  local integer i
		if ( learner == mengji ) then
			if ( whichSpell == 1 ) then
			elseif ( whichSpell == 2 and IsSecondSpellOK(mengji) == true and GetUnitAbilityLevel(mengji, 'AHM2') == 1 ) then
				//ÊäÄËÉΩ2ÂàùÂßãÂåñ
			elseif ( whichSpell == 3 and IsThirdSpellOK(mengji) == true and GetUnitAbilityLevel(mengji, 'A0GW') == 1 ) then
				//ÊäÄËÉΩ3ÂàùÂßãÂåñ
				call AddSpecialEffectTargetUnitBJ("origin", mengji, "war3mapImported\\BlightwalkerAura.mdx")
				call InitMengjiAura()
			elseif ( whichSpell == 4 and IsFourthSpellOK(mengji) == true and GetUnitAbilityLevel(mengji, 'AHM4') == 1 ) then
				//ÊäÄËÉΩ4ÂàùÂßãÂåñ
			elseif ( whichSpell == 5 and IsFifthSpellOK(mengji) == true and GetUnitAbilityLevel(mengji, 'AHM5') == 1 ) then
				//ÊäÄËÉΩ5ÂàùÂßãÂåñ
			endif
		endif
	endfunction

 function LearnSkillMengji takes unit learner,integer learnSpellID returns nothing
		if ( learner == mengji ) then
			if ( learnSpellID == 'AHM1' ) then
				call LearnSkillMengjiI(learner , 1)
			elseif ( learnSpellID == 'AHM2' ) then
				call LearnSkillMengjiI(learner , 2)
			elseif ( learnSpellID == 'A0GW' ) then
				call LearnSkillMengjiI(learner , 3)
			elseif ( learnSpellID == 'AHM4' ) then
				call LearnSkillMengjiI(learner , 4)
			elseif ( learnSpellID == 'AHM5' ) then
				call LearnSkillMengjiI(learner , 5)
			endif
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
 function InitMengji takes unit u returns nothing

     local timer t= CreateTimer()
		set mengji=u

		set Mengji___Liutao=GetItemOfTypeFromUnitBJ(mengji, 'I049')
	    call SaveInteger(YDHT, GetHandleId(Mengji___Liutao), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(mengji)))

	    
	    call AddStrPercent(GetConvertedPlayerId(GetOwningPlayer(mengji)) , 0.2)
	    call AddAgiPercent(GetConvertedPlayerId(GetOwningPlayer(mengji)) , 0.2)
	    call AddIntPercent(GetConvertedPlayerId(GetOwningPlayer(mengji)) , 0.2)
	    call AddAttackPercent(GetConvertedPlayerId(GetOwningPlayer(mengji)) , 0.5)
	    call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(mengji)) , 0.4)
	    call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(mengji)) , 0.2)
		call SetPlayerAbilityAvailable(GetOwningPlayer(mengji), 'A0GV', false)
		//Ëã•ÂπªÊ¢¶
	    set Mengji___TSpellMengji01=CreateTrigger()
	    call TriggerRegisterPlayerChatEvent(Mengji___TSpellMengji01, GetOwningPlayer(mengji), "-th", true)
	    call TriggerAddAction(Mengji___TSpellMengji01, function RuohuanmengChatBack1)
	    set Mengji___TSpellMengji02=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Mengji___TSpellMengji02, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Mengji___TSpellMengji02, Condition(function Mengji___RuohuanmengAttackCon))
	    call TriggerAddAction(Mengji___TSpellMengji02, function Mengji___RuohuanmengAttack)
	    set Mengji___TSpellMengji03=CreateTrigger()
	    call TriggerRegisterUnitEvent(Mengji___TSpellMengji03, mengji, EVENT_UNIT_DAMAGED)
	    call TriggerAddCondition(Mengji___TSpellMengji03, Condition(function RuohuanmengDeathCon))
	    call TriggerAddAction(Mengji___TSpellMengji03, function RuohuanmengDeathAct)

		//‰∏ªËã±ÈõÑÊäÄËÉΩ
		set Mengji___TSpellMengji=CreateTrigger()
	    call TriggerRegisterUnitEvent(Mengji___TSpellMengji, u, EVENT_UNIT_SPELL_EFFECT)
	    call TriggerAddAction(Mengji___TSpellMengji, function Mengji___TSpellMengjiAct)

	    //Ëã•ÂπªÊ¢¶ÈùôÊ≠¢‰∏éÂä®
	    call TimerStart(t, 0.5, true, function Mengji___RuohuanmengTimer)

	    //Ëã±ÈõÑÁ¨¨‰∫å‰∏™ÊäÄËÉΩÊîªÂáª‰∫ã‰ª∂
	    set Mengji___TSpellMengji2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Mengji___TSpellMengji2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Mengji___TSpellMengji2, Condition(function Mengji___TSpellMengji2Con))
	    call TriggerAddAction(Mengji___TSpellMengji2, function Mengji___TSpellMengji2Act)


	    //Áû¨‰ºêÂøÉ
	    set Mengji___TSpellMengji41=CreateTrigger()
	    call TriggerRegisterUnitEvent(Mengji___TSpellMengji41, mengji, EVENT_UNIT_ISSUED_TARGET_ORDER)
	    call TriggerAddCondition(Mengji___TSpellMengji41, Condition(function Mengji___TSpellMengji4Con))
	    call TriggerAddAction(Mengji___TSpellMengji41, function Mengji___TSpellMengji41Act)
	    call DisableTrigger(Mengji___TSpellMengji41)
	    set Mengji___TSpellMengji42=CreateTrigger()
	    call TriggerRegisterUnitEvent(Mengji___TSpellMengji42, mengji, EVENT_UNIT_ISSUED_POINT_ORDER)
	    call TriggerAddCondition(Mengji___TSpellMengji42, Condition(function Mengji___TSpellMengji4Con))
	    call TriggerAddAction(Mengji___TSpellMengji42, function Mengji___TSpellMengji42Act)
	    call DisableTrigger(Mengji___TSpellMengji42)
	    set t=null
	endfunction


//library Mengji ends
//library Xinglong:




//---------------------------------------------------------------------------------------------------
	
 function IsLong takes nothing returns boolean
		return GetUnitTypeId(xinglong) == 'H01I'
	endfunction
//---------------------------------------------------------------------------------------------------
		
 function SimulateDeathXinglong takes unit u returns nothing
		if ( GetUnitTypeId(u) == 'h01L' ) then
			call DamageArea(xinglong , GetUnitX(u) , GetUnitY(u) , 600 , Xinglong___XinglongDamage * R3(IsLong() , 1.5 , 1) / 10 * GetUnitUserData(u))
 			call DestroyEffect(AddSpecialEffect("war3mapImported\\IceStomp.mdx", GetUnitX(u), GetUnitY(u)))
		endif
		if ( GetUnitTypeId(u) == 'h01J' ) then
			call DamageArea(xinglong , GetUnitX(u) , GetUnitY(u) , 300 , Xinglong___XinglongDamage * 0.4)
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", GetUnitX(u), GetUnitY(u)))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Xinglong___Longhuangfuti takes nothing returns nothing
		if ( GetUnitTypeId(xinglong) == 'Hapm' ) then
			if ( not ( Xinglong___BBianshen ) ) then
				call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.2 * ( 1 + IJ2(xinglong , 1 , 0) + IJ3(xinglong , 1 , 0) ))
				call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.1 * ( 1 + IJ2(xinglong , 1 , 0) + IJ3(xinglong , 1 , 0) ))

			endif
			set Xinglong___BBianshen=true
			call PolledWait(0.01)
			call AddAttack(xinglong , 0)
			call AddDefense(xinglong , 0)
			call AddHP(xinglong , 0)
		elseif ( GetUnitTypeId(xinglong) == 'H01I' ) then
			set Xinglong___BBianshen=false
			call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.2 * ( 1 + IJ2(xinglong , 1 , 0) + IJ3(xinglong , 1 , 0) ))
			call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.1 * ( 1 + IJ2(xinglong , 1 , 0) + IJ3(xinglong , 1 , 0) ))
			call PolledWait(0.01)

			call AddAttack(xinglong , 0)
			call AddDefense(xinglong , 0)
			call AddHP(xinglong , 0)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Xinglong___Longhuangtuxi2 takes boolean diyfacing,real x,real y,real damage,integer times returns nothing
  local real facing= R3(diyfacing , GetFacingBetweenXY(GetUnitX(xinglong) , GetUnitY(xinglong) , x , y) , GetUnitFacing(xinglong))
  local real distance= R3(diyfacing , GetDistance(GetUnitX(xinglong) , GetUnitY(xinglong) , x , y) , 1200)
  local unit u= CreateUnit(GetOwningPlayer(xinglong), 'h01L', GetUnitX(xinglong), GetUnitY(xinglong), facing)
    	call SetUnitScalePercent(u, 100.00 + times * 10.00, 100.00 + times * 10.00, 100.00 + times * 10.00)
    	call SetUnitUserData(u, times)
    	call UnitApplyTimedLifeBJ(distance / 900, 'BHwe', u)
	    call YDWETimerPatternRushSlide(u , facing , distance , distance / 900 , 0.05 , damage / 10 * times , 180 + times * 20. , false , true , true , "origin" , "" , "Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
	endfunction

 function Xinglong___Longhuangtuxi takes real x,real y,integer abilityID,real rate returns nothing
  local integer times= I3(( IsSecondSpellOK(xinglong) and GetUnitAbilityLevel(xinglong, 'A0JO') == 1 ) , 3 , 1)
  local integer i= 1
		if ( ITuxi >= 3 ) then
			return
		endif
		set ITuxi=ITuxi + 1
		if ( abilityID != 0 ) then
	    	call PrintSpell(GetOwningPlayer(xinglong) , GetAbilityName(abilityID) , Xinglong___XinglongDamage)
		endif
		call Xinglong___Longhuangtuxi2(true , GetSpellTargetX() , GetSpellTargetY() , Xinglong___XinglongDamage * rate , 10)
		if ( IsSecondSpellOK(xinglong) and GetUnitAbilityLevel(xinglong, 'A0JO') == 1 ) then
			call PolledWait(0.5)
			loop
				exitwhen i > 10
				if ( GetRandomInt(1, 100) > I3(BJuexing3[GetConvertedPlayerId(GetOwningPlayer(xinglong))] and IsLong() , 0 , ( i * 10 )) ) then
					call Xinglong___Longhuangtuxi2(false , 0 , 0 , Xinglong___XinglongDamage * rate * 0.1 * i , i)
	    			call CreateSpellTextTag(I2S(i) + "Ê¨°ÂÖ±È∏£ÔºÅ" , xinglong , 100 , 0 , 0 , 3)
					call PolledWait(0.5)
	    		else
	    			exitwhen true
				endif
				set i=i + 1
			endloop
		endif
		set ITuxi=ITuxi - 1
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Xinglong___Longhuanggongming takes nothing returns nothing
		call UnitRemoveAbility(xinglong, 'A0JN')
		call UnitAddAbility(xinglong, 'A0JN')
    	call PrintSpellContent(GetOwningPlayer(xinglong) , GetAbilityName('A0JO') , "ÔºåÂà∑Êñ∞ÊàêÂäü„ÄÇ")
		call UnitDamageTarget(xinglong, xinglong, GetUnitState(xinglong, UNIT_STATE_MAX_LIFE) * 0.2, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetUnitX(xinglong), GetUnitY(xinglong)))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Xinglong___TSpellXinglongAttackCon takes nothing returns boolean
		return GetAttacker() == xinglong
	endfunction

 function Xinglong___TSpellXinglongAttackAct takes nothing returns nothing
		if ( IsSecondSpellOK(xinglong) and GetUnitState(xinglong, UNIT_STATE_MANA) >= 250 and GetRandomInt(1, 20) == 1 and GetUnitAbilityLevel(xinglong, 'A0JO') == 1 ) then
			call Xinglong___Longhuangtuxi(GetUnitX(GetAttackedUnitBJ()) , GetUnitY(GetAttackedUnitBJ()) , 'A0JO' , 0.33)
		endif
		if ( IsThirdSpellOK(xinglong) and GetUnitState(xinglong, UNIT_STATE_MANA) >= 400 and GetRandomInt(1, 10) == 1 and GetUnitAbilityLevel(xinglong, 'A0JP') == 1 ) then
			call UnitDamageTarget(xinglong, GetAttackedUnitBJ(), ( GetAttack(xinglong) + GetHeroStr(xinglong, false) ) * 3 * SquareRoot(I2R(GetHeroLevel(xinglong))) * R3(IsLong() , 2 , 1), false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			call CreateSpellTextTag("Âºë" , GetAttackedUnitBJ() , 100 , 0 , 100 , 3)
			call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl", GetUnitX(GetAttackedUnitBJ()), GetUnitY(GetAttackedUnitBJ())))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
    function Xinglong___TSpellXinglongDamageCon takes nothing returns boolean
    	return IsThirdSpellOK(xinglong) and GetEventDamage() < GetUnitState(xinglong, UNIT_STATE_MAX_LIFE) and GetUnitAbilityLevel(xinglong, 'A0JP') == 1 and IsUnitInUnitBack(xinglong , GetEventDamageSource() , 60) and GetEventDamage() > 0 and GetEventDamageSource() != xinglong
    endfunction
    
    function Xinglong___TSpellXinglongDamageAct takes nothing returns nothing
		call SetUnitLifeBJ(xinglong, GetUnitState(xinglong, UNIT_STATE_LIFE) + GetEventDamage() * 2)
    	if not ( Xinglong___BDamage ) then
    		set Xinglong___BDamage=true
    		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\ReplenishHealth\\ReplenishHealthCasterOverhead.mdl", GetUnitX(xinglong), GetUnitY(xinglong)))
    		call PolledWait(1)
    		set Xinglong___BDamage=false
    	endif
    endfunction

//---------------------------------------------------------------------------------------------------
	

	//‰º§ÂÆ≥ÁöÑËÆ°Êó∂Âô®
 function Xinglong___LonghuanglunhuiDamageTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(spellTable, id, 1)
  local unit temp= null
		if ( IsUnitAliveBJ(u) ) then
    		call SetUnitFlyHeight(CreateUnit(GetOwningPlayer(xinglong), 'h01J', YDWECoordinateX(GetUnitX(u) + GetRandomReal(- 900, 900)), YDWECoordinateY(GetUnitY(u) + GetRandomReal(- 900, 900)), 0), 0.00, 500.00)
		else
			set BLunhuing=false
			call UnitRemoveAbility(xinglong, 'A0K1')
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
		endif
		set u=null
		set temp=null
		set t=null
	endfunction

 function Xinglong___Longhuanglunhui takes nothing returns nothing
  local integer i= GetHeroLevel(xinglong)
  local timer t2= CreateTimer()
  local unit u= CreateUnit(GetOwningPlayer(xinglong), 'h01K', GetUnitX(xinglong), GetUnitY(xinglong), 0)
		if ( BLunhuing ) then
			return
		endif
		set BLunhuing=true
		call UnitApplyTimedLifeBJ(5, 'BHwe', u)
        call PlaySoundBJ(gg_snd_xinglong_4)
		call PrintSpellName(GetOwningPlayer(xinglong) , GetAbilityName('A0JQ'))
		call UnitAddAbility(xinglong, 'A0K1')
		call UnitMakeAbilityPermanent(xinglong, true, 'A0K1')
		//‰∏çÊñ≠‰º§ÂÆ≥
		call SaveUnitHandle(spellTable, GetHandleId(t2), 1, u)
		call TimerStart(t2, 0.05, true, function Xinglong___LonghuanglunhuiDamageTimer)
		//Âø´ÈÄüÂçáÁ∫ß
		set t2=null
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function Xinglong___TSpellXinglongAct takes nothing returns nothing
		if ( GetSpellAbilityId() == 'A0JN' ) then
			//ÈæôÁöáÂêêÊÅØ
			call Xinglong___Longhuangtuxi(GetSpellTargetX() , GetSpellTargetY() , 'A0JN' , 1)
		elseif ( GetSpellAbilityId() == 'A0JO' ) then
			//ÈæôÁöáÂÖ±È∏£
			call Xinglong___Longhuanggongming()
		elseif ( GetSpellAbilityId() == 'A0JQ' ) then
			//ÈæôÁöáËΩÆÂõû
			call Xinglong___Longhuanglunhui()
		elseif ( GetSpellAbilityId() == 'AEme' ) then
			//ÈæôÁöáÈôÑ‰Ωì
			call Xinglong___Longhuangfuti()
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Xinglong___CreateEffect1 takes real x,real y returns nothing
  local integer i= 1
		call DestroyEffect(AddSpecialEffect("war3mapImported\\longj2.mdl", x, y))
		loop
			exitwhen i > 6
			call DestroyEffect(AddSpecialEffect("war3mapImported\\longj2.mdl", YDWECoordinateX(x + 900 * CosBJ(i * 60)), YDWECoordinateY(y + 900 * SinBJ(i * 60))))
			set i=i + 1
		endloop
	endfunction

 function Xinglong___CreateEffect2 takes real x,real y returns nothing
  local integer i= 1
	    call CreateUnitEffect(GetOwningPlayer(xinglong) , 'h01M' , x , y , 0)
		loop
			exitwhen i > 6
	    	call CreateUnitEffect(GetOwningPlayer(xinglong) , 'h01M' , YDWECoordinateX(x + 900 * CosBJ(i * 60)) , YDWECoordinateY(y + 900 * SinBJ(i * 60)) , 0)
			set i=i + 1
		endloop
	endfunction

 function Xinglong___TSpellXinglongUpdateAct takes nothing returns nothing
		if ( IsFourthSpellOK(xinglong) and GetUnitAbilityLevel(xinglong, 'A0JQ') == 1 and GetUnitLevel(xinglong) >= 101 ) then
			//ÈæôÁöáËΩÆÂõûÔºå‰º§ÂÆ≥Âπ∂Áú©ÊôïÔºåËøòÊúâÁâπÊïà
		    call SetHeroLevelBJ(xinglong, 1, false)
		    call UnitAddAbility(xinglong, 'A0JN')
		    call UnitAddAbility(xinglong, 'A0JO')
		    call UnitAddAbility(xinglong, 'A0JP')
		    call UnitAddAbility(xinglong, 'A0JQ')
		    call UnitAddAbility(xinglong, 'A0JR')
			call Xinglong___CreateEffect2(GetUnitX(xinglong) , GetUnitY(xinglong))
	    	call PrintSpell(GetOwningPlayer(xinglong) , GetAbilityName('A0JQ') , Xinglong___XinglongDamage * 10)
	    	call PolledWait(1)
			call DamageArea(xinglong , GetUnitX(xinglong) , GetUnitY(xinglong) , 1800 , Xinglong___XinglongDamage * 3)
	    	return
		endif

		if ( IsSecondSpellOK(xinglong) and GetUnitAbilityLevel(xinglong, 'A0JO') == 1 and not ( Xinglong___BEffUpdate ) ) then
			call DamageArea(xinglong , GetUnitX(xinglong) , GetUnitY(xinglong) , 1800 , Xinglong___XinglongDamage * 0.5)
			call Xinglong___CreateEffect1(GetUnitX(xinglong) , GetUnitY(xinglong))
			set Xinglong___BEffUpdate=true
			call PolledWait(2)
			set Xinglong___BEffUpdate=false
		endif

    	call SetUnitLifePercentBJ(xinglong, 100)
    	call SetUnitManaBJ(xinglong, GetUnitState(xinglong, UNIT_STATE_MANA) + 200)
    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl", GetUnitX(xinglong), GetUnitY(xinglong)))
    	if ( IsFourthSpellOK(xinglong) and GetUnitAbilityLevel(xinglong, 'A0JQ') == 1 ) then
    		set Xinglong___BAttrTime=Xinglong___BAttrTime + 2

    		if ( GetUnitAbilityLevel(xinglong, 'A0K2') != 1 ) then
    			call UnitAddAbility(xinglong, 'A0K2')
    			call UnitMakeAbilityPermanent(xinglong, true, 'A0K2')
				call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.3)
				call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.3)
				call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.3)
    		endif
    	endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Xinglong___FlashXinglongDamage takes nothing returns nothing
		set Xinglong___XinglongDamage=GetDamageStr(xinglong)
		if ( IsLong() and IsUnitAliveBJ(xinglong) ) then
			call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl", GetUnitX(xinglong), GetUnitY(xinglong)))
			call UnitDamageTarget(xinglong, xinglong, GetUnitState(xinglong, UNIT_STATE_MAX_LIFE) * 0.1, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
		endif
    	if ( IsFourthSpellOK(xinglong) and GetUnitAbilityLevel(xinglong, 'A0JQ') == 1 and Xinglong___BAttrTime != 0 ) then
    		set Xinglong___BAttrTime=Xinglong___BAttrTime - 1
    		if ( Xinglong___BAttrTime == 0 ) then
    			call UnitRemoveAbility(xinglong, 'A0K2')
				call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.3)
				call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.3)
				call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.3)
    		endif
    	endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ChooseAura takes unit u returns nothing
		call InitSpecifyAura(u)
		if ( GetHeroIndex(GetUnitTypeId(u)) == 1 ) then
			call UnitRemoveAbility(u, 'AOre')
		endif
		call KillUnit(u)
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", GetUnitX(u), GetUnitY(u)))
		set IChooseAura=IChooseAura - 1
		if ( IChooseAura == 0 ) then
    		call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(xinglong), GetPlayableMapRect())
	    	call PanCameraToTimedForPlayer(GetOwningPlayer(xinglong), GetUnitX(xinglong), GetUnitY(xinglong), 0.20)
	    	set udg_T1[GetConvertedPlayerId(GetOwningPlayer(xinglong))]=true
	    else
	    	call DisplayTextToPlayer(GetOwningPlayer(xinglong), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑ÈÄâÊã©‰Ω†ÈúÄË¶ÅÁöÑ" + I2S(IChooseAura) + "‰∏™Ëã±ÈõÑÂÖâÁéØ.")
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitChooseAura takes nothing returns nothing
  local dialog d= DialogCreate()
        local string s= "\n        	ËØ∑ÂèåÂáªËã±ÈõÑÈÄâÊã©‰Ω†ÈúÄË¶ÅÁöÑ" + I2S(IChooseAura) + "‰∏™Ëã±ÈõÑÂÖâÁéØ."
        call DialogSetMessage(d, s)
        call DialogAddButton(d, "Á°ÆÂÆö|cffff6800(Esc)|r", 512)
        call DialogDisplay(GetOwningPlayer(xinglong), d, true)
        set d=null
	    call PanCameraToTimedForPlayer(GetOwningPlayer(xinglong), GetRectCenterX(gg_rct_______c1), GetRectCenterY(gg_rct_______c1), 0.20)
	    call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(xinglong), gg_rct_______c1)
	    call DisplayTextToPlayer(GetOwningPlayer(xinglong), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑ÈÄâÊã©‰Ω†ÈúÄË¶ÅÁöÑ" + I2S(IChooseAura) + "‰∏™Ëã±ÈõÑÂÖâÁéØ.")
	    set udg_T1[GetConvertedPlayerId(GetOwningPlayer(xinglong))]=false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AfterReviveXinglong takes unit u returns nothing
		if ( u == xinglong and Xinglong___BBianshen ) then
			set Xinglong___BBianshen=false
			call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.2 * ( 1 + IJ2(xinglong , 1 , 0) + IJ3(xinglong , 1 , 0) ))
			call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.1 * ( 1 + IJ2(xinglong , 1 , 0) + IJ3(xinglong , 1 , 0) ))
			call PolledWait(0.01)
			call AddAttack(xinglong , 0)
			call AddDefense(xinglong , 0)
			call AddHP(xinglong , 0)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillXinglongI takes unit learner,integer whichSpell returns nothing
  local integer i
		if ( learner == xinglong ) then
			if ( whichSpell == 3 and IsThirdSpellOK(xinglong) and GetUnitAbilityLevel(xinglong, 'A0JP') == 1 ) then
				set IChooseAura=IChooseAura + 1
				call InitChooseAura()
			elseif ( whichSpell == 5 and IsFifthSpellOK(xinglong) and GetUnitAbilityLevel(xinglong, 'A0JR') == 1 ) then
				set IChooseAura=IChooseAura + 3
				call InitChooseAura()
			endif
		endif
	endfunction

 function LearnSkillXinglong takes unit learner,integer learnSpellID returns nothing
		if ( learner == xinglong ) then
			if ( learnSpellID == 'A0JN' ) then
				call LearnSkillXinglongI(learner , 1)
			elseif ( learnSpellID == 'A0JO' ) then
				call LearnSkillXinglongI(learner , 2)
			elseif ( learnSpellID == 'A0JP' ) then
				call LearnSkillXinglongI(learner , 3)
			elseif ( learnSpellID == 'A0JQ' ) then
				call LearnSkillXinglongI(learner , 4)
			elseif ( learnSpellID == 'A0JR' ) then
				call LearnSkillXinglongI(learner , 5)
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitXinglong takes unit u returns nothing
		set xinglong=u

		set Xinglong___TSpellXinglong=CreateTrigger()
	    call TriggerRegisterUnitEvent(Xinglong___TSpellXinglong, u, EVENT_UNIT_SPELL_EFFECT)
	    call TriggerAddAction(Xinglong___TSpellXinglong, function Xinglong___TSpellXinglongAct)

	    set udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(xinglong))]=udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(xinglong))] + 5.

	    //Âà∑Êñ∞‰º§ÂÆ≥,ËøòÊúâÊØèÁßíÂà§Êñ≠ÂΩ¢ÊÄÅÊòØÂê¶Êâ£Ë°Ä,ËøòÊúâÂä†Â±ûÊÄßÁöÑÂà§Êñ≠
	    call TimerStart(CreateTimer(), 1, true, function Xinglong___FlashXinglongDamage)

	    //ÂçáÁ∫ßÂõûË°ÄÂèäÈÄ†Êàê‰º§ÂÆ≥
	    set Xinglong___TSpellXinglongUpdate=CreateTrigger()
	    call TriggerRegisterUnitEvent(Xinglong___TSpellXinglongUpdate, xinglong, EVENT_UNIT_HERO_LEVEL)
	    call TriggerAddAction(Xinglong___TSpellXinglongUpdate, function Xinglong___TSpellXinglongUpdateAct)

	    //ÊîªÂáªËß¶Âèë‰∫ã‰ª∂ÔºåÊòüËÉß
	    set Xinglong___TSpellXinglongAttack=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Xinglong___TSpellXinglongAttack, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Xinglong___TSpellXinglongAttack, Condition(function Xinglong___TSpellXinglongAttackCon))
	    call TriggerAddAction(Xinglong___TSpellXinglongAttack, function Xinglong___TSpellXinglongAttackAct)
	    
	    //‰º§ÂÆ≥ÂÖçÁñ´‰∫ã‰ª∂
	    set Xinglong___TSpellXinglongDamage=CreateTrigger()
	    call TriggerRegisterUnitEvent(Xinglong___TSpellXinglongDamage, xinglong, EVENT_UNIT_DAMAGED)
	    call TriggerAddCondition(Xinglong___TSpellXinglongDamage, Condition(function Xinglong___TSpellXinglongDamageCon))
	    call TriggerAddAction(Xinglong___TSpellXinglongDamage, function Xinglong___TSpellXinglongDamageAct)
	endfunction

//library Xinglong ends
//library Hundun:


//---------------------------------------------------------------------------------------------------
	

 function Hundun___KuileiConfirmDialogClick takes nothing returns nothing
        local dialog d= GetClickedDialogBJ()

        if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 1) ) then
        	set BSkipKuilei=true
        	call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∑≤ÁªèÂºÄÂêØ‰∏çÂèØË∑≥ËøáÂÖ≠ÁïåÂÇÄÂÑ°!")
        endif

        call FlushChildHashtable(LHTable, GetHandleId(d))
        call DialogClear(d)
        call DialogDestroy(d)
        set d=null
        call DestroyTrigger(GetTriggeringTrigger())

	endfunction

 function ChooseKuileiDialog takes player p returns nothing
        local trigger t= null
        local dialog d= null

        if ( BSkipKuilei ) then
        	return
        endif

 		set t=CreateTrigger()
 		set d=DialogCreate()

        call DialogSetMessage(d, "\n\n        		ÂÖ≠ÁïåÂÇÄÂÑ°Á°ÆËÆ§\n\n        	Â¶ÇÊûú‰Ω†ÊåëÊàò‰∫ÜÊ∑∑Ê≤å‰∏ñÁïåÁöÑÊÄ™Áâ©,\n        	ÊàñËÄÖËøõÂÖ•‰∫ÜÁÇºÁã±92Â±Ç,\n        	ÂàôÊó†Ê≥ïË∑≥ËøáÂÖ≠ÁïåÂÇÄÂÑ°!\n        	")
        call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButtonBJ(d, "Êù•Âêß!"))
        call SaveButtonHandle(LHTable, GetHandleId(d), 2, DialogAddButtonBJ(d, "ÊàëÊâì‰∏çËøá."))
        call DialogDisplay(p, d, true)
        call TriggerRegisterDialogEvent(t, d)
        call TriggerAddAction(t, function Hundun___KuileiConfirmDialogClick)
        set d=null
        set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hundun___ClearGroup takes nothing returns nothing
		call RemoveUnit(GetEnumUnit())
	endfunction


 function DestroyHundun1 takes nothing returns nothing
		if ( MLHundun1 != 0 ) then
			call s__MultiLife_deallocate(MLHundun1)
		endif
		call PauseTimer(THundunDian1)
		call DestroyTimer(THundunDian1)
		call ForGroup(GHundunDian1, function Hundun___ClearGroup)
		call ForGroup(GHundunAttack1, function Hundun___ClearGroup)
		call DestroyGroup(GHundunDian1)
		set MLHundun1=0
		set GHundunDian1=null
		set THundunDian1=null
		call DestroyGroup(GHundunAttack1)
		set GHundunAttack1=null
		call DisableTrigger(THundunSpellDamage)
	endfunction
//---------------------------------------------------------------------------------------------------
    

    function HundunMonsterFilter takes nothing returns boolean
        return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) ) )
    endfunction

    function HundunPlayerFilter takes nothing returns boolean
        return ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) and ( IsUnitAliveBJ(GetFilterUnit()) or ( GetFilterUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetFilterUnit()))] and not ( IsWanjie() ) ) ) )
    endfunction

    function ClearHundunRegion takes rect r returns nothing
        local unit l_unit= null
        local group group2= GetUnitsInRectMatching(r, Condition(function HundunMonsterFilter))
        set group2=GetUnitsInRectMatching(r, Condition(function HundunMonsterFilter))
        loop
            set l_unit=FirstOfGroup(group2)
            exitwhen l_unit == null
            call GroupRemoveUnit(group2, l_unit)
            call FlushChildHashtable(YDHT, GetHandleId(l_unit))
            call RemoveUnit(l_unit)
        endloop
        call DestroyGroup(group2)
        set group2=null
        set l_unit=null
    endfunction

    function TLeaveHundunRegionCon takes nothing returns boolean
        return ( ( GetPlayerController(GetOwningPlayer(GetLeavingUnit())) == MAP_CONTROL_USER ) )
    endfunction

    function TLeaveHundunRegionAct takes nothing returns nothing
        local group group1= GetUnitsInRectMatching(gg_rct_Hundun, Condition(function HundunPlayerFilter))
        if ( ( CountUnitsInGroup(group1) == 0 ) ) then
            call ClearHundunRegion(gg_rct_Hundun)
            call DestroyHundun1()
        endif
        call DestroyGroup(group1)
        set group1=null
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function SpellDian takes unit temp returns nothing
  local integer i= 1
  local integer end= IMaxBJ(1, s__MultiLife_getTimes(MLHundun1)) * 18
  local real random= GetRandomReal(0, 360.)
  local unit u= null
		loop
			exitwhen i > ( end * 3 / 4 )
			set u=CreateUnit(Player(10), 'h01O', GetUnitX(temp) + 10 * CosBJ(ModuloReal(i * ( 360 / end ) + random, 360)), GetUnitY(temp) + 10 * SinBJ(ModuloReal(i * ( 360 / end ) + random, 360)), ModuloReal(i * ( 360 / end ) + random, 360))
        	call YDWEAroundSystem(u , temp , 0.00 , 20. , 0 , 5 , 0.05)
        	call UnitApplyTimedLife(u, 'BHwe', 5)
			set i=i + 1
		endloop
		set u=null
	endfunction

 function Hundun___flashDian takes nothing returns nothing
		call SpellDian(GroupPickRandomUnit(GHundunDian1))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hundun___HundunTransimit takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(spellTable, id, 1)
		if ( IsUnitAliveBJ(u) ) then
			call TLeaveHundunRegionAct()
		else
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
		endif
		set u=null
		set t=null
	endfunction
	
 function StartJudgeTransmitHundun takes unit u returns nothing
  local timer t= CreateTimer()
		call SaveUnitHandle(spellTable, GetHandleId(t), 1, u)
		call TimerStart(t, 2, true, function Hundun___HundunTransimit)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function InitHundun1 takes unit u returns nothing
  local integer i= 1
  local unit temp= null
		set UHundun1=u
		set MLHundun1=s__MultiLife_create(u , 2)
		//Âè¨Âî§ÁîµÂ≠êÁõü
		set GHundunDian1=CreateGroup()
		set GHundunAttack1=CreateGroup()
    	call SetPlayerTechResearchedSwap(GetHundunTech(), hundun1_level, Player(10))

		loop
			exitwhen i > ( GetDiffculty() / 2 + 1 )
			set temp=CreateUnit(Player(10), 'h01Q', GetRandomReal(GetRectMinX(gg_rct_Hundun), GetRectMaxX(gg_rct_Hundun)), GetRandomReal(GetRectMinY(gg_rct_Hundun), GetRectMaxY(gg_rct_Hundun)), GetRandomReal(0, 360))
			call GroupAddUnit(GHundunDian1, temp)
			call IssuePointOrder(temp, "patrol", GetRandomReal(GetRectMinX(gg_rct_Hundun), GetRectMaxX(gg_rct_Hundun)), GetRandomReal(GetRectMinY(gg_rct_Hundun), GetRectMaxY(gg_rct_Hundun)))
			set i=i + 1
		endloop
		set THundunDian1=CreateTimer()
		call TimerStart(THundunDian1, ( 10 / ( GetDiffculty() / 2 + 1 ) ), true, function Hundun___flashDian)
		//Âè¨Âî§ÊîªÂáªÁõü
		set i=1
		loop
			exitwhen i > ( GetDiffculty() / 2 + 1 )
			call GroupAddUnit(GHundunAttack1, CreateUnit(Player(10), 'h01R', GetRandomReal(GetRectMinX(gg_rct_Hundun), GetRectMaxX(gg_rct_Hundun)), GetRandomReal(GetRectMinY(gg_rct_Hundun), GetRectMaxY(gg_rct_Hundun)), GetRandomReal(0, 360)))
			set i=i + 1
		endloop
		call EnableTrigger(THundunSpellDamage)
		set hundun1_playerID=GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))
		if ( IsWanjie() ) then
			call StartJudgeTransmitHundun(u)
		endif
		set temp=null
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function HundunDeath takes nothing returns nothing
		set hundun1_level=hundun1_level + I3(IsTianyan , 3 , 1)
		call DestroyHundun1()
		 if ( ( hundun1_playerID != 0 ) ) then
            call UnitAddItemByIdSwapped('I062', UDepot[hundun1_playerID])
            call SetUnitPosition(UDepot[hundun1_playerID], GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
        else
            call CreateItem('I062', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
        endif
        set hundun1_playerID=0
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hundun___THundunSpellDamageCon takes nothing returns boolean
		return udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == GetTriggerUnit()
	endfunction
	
 function THundunSpellDamageAct takes nothing returns nothing
		if ( YDWEDistanceBetweenUnits(UHundun1 , GetTriggerUnit()) < 1800 ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
			call UnitDamageTarget(UHundun1, GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * 0.1, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function DialogCombineClick takes nothing returns nothing
     local dialog d= GetClickedDialogBJ()
     local unit u= LoadUnitHandle(itemTable, GetHandleId(d), 3)

        if ( GetClickedButtonBJ() == LoadButtonHandle(itemTable, GetHandleId(d), 1) ) then
			call UnitAddItemByIdSwapped(LoadInteger(itemTable, GetHandleId(d), 4), u)
	        call SetItemCharges(GetLastCreatedItem(), LoadInteger(itemTable, GetHandleId(d), 6))
        endif

        if ( GetClickedButtonBJ() == LoadButtonHandle(itemTable, GetHandleId(d), 2) ) then
			call UnitAddItemByIdSwapped(LoadInteger(itemTable, GetHandleId(d), 5), u)
	        call SetItemCharges(GetLastCreatedItem(), LoadInteger(itemTable, GetHandleId(d), 6))
        endif

        call FlushChildHashtable(itemTable, GetHandleId(d))
    	call DialogDisplay(GetOwningPlayer(u), d, false)
        call DialogClear(d)
        call DialogDestroy(d)
        call PlaySoundBJ(gg_snd_hecheng_shenqi)
        call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetItemName(GetLastCreatedItem()) + "Èôç‰∏¥‰∫é‰∏ñ!!!")
        call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetItemName(GetLastCreatedItem()) + "Èôç‰∏¥‰∫é‰∏ñ!!!")
        call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetItemName(GetLastCreatedItem()) + "Èôç‰∏¥‰∫é‰∏ñ!!!")
        call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetItemName(GetLastCreatedItem()) + "Èôç‰∏¥‰∫é‰∏ñ!!!")
        set d=null
        set u=null
        call DestroyTrigger(GetTriggeringTrigger())
	endfunction

 function DialogCombine takes unit buyer,integer materials1,integer materials2,integer targetItem1,integer targetItem2,string targetName1,string targetName2,integer lumber returns nothing
  local trigger t
     local dialog d
     local integer i

		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials1)) == materials1 ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials2)) == materials2 ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials1)) ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials2)) ) ) then
	    	set i=GetItemCharges(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials1))
	        call RemoveItem(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials1))
	        call RemoveItem(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials2))
			set t=CreateTrigger()
			set d=DialogCreate()
			call DialogSetMessage(d, "‰Ω†ÊÉ≥ÂêàÊàê‰∏∫:")
			call SaveButtonHandle(itemTable, GetHandleId(d), 1, DialogAddButton(d, targetName1, '1'))
			call SaveButtonHandle(itemTable, GetHandleId(d), 2, DialogAddButton(d, targetName2, '2'))
			call SaveUnitHandle(itemTable, GetHandleId(d), 3, buyer)
			call SaveInteger(itemTable, GetHandleId(d), 4, targetItem1)
			call SaveInteger(itemTable, GetHandleId(d), 5, targetItem2)
			call SaveInteger(itemTable, GetHandleId(d), 6, i)
			call DialogDisplay(GetOwningPlayer(buyer), d, true)
			call TriggerRegisterDialogEvent(t, d)
			call TriggerAddAction(t, function DialogCombineClick)
			set d=null
			set t=null
	    else
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÊùêÊñô‰∏çË∂≥.")
	        call AdjustPlayerStateBJ(lumber, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
	        return
	    endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CombineI takes unit buyer,integer materials1,integer materials2,integer targetItem,integer lumber,boolean hints returns nothing
     local integer i

		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials1)) == materials1 ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials2)) == materials2 ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials1)) ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials2)) ) ) then
	    	set i=GetItemCharges(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials1))
	        call RemoveItem(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials1))
	        call RemoveItem(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), materials2))
			call UnitAddItemByIdSwapped(targetItem, GetBuyingUnit())
    		call SetItemCharges(GetLastCreatedItem(), i)
        	call PlaySoundBJ(gg_snd_hecheng_shenqi)
        	call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetItemName(GetLastCreatedItem()) + "Èôç‰∏¥‰∫é‰∏ñ!!!")
        	call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetItemName(GetLastCreatedItem()) + "Èôç‰∏¥‰∫é‰∏ñ!!!")
        	call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetItemName(GetLastCreatedItem()) + "Èôç‰∏¥‰∫é‰∏ñ!!!")
        	call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetItemName(GetLastCreatedItem()) + "Èôç‰∏¥‰∫é‰∏ñ!!!")
	    else
	    	if ( hints ) then
	        	call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÊùêÊñô‰∏çË∂≥.")
	    	endif
	        call AdjustPlayerStateBJ(lumber, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
	        return
	    endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Yitian takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) and udg_H[i] != null ) then
				if ( UnitHasItemOfTypeBJ(udg_H[i], 'I04L') or UnitHasItemOfTypeBJ(udg_H[i], 'I04M') ) then
				    call AdjustPlayerStateBJ(600 * CModeH(1 , 2), ConvertedPlayer(i), PLAYER_STATE_RESOURCE_LUMBER)
				    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", GetUnitX(udg_H[i]), GetUnitY(udg_H[i])))
				elseif ( UnitHasItemOfTypeBJ(udg_H[i], 'rat6') ) then
				    call AdjustPlayerStateBJ(500 * CModeH(1 , 2), ConvertedPlayer(i), PLAYER_STATE_RESOURCE_LUMBER)
				    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", GetUnitX(udg_H[i]), GetUnitY(udg_H[i])))
				endif
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CombineJiaoyue takes unit u returns nothing
		if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'rat6')) == 'rat6' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'ratc')) == 'ratc' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(u, 'mcou')) == 'mcou' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'rat6')) ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'mcou')) ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(u, 'ratc')) ) ) then
            call PolledWait(0.01)
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'ratc'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'mcou'))
            call RemoveItem(GetItemOfTypeFromUnitBJ(u, 'rat6'))
            call UnitAddItemById(u, 'I04L')
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∞òÂ∞ÅÁöÑ|cffff00ff„ÄêÊ∑∑Ê≤å„ÄëÂú£Ââë-ÁöéÊúà|rÈôç‰∏ñ!!!!!!!")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∞òÂ∞ÅÁöÑ|cffff00ff„ÄêÊ∑∑Ê≤å„ÄëÂú£Ââë-ÁöéÊúà|rÈôç‰∏ñ!!!!!!!")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∞òÂ∞ÅÁöÑ|cffff00ff„ÄêÊ∑∑Ê≤å„ÄëÂú£Ââë-ÁöéÊúà|rÈôç‰∏ñ!!!!!!!")
			return
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CombineHundunyeai takes nothing returns nothing
  local integer i
		if ( ( GetItemTypeId(GetSoldItem()) == 'I04Q' ) ) then
			
		    if ( ( GetItemTypeId(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), 'I04L')) == 'I04L' ) and ( GetItemTypeId(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), 'stel')) == 'stel' ) and ( IsItemPawnable(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), 'I04L')) == true ) ) then
		    	set i=GetItemCharges(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), 'stel'))
		        call RemoveItem(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), 'I04L'))
		        call RemoveItem(GetItemOfTypeFromUnitBJ(GetBuyingUnit(), 'stel'))
		        call UnitAddItemByIdSwapped('I04M', GetBuyingUnit())
		        call SetItemCharges(GetLastCreatedItem(), i)
				call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∞òÂ∞ÅÁöÑ|cFF66CC33„ÄêÊ∑∑Ê≤å„ÄëÂ§ú‰πãÂìÄ‰º§|rÈôç‰∏ñ!!!!!!!")
				call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∞òÂ∞ÅÁöÑ|cFF66CC33„ÄêÊ∑∑Ê≤å„ÄëÂ§ú‰πãÂìÄ‰º§|rÈôç‰∏ñ!!!!!!!")
				call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∞òÂ∞ÅÁöÑ|cFF66CC33„ÄêÊ∑∑Ê≤å„ÄëÂ§ú‰πãÂìÄ‰º§|rÈôç‰∏ñ!!!!!!!")
		        return
		    else
		        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÊùêÊñô‰∏çË∂≥.")
		        call AdjustPlayerStateBJ(1000, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
		        return
		    endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CombineHundunAll takes nothing returns nothing

		if ( ( GetItemTypeId(GetSoldItem()) == 'I064' ) ) then
			call DialogCombine(GetBuyingUnit() , 'tlum' , 'I062' , 'ICS1' , 'I04W' , "|cffffff00„ÄêÊ∑∑Ê≤å„ÄëËØõÁ•ûÂô¨È≠î-Ë¥Ø|r(Âº∫Â§ßÁöÑÁ†¥Èò≤ËÉΩÂäõ‰∏éÁõ¥Âà∫ÁîüÂëΩÁöÑÂÖ≠ÂÖÉÂπΩÂÜ•)" , "|cffffff00„ÄêÊ∑∑Ê≤å„ÄëËØõÁ•ûÂô¨È≠î-Ë¢≠|r(ËßâÈÜí‰∫éËûçÂêàÂÖ≠Áïå‰πãÂäõÁöÑÂÖ≠ÂÖÉÂπΩÂÜ•)" , 1000)
		endif

		if ( ( GetItemTypeId(GetSoldItem()) == 'I063' ) ) then
			call DialogCombine(GetBuyingUnit() , 'ssil' , 'I062' , 'I04Y' , 'I05T' , "|cffff9900„ÄêÊ∑∑Ê≤å„ÄëÂπΩÂÜ•È°πÈìæ-‰∫°|r(Áî®ÁîüÂëΩÊç¢ÂèñË¥ØÁ©øÂØ∞ÂÆáÁöÑÂäõÈáè)" , "|cffff9900„ÄêÊ∑∑Ê≤å„ÄëÂπΩÂÜ•È°πÈìæ-Âáå|r(Ê∫êÊ∫ê‰∏çÊñ≠ÁöÑÂú£Áïå‰πãÂäõ)" , 1000)
		endif

		if ( ( GetItemTypeId(GetSoldItem()) == 'I065' ) ) then
			call DialogCombine(GetBuyingUnit() , 'lhst' , 'I062' , 'I05W' , 'I05V' , "|cffff00ff„ÄêÊ∑∑Ê≤å„ÄëÈ≠ëÈ≠ÖÈ≠çÈ≠â-Âøå|r(Êõ¥‰∏∫ÁéÑÂπªÁöÑÁÅµÈ≠ÇÂê∏Êî∂‰πãÂäõ)" , "|cffff00ff„ÄêÊ∑∑Ê≤å„ÄëÈ≠ëÈ≠ÖÈ≠çÈ≠â-Á¶Å|r(Á©∫Èó¥Ë∑≥Ë∑ÉÔºåÂéâÈ¨ºÁõ∏Èöè)" , 1000)
		endif

		if ( ( GetItemTypeId(GetSoldItem()) == 'I066' ) ) then
			call DialogCombine(GetBuyingUnit() , 'I05F' , 'I062' , 'ICY1' , 'I05X' , "|cff99cc00„ÄêÊ∑∑Ê≤å„Äë‰πùÊ∏äÂÜ•È∏¢|r(Êó†Áº∫‰πã‰Ωì,Âùö‰∏çÂèØÊëß)" , "|cff99cc00„ÄêÊ∑∑Ê≤å„ÄëÁªØÁª´‰∏âÁîüÁáï|r(ÁáéÂéü‰πãÁÅ´,ÁÑöÁÖßÂçÉÈáå)" , 1000)
		endif

		if ( ( GetItemTypeId(GetSoldItem()) == 'I067' ) ) then
			call DialogCombine(GetBuyingUnit() , 'IB09' , 'I062' , 'IB0A' , 'I04X' , "|cffff00ff„ÄêÊ∑∑Ê≤å„ÄëÂçÅÁøº|r|cffff0000Â§©Èæô|r(Êã•ÊúâËæÉÂº∫Áæ§‰ΩìÊùÄ‰º§ËÉΩÂäõ)" , "|cffff00ff„ÄêÊ∑∑Ê≤å„ÄëÂçéÁºà|r|cffff0000Âº•Èπ§|r(Êã•ÊúâÂº∫Â§ßÁöÑÂçï‰ΩìÊùÄ‰º§ËÉΩÂäõ)" , 1000)
		endif

		if ( ( GetItemTypeId(GetSoldItem()) == 'I068' ) ) then
			call CombineI(GetBuyingUnit() , 'rst1' , 'I062' , 'ICX1' , 1000 , true)
		endif

		if ( ( GetItemTypeId(GetSoldItem()) == 'I069' ) ) then
			call CombineI(GetBuyingUnit() , 'tbsm' , 'I062' , 'I05Y' , 0 , false)
			call CombineI(GetBuyingUnit() , 'tfar' , 'I062' , 'I05Z' , 0 , false)
			call CombineI(GetBuyingUnit() , 'tbak' , 'I062' , 'I060' , 0 , false)
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function EnterHundun takes nothing returns nothing
  local real x
  local real y
		if ( ( GetItemTypeId(GetSoldItem()) == 'I04T' ) ) then
			set x=GetRectCenterX(gg_rct_Hundun)
			set y=GetRectCenterY(gg_rct_Hundun)

	        call SetUnitX(GetBuyingUnit(), x)
	        call SetUnitY(GetBuyingUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	    endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitHundunInner takes nothing returns nothing

        local trigger t= CreateTrigger()
        call TriggerRegisterLeaveRectSimple(t, gg_rct_Hundun)
        call TriggerAddCondition(t, Condition(function TLeaveHundunRegionCon))
        call TriggerAddAction(t, function TLeaveHundunRegionAct)
        set t=null

		set THundunSpellDamage=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(THundunSpellDamage, EVENT_PLAYER_UNIT_SPELL_EFFECT)
		call TriggerAddCondition(THundunSpellDamage, Condition(function Hundun___THundunSpellDamageCon))
		call TriggerAddAction(THundunSpellDamage, function THundunSpellDamageAct)
		call DisableTrigger(THundunSpellDamage)
	endfunction

//library Hundun ends
//library ItemBase:



//---------------------------------------------------------------------------------------------------
	
 function GetRandomPotion takes nothing returns integer
  local integer i= GetRandomInt(1, 6)
		if ( i == 1 ) then
			return 'sres'
		elseif ( i == 2 ) then
			return 'I06A'
		elseif ( i == 3 ) then
			return 'I06B'
		elseif ( i == 4 ) then
			return 'I06C'
		elseif ( i == 5 ) then
			return 'I06J'
		elseif ( i == 6 ) then
			return 'I06O'
		endif

		return 0
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemBase___TGetWingSpellCon takes nothing returns boolean
		return ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] or GetManipulatingUnit() == udg_U_Zhuansheng_Dantiao[2] )
	endfunction
	
 function ItemBase___TGetWingSpellPickAct takes nothing returns nothing
		if ( GetItemTypeId(GetManipulatedItem()) == 'I043' ) then
			call UnitAddAbility(GetManipulatingUnit(), 'Apxf')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I045' ) then
			call UnitAddAbility(GetManipulatingUnit(), 'A06O')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I041' ) then
			call UnitAddAbility(GetManipulatingUnit(), 'A09J')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I04R' ) then
			call UnitAddAbility(GetManipulatingUnit(), 'A0AO')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05B' ) then
			call UnitAddAbility(GetManipulatingUnit(), 'A0CL')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05C' ) then
			call UnitAddAbility(GetManipulatingUnit(), 'A0CU')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05F' ) then
			call UnitAddAbility(GetManipulatingUnit(), 'A0D0')
		endif
	endfunction
	
 function ItemBase___TGetWingSpellDropAct takes nothing returns nothing
		if ( GetItemTypeId(GetManipulatedItem()) == 'I043' ) then
			call UnitRemoveAbility(GetManipulatingUnit(), 'Apxf')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I045' ) then
			call UnitRemoveAbility(GetManipulatingUnit(), 'A06O')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I041' ) then
			call UnitRemoveAbility(GetManipulatingUnit(), 'A09J')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I04R' ) then
			call UnitRemoveAbility(GetManipulatingUnit(), 'A0AO')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05B' ) then
			call UnitRemoveAbility(GetManipulatingUnit(), 'A0CL')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05C' ) then
			call UnitRemoveAbility(GetManipulatingUnit(), 'A0CU')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05F' ) then
			call UnitRemoveAbility(GetManipulatingUnit(), 'A0D0')
		endif
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function ItemBase___TBookBUGCon takes nothing returns boolean
		return GetItemType(GetManipulatedItem()) == ITEM_TYPE_POWERUP
	endfunction

 function ItemBase___TBookBUGAct takes nothing returns nothing
		call PolledWait(1.0)
		call RemoveItem(GetManipulatedItem())
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function ReflashCrainaxAttr takes nothing returns nothing
		call ModifyHeroStat(bj_HEROSTAT_STR, UCrainax, bj_MODIFYMETHOD_SET, IMinBJ(2100000000, R2I(( I2R(udg_Laser[udg_Bo]) * ( 1.00 + ( 0.30 * I2R(udg_Nandu_JJJ) ) ) ))))
	    call ModifyHeroStat(bj_HEROSTAT_AGI, UCrainax, bj_MODIFYMETHOD_SET, IMinBJ(2100000000, R2I(( I2R(udg_Laser[( udg_Bo + 29 )]) * ( 1.00 + ( 0.30 * I2R(udg_Nandu_JJJ) ) ) ))))
	    call ModifyHeroStat(bj_HEROSTAT_INT, UCrainax, bj_MODIFYMETHOD_SET, IMinBJ(2100000000, R2I(( I2R(udg_Laser[( udg_Bo + 58 )]) * ( 1.00 + ( 0.30 * I2R(udg_Nandu_JJJ) ) ) ))))
	    call SetUnitAbilityLevelSwapped('A0EM', UCrainax, udg_Bo)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemBase___ReviveNecklace takes nothing returns nothing
	        call PingMinimap(- 1658.00, - 14973.00, 2.00)
	        call RemoveUnit(UCrainax)
	        set UCrainax=CreateUnit(Player(10), 'Ekgg', - 1658.00, - 14973.00, 180)
	        call AddTianyanmokang(UCrainax)
	        call ReflashCrainaxAttr()
	        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff9900Âú£‰∏ªCrainaxÁöÑÂàÜË∫´|rÂ§çÊ¥ª.")
	        call TimerDialogDisplay(TiDiaNecklace, false)
	        call DestroyTimerDialog(TiDiaNecklace)
	        call PauseTimer(GetExpiredTimer())
	        call DestroyTimer(GetExpiredTimer())
	        set TiDiaNecklace=null
	endfunction

 function ItemBase___ReviveRing takes nothing returns nothing
   local unit u= null
	        call PingMinimap(- 10630.00, - 8642.00, 2.00)
	        set u=CreateUnit(Player(10), 'Naka', - 10425.00, - 10429.00, 180)
	        call SetHeroLevel(u, ( GetHeroLevel(u) + 1 ), true)
	        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cFFFF6699ÂçÉÂπ¥Â≠§È≠Ç|r|cffffcc00ÂºëÈ≠Ç|rÂ§çÊ¥ª‰∫Ü„ÄÇ" ))
	        set u=null
	        call PauseTimer(GetExpiredTimer())
	        call DestroyTimer(GetExpiredTimer())
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function BossDeathDropItem takes nothing returns nothing
  local timer t
	    if ( ( GetUnitTypeId(GetDyingUnit()) == 'Naka' ) ) then
	        call CreateItem('rat9', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
	        call TimerStart(CreateTimer(), 30, false, function ItemBase___ReviveRing)
	        call PolledWait(0.5)
	        call RemoveUnit(GetDyingUnit())
	    endif
	    if ( GetDyingUnit() == UCrainax ) then
	        call CreateItem('rde3', GetUnitX(UCrainax), GetUnitY(UCrainax))
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", GetUnitX(UCrainax), GetUnitY(UCrainax)))
	        set t=CreateTimer()
	        set TiDiaNecklace=CreateTimerDialogBJ(t, "Âú£‰∏ªÂàÜË∫´Â§çÊ¥ª")
	        call TimerStart(t, 900, false, function ItemBase___ReviveNecklace)
	        call TimerDialogDisplay(TiDiaNecklace, true)
	        set t=null
	    endif
	endfunction
//---------------------------------------------------------------------------------------------------
 function ItemBase___InitItemBase takes nothing returns nothing


		//Âà†Èô§‰π¶Êú¨ÁöÑÂ∞èÁÇπBUG
  local trigger t= CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
		call TriggerAddCondition(t, Condition(function ItemBase___TBookBUGCon))
		call TriggerAddAction(t, function ItemBase___TBookBUGAct)

		//Ëé∑ÂæóÁøÖËÜÄÁöÑÊäÄËÉΩ
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
		call TriggerAddCondition(t, Condition(function ItemBase___TGetWingSpellCon))
		call TriggerAddAction(t, function ItemBase___TGetWingSpellPickAct)

		//Âà†ÊéâÁøÖËÜÄÁöÑÊäÄËÉΩ
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DROP_ITEM)
		call TriggerAddCondition(t, Condition(function ItemBase___TGetWingSpellCon))
		call TriggerAddAction(t, function ItemBase___TGetWingSpellDropAct)

		//Ê≠ª‰∫°ÊéâËêΩÊàíÊåáÂíåÈ°πÈìæ
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	    call TriggerAddAction(t, function BossDeathDropItem)
		set UCrainax=CreateUnit(Player(10), 'Ekgg', - 1661.7, - 14985.1, 180.000)



		set t=null

	endfunction


//library ItemBase ends
//library Jungle:



//---------------------------------------------------------------------------------------------------
	
 function Jungle__Jungle4DropCon takes nothing returns boolean
		return GetDyingUnit() == UYeYang or GetDyingUnit() == UYeYin
	endfunction

 function Jungle__Jungle4DropAct takes nothing returns nothing
  local integer i= 1
    	call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]) + "ÊàêÂäüÂú∞ÂáªÊùÄ‰∫Ü" + GetUnitName(GetDyingUnit()) + ",ÊâÄÊúâÁé©ÂÆ∂Â•ñÂä±1000Êú®ÊùêÔºÅ")
    	loop
    		exitwhen i > 6
			call AdjustPlayerStateBJ(1000, ConvertedPlayer(i), PLAYER_STATE_RESOURCE_LUMBER)
    		set i=i + 1
    	endloop

    	call AddPlayerTechResearched(Player(10), 'R00W', udg_RENSHU)

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Jungle__SetJudgeJungle4InvuFilter takes nothing returns boolean
		return IsEnemyMP(GetFilterUnit() , Player(10)) == true
	endfunction
 function Jungle__SetJudgeJungle4Invu takes unit u returns nothing
  local group l_group= CreateGroup()
		call GroupEnumUnitsInRange(l_group, GetUnitX(u), GetUnitY(u), 900, Condition(function Jungle__SetJudgeJungle4InvuFilter))
		if ( GetUnitAbilityLevel(u, 'Avul') < 1 and CountUnitsInGroup(l_group) == 0 ) then
			call UnitAddAbility(u, 'Avul')
			call PauseUnit(u, true)
			call SetUnitLifePercentBJ(u, 100)
		elseif ( GetUnitAbilityLevel(u, 'Avul') >= 1 and CountUnitsInGroup(l_group) != 0 ) then
			call UnitRemoveAbility(u, 'Avul')
			call PauseUnit(u, false)
		endif
		set l_group=null
	endfunction
//---------------------------------------------------------------------------------------------------

	

 function Jungle__JungleFlash takes nothing returns nothing
		//Èò≥
		if ( IsUnitAliveBJ(UYeYang) ) then
			call Jungle__SetJudgeJungle4Invu(UYeYang)
		else
			call RemoveUnit(UYeYang)
			if ( GetPlayerTechCountSimple('R00W', Player(10)) < 100 ) then
		    	set UYeYang=CreateUnit(Player(10), 'Orkn', 14707.6, - 290.4, 180.000)
	 		    call EnhanceDiffAttack(UYeYang)
		    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl", GetUnitX(UYeYang), GetUnitY(UYeYang)))
		    	call AddTianyanmokang(UYeYang)
			endif
		endif

		//Èò¥
		if ( IsUnitAliveBJ(UYeYin) ) then
			call Jungle__SetJudgeJungle4Invu(UYeYin)
		else
			call RemoveUnit(UYeYin)
			if ( GetPlayerTechCountSimple('R00W', Player(10)) < 100 ) then
		    	set UYeYin=CreateUnit(Player(10), 'Osam', 1923.9, - 420.4, 0.000)
			    call EnhanceDiffAttack(UYeYin)
		    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl", GetUnitX(UYeYin), GetUnitY(UYeYin)))
		    	call AddTianyanmokang(UYeYin)
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitJungle takes nothing returns nothing
     local trigger t= CreateTrigger()
	    
	    set UYeYang=CreateUnit(Player(10), 'Orkn', 14707.6, - 290.4, 180.000)
	    set UYeYin=CreateUnit(Player(10), 'Osam', 1923.9, - 420.4, 0.000)
	    call EnhanceDiffAttack(UYeYang)
	    call EnhanceDiffAttack(UYeYin)
		//Ê≠ª‰∫°Â•ñÂä±Êú®Â§¥
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	    call TriggerAddCondition(t, Condition(function Jungle__Jungle4DropCon))
	    call TriggerAddAction(t, function Jungle__Jungle4DropAct)

	    call TimerStart(CreateTimer(), 5, true, function Jungle__JungleFlash)

	    set t=null
	endfunction


//library Jungle ends
//library LHOther:
	

//---------------------------------------------------------------------------------------------------
	
 function TOverlayItemAct takes nothing returns boolean
	    return ( ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_CHARGED ) )
	endfunction

 function TOverlayItemCon takes nothing returns nothing
     local integer i= 1
	    loop
	        exitwhen i > 6
	        if ( ( GetManipulatedItem() != UnitItemInSlotBJ(GetTriggerUnit(), i) ) and ( GetItemTypeId(GetManipulatedItem()) == GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i)) ) ) then
	            call SetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(), i), ( GetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(), i)) + GetItemCharges(GetManipulatedItem()) ))
	            call RemoveItem(GetManipulatedItem())
	        else
	        endif
	        set i=i + 1
	    endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function LHOther___TAttackAllyCon takes nothing returns boolean
		return ( ( GetPlayerController(GetOwningPlayer(GetAttacker())) == MAP_CONTROL_USER ) and ( GetAttackedUnitBJ() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] ) )
	endfunction
	
 function LHOther___TAttackAllyAct takes nothing returns nothing
			call IssueImmediateOrder(GetAttacker(), "stop")
			call DisplayTimedTextToForce(GetPlayersAll(), 20, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÊúâ‰∫∫‰ºÅÂõæÊîªÂáªËá™Â∑±ÁöÑËã±ÈõÑÈòüÂèãÔºåË¢´‰ºüÂ§ßÁöÑCrainaxÂà∂Ê≠¢‰∫Ü„ÄÇ")
	endfunction
//---------------------------------------------------------------------------------------------------
    
    function TGetExCon takes nothing returns boolean
        return ( ( IsPlayerEnemy(GetOwningPlayer(GetDyingUnit()), Player(0)) == true ) and ( GetOwningPlayer(GetKillingUnitBJ()) != Player(11) ) and ( GetOwningPlayer(GetKillingUnitBJ()) != Player(10) ) and ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetOwningPlayer(GetKillingUnitBJ()) != Player(PLAYER_NEUTRAL_AGGRESSIVE) ) and ( GetUnitPointValue(GetDyingUnit()) != 0 ) and ( GetUnitPointValue(GetDyingUnit()) != 123 ) and ( GetPlayerController(GetOwningPlayer(GetDyingUnit())) != MAP_CONTROL_USER ) )
    endfunction

    function TGetExAct takes nothing returns nothing
       local integer i= 1
       local integer basicEx= 0
       loop
            exitwhen i > 6
            if ( udg_H[i] != null and ( udg_H[i] != xinglong or BJuexing1[i] or GetOwningPlayer(GetKillingUnitBJ()) == GetOwningPlayer(xinglong) ) ) then
	            set basicEx=GetWanjieInt(R2I(I2R(GetUnitPointValue(GetDyingUnit())) * udg_I_Jingyan[i]) , 0.75)
	            call AddHeroXPSwapped(CModeH(basicEx , basicEx * 2), udg_H[i], true)
            endif
            set i=i + 1
       endloop
    endfunction

//---------------------------------------------------------------------------------------------------

 function LHOther___InitLHOther takes nothing returns nothing
		//Áâ©ÂìÅÂè†Âä†
     local trigger t= CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	    call TriggerAddCondition(t, Condition(function TOverlayItemAct))
	    call TriggerAddAction(t, function TOverlayItemCon)

	    //ÈòüÂèãÂ∞Ü‰∏çËÉΩ‰∫íÁõ∏ÊîªÂáª
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
		call TriggerAddCondition(t, Condition(function LHOther___TAttackAllyCon))
		call TriggerAddAction(t, function LHOther___TAttackAllyAct)

        //Ëé∑ÂèñÁªèÈ™å
		set t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function TGetExCon))
        call TriggerAddAction(t, function TGetExAct)

	    set t=null
	endfunction


//library LHOther ends
//library Shilian:

	

//---------------------------------------------------------------------------------------------------
	
 function Shilian__TZheCon takes nothing returns boolean
		return ( GetEventDamage() > GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) ) and Shilian__BShilianing[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
	endfunction

 function Shilian__TZheAct takes nothing returns nothing
		call ImmuteDamageInterval(GetTriggerUnit() , 0.1)
		call SetUnitLifePercentBJ(GetTriggerUnit(), 100)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Shilian__TXingCon takes nothing returns boolean
		return ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") ) and Shilian__BShilianing[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
	endfunction

 function Shilian__TXingAct takes nothing returns nothing

		if ( IsInForbitRegion(GetOrderPointX() , GetOrderPointY() , GetTriggerUnit()) ) then
			call IssueImmediateOrder(GetTriggerUnit(), "stop")
	        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢Áû¨ÁßªÂà∞Ëææ.")
	        return
		endif

	    if ( IsTerrainPathable(GetOrderPointX(), GetOrderPointY(), PATHING_TYPE_WALKABILITY) ) then
	    	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁõÆÊ†áÂú∞ÁÇπ‰∏çËÉΩÈÄöË°å,Áû¨ÁßªÂ§±Ë¥•ÔºÅ")
	    	return
	    endif

		call SetUnitX(GetTriggerUnit(), GetOrderPointX())
		call SetUnitY(GetTriggerUnit(), GetOrderPointY())
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl", GetOrderPointX(), GetOrderPointY()))

	endfunction
//---------------------------------------------------------------------------------------------------
	
	//‰∏¥
 function SLSpellLin takes unit u returns nothing
	endfunction


	//ÂÖµ
 function SLSpellBing takes unit u returns nothing
  local group l_group= null
  local unit l_unit= null
  local unit temp= null
		if ( ModuloInteger(Shilian__IShilianTime[GetConvertedPlayerId(GetOwningPlayer(u))], 10) != 0 ) then
			return
		endif

		set l_group=CreateGroup()
		call GroupEnumUnitsInRange(l_group, GetUnitX(u), GetUnitY(u), 600, null)
		loop
		    set l_unit=FirstOfGroup(l_group)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(l_group, l_unit)
		    if ( IsEnemy(l_unit , u) ) then
			    if ( GetUnitState(l_unit, UNIT_STATE_LIFE) > GetUnitState(temp, UNIT_STATE_LIFE) ) then
			    	set temp=l_unit
			    endif
		    endif
		endloop
		call DestroyGroup(l_group)
		set l_group=null
		set l_unit=null
		if ( temp != null ) then
			call UnitDamageTarget(u, temp, GetDamageBase(u) * 0.6, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			call DestroyEffect(AddSpecialEffect("war3mapImported\\ImpaleMissTarget_Portrait.mdl", GetUnitX(temp), GetUnitY(temp)))
		endif
		set temp=null

	endfunction

	//Èòµ
 function SLSpellZhen takes unit u returns nothing
		if ( ModuloInteger(Shilian__IShilianTime[GetConvertedPlayerId(GetOwningPlayer(u))], 10) != 0 ) then
			return
		endif

		call DamageAreaEff(u , GetUnitX(u) , GetUnitY(u) , 600 , GetDamageBase(u) * 0.2 , "war3mapImported\\Artillery.mdl")
	endfunction


	//ÊÄªÁ¥¢Âºï
 function ShilianTimerContent takes player p returns nothing
  local integer id= GetConvertedPlayerId(p)
		if ( IShilianType[id] == 2 ) then
			call SLSpellBing(udg_H[id])
		elseif ( IShilianType[id] == 6 ) then
			call SLSpellZhen(udg_H[id])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitShilianSpell takes player p returns nothing
  local integer id= GetConvertedPlayerId(p)

		if ( IShilianType[id] == 1 ) then
			
		elseif ( IShilianType[id] == 2 ) then

		elseif ( IShilianType[id] == 3 ) then
			call UnitAddAbilityP(udg_H[id] , 'A0LC')
		elseif ( IShilianType[id] == 4 ) then
			
		elseif ( IShilianType[id] == 5 ) then
			
		elseif ( IShilianType[id] == 6 ) then
			
		elseif ( IShilianType[id] == 7 ) then
			
		elseif ( IShilianType[id] == 8 ) then
			
		elseif ( IShilianType[id] == 9 ) then
			
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CloseShilianSpell takes player p returns nothing
  local integer id= GetConvertedPlayerId(p)

		if ( IShilianType[id] == 1 ) then

		elseif ( IShilianType[id] == 3 ) then
			call UnitRemoveAbility(udg_H[id], 'A0LC')
		elseif ( IShilianType[id] == 4 ) then
			
		elseif ( IShilianType[id] == 5 ) then
			
		elseif ( IShilianType[id] == 6 ) then
			
		elseif ( IShilianType[id] == 7 ) then
			
		elseif ( IShilianType[id] == 8 ) then
			
		elseif ( IShilianType[id] == 9 ) then
			
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function DestroyShilianSpell takes player p returns nothing
  local integer id= GetConvertedPlayerId(p)
		set Shilian__BShilianing[id]=false
		call s__Connect_deallocate(Shilian__CShilian[id])
		set Shilian__CShilian[id]=0
		call FlushChildHashtable(LHTable, GetHandleId(Shilian__TShilian[id]))
		call PauseTimer(Shilian__TShilian[id])
		call DestroyTimer(Shilian__TShilian[id])
		set Shilian__TShilian[id]=null
		call s__TextTagBind_deallocate(Shilian__TTBShilian[id])
		call CloseShilianSpell(p)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function FlashShilianTimer takes nothing returns nothing
  local player p= LoadPlayerHandle(LHTable, GetHandleId(GetExpiredTimer()), 1)
  local integer id= GetConvertedPlayerId(p)
        set Shilian__IShilianTime[id]=Shilian__IShilianTime[id] - 1
        if ( Shilian__IShilianTime[id] <= 0 ) then
        	call DestroyShilianSpell(p)
        	set p=null
        	return
        endif
		call s__TextTagBind_setContent(Shilian__TTBShilian[id],I2S(Shilian__IShilianTime[id] / 10) + "." + I2S(ModuloInteger(Shilian__IShilianTime[id], 10)) + "s")
    	call ShilianTimerContent(p)
        set p=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function StartShilianSpell takes player p returns nothing
  local integer id= GetConvertedPlayerId(p)
		set Shilian__BShilianing[id]=true
		set Shilian__CShilian[id]=s__Connect_create(UShilian , udg_H[id] , "HWPB")
		set Shilian__TShilian[id]=CreateTimer()
		call SavePlayerHandle(LHTable, GetHandleId(Shilian__TShilian[id]), 1, p)
		call TimerStart(Shilian__TShilian[id], 0.1, true, function FlashShilianTimer)
		set Shilian__TTBShilian[id]=s__TextTagBind_create(udg_H[id] , 70 , 70)
		call InitShilianSpell(p)
		if not ( Shilian__BFirstShilian2[id] ) then
			set Shilian__BFirstShilian2[id]=true
			call ShowGameHint(p , "\n			|cff00ccffÊØèÊ¨°ÂÆåÊàêÊåëÊàò‰Ω†Â∞ÜÂæóÂà∞\n			" + I2S(Shilian__IShilianTime[id] / 10) + "sÁöÑ‰∏ªÂä®ÊäÄËÉΩÊåÅÁª≠Êó∂Èó¥.|r\n\n			|cffffff00Âú®ÂºÄÂêØËØ•ÊäÄËÉΩÊó∂ËØ•ÊåÅÁª≠Êó∂Èó¥‰ºö‰∏çÊñ≠Ê∂àËÄó.|r\n\n			|cffff6800‰Ω†ÂèØ‰ª•ÂÜçÊ¨°ÈÄöËøáÂèåÂáª(ÁÇπÂáª2Ê¨°)EscÈîÆ\n			Êù•ÂÖ≥Èó≠‰∏ªÂä®ÊäÄËÉΩ,ÂÅúÊ≠¢Êó∂Èó¥Ê∂àËÄó.|r\n")
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SpellShilian takes player p returns nothing
  local integer id= GetConvertedPlayerId(p)
		if not ( Shilian__BShilianing[id] ) then
			// ÂºÄÂßãÊñΩÊîæÊäÄËÉΩ
			if ( Shilian__IShilianTime[id] > 0 ) then
				call StartShilianSpell(p)
			else
				call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑËØïÁªÉÂÖÖËÉΩÊó∂Èó¥Â∑≤ÁªèÁî®ÂÖâ‰∫Ü,ËØ∑ÈáçÊñ∞ËØïÁªÉÂêß!")
			endif
		else
			//Â∑≤ÁªèÂºÄÂßãÊñΩÊîæ‰∫Ü,ÂàôÂÖ≥Èó≠
			call DestroyShilianSpell(p)
		endif


	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Shilian__TDoubleEscAct takes nothing returns nothing
  local integer id= GetConvertedPlayerId(GetTriggerPlayer())
		if ( BEscOnce[id] ) then
			set BEscOnce[id]=false
			if not ( BEscTwice[id] ) then
				call SpellShilian(GetTriggerPlayer())
				set BEscTwice[id]=true
				call PolledWait(0.3)
				set BEscTwice[id]=false
				set BEscOnce[id]=false
			endif
		else
			set BEscOnce[id]=true
			call PolledWait(0.3)
			set BEscOnce[id]=false
		endif

	endfunction

//---------------------------------------------------------------------------------------------------
	
 function ChooseShilian takes player p,integer index returns nothing
  local integer id= GetConvertedPlayerId(p)
		set IShilianType[id]=index

		if ( index == 1 ) then
			//‰∏¥
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - ‰∏¥|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call UnitAddAbilityP(udg_H[id] , 'A0L7')
		elseif ( index == 2 ) then
			//ÂÖµ
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - ÂÖµ|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call UnitAddAbilityP(udg_H[id] , 'A0KX')
		elseif ( index == 3 ) then
			//Êñó
			call UnitAddAbilityP(udg_H[id] , 'A0L4')
			call UnitAddAbilityP(udg_H[id] , 'A0LE')
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - Êñó|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call SetPlayerAbilityAvailable(p, 'A0LE', false)
			call SetPlayerAbilityAvailable(p, 'A0LC', false)
		elseif ( index == 4 ) then
			//ËÄÖ
			call UnitAddAbilityP(udg_H[id] , 'A0LF')
			call SetPlayerAbilityAvailable(p, 'A0LF', false)
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - ËÄÖ|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call UnitAddAbilityP(udg_H[id] , 'A0LA')
			if ( Shilian__TZhe == null ) then
				set Shilian__TZhe=CreateTrigger()
				call TriggerAddCondition(Shilian__TZhe, Condition(function Shilian__TZheCon))
				call TriggerAddAction(Shilian__TZhe, function Shilian__TZheAct)
			endif
	   		call TriggerRegisterUnitEvent(Shilian__TZhe, udg_H[GetConvertedPlayerId(p)], EVENT_UNIT_DAMAGED)
		elseif ( index == 5 ) then
			//ÁöÜ
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - ÁöÜ|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call UnitAddAbilityP(udg_H[id] , 'A0L6')
		elseif ( index == 6 ) then
			//Èòµ
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - Èòµ|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call AddDamagePercent(GetConvertedPlayerId(p) , 0.08)
			call UnitAddAbilityP(udg_H[id] , 'A0LB')
		elseif ( index == 7 ) then
			//Âàó
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - Âàó|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call UnitAddAbilityP(udg_H[id] , 'A0L5')
		elseif ( index == 8 ) then
			//Ââç
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - Ââç|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call UnitAddAbilityP(udg_H[id] , 'A0L8')
		elseif ( index == 9 ) then
			//Ë°å
			call UnitAddAbilityP(udg_H[id] , 'A0L9')
			call UnitAddAbilityP(udg_H[id] , 'A0LG')
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÊàêÂäüÁöÑÂ∞Ü|cff00ccff‰πùÂ≠óÁúüË®Ä - Ë°å|rÂÆö‰∏∫‰Ω†ÁöÑËØïÁªÉÂÜÖÂÆπ.")
			call SetPlayerAbilityAvailable(p, 'A0LG', false)
			if ( Shilian__TXing == null ) then
				set Shilian__TXing=CreateTrigger()
				call TriggerAddCondition(Shilian__TXing, Condition(function Shilian__TXingCon))
				call TriggerAddAction(Shilian__TXing, function Shilian__TXingAct)
			endif
	    	call TriggerRegisterUnitEvent(Shilian__TXing, udg_H[GetConvertedPlayerId(p)], EVENT_UNIT_ISSUED_POINT_ORDER)
		endif
		call ShowGameHint(p , "\n			ÊÅ≠Âñú‰Ω†ÂÆåÊàê‰∫Ü‰º†ÊâøËØïÁªÉ!\n\n			|cff00ccff‰Ω†Ëé∑Âæó‰∫ÜÂØπÂ∫îËØ•‰º†ÊâøÁöÑ\n			‰∏ªÂä®ÊäÄËÉΩ‰∏éË¢´Âä®ÊäÄËÉΩ.|r\n\n			|cffffff00Ë¢´Âä®ÊäÄËÉΩÂ∞Ü‰ºö‰∏ÄÁõ¥Â≠òÂú®.|r\n\n			|cffff6800‰Ω†ÂèØ‰ª•ÈÄöËøáÂèåÂáª(ÁÇπÂáª2Ê¨°)EscÈîÆ\n			Êù•ÂºÄÂêØ‰∏ªÂä®ÊäÄËÉΩ.|r\n")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Shilian__AddMonsterRandomAbility takes unit u returns nothing
  local integer i= GetRandomInt(1, 24)
		if ( i == 1 ) then
			call UnitAddAbility(u, 'A044')
			call SetUnitAbilityLevel(u, 'A044', udg_Nandu_JJJ)
		elseif ( i == 2 ) then
			call UnitAddAbility(u, 'A0AN')
		elseif ( i == 3 ) then
			call UnitAddAbility(u, 'A00A')
		elseif ( i == 4 ) then
			call UnitAddAbility(u, 'ACat')
			call SetUnitAbilityLevel(u, 'ACat', udg_Nandu_JJJ)
		elseif ( i == 5 ) then
			call UnitAddAbility(u, 'A03T')
			call SetUnitAbilityLevel(u, 'A03T', udg_Nandu_JJJ)
			call UnitAddAbility(u, 'A06K')
			call SetUnitAbilityLevel(u, 'A06K', udg_Nandu_JJJ)
		elseif ( i == 6 ) then
			call UnitAddAbility(u, 'A05N')
			call SetUnitAbilityLevel(u, 'A05N', udg_Nandu_JJJ)
		elseif ( i == 7 ) then
			call UnitAddAbility(u, 'A08H')
			call SetUnitAbilityLevel(u, 'A08H', udg_Nandu_JJJ)
			call UnitAddAbility(u, 'A05O')
			call SetUnitAbilityLevel(u, 'A05O', udg_Nandu_JJJ)
		elseif ( i == 8 ) then
			call UnitAddAbility(u, 'uban')
			call SetUnitAbilityLevel(u, 'uban', udg_Nandu_JJJ)
		elseif ( i == 9 ) then
			call UnitAddAbility(u, 'A05V')
			call SetUnitAbilityLevel(u, 'A05V', udg_Nandu_JJJ)
		elseif ( i == 10 ) then
			call UnitAddAbility(u, 'A05I')
			call SetUnitAbilityLevel(u, 'A05I', udg_Nandu_JJJ)
		elseif ( i == 11 ) then
			call UnitAddAbility(u, 'Ablo')
			call SetUnitAbilityLevel(u, 'Ablo', udg_Nandu_JJJ)
		elseif ( i == 12 ) then
			call UnitAddAbility(u, 'A09G')
			call SetUnitAbilityLevel(u, 'A09G', udg_Nandu_JJJ)
		elseif ( i == 13 ) then
			call UnitAddAbility(u, 'A09N')
			call SetUnitAbilityLevel(u, 'A09N', udg_Nandu_JJJ)
		elseif ( i == 14 ) then

			//ÂΩí‰∏Ä
			//call UnitAddAbility(u,'A095')
		elseif ( i == 15 ) then
			call UnitAddAbility(u, 'Aams')
			call SetUnitAbilityLevel(u, 'Aams', udg_Nandu_JJJ)
		elseif ( i == 16 ) then
			call UnitAddAbility(u, 'A08A')
			call SetUnitAbilityLevel(u, 'A08A', udg_Nandu_JJJ)
		elseif ( i == 17 ) then
			call UnitAddAbility(u, 'A0A1')
			call SetUnitAbilityLevel(u, 'A0A1', udg_Nandu_JJJ)
		elseif ( i == 18 ) then
			call UnitAddAbility(u, 'A09C')
			call SetUnitAbilityLevel(u, 'A09C', udg_Nandu_JJJ)
		elseif ( i == 19 ) then
			call UnitAddAbility(u, 'A0LH')
		elseif ( i == 20 ) then
			call UnitAddAbility(u, 'ANr2')
			call SetUnitAbilityLevel(u, 'ANr2', udg_Nandu_JJJ)
		elseif ( i == 21 ) then
			call UnitAddAbility(u, 'A0LI')
		elseif ( i == 22 ) then
			call UnitAddAbility(u, 'A08F')
			call SetUnitAbilityLevel(u, 'A08F', udg_Nandu_JJJ)
		elseif ( i == 23 ) then
			call UnitAddAbility(u, 'A0B8')
		elseif ( i == 24 ) then
			call UnitAddAbility(u, 'A0BD')
			call SetUnitAbilityLevel(u, 'A0BD', udg_Nandu_JJJ)
		endif
	endfunction


//---------------------------------------------------------------------------------------------------
	
 function Shilian__MonsterSetPower takes unit u,player p returns nothing
  local integer id= GetConvertedPlayerId(p)
		if ( udg_Zhandouli[id] < 500 ) then
			call SetHeroInt(u, 20, true)
			call SetHeroAgi(u, 5000, true)
			call SetHeroStr(u, 1000, true)
		elseif ( udg_Zhandouli[id] < 2500 ) then
			call SetHeroInt(u, 80, true)
			call SetHeroAgi(u, 15000, true)
			call SetHeroStr(u, 30000, true)
		elseif ( udg_Zhandouli[id] < 8500 ) then
			call SetHeroInt(u, 500, true)
			call SetHeroAgi(u, 30000, true)
			call SetHeroStr(u, 150000, true)
		elseif ( udg_Zhandouli[id] < 15000 ) then
			call SetHeroInt(u, 5000, true)
			call SetHeroAgi(u, 50000, true)
			call SetHeroStr(u, 500000, true)
		elseif ( udg_Zhandouli[id] < 30000 ) then
			call SetHeroInt(u, 30000, true)
			call SetHeroAgi(u, 80000, true)
			call SetHeroStr(u, 1300000, true)
		elseif ( udg_Zhandouli[id] < 60000 ) then
			call SetHeroInt(u, 60000, true)
			call SetHeroAgi(u, 120000, true)
			call SetHeroStr(u, 3000000, true)
		elseif ( udg_Zhandouli[id] < 120000 ) then
			call SetHeroInt(u, 150000, true)
			call SetHeroAgi(u, 120000, true)
			call SetHeroStr(u, 10000000, true)
		elseif ( udg_Zhandouli[id] < 250000 ) then
			call SetHeroInt(u, 800000, true)
			call SetHeroAgi(u, 200000, true)
			call SetHeroStr(u, 30000000, true)
		elseif ( udg_Zhandouli[id] < 500000 ) then
			call SetHeroInt(u, 3000000, true)
			call SetHeroAgi(u, 400000, true)
			call SetHeroStr(u, 100000000, true)
		elseif ( udg_Zhandouli[id] < 700000 ) then
			call SetHeroInt(u, 5000000, true)
			call SetHeroAgi(u, 500000, true)
			call SetHeroStr(u, 200000000, true)
		elseif ( udg_Zhandouli[id] < 800000 ) then
			call SetHeroInt(u, 6000000, true)
			call SetHeroAgi(u, 600000, true)
			call SetHeroStr(u, 300000000, true)
		elseif ( udg_Zhandouli[id] < 900000 ) then
			call SetHeroInt(u, 8000000, true)
			call SetHeroAgi(u, 700000, true)
			call SetHeroStr(u, 500000000, true)
		elseif ( udg_Zhandouli[id] < 1000000 ) then
			call SetHeroInt(u, 10000000, true)
			call SetHeroAgi(u, 1000000, true)
			call SetHeroStr(u, 800000000, true)
		elseif ( udg_Zhandouli[id] < 1200000 ) then
			call SetHeroInt(u, 18000000, true)
			call SetHeroAgi(u, 1300000, true)
			call SetHeroStr(u, 1000000000, true)
		elseif ( udg_Zhandouli[id] < 1500000 ) then
			call SetHeroInt(u, 24000000, true)
			call SetHeroAgi(u, 1500000, true)
			call SetHeroStr(u, 1400000000, true)
		elseif ( udg_Zhandouli[id] < 1800000 ) then
			call SetHeroInt(u, 29000000, true)
			call SetHeroAgi(u, 1800000, true)
			call SetHeroStr(u, 1600000000, true)
		else
			call SetHeroInt(u, 34000000, true)
			call SetHeroAgi(u, 2200000, true)
			call SetHeroStr(u, 2000000000, true)
		endif

	endfunction

//---------------------------------------------------------------------------------------------------

	
 function Shilian__CreateShilianMonster takes player p returns nothing
  local integer i= 1
  local unit u= null

		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÊàòÊñóÂäõ‰∏∫" + I2S(udg_Zhandouli[GetConvertedPlayerId(p)]) + ".")
		loop
			exitwhen i > 20
            set u=CreateUnit(Player(11), 'N01U', GetRandomReal(GetRectMinX(gg_rct_Chuancheng), GetRectMaxX(gg_rct_Chuancheng)), GetRandomReal(GetRectMinY(gg_rct_Chuancheng), GetRectMaxY(gg_rct_Chuancheng)), GetRandomReal(0, 360))
        	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", GetUnitX(u), GetUnitY(u)))
        	call Shilian__AddMonsterRandomAbility(u)
    		call TriggerExecute(gg_trg_zhandouli2)
        	call Shilian__MonsterSetPower(u , p)
            call EnhanceDiffAttack(u)
			call GroupAddUnit(Shilian__GShilian, u)
			set i=i + 1
		endloop
		set u=null
	endfunction

//---------------------------------------------------------------------------------------------------
    
    function Shilian__GetShilianMonsterCount takes nothing returns integer
        local group l_group= CreateGroup()
        local unit l_unit
        local integer count= 0
        call GroupAddGroup(Shilian__GShilian, l_group)
        loop
            set l_unit=FirstOfGroup(l_group)
            exitwhen l_unit == null
            call GroupRemoveUnit(l_group, l_unit)
            if ( IsUnitAliveBJ(l_unit) and GetOwningPlayer(l_unit) == Player(11) ) then
                set count=count + 1
                call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL, l_unit)
            endif
        endloop
        call DestroyGroup(l_group)
        set l_group=null
        set l_unit=null
        return count
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function Shilian__RemoveChuanchengUnit takes nothing returns nothing
        if ( IsUnitAliveBJ(GetEnumUnit()) and GetOwningPlayer(GetEnumUnit()) == Player(11) ) then
            call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
            call RemoveUnit(GetEnumUnit())
        endif
	endfunction

 function Shilian__ClearChuancheng takes nothing returns nothing
		call ForGroup(Shilian__GShilian, function Shilian__RemoveChuanchengUnit)
		call DestroyGroup(Shilian__GShilian)
		set Shilian__GShilian=null
		set Shilian__IContinousShilian=0
		set Shilian__PShilian=null
		call PauseTimer(Shilian__TChuanchengRest)
		call DestroyTimer(Shilian__TChuanchengRest)
		call DestroyTimerDialog(Shilian__TDChuanchengRest)
		set Shilian__TChuanchengRest=null
		set Shilian__TDChuanchengRest=null
		call PauseTimer(Shilian__TChuanchengJudge)
		call DestroyTimer(Shilian__TChuanchengJudge)
		set Shilian__TChuanchengJudge=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Shilian__ChuanchengJudge takes nothing returns nothing

        if ( Shilian__GetShilianMonsterCount() == 0 ) then
        	if ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 0 ) then
        		call ChooseShilian(Shilian__PShilian , Shilian__IContinousShilian)
        	endif
			set Shilian__IShilianTimes[GetConvertedPlayerId(Shilian__PShilian)]=Shilian__IShilianTimes[GetConvertedPlayerId(Shilian__PShilian)] + 1
        	if ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 1 ) then
        		        	
        	elseif ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 2 ) then
        		set Shilian__IShilianTime[GetConvertedPlayerId(Shilian__PShilian)]=600
        	elseif ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 3 ) then
        		set Shilian__IShilianTime[GetConvertedPlayerId(Shilian__PShilian)]=900
        	elseif ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 4 ) then
        		set Shilian__IShilianTime[GetConvertedPlayerId(Shilian__PShilian)]=70
        	elseif ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 5 ) then
        	elseif ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 6 ) then
        		set Shilian__IShilianTime[GetConvertedPlayerId(Shilian__PShilian)]=600
        	elseif ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 7 ) then
        	elseif ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 8 ) then
        	elseif ( IShilianType[GetConvertedPlayerId(Shilian__PShilian)] == 9 ) then
        		set Shilian__IShilianTime[GetConvertedPlayerId(Shilian__PShilian)]=450
        	endif
        	call DisplayTextToPlayer(Shilian__PShilian, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰∏ªÂä®ÊäÄËÉΩÊó∂Èó¥ÂÖÖËÉΩËá≥" + I2S(Shilian__IShilianTime[GetConvertedPlayerId(Shilian__PShilian)] / 10) + "s.")
			call Shilian__ClearChuancheng()
        endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Shilian__ChuanchengTimeOut takes nothing returns nothing
		//Ê∏ÖÈô§‰º†ÊâøÊúâÂÖ≥ÁöÑ‰∏úË•ø
		call DisplayTextToPlayer(Shilian__PShilian, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰º†ÊâøËØïÁªÉÂ§±Ë¥•‰∫ÜÔºÅ")
		call Shilian__ClearChuancheng()
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function StartShilian takes player p,integer i returns nothing

  local integer id= GetConvertedPlayerId(p)

		if ( i != IShilianType[id] and IShilianType[id] != 0 ) then
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊØè‰∏ÄÂ±ÄÊ∏∏ÊàèÂè™ËÉΩÈÄâÊã©‰∏ÄÁßçËØïÁªÉÂπ∂‰∏çËÉΩÊõ¥Êîπ.")
			return
		endif

		if not ( udg_H[id] == GetBuyingUnit() and RectContainsUnit(gg_rct_Chuancheng, GetBuyingUnit()) ) then
            call DisplayTextToPlayer(p, 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑Áî®Ëã±ÈõÑÊù•ËØïÁªÉ„ÄÇ")
            return
		endif

		if ( Shilian__PShilian != null ) then
            call DisplayTextToPlayer(p, 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊúâ‰∫∫Ê≠£Âú®ËØïÁªÉ!")
            return
		endif

		if ( i == 1 or i == 5 or i == 7 or i == 8 ) then
            call DisplayTextToPlayer(p, 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•ÊåëÊàòÂ∞öÊú™ÂºÄÊîæ,Êï¨ËØ∑ÊúüÂæÖ.")
            return
		endif

		if ( Shilian__IShilianTime[GetConvertedPlayerId(p)] > 0 ) then
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÊó∂Èó¥Êú™Áî®ÂÆåÔºåËØ∑ÊääÊâÄÊúâÊó∂Èó¥Áî®ÂÆåÂÜçÊù•ËØïÁªÉÔºÅ")
            return
		endif

        if ( GetPlayerState(p, PLAYER_STATE_RESOURCE_LUMBER) < ( R2I(Pow(2, Shilian__IShilianTimes[GetConvertedPlayerId(p)])) * 10 ) ) then
            call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÊú®Â§¥‰∏çË∂≥" + I2S(( R2I(Pow(2, Shilian__IShilianTimes[GetConvertedPlayerId(p)])) * 10 )) + ".")
            return
        endif
        call AdjustPlayerStateBJ(- 1 * ( R2I(Pow(2, Shilian__IShilianTimes[GetConvertedPlayerId(p)])) * 10 ), p, PLAYER_STATE_RESOURCE_LUMBER)

		set Shilian__IContinousShilian=i
		set Shilian__GShilian=CreateGroup()
		set Shilian__PShilian=p

		if not ( Shilian__BFirstShilian1[id] ) then
			set Shilian__BFirstShilian1[id]=true
			call ShowGameHint(p , "‰º†ÊâøËØïÁªÉ‰ªãÁªç\n\n				|cff00ccffÂú®1ÂàÜÈíüÂÜÖÊ∏ÖÈô§‰∏éËá™Ë∫´ÊàòÊñóÂäõÊúâÂÖ≥ÁöÑ20Âè™ÊÄ™Áâ©,\n				ÊØèÂè™ÊÄ™Áâ©Êúâ24Ê≥¢ËøõÊîªÊÄ™ÁöÑÈöèÊú∫ÊäÄËÉΩ,\n				‰æøÂèØ‰ª•Ëé∑ÂæóÂØπÂ∫î‰∏ªÂä®ÊäÄËÉΩ‰∏éË¢´Âä®ÊäÄËÉΩ!|r\n\n				|cffffff00‰∏ªÂä®ÊäÄËÉΩÂú®ÊåëÊàòÁªìÊùüÂêé‰ºöÂÖÖËÉΩ‰∏ÄÂÆöÁöÑÊó∂Èó¥,\n				‰ΩøÁî®‰∏ªÂä®ÊäÄËÉΩ‰ºöÊ∂àËÄóËØ•ÂÖÖËÉΩÊó∂Èó¥,\n				ÂÜçÊ¨°ÂèåÂáªEscËÉΩÈöèÊó∂ÂÖ≥Èó≠ËØ•‰∏ªÂä®ÊäÄËÉΩ,\n				Âú®ÊääÊó∂Èó¥Áî®ÂÖâÂêéËØ∑ÁªßÁª≠Êù•ÊåëÊàòËé∑ÂèñÊó∂Èó¥.|r\n\n				|cffff6800Ê≥®ÊÑè:ÊØèÊ¨°ÊåëÊàòÈÉΩË¶ÅËä±Ë¥π‰∏ÄÂÆöÁöÑÊú®Â§¥,\n				Á¨¨1Ê¨°‰∏∫10,Á¨¨2Ê¨°‰∏∫20,Á¨¨3Ê¨°‰∏∫40,\n				‚Ä¶‚Ä¶Á¨¨5Ê¨°‰∏∫160,Á¨¨6Ê¨°‰∏∫320‚Ä¶‚Ä¶\n				‰ª•Ê≠§Á±ªÊé®,ÊØèÊ¨°ÈÉΩ‰ºöÂú®ÂéüÂü∫Á°Ä*2„ÄÇ|r\n\n				ÊåëÊàòÂ∞ÜÂú®5ÁßíÂêéÂºÄÂßã„ÄÇ\n")
			call PolledWait(5)
		endif

		call Shilian__CreateShilianMonster(p)

        set Shilian__TChuanchengRest=CreateTimer()
        set Shilian__TDChuanchengRest=CreateTimerDialogBJ(Shilian__TChuanchengRest, "‰º†ÊâøËØïÁªÉ")
        call TimerStart(Shilian__TChuanchengRest, 60, false, function Shilian__ChuanchengTimeOut)
        call TimerDialogDisplay(Shilian__TDChuanchengRest, true)

        set Shilian__TChuanchengJudge=CreateTimer()
        call TimerStart(Shilian__TChuanchengJudge, 1, true, function Shilian__ChuanchengJudge)

        set p=null

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Shilian__TLeaveShilianCon takes nothing returns boolean
		return GetLeavingUnit() == udg_H[GetConvertedPlayerId(Shilian__PShilian)]
	endfunction

 function Shilian__TLeaveShilianAct takes nothing returns nothing
		call DisplayTextToPlayer(Shilian__PShilian, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰º†ÊâøËØïÁªÉÂ§±Ë¥•‰∫ÜÔºÅ")
		call Shilian__ClearChuancheng()
	endfunction
//---------------------------------------------------------------------------------------------------
    
    function EnterShilian takes nothing returns nothing
        local real x
        local real y
        if ( ( GetItemTypeId(GetSoldItem()) == 'I06P' ) ) then
            set x=GetRectCenterX(gg_rct_Chuancheng)
            set y=GetRectCenterY(gg_rct_Chuancheng)
            call SetUnitX(GetBuyingUnit(), x)
            call SetUnitY(GetBuyingUnit(), y)
            call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
        endif
        //ËØïÁªÉ
        if ( ( GetItemTypeId(GetSoldItem()) == 'I06Q' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 1)
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I06R' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 2)
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I06S' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 3)
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I06T' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 4)
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I06U' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 5)
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I06V' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 6)
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I06W' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 7)
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I06X' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 8)
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I077' ) ) then
        	call StartShilian(GetOwningPlayer(GetBuyingUnit()) , 9)
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function ZheBeidong takes unit u returns nothing
		if ( IShilianType[GetConvertedPlayerId(GetOwningPlayer(u))] == 2 ) then
			set Shilian__IShilianTime[GetConvertedPlayerId(GetOwningPlayer(u))]=Shilian__IShilianTime[GetConvertedPlayerId(GetOwningPlayer(u))] + 50
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Shilian__InitShilian takes nothing returns nothing
		
  local trigger t= CreateTrigger()

		set UShilian=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'n01T', - 14272.0, - 5440.0, 270.000)

    	call TriggerRegisterPlayerEventEndCinematic(t, Player(0))
    	call TriggerRegisterPlayerEventEndCinematic(t, Player(1))
    	call TriggerRegisterPlayerEventEndCinematic(t, Player(2))
    	call TriggerRegisterPlayerEventEndCinematic(t, Player(3))
    	call TriggerRegisterPlayerEventEndCinematic(t, Player(4))
    	call TriggerRegisterPlayerEventEndCinematic(t, Player(5))
		call TriggerAddAction(t, function Shilian__TDoubleEscAct)

        set t=CreateTrigger()
        call TriggerRegisterLeaveRectSimple(t, gg_rct_Chuancheng)
        call TriggerAddCondition(t, Condition(function Shilian__TLeaveShilianCon))
        call TriggerAddAction(t, function Shilian__TLeaveShilianAct)

		set t=null

	endfunction


//library Shilian ends
//library Combine:
	
 function Combine___TCombineAllCon takes nothing returns boolean
		return ( IsUnitIllusionBJ(GetManipulatingUnit()) != true )
	endfunction
	
 function Combine___TCombineAllAct takes nothing returns nothing
		call CombineBeast(GetManipulatingUnit())
		call CombineJiaoyue(GetManipulatingUnit())
	endfunction

 function Combine___TCombineBuyAllCon takes nothing returns boolean
		return GetUnitTypeId(GetBuyingUnit()) != 'N018'
	endfunction
	
 function Combine___TCombineBuyAllAct takes nothing returns nothing
		call CombineHundunyeai()
		call CombineHundunAll()
	endfunction

//---------------------------------------------------------------------------------------------------
 function Combine___InitCombine takes nothing returns nothing
		
     local trigger t= CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	    call TriggerAddCondition(t, Condition(function Combine___TCombineAllCon))
	    call TriggerAddAction(t, function Combine___TCombineAllAct)

	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SELL_ITEM)
	    call TriggerAddCondition(t, Condition(function Combine___TCombineBuyAllCon))
	    call TriggerAddAction(t, function Combine___TCombineBuyAllAct)

	    set t=null
	endfunction


//library Combine ends
//library Continous:


//---------------------------------------------------------------------------------------------------
	
 function GiveJianianhuaGift takes player p returns nothing
  local integer i= IConDays[GetConvertedPlayerId(p)]
  local unit u= udg_H[GetConvertedPlayerId(p)]



		if ( i >= 7 ) then
			call AdjustPlayerStateBJ(2000, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
		elseif ( i >= 6 ) then
			call AdjustPlayerStateBJ(1500, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
		elseif ( i >= 3 ) then
			call AdjustPlayerStateBJ(1000, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
		elseif ( i >= 2 ) then
			call AdjustPlayerStateBJ(500, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
		endif

		

		if ( i >= 12 ) then
			call UnitAddItemByIdSwapped(GetRandomPotion(), u)
			call UnitAddItemByIdSwapped(GetRandomPotion(), u)
		elseif ( i >= 4 ) then
			call UnitAddItemByIdSwapped(GetRandomPotion(), u)
		endif

		if ( i >= 5 ) then
			call UnitAddItemByIdSwapped('I075', u)
		else
			call UnitAddItemByIdSwapped('I074', u)
		endif

		if ( i >= 9 ) then
			call UnitAddItemByIdSwapped('IXU1', u)
	        call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(u)))
		endif
		
		if ( i >= 10 ) then
			call SetChenji2SpinOK(GetOwningPlayer(u))
		endif

		if ( i >= 20 ) then
			call GetAchievementAndSave(GetOwningPlayer(u) , 47)
		endif

		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetDailyReward takes integer days returns string
		if ( days == 1 ) then
			return "Â∞èÂûãÁΩë"
		elseif ( days == 2 ) then
			return "Â∞èÂûãÁΩë+500ÈáëÂ∏Å"
		elseif ( days == 3 ) then
			return "Â∞èÂûãÁΩë+1000ÈáëÂ∏Å"
		elseif ( days == 4 ) then
			return "Â∞èÂûãÁΩë+1000ÈáëÂ∏Å+1‰∏™Âú∞Áã±‰πãÁ§º"
		elseif ( days == 5 ) then
			return "‰∏≠ÂûãÁΩë+1000ÈáëÂ∏Å+1‰∏™Âú∞Áã±‰πãÁ§º"
		elseif ( days == 6 ) then
			return "‰∏≠ÂûãÁΩë+1500ÈáëÂ∏Å+1‰∏™Âú∞Áã±‰πãÁ§º"
		elseif ( days == 7 ) then
			return "‰∏≠ÂûãÁΩë+2000ÈáëÂ∏Å+1‰∏™Âú∞Áã±‰πãÁ§º"
		elseif ( days == 9 ) then
			return "|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r(‰ªÖÈôê8Êúà20Êó•Ââç)"
		elseif ( days == 10 ) then
			return "Ê∞∏‰πÖËß£ÈîÅ|cFFCCFF00Ëæ∞ÂØÇ|rÁöÑÁöÆËÇ§|cFFFF3333ÂèåÊµÅË¥ØÊÅí|r"
		elseif ( days == 12 ) then
			return "‰∏≠ÂûãÁΩë+2000ÈáëÂ∏Å+2‰∏™Âú∞Áã±‰πãÁ§º"
		elseif ( days == 20 ) then
			return "Ê∞∏‰πÖËß£ÈîÅË∂ÖÁ∫ßÊàêÂ∞±" + GetAchievementName(47)
		elseif ( days == 26 ) then
			return "È¶ñ2‰ΩçËææÊàêÁöÑÁé©ÂÆ∂ÂèØËé∑ÂæóÂçï‰ΩçÂÜ†ÂêçÊùÉ"
		endif

		return null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetContinousDay takes player p returns integer
		if ( DzAPI_Map_GetGameStartTime() < TIMESTAMP_START ) then
			return 0
		endif
		return ( DzAPI_Map_GetGameStartTime() - ILastTime[GetConvertedPlayerId(p)] ) / 86400
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CreateLoginDialog takes player p returns nothing
        local dialog d= DialogCreate()
        local string s= "\n        	ÂòâÂπ¥ÂçéÊ¥ªÂä®ËøûÁª≠ÁôªÂΩïÂ•ñÂä±(7Êúà26Êó•-8Êúà20Êó•)\n        	"
        local integer i= 1
        loop
        	exitwhen i > 26
        	if ( GetDailyReward(i) != null ) then
        		set s=s + "Á¨¨" + I2S(i) + "Â§©:" + GetDailyReward(i) + S3(IConDays[GetConvertedPlayerId(p)] >= i , "|cffff9900(Â∑≤ÂÆåÊàê)|r" , "|cff33cccc(Êú™ÂÆåÊàê)|r") + "\n        		"
        	endif
        	set i=i + 1
        endloop
                		set s=s + "\n        ‰Ω†Â∑≤ÁªèËøûÁª≠Á≠æÂà∞‰∫Ü" + I2S(IConDays[GetConvertedPlayerId(p)]) + "Â§©,Ê≥®ÊÑèÊñ≠Á≠æ‰∫Ü‰ºöÈáçÊñ∞ËÆ°ÁÆóÂì¶."
        call DialogSetMessage(d, s)
        call DialogAddButton(d, "10ÂàÜÈíü‰πãÂêéÂΩìÂ§©ÊâçÁ≠æÂà∞ÊàêÂäü|cffff6800(Esc)|r", 512)
        call DialogDisplay(p, d, true)
        //call DialogDestroy(d)
        set d=null
	endfunction


//---------------------------------------------------------------------------------------------------
	
 function Continous___GetCurrentStartTime takes player p returns integer
		return TIMESTAMP_START + ( ( DzAPI_Map_GetGameStartTime() - TIMESTAMP_START ) / 86400 ) * 86400
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitContinousData takes player p returns nothing
		set IConDays[GetConvertedPlayerId(p)]=DzAPI_Map_GetStoredInteger(p , "IConDays")
		set ILastTime[GetConvertedPlayerId(p)]=DzAPI_Map_GetStoredInteger(p , "ILastTime")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ShowQiandao takes player p returns nothing
		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÁ≠æÂà∞ÊåáÊï∞‰∏∫" + I2S(IQiandao2[GetConvertedPlayerId(p)]) + ".")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveLoginState takes player p returns nothing
		call DzAPI_Map_StoreInteger(p , "IConDays" , IConDays[GetConvertedPlayerId(p)])
		call DzAPI_Map_StoreInteger(p , "ILastTime" , ILastTime[GetConvertedPlayerId(p)])
		call DzAPI_Map_StoreInteger(p , "IQiandao2" , IQiandao2[GetConvertedPlayerId(p)])
		call DisplayTextToPlayer(p, 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëËøûÁª≠ÁôªÂΩïÊï∞ÊçÆ‰øùÂ≠òÊàêÂäü!|r")
		call DisplayTextToPlayer(p, 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëËøûÁª≠ÁôªÂΩïÊï∞ÊçÆ‰øùÂ≠òÊàêÂäü!|r")
		call DisplayTextToPlayer(p, 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëËøûÁª≠ÁôªÂΩïÊï∞ÊçÆ‰øùÂ≠òÊàêÂäü!|r")
		call DisplayTextToPlayer(p, 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëËøûÁª≠ÁôªÂΩïÊï∞ÊçÆ‰øùÂ≠òÊàêÂäü!|r")
		call DisplayTextToPlayer(p, 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëËøûÁª≠ÁôªÂΩïÊï∞ÊçÆ‰øùÂ≠òÊàêÂäü!|r")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Continous___UploadToNetEaseTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local player p= LoadPlayerHandle(LHTable, id, 1)
		call SaveLoginState(p)
		call PauseTimer(t)
		call FlushChildHashtable(LHTable, id)
		call DestroyTimer(t)
		set p=null
		set t=null
	endfunction

 function UploadToNetEase takes player p returns nothing
  local timer t= CreateTimer()
		call SavePlayerHandle(LHTable, GetHandleId(t), 1, p)
		call TimerStart(t, 600, false, function Continous___UploadToNetEaseTimer)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetDenglu takes player p returns nothing
		//Ê¥ªÂä®ËøòÊ≤°ÂºÄÂßãÔºåÊàñËÄÖËØ¥ÊòØÈ¶ñÊ¨°
		if ( DzAPI_Map_GetGameStartTime() < TIMESTAMP_START ) then
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r ")
			call DisplayTextToPlayer(Player(0), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂòâÂπ¥ÂçéÊó∂Èó¥Êú™ÂºÄÂßã.")
			return
		endif

		if ( ILastTime[GetConvertedPlayerId(p)] < TIMESTAMP_START ) then
			set ILastTime[GetConvertedPlayerId(p)]=TIMESTAMP_START
			set IConDays[GetConvertedPlayerId(p)]=0
		endif

		//Êñ≠Á≠æÂï¶ÈáçÊñ∞Â≠òÂÇ®

		if ( GetContinousDay(p) == IConDays[GetConvertedPlayerId(p)] ) then
			//È¶ñÊ¨°ËøûÁª≠ÁôªÂΩïÁöÑÊèêÁ§∫‰∏éÂ•ñÂä±
			set IConDays[GetConvertedPlayerId(p)]=GetContinousDay(p) + 1

			set IQiandao2[GetConvertedPlayerId(p)]=IQiandao2[GetConvertedPlayerId(p)] + DzAPI_Map_GetGameStartTime() - Continous___GetCurrentStartTime(p)
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤ÁªèÊàêÂäüËøûÁª≠ÁôªÂΩï" + I2S(IConDays[GetConvertedPlayerId(p)]) + "Â§©(Ê≥®ÊÑè‰ªäÂ§©ÁöÑÁ≠æÂà∞ÈúÄË¶ÅÁ≠â10ÂàÜÈíüÊâçËÉΩ‰øùÂ≠ò).")
		elseif ( GetContinousDay(p) == IConDays[GetConvertedPlayerId(p)] - 1 ) then
			//‰øùÊåÅÂΩìÂ§©ÁöÑÂ•ñÂä±

			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤ÁªèÊàêÂäüËøûÁª≠ÁôªÂΩï" + I2S(IConDays[GetConvertedPlayerId(p)]) + "Â§©(‰ªäÂ§©ÁöÑÁ≠æÂà∞Êï∞ÊçÆÂ∑≤ÁªèÂú®ÂâçÈù¢Ê∏∏Êàè‰∏≠‰øùÂ≠ò‰∫ÜÂì¶).")
		else
			set ILastTime[GetConvertedPlayerId(p)]=Continous___GetCurrentStartTime(p)
			set IConDays[GetConvertedPlayerId(p)]=1

			set IQiandao2[GetConvertedPlayerId(p)]=IQiandao2[GetConvertedPlayerId(p)] + DzAPI_Map_GetGameStartTime() - Continous___GetCurrentStartTime(p)
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤ÁªèÊàêÂäüËøûÁª≠ÁôªÂΩï" + I2S(IConDays[GetConvertedPlayerId(p)]) + "Â§©(Ê≥®ÊÑè‰ªäÂ§©ÁöÑÁ≠æÂà∞ÈúÄË¶ÅÁ≠â10ÂàÜÈíüÊâçËÉΩ‰øùÂ≠ò).")
		endif

		call UploadToNetEase(p)
	endfunction


//---------------------------------------------------------------------------------------------------

	
 function Continous___InitContinous takes nothing returns nothing
		
	endfunction


//library Continous ends
//library Purgatory:
	

//---------------------------------------------------------------------------------------------------
	
 function SetPurgatory90UpUnit takes nothing returns nothing
	    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 91 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='Nfir'
	        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc001‰∏™‰∫∫Âè£Ôºå‰∫∫Âè£ÂèØ‰ª•Áî®Êù•ÊäìÂÆ†Áâ©„ÄÇ" ) ))
	        call SetPlayerStateBJ(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP) + 1 ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 92 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00D'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + ".")
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 93 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00E'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 94 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00F'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 95 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00G'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 96 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00J'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 97 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00K'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 98 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00N'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 99 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00O'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 100 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00R'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    elseif ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 101 ) ) then
	        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='N00S'
			call UnitAddItemByIdSwapped(GetRandomPotion(), udg_Unit)
			call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + GetItemName(GetLastCreatedItem()) + "." ))
	    endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function TPurgatoryItemCon takes nothing returns boolean
	    return ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( ( GetUnitTypeId(GetDyingUnit()) == 'nfra' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nwld' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nwzd' ) or ( GetUnitTypeId(GetDyingUnit()) == 'ndqp' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nsc2' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nwns' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nsoc' ) or ( GetUnitTypeId(GetDyingUnit()) == 'npfl' ) or ( GetUnitTypeId(GetDyingUnit()) == 'ninm' ) ) )
	endfunction

 function TPurgatoryItemAct takes nothing returns nothing
  local integer dyingUnitId= GetUnitTypeId(GetDyingUnit())

//textmacro instance: CreatePurgatoryItem("nfra","IB00")
		if ( dyingUnitId == 'nfra' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IB00', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("nfra","IB00")
//textmacro instance: CreatePurgatoryItem("nwld","IMJ1")
		if ( dyingUnitId == 'nwld' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IMJ1', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("nwld","IMJ1")
//textmacro instance: CreatePurgatoryItem("nwzd","IMJ2")
		if ( dyingUnitId == 'nwzd' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IMJ2', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("nwzd","IMJ2")
//textmacro instance: CreatePurgatoryItem("ndqp","IMJ3")
		if ( dyingUnitId == 'ndqp' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IMJ3', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("ndqp","IMJ3")
//textmacro instance: CreatePurgatoryItem("nsc2","IMJ4")
		if ( dyingUnitId == 'nsc2' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IMJ4', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("nsc2","IMJ4")
//textmacro instance: CreatePurgatoryItem("nwns","IMJ5")
		if ( dyingUnitId == 'nwns' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IMJ5', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("nwns","IMJ5")
//textmacro instance: CreatePurgatoryItem("nsoc","IMJ6")
		if ( dyingUnitId == 'nsoc' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IMJ6', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("nsoc","IMJ6")
//textmacro instance: CreatePurgatoryItem("npfl","IMJ7")
		if ( dyingUnitId == 'npfl' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IMJ7', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("npfl","IMJ7")
//textmacro instance: CreatePurgatoryItem("ninm","IMJ8")
		if ( dyingUnitId == 'ninm' ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
			call CreateItem('IMJ8', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
			return
		endif
//end of: CreatePurgatoryItem("ninm","IMJ8")
	endfunction
//---------------------------------------------------------------------------------------------------


 function Purgatory___InitPurgatory takes nothing returns nothing
  local trigger t= CreateTrigger()

	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	    call TriggerAddCondition(t, Condition(function TPurgatoryItemCon))
	    call TriggerAddAction(t, function TPurgatoryItemAct)

	endfunction


//library Purgatory ends
//library Version:
	

//---------------------------------------------------------------------------------------------------
	
 function Version___SaveAllPlayerAchievement takes integer id returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				call GetAchievementAndSave(ConvertedPlayer(i) , id)
			endif
			set i=i + 1
		endloop
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function GetPlatformLevelGold takes player p returns nothing
		
		if ( DzAPI_Map_GetMapLevel(p) >= 20 ) then
			call AdjustPlayerStateBJ(8000, p, PLAYER_STATE_RESOURCE_GOLD)
		elseif ( DzAPI_Map_GetMapLevel(p) >= 15 ) then
			call AdjustPlayerStateBJ(6000, p, PLAYER_STATE_RESOURCE_GOLD)
		elseif ( DzAPI_Map_GetMapLevel(p) >= 10 or true ) then
			call AdjustPlayerStateBJ(4000, p, PLAYER_STATE_RESOURCE_GOLD)
		elseif ( DzAPI_Map_GetMapLevel(p) >= 5 ) then
			call AdjustPlayerStateBJ(2000, p, PLAYER_STATE_RESOURCE_GOLD)
		endif

	endfunction
//-----------------------------------------------------------------1---------------------------------
	
 function Version___IsPass takes player p,integer nan returns boolean
  local integer i= 9
		loop
			exitwhen i < nan
			if ( GetBit(achieve[GetConvertedPlayerId(p)] , i) > 0 ) then
				return true
			endif
			set i=i - 1
		endloop
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetHuanyiHint takes nothing returns string
		return "|cff99ccffÈúÄË¶ÅÂú∞ÂõæÁ≠âÁ∫ßËææÂà∞2Á∫ßÊâçËÉΩÈÄâÂèñËØ•Ëã±ÈõÑ|r"
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetMengjiHint takes nothing returns string
		return "|cff99ccffÈúÄË¶ÅÂú∞ÂõæÁ≠âÁ∫ßËææÂà∞6Á∫ßÊâçËÉΩÈÄâÂèñËØ•Ëã±ÈõÑ|r"
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetCanglingHint takes nothing returns string
		return "|cff99ccffÈúÄË¶ÅÂú∞ÂõæÁ≠âÁ∫ßËææÂà∞8Á∫ßÊâçËÉΩÈÄâÂèñËØ•Ëã±ÈõÑ|r"
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetXinglongHint takes nothing returns string
		return "|cff99ccffÈúÄË¶ÅÂú∞ÂõæÁ≠âÁ∫ßËææÂà∞11Á∫ßÊâçËÉΩÈÄâÂèñËØ•Ëã±ÈõÑ|r"
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function PrintCurrentPlatformLevel takes player p returns nothing
		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâç‰Ω†ÁöÑÂπ≥Âè∞Âú∞ÂõæÁ≠âÁ∫ß‰∏∫Ôºö" + I2S(DzAPI_Map_GetMapLevel(p)) + "ÔºÅ")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsColorSpin takes player p returns boolean
		return ( GetBit(spin[GetConvertedPlayerId(p)] , 1) > 0 )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetHuanyiSelectedCon takes player p returns boolean
		return ( DzAPI_Map_GetMapLevel(p) >= 2 )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetMengjiSelectedCon takes player p returns boolean
		return ( DzAPI_Map_GetMapLevel(p) >= 6 )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetCanglingSelectedCon takes player p returns boolean
		return ( DzAPI_Map_GetMapLevel(p) >= 8 )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetXinglongSelectedCon takes player p returns boolean
		return ( DzAPI_Map_GetMapLevel(p) >= 11 )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function PrintMengjiPassword takes nothing returns nothing

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function PrintCanglingPassword takes nothing returns nothing

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function PrintXinglongPassword takes nothing returns nothing

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitAllAchievement takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
    			set achieve[i]=S2I(DzAPI_Map_GetStoredString(ConvertedPlayer(i) , "achieve"))
    			set achieve2[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "achieve2")
    			set achieve3[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "achieve3")
    			set achieve4[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "achieve4")
    			set vipCode[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "vip")
    			set achiPage[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "page")
    			set heroCountString[i]=DzAPI_Map_GetStoredString(ConvertedPlayer(i) , "hero")
    			set spin[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "spin")
    			set diyu[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "defense")
    			
    			set Idaixin[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "daixin")
    			set Ileishi[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "leishi")
    			set SDIY[i]=DzAPI_Map_GetStoredString(ConvertedPlayer(i) , "diy")
    			set Greward[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "Greward")
    			set IConDays[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "IConDays")
    			set ILastTime[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "ILastTime")
    			set IQiandao2[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "IQiandao2")
    			set spin2[i]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(i) , "spin2")
    			
    			call DisplayTextToPlayer(ConvertedPlayer(i), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØªÂèñÊï∞ÊçÆ‰∏≠.....")
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function TSpeakPassword takes nothing returns nothing
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function InitOldAchievement takes integer id returns nothing

		if ( GetBit(achieve[id] , 9) > 0 ) then
			set achiPage[id]=19
		elseif ( GetBit(achieve[id] , 8) > 0 ) then
			set achiPage[id]=18
		elseif ( GetBit(achieve[id] , 7) > 0 ) then
			set achiPage[id]=17
		elseif ( GetBit(achieve[id] , 6) > 0 ) then
			set achiPage[id]=16
		elseif ( GetBit(achieve[id] , 5) > 0 ) then
			set achiPage[id]=15
		elseif ( GetBit(achieve[id] , 4) > 0 ) then
			set achiPage[id]=14
		elseif ( GetBit(achieve[id] , 3) > 0 ) then
			set achiPage[id]=13
		elseif ( GetBit(achieve[id] , 2) > 0 ) then
			set achiPage[id]=12
		elseif ( GetBit(achieve[id] , 1) > 0 ) then
			set achiPage[id]=11
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Version___GetTotalDeathCount takes nothing returns integer
  local integer i= 1
  local integer result= 0
		loop
			exitwhen i > 6
			set result=result + deathCount[i]
			set i=i + 1
		endloop
		return result
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveDaixin takes integer index returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) and ( index != i ) and ( DzAPI_Map_GetMapLevel(ConvertedPlayer(i)) <= 5 ) ) then
				set Idaixin[index]=Idaixin[index] + 1
			endif
			set i=i + 1
		endloop
		if ( Idaixin[index] >= 100 ) then
			call GetAchievementAndSave(ConvertedPlayer(index) , 324)
		else
			call DisplayTextToPlayer(ConvertedPlayer(index), 0., 0., GetAchievementName(324) + "|r" + I2S(Idaixin[index]) + "/100.")
	    	call DzAPI_Map_StoreInteger(ConvertedPlayer(index) , "daixin" , Idaixin[index])
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchievement takes nothing returns nothing

  local integer i= 1
  local integer level= GetDiffculty()

		call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠£Âú®‰øùÂ≠òÊ∏∏ÊàèÊï∞ÊçÆ‰∏≠....ËØ∑‰∏çË¶ÅÈ©¨‰∏äÈÄÄÂá∫Ê∏∏Êàè,‰ª•ÂÖç‰øùÂ≠òÂ§±Ë¥•...")

		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				//ÈÄöÂÖ≥Áß∞Âè∑
				call GetAchievementAndSave(ConvertedPlayer(i) , I3(level == 9 , 325 , 10 + level))

				//ÂçïÈÄöÁß∞Âè∑
				if ( renshu == 1 and level != 9 ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , I3(level < 8 , 217 - level , 29))
				endif

				//ÁéÑÈõ™Êú´Êó•ÊùÉÊùñ
				if ( renshu == 1 and udg_H[i] == xuanxue and level >= 4 ) then
					call SetXuanxueSpinOK(ConvertedPlayer(i))
				endif

				//Âü∫Âú∞ÁöÑË°Ä
				if ( udg_I_Er_diansi[1] == 0 ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 221)
					if ( GetUnitState(gg_unit_haro_0030, UNIT_STATE_LIFE) <= ( 0.25 * GetUnitState(gg_unit_haro_0030, UNIT_STATE_MAX_LIFE) ) ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 222)
					endif
				endif

				if not ( BBaseDamage ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 320)
				endif

				if ( Version___GetTotalDeathCount() < 1 ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 310)
				endif

				call SaveDaixin(i)

				if not ( BJiulun ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 323)
				endif

				if not ( BHaojie ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 327)
				endif


			endif
			set i=i + 1
		endloop

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchievementKuilei1 takes nothing returns nothing

  local integer i= 1
  local integer level= GetDiffculty()

		call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠£Âú®‰øùÂ≠òÊ∏∏ÊàèÊï∞ÊçÆ‰∏≠....ËØ∑‰∏çË¶ÅÈ©¨‰∏äÈÄÄÂá∫Ê∏∏Êàè,‰ª•ÂÖç‰øùÂ≠òÂ§±Ë¥•...")

		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then

				if ( IsHuodong7() ) then
					call SetLingxueSpinOK(ConvertedPlayer(i))
				endif

				if ( not ( BShengming ) and udg_RENSHU >= 4 ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 45)
				endif

			endif
			set i=i + 1
		endloop


	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchievement2 takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then

				//ÈÄöÂÖ≥Áß∞Âè∑,Êó∂Èó¥
				if ( IsClassic() ) then
					if ( udg_Second[2] < 135 ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 223)
					endif
					if ( udg_Second[2] < 120 ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 224)
					endif
					if ( udg_Second[2] < 90 ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 225)
					endif
					if ( udg_Second[2] < 60 ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 226)
					endif
				endif

			endif
			set i=i + 1
		endloop
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function SaveAchievement3 takes player p,integer zhuan returns nothing
		if ( zhuan >= 20 ) then
			call GetAchievementAndSave(p , 21)
		endif
		if ( zhuan >= 50 ) then
			call GetAchievementAndSave(p , 22)
		endif
		if ( zhuan >= 100 ) then
			call GetAchievementAndSave(p , 23)
		endif
		if ( zhuan == 125 and udg_H[GetConvertedPlayerId(p)] == yanmie ) then
			call SetYanmieSpinOK(p)
		endif
		if ( zhuan >= 150 ) then
			call GetAchievementAndSave(p , 24)
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function TGetAchievementLumber takes nothing returns nothing
		call GetAchievementAndSave(GetTriggerPlayer() , 25)
		if ( GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) > 50000 ) then
			call GetAchievementAndSave(GetTriggerPlayer() , 26)
		endif
		if ( GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) > 100000 ) then
			call GetAchievementAndSave(GetTriggerPlayer() , 27)
		endif
		if ( GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) > 200000 ) then
			call GetAchievementAndSave(GetTriggerPlayer() , 28)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SavePIV takes player p,integer i returns nothing
    	call DzAPI_Map_StoreInteger(p , "vip" , i)
	endfunction

 function IsSavePIV takes player p,integer i returns boolean
		return vipCode[GetConvertedPlayerId(p)] == i
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IncreaseHeroCount takes player p,integer i returns nothing
  local integer index= GetConvertedPlayerId(p)
  local integer length
  local integer times
  local string temp
		if ( i < 1 or i > 31 ) then
			return
		endif
		if ( StringLength(heroCountString[index]) < 62 ) then
			set heroCountString[index]="00000000000000000000000000000000000000000000000000000000000000"
		endif
		set length=StringLength(heroCountString[index])
		set times=S2I(SubStringBJ(heroCountString[index], 2 * i - 1, 2 * i))
		set temp=heroCountString[index]

		set times=IMinBJ(99, times + 1)
		set heroCountString[index]=SubStringBJ(temp, 1, 2 * i - 2)
		if ( times < 10 ) then
			set heroCountString[index]=heroCountString[index] + "0" + I2S(times)
		else
			set heroCountString[index]=heroCountString[index] + I2S(times)
		endif
		set heroCountString[index]=heroCountString[index] + SubStringBJ(temp, 2 * i + 1, length)
		set temp=null
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function GetSpecifyHeroTimes takes player p,integer heroIndex returns integer
		if ( heroIndex > 0 ) then
			return S2I(SubStringBJ(heroCountString[GetConvertedPlayerId(p)], 2 * heroIndex - 1, 2 * heroIndex))
		else
			return 0
		endif
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function GetHeroTimes takes player p returns integer
  local unit u= udg_H[GetConvertedPlayerId(p)]
  local integer i= GetHeroIndex(GetUnitTypeId(u))
		set u=null
		return GetSpecifyHeroTimes(p , i)
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function GetLowerHeroCount takes player p,integer limit returns boolean
  local integer count= 0
  local integer i= 1
		loop
			exitwhen i > HERO_COUNT
			if ( GetSpecifyHeroTimes(p , i) >= limit ) then
				set count=count + 1
			endif
			set i=i + 1
		endloop

		return count >= 12
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function GetBestHero takes player p returns integer
  local integer max= 0
  local integer maxIndex= 0
  local integer i= HERO_COUNT
		loop
			exitwhen i < 1
			if ( ( GetSpecifyHeroTimes(p , i) > max ) or ( GetSpecifyHeroTimes(p , i) == max and GetHeroIndex(GetUnitTypeId(udg_H[GetConvertedPlayerId(p)])) == i ) ) then
				set max=GetSpecifyHeroTimes(p , i)
				set maxIndex=i
			endif
			set i=i - 1
		endloop

		return maxIndex
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function PrintAllHeroTimes takes player p returns nothing
  local string result= ""
  local integer i= 1
  local real x= 0
  local real y= 0
		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÊâÄÊúâËã±ÈõÑ‰ΩøÁî®Ê¨°Êï∞Â¶Ç‰∏ãÊâÄÁ§∫Ôºö")
		loop
			exitwhen i > HERO_COUNT
			set result=result + GetIndexHeroColorName(i) + "ÁöÑ‰ΩøÁî®Ê¨°Êï∞:" + I2S(GetSpecifyHeroTimes(p , i)) + ","
			if ( ModuloInteger(i, 3) == 0 ) then
				call DisplayTextToPlayer(p, 0., 0., result)
				set result=""
			endif
			set i=i + 1
		endloop
		if ( result != "" ) then
			call DisplayTextToPlayer(p, 0., 0., result)
		endif
		set result=null
		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ¶ÇÊûú‰Ω†ÊÉ≥Ë∞ÉËäÇËßÜËßíÈ´òÂ∫¶,ËØ∑ËæìÂÖ•-+")
		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ¶ÇÊûú‰Ω†ÊÉ≥ÈöêËóèÊäÄËÉΩ‰º§ÂÆ≥,ËØ∑ËæìÂÖ•-sh(‰∏çÊé®ËçêÊñ∞ÊâãËæìÂÖ•)")
		//call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ¶ÇÊûú‰Ω†ÊÉ≥ÂèñÊ∂àÂΩ©Ëâ≤ÁöÆËÇ§,ËØ∑ËæìÂÖ•-qc")
		if ( Greward[GetConvertedPlayerId(p)] > 0 ) then
			set x=GetUnitX(UDepot[GetConvertedPlayerId(p)])
			set y=GetUnitY(UDepot[GetConvertedPlayerId(p)])
			call RemoveUnit(UDepot[GetConvertedPlayerId(p)])
			set UDepot[GetConvertedPlayerId(p)]=CreateUnit(p, 'n01R', x, y, 270.000)
			if ( GetDiffculty() <= 5 ) then
				call UnitAddAbility(UDepot[GetConvertedPlayerId(p)], 'A0KW')
			endif
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function SaveDeathAchievement takes player p returns nothing
		set deathCount[GetConvertedPlayerId(p)]=deathCount[GetConvertedPlayerId(p)] + 1
		if ( deathCount[GetConvertedPlayerId(p)] >= 100 ) then
			call GetAchievementAndSave(p , 231)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveRingAchievement takes player p,integer count returns nothing
		if ( count == 120 ) then
			call GetAchievementAndSave(p , 321)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveMijingAchievement takes integer count returns nothing
  local integer i= 1
		if ( count < 13 ) then
			return
		endif
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				if ( count >= 13 ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 36)
				endif
				if ( count >= 15 ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 37)
				endif
				if ( count >= 17 ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 38)
				endif
				if ( count >= 20 ) then
					call GetAchievementAndSave(ConvertedPlayer(i) , 39)
				endif
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveJunengAchievement takes nothing returns nothing
		set JunengCount=JunengCount + 1
		if ( JunengCount >= 6 ) then
			call Version___SaveAllPlayerAchievement(311)
		endif
		if ( JunengCount >= 20 ) then
			call Version___SaveAllPlayerAchievement(312)
		endif
		if ( JunengCount >= 12 and GetDiffculty() >= 8 ) then
			call Version___SaveAllPlayerAchievement(313)
		endif
		if ( JunengCount >= 40 and GetDiffculty() >= 8 ) then
			call Version___SaveAllPlayerAchievement(314)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveDoorAchievement takes nothing returns nothing
  local integer i= 1
		if ( udg_Second[2] >= 8 ) then
			return
		endif
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				call GetAchievementAndSave(ConvertedPlayer(i) , 326)
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Version___SaveAttrAchievement takes nothing returns nothing
  local integer i= 1
  local integer attr= 0
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				if ( udg_H[i] != null ) then
					set attr=GetHeroStr(udg_H[i], true) + GetHeroInt(udg_H[i], true) + GetHeroAgi(udg_H[i], true)
					if ( attr > 3000000 ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 315)
					endif
					if ( attr > 8000000 ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 316)
					endif
					if ( attr > 20000000 ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 317)
					endif
					if ( attr > 50000000 ) then
						call GetAchievementAndSave(ConvertedPlayer(i) , 318)
					endif
				endif
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveKillLeishi takes player p returns nothing
		set Ileishi[GetConvertedPlayerId(p)]=SetIntegerBit(Ileishi[GetConvertedPlayerId(p)] , GetHeroIndex(GetUnitTypeId(udg_H[GetConvertedPlayerId(p)])) + 1 , true)
		if ( GetIntegerHasOne(Ileishi[GetConvertedPlayerId(p)]) >= 12 ) then
			call GetAchievementAndSave(p , 322)
		else
			call DisplayTextToPlayer(p, 0., 0., GetAchievementName(322) + "|r" + I2S(GetIntegerHasOne(Ileishi[GetConvertedPlayerId(p)])) + "/12.")
		endif
    	call DzAPI_Map_StoreInteger(p , "leishi" , Ileishi[GetConvertedPlayerId(p)])
	endfunction
//---------------------------------------------------------------------------------------------------
	
	
 function SaveAchievement5 takes player p,integer count returns nothing
		set killCount[GetConvertedPlayerId(p)]=killCount[GetConvertedPlayerId(p)] + count
		if ( killCount[GetConvertedPlayerId(p)] >= 15000 ) then
			call GetAchievementAndSave(p , 227)
		endif
		if ( killCount[GetConvertedPlayerId(p)] >= 40000 ) then
			call GetAchievementAndSave(p , 228)
		endif
		if ( killCount[GetConvertedPlayerId(p)] >= 80000 ) then
			call GetAchievementAndSave(p , 229)
		endif
		if ( killCount[GetConvertedPlayerId(p)] >= 150000 ) then
			call GetAchievementAndSave(p , 230)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchievement6 takes player p,integer damage2 returns nothing
		if ( damage2 >= 500 ) then
			call GetAchievementAndSave(p , 32)
		endif
		if ( damage2 >= 4000 ) then
			call GetAchievementAndSave(p , 33)
		endif
		if ( damage2 >= 30000 ) then
			call GetAchievementAndSave(p , 34)
		endif
		if ( damage2 >= 600000 ) then
			call GetAchievementAndSave(p , 35)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
		
 function SavePetAchievement takes player p,integer level returns nothing
		if ( level >= 50 ) then
			call GetAchievementAndSave(p , 328)
		endif
		if ( level >= 70 ) then
			call GetAchievementAndSave(p , 329)
		endif
		if ( level >= 100 ) then
			call GetAchievementAndSave(p , 330)
		endif
		if ( level >= 150 ) then
			call GetAchievementAndSave(p , 331)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SaveAchievement4 takes player p returns nothing
		if ( GetLowerHeroCount(p , 1) ) then
			call GetAchievementAndSave(p , 217)
		endif
		if ( GetLowerHeroCount(p , 5) ) then
			call GetAchievementAndSave(p , 218)
		endif
		if ( GetLowerHeroCount(p , 10) ) then
			call GetAchievementAndSave(p , 219)
		endif
		if ( GetLowerHeroCount(p , 30) ) then
			call GetAchievementAndSave(p , 220)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Version___SaveAllHeroTimes takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local player p= ConvertedPlayer(LoadInteger(LHTable, id, kSaveHeroTimes))
  local integer i= GetHeroIndex(GetUnitTypeId(udg_H[GetConvertedPlayerId(p)]))
		call IncreaseHeroCount(p , i)
		call DzAPI_Map_StoreString(p , "hero" , heroCountString[GetConvertedPlayerId(p)])
    	call DzAPI_Map_Stat_SetStat(p, "hero", GetIndexHeroName(GetBestHero(p)))
		call PrintAllHeroTimes(p)
		call SaveAchievement4(p)
		call PauseTimer(t)
		call FlushChildHashtable(LHTable, id)
		call DestroyTimer(t)
		set t=null
		set p=null
	endfunction

	
 function CreateAllHeroTimesTimer takes player p returns nothing
  local timer t= CreateTimer()
		call SaveInteger(LHTable, GetHandleId(t), kSaveHeroTimes, GetConvertedPlayerId(p))
		call TimerStart(t, 10, false, function Version___SaveAllHeroTimes)

		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetAndSaveDIYName takes player p returns nothing
  local integer id= GetConvertedPlayerId(p)
		set achiPage[id]=- 1
		call SaveAchievePointer(p)
		call SetPlayerName(p, GetRandomColor() + "„Äê" + GetRandomColor() + SDIY[id] + GetRandomColor() + "„Äë" + GetRandomColor() + playerName[id] + "|r")
		call DzAPI_Map_Stat_SetStat(p, "achi", SDIY[id])
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitAchievementName takes unit u returns nothing
  local integer id= GetConvertedPlayerId(GetOwningPlayer(u))
		//ËÆ°Êó∂Ëã±ÈõÑÊï∞
		call CreateAllHeroTimesTimer(GetOwningPlayer(u))

		if ( achiPage[id] == - 1 ) then
			call SetAndSaveDIYName(GetOwningPlayer(u))
		else
			if ( StringLength(I2S(achiPage[id])) < 2 ) then
				set achiPage[id]=10
				call InitOldAchievement(id)
				call SaveAchievePointer(GetOwningPlayer(u))
			endif
			call SetAchievement(GetOwningPlayer(u) , achiPage[id])

			if ( IsAchieveOK(GetOwningPlayer(u) , 47) ) then
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
				call BJDebugMsg(GetPlayerName(GetOwningPlayer(u)) + "|cff00ff00ÂèóÂà∞‰∫ÜÊù•Ëá™Âú£ÁïåÁöÑÊ¨¢Ëøé!!!|r")
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SetDIYName takes player p,string s returns nothing
  local integer i= GetConvertedPlayerId(p)
		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤ÁªèÊàêÂ∞±Â∞ÜÊàêÂ∞±Ëá™ÂÆö‰πâÊàê:" + s + ".")
		set SDIY[i]=s
		call DzAPI_Map_StoreString(p , "diy" , SDIY[i])
		call SetAndSaveDIYName(p)
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function InitVersion takes nothing returns nothing
  local trigger t= CreateTrigger()
  local integer i= 1

		call CreateUnit(Player(6), 'n01E', 6144.0, 75, 270.000)
    	call CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'n01L', - 9816.0, - 5968.0, 270.000)
    	call CreateUnit(Player(6), 'n01K', 6144.0, - 683, 270.000)

		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
			    call TriggerRegisterPlayerStateEvent(t, ConvertedPlayer(i), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 20000.00)
			    set deathCount[i]=0
			    set killCount[i]=0
			endif
			set i=i + 1
		endloop
		call TriggerAddAction(t, function TGetAchievementLumber)

		call TimerStart(CreateTimer(), 60, true, function Version___SaveAttrAchievement)

		set t=null
	endfunction


//library Version ends
//library Arena:


//---------------------------------------------------------------------------------------------------
	
 function Arena___updateLevel takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer int= GetHeroInt(Arena___challenager, true)
  local integer agi= GetHeroAgi(Arena___challenager, true)
  local integer str= GetHeroStr(Arena___challenager, true)

		if ( IsUnitAliveBJ(Arena___challenager) and ( Arena___currentLevel < ARENA_MAX_LEVEL ) ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Avatar\\AvatarCaster.mdl", GetUnitX(Arena___challenager), GetUnitY(Arena___challenager)))
			call SetHeroInt(Arena___challenager, GetLimit(int + int / Arena___currentLevel), true)
			call SetHeroAgi(Arena___challenager, GetLimit(agi + agi / Arena___currentLevel), true)
			call SetHeroStr(Arena___challenager, GetLimit(str + str / Arena___currentLevel), true)
			set Arena___currentLevel=Arena___currentLevel + 1
			//ËÆæÁΩÆÊäÄËÉΩÁ≠âÁ∫ß
			call IncUnitAbilityLevel(Arena___challenager, 'ACbh')
			call IncUnitAbilityLevel(Arena___challenager, 'A0ET')
			call IncUnitAbilityLevel(Arena___challenager, 'A0EU')
			call IncUnitAbilityLevel(Arena___challenager, 'ACt2')
			call IncUnitAbilityLevel(Arena___challenager, 'AL04')
			call IncUnitAbilityLevel(Arena___challenager, 'AL05')
			call IncUnitAbilityLevel(Arena___challenager, 'A0EY')
			call IncUnitAbilityLevel(Arena___challenager, 'A0H6')
			call IncUnitAbilityLevel(Arena___challenager, 'A0H7')
			call SetTextTagTextBJ(Arena___textTag_Level, I2S(Arena___currentLevel) + "Á∫ß", 20)
		else
			call PauseTimer(t)
			call DestroyTimer(t)
		endif

		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
			
 function Arena___updateLevelLoc takes nothing returns nothing
  local timer t= GetExpiredTimer()
		if ( IsUnitAliveBJ(Arena___challenager) ) then
			call SetTextTagPosUnitBJ(Arena___textTag_Level, Arena___challenager, 25)
		else
			call DestroyTextTag(Arena___textTag_Level)
			call PauseTimer(t)
			call DestroyTimer(t)
		endif
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------

	

 function Arena___TSpellLingerCon takes nothing returns boolean
	    return ( ( GetAttacker() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) )
	endfunction

 function Arena___TSpellLingerAct takes nothing returns nothing
		call SetUnitX(GetAttackedUnitBJ(), GetRectCenterX(gg_rct_Arena_1))
		call SetUnitY(GetAttackedUnitBJ(), GetRectCenterY(gg_rct_Arena_1))
	endfunction

	
 function Arena___LingerAssemble takes nothing returns nothing
  local real x= GetRectCenterX(gg_rct_Arena_1)
  local real y= GetRectCenterY(gg_rct_Arena_1)
  local group l_group= CreateGroup()
  local unit l_unit
  local timer t= GetExpiredTimer()
		if ( IsUnitAliveBJ(Arena___challenager) ) then
			call GroupEnumUnitsInRange(l_group, GetUnitX(Arena___challenager), GetUnitY(Arena___challenager), 900, null)
			loop
			    set l_unit=FirstOfGroup(l_group)
			    exitwhen l_unit == null
			    call GroupRemoveUnit(l_group, l_unit)
			    if ( IsEnemy(GetEnumUnit() , Arena___challenager) ) then
					call SetUnitX(GetAttackedUnitBJ(), GetRectCenterX(gg_rct_Arena_1))
					call SetUnitY(GetAttackedUnitBJ(), GetRectCenterY(gg_rct_Arena_1))
			    endif
			endloop
	    	call CreateSpellTextTag("‰∏áÁÆ≠ÂÆöÂøÉÔºÅ" , Arena___challenager , 100 , 100 , 0 , 2)
		else
			call PauseTimer(t)
			call DestroyTimer(t)
		endif
		call DestroyGroup(l_group)
		set t=null
		set l_group=null
		set l_unit=null
	endfunction

//---------------------------------------------------------------------------------------------------

	

 function Arena___TSpellZhousiCon takes nothing returns boolean
	    return ( ( GetAttacker() == Arena___challenager ) and ( IsUnitAliveBJ(Arena___challenager) == true ) and ( IsUnitIllusionBJ(Arena___challenager) != true ) and ( GetRandomInt(1, 40) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, Arena___challenager) > 200.00 ) )
	endfunction

 function Arena___TSpellZhousiAct takes nothing returns nothing
  local integer i= 1
	    loop
	    	exitwhen i > 6
	    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", GetUnitX(Arena___challenager) + SinBJ(i * 60) * 400, GetUnitY(Arena___challenager) + CosBJ(i * 60) * 400))
	    	set i=i + 1
	    endloop
		call DamageArea(Arena___challenager , GetUnitX(Arena___challenager) , GetUnitY(Arena___challenager) , 600 , 300000 + 15000 * Arena___currentLevel)
	    call CreateSpellTextTag("ÂçÉÁÖûÁ†¥ÂáªÔºÅ" , Arena___challenager , 100 , 0 , 0 , 2)
	endfunction
//---------------------------------------------------------------------------------------------------
		
 function Arena___TSpellXuemo1Con takes nothing returns boolean
	    return ( ( GetAttacker() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 40) == 1 ) )
	endfunction

 function Arena___TSpellXuemo1Act takes nothing returns nothing
  local unit u
  local integer i= 1

	    loop
	    	exitwhen i > 5
	        set u=CreateUnit(GetOwningPlayer(GetAttacker()), 'h000', GetUnitX(GetAttackedUnitBJ()), GetUnitY(GetAttackedUnitBJ()), 0)
	        call UnitApplyTimedLifeBJ(5.00, 'BHwe', u)
	        call UnitAddAbilityBJ('A0EV', u)
	        call SetUnitAbilityLevel(u, 'A0EV', IMinBJ(Arena___currentLevel, 20))
	        call IssueTargetOrderById(u, 852274, GetAttackedUnitBJ())
	    	set i=i + 1
	    endloop

	    call CreateSpellTextTag("ÂπªÈ≠îÁÅµÊû≠ÔºÅ" , Arena___challenager , 100 , 0 , 0 , 2)
	    set u=null
	endfunction

	
 function Arena___TSpellXuemo2Con takes nothing returns boolean
	    return ( ( GetAttackedUnitBJ() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 20) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) > 200.00 ) )
	endfunction

 function Arena___TSpellXuemo2Act takes nothing returns nothing
  local location point= GetUnitLoc(GetAttacker())
     local unit u= CreateUnit(GetOwningPlayer(GetAttackedUnitBJ()), 'h000', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), 0)
	    call UnitApplyTimedLifeBJ(5.00, 'BHwe', u)
        call UnitAddAbilityBJ('AL01', u)
        call SetUnitAbilityLevel(u, 'AL01', IMinBJ(Arena___currentLevel, 20))
	    call IssuePointOrderLoc(u, "rainoffire", point)
	    call RemoveLocation(point)
	    set u=null
	    set point=null
	    call CreateSpellTextTag("Â§©ÁéÑÊòüÈô®ÔºÅ" , Arena___challenager , 0 , 100 , 100 , 2)
	endfunction
//---------------------------------------------------------------------------------------------------

	

 function Arena___TSpellFuwangCon takes nothing returns boolean
	    return ( ( GetAttacker() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 10) == 1 ) )
	endfunction

 function Arena___TSpellFuwangAct takes nothing returns nothing
		call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", GetUnitX(GetAttackedUnitBJ()), GetUnitY(GetAttackedUnitBJ())))
		call UnitDamageTarget(Arena___challenager, GetAttackedUnitBJ(), ( 0.1 * GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
	    call CreateSpellTextTag("Ê∑òÊ±∞‰πãÂàÉÔºÅ" , Arena___challenager , 0 , 100 , 0 , 2)
	endfunction

//---------------------------------------------------------------------------------------------------
	


	
 function Arena___TSpellMeidusha1Invu takes nothing returns nothing
  local group l_group= CreateGroup()
  local unit l_unit
  local integer count= 0
  local timer t= GetExpiredTimer()
		call GroupEnumUnitsInRange(l_group, GetUnitX(Arena___challenager), GetUnitY(Arena___challenager), 1800, null)
		loop
		    set l_unit=FirstOfGroup(l_group)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(l_group, l_unit)
			if ( ( GetUnitTypeId(l_unit) == 'osp1' ) and GetOwningPlayer(l_unit) == Player(10) and IsUnitAliveBJ(l_unit) == true ) then
				set count=count + 1
			endif
		endloop
		if ( count == 0 ) then
			call SetUnitInvulnerable(Arena___challenager, false)
			call PauseTimer(t)
			call DestroyTimer(t)
		endif
		call DestroyGroup(l_group)
		set l_group=null
		set l_unit=null
		set t=null
	endfunction
	
 function Arena___TSpellMeidusha1Con takes nothing returns boolean
	    return ( ( GetAttacker() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 60) == 1 ) )
	endfunction

 function Arena___TSpellMeidusha1Act takes nothing returns nothing
  local location point= GetUnitLoc(GetAttackedUnitBJ())
  local timer t= CreateTimer()
     local unit u= CreateUnit(GetOwningPlayer(GetAttacker()), 'h000', GetUnitX(GetAttackedUnitBJ()), GetUnitY(GetAttackedUnitBJ()), 0)
	    call UnitApplyTimedLifeBJ(5.00, 'BHwe', u)
        call UnitAddAbilityBJ('Arsw', u)
	    call IssuePointOrderLoc(u, "ward", point)
	    call CreateSpellTextTag("Èò¥È≠ÇËû£ËõáÔºÅ" , Arena___challenager , 0 , 0 , 0 , 2)
	    call RemoveLocation(point)
	    call SetUnitInvulnerable(Arena___challenager, TRUE)
	    call TimerStart(t, 0.3, true, function Arena___TSpellMeidusha1Invu)
	    set u=null
	    set point=null
	    set t=null
	endfunction


	


 function Arena___TSpellMeidusha2Con takes nothing returns boolean
	    return ( ( GetAttackedUnitBJ() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 80) == 1 ) )
	endfunction

 function Arena___TSpellMeidusha2Act takes nothing returns nothing

  local group l_group= CreateGroup()
  local group l_pausinggroup= CreateGroup()
  local unit l_unit= null
		call GroupEnumUnitsInRange(l_group, GetUnitX(GetAttackedUnitBJ()), GetUnitY(GetAttackedUnitBJ()), 900, null)
		loop
		    set l_unit=FirstOfGroup(l_group)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(l_group, l_unit)
		    if ( IsEnemy(l_unit , Arena___challenager) ) then
				call PauseUnitBJ(true, l_unit)
				call GroupAddUnit(l_pausinggroup, l_unit)
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", GetUnitX(l_unit), GetUnitY(l_unit)))
		    endif
		endloop
	    call CreateSpellTextTag("Áü≥ÂåñÂáùËßÜÔºÅ" , Arena___challenager , 51 , 51 , 51 , 2)
		call DestroyGroup(l_group)
		set l_group=null
		call PolledWait(3.00)
		loop
		    set l_unit=FirstOfGroup(l_pausinggroup)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(l_pausinggroup, l_unit)
			call PauseUnitBJ(false, l_unit)
			call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", GetUnitX(l_unit), GetUnitY(l_unit)))
		endloop
		call DestroyGroup(l_pausinggroup)
		set l_pausinggroup=null
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function TSpellKiller1Con takes nothing returns boolean
	    return ( ( GetAttackedUnitBJ() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 20) == 1 ) and ( GetUnitAbilityLevel(GetAttacker(), 'Amim') < 1 ) and UnitHasBuffBJ(GetAttacker(), 'BEsh') != true )
	endfunction

 function TSpellKiller1Act takes nothing returns nothing
     local unit u= CreateUnit(GetOwningPlayer(GetAttackedUnitBJ()), 'h000', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), 0)
	    call UnitApplyTimedLifeBJ(5.00, 'BHwe', u)
        call UnitAddAbilityBJ('AL02', u)
        call SetUnitAbilityLevel(u, 'AL02', IMinBJ(Arena___currentLevel, 20))
	    call IssueTargetOrder(u, "shadowstrike", GetAttacker())
	    call CreateSpellTextTag("Ëá¥ÂëΩÊØíÈïñÔºÅ" , Arena___challenager , 0 , 0 , 0 , 2)
	    set u=null
	endfunction

	
 function TSpellKiller2Con takes nothing returns boolean
	    return ( ( GetAttacker() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 80) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) > 200.00 ) )
	endfunction

 function TSpellKiller2Act takes nothing returns nothing
 		call SimulateSpell(GetAttacker() , GetAttackedUnitBJ() , 'A0AC' , 1 , 5 , "entanglingroots" , false , false , true)
	    call CreateSpellTextTag("ÂÜ∞Â∞ÅÂõöÁ¨ºÔºÅ" , Arena___challenager , 0 , 255 , 0 , 2)
	endfunction

	
//---------------------------------------------------------------------------------------------------

	
 function TSpellJinxuan1Con takes nothing returns boolean
	    return ( ( GetAttacker() == Arena___challenager ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( GetRandomInt(1, 70) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) > 200.00 ) )
	endfunction

 function TSpellJinxuan1Act takes nothing returns nothing
 		call SimulateSpell(GetAttacker() , GetAttackedUnitBJ() , 'ACrf' , IMinBJ(Arena___currentLevel, 20) , 6 , "rainoffire" , true , false , false)
	    call CreateSpellTextTag("Áû¨Èó™Èõ∑È∏£ÔºÅ" , Arena___challenager , 0 , 0 , 100 , 2)
	endfunction

	
 function TSpellJinxuan2Con takes nothing returns boolean
	    return ( ( GetAttackedUnitBJ() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 50) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) > 200.00 ) )
	endfunction

 function TSpellJinxuan2Act takes nothing returns nothing
 		call SimulateSpell(GetAttackedUnitBJ() , GetAttacker() , 'ANst' , IMinBJ(Arena___currentLevel, 20) , 5 , "stampede" , true , false , false)
	    call CreateSpellTextTag("ÈÄÜÂêàÁéÑÂ§©ÔºÅ" , Arena___challenager , 0 , 0 , 100 , 2)
	endfunction

	
 function TSpellJinxuan3Con takes nothing returns boolean
	    return ( ( GetAttacker() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 70) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) > 200.00 ) )
	endfunction

 function TSpellJinxuan3Act takes nothing returns nothing
 		call SimulateSpell(GetAttacker() , GetAttackedUnitBJ() , 'AHtb' , IMinBJ(Arena___currentLevel, 20) , 5 , "thunderbolt" , false , false , true)
	    call CreateSpellTextTag("È≠îÂåñÂ∞ÑÁ∫øÔºÅ" , Arena___challenager , 100 , 0 , 100 , 2)
	endfunction

	
 function TSpellJinxuan4Con takes nothing returns boolean
	    return ( ( GetAttackedUnitBJ() == Arena___challenager ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 20) == 1 ) )
	endfunction

 function TSpellJinxuan4Act takes nothing returns nothing
	    call SetUnitManaBJ(GetAttacker(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) - 500.00 ))
	    call CreateSpellTextTag("È≠îÊ≥ïÁ™ÉÂèñÔºÅ" , Arena___challenager , 0 , 100 , 0 , 2)
	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", GetUnitX(GetAttacker()), GetUnitY(GetAttacker())))
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function TSpellYuanshaCon takes nothing returns boolean
	    return ( ( GetOwningPlayer(GetEventDamageSource()) != GetOwningPlayer(Arena___defier) ) and ( GetEventDamage() > 10 ) )
	endfunction

 function TSpellYuanshaAct takes nothing returns nothing
		call SetUnitLifeBJ(Arena___challenager, GetUnitState(Arena___challenager, UNIT_STATE_LIFE) + GetEventDamage())
		if ( GetRandomInt(1, 5) == 1 ) then
	    	call CreateSpellTextTag("Â±ÄÂ§ñÂÖçÁñ´ÔºÅ" , Arena___challenager , 0 , 0 , 100 , 2)
		endif
	endfunction

	
 function Arena___YuanshaMove takes nothing returns nothing
  local real x= GetRandomReal(GetRectMinX(gg_rct_Arena_Spell), GetRectMaxX(gg_rct_Arena_Spell))
  local real y= GetRandomReal(GetRectMinY(gg_rct_Arena_Spell), GetRectMaxY(gg_rct_Arena_Spell))
		if ( IsUnitAliveBJ(Arena___challenager) ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", x, y))
			call SetUnitX(Arena___challenager, x)
			call SetUnitY(Arena___challenager, y)
		else
			call PauseTimer(GetExpiredTimer())
			call DestroyTimer(GetExpiredTimer())
			return
		endif
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function TArenaStartAct takes nothing returns nothing
  local integer attract

		//Á¨¶ÂêàÊù°‰ª∂ÂÜçÂºÄÂßã
	    if ( ( IsUnitType(GetBuyingUnit(), UNIT_TYPE_HERO) == true ) ) then
	        if ( ( Arena___challenager == null ) ) then
	            if ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] != 10 ) ) then
	            	//ÂºÄÂßãÂï¶
	                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊåëÊàòÂ∞ÜÂú®3ÁßíÂêéÂºÄÂßã„ÄÇ")
	                
	                if ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 0 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Huth', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)
	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 1 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Hpb1', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)
	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 2 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Hgam', GetRectCenterX(gg_rct_Arena_2), GetRectCenterY(gg_rct_Arena_2), 180.00)
	                    call TimerStart(CreateTimer(), 2, TRUE, function Arena___LingerAssemble)
	                    call EnableTrigger(Arena___TSpellLinger)

	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 3 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Hmbr', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)
	                    set attract=s__Attract_create(Arena___challenager , 600 , 0.05 , 20)
	                    call s__Attract_start(attract)

						call EnableTrigger(Arena___TSpellZhousi)
	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 4 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Odrt', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)
	                	call UnitAddAbilityBJ('A0F1', Arena___challenager)
	                	call UnitAddAbilityBJ('Adtg', Arena___challenager)

						call EnableTrigger(Arena___TSpellXuemo1)
						call EnableTrigger(Arena___TSpellXuemo2)
	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 5 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Ogrh', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)
	                    set attract=s__Attract_create(Arena___challenager , 600 , 0.05 , 20)
	                    call s__Attract_start(attract)
	                	call UnitAddAbilityBJ('A0F1', Arena___challenager)
	                	call UnitAddAbilityBJ('Adtg', Arena___challenager)

						call EnableTrigger(Arena___TSpellFuwang)
	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 6 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Hvsh', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)
	                	call UnitAddAbilityBJ('Adtg', Arena___challenager)

						call EnableTrigger(Arena___TSpellMeidusha1)
						call EnableTrigger(Arena___TSpellMeidusha2)
	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 7 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Hpb2', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)
	                	call UnitAddAbilityBJ('A0F1', Arena___challenager)
	                	call UnitAddAbilityBJ('Adtg', Arena___challenager)

						call EnableTrigger(Arena___TSpellKiller1)
						call EnableTrigger(Arena___TSpellKiller2)
	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 8 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Hlgr', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)

	                	call UnitAddAbilityBJ('A0F1', Arena___challenager)
	                	call UnitAddAbilityBJ('Adtg', Arena___challenager)

						call EnableTrigger(Arena___TSpellJinxuan1)
						call EnableTrigger(Arena___TSpellJinxuan2)
						call EnableTrigger(Arena___TSpellJinxuan3)
						call EnableTrigger(Arena___TSpellJinxuan4)
	                elseif ( ( Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] == 9 ) ) then
	                    set Arena___challenager=CreateUnit(Player(10), 'Hdgo', GetRandomReal(GetRectMinX(gg_rct_Arena_all), GetRectMaxX(gg_rct_Arena_all)), GetRandomReal(GetRectMinY(gg_rct_Arena_all), GetRectMaxY(gg_rct_Arena_all)), 180.00)

	                	call UnitAddAbilityBJ('A0F1', Arena___challenager)
	                	call UnitAddAbilityBJ('Adtg', Arena___challenager)
						call EnhanceDiffAttack(Arena___challenager)
	                    call TimerStart(CreateTimer(), 0.5, TRUE, function Arena___YuanshaMove)
						call EnableTrigger(Arena___TSpellYuansha)
	                endif

	                //ÂàùÂßãÂåñÂçï‰Ωç

					call SetUnitX(Arena___defier, GetRectCenterX(gg_rct_Arena_1))
					call SetUnitY(Arena___defier, GetRectCenterY(gg_rct_Arena_1))
	                call SetUnitInvulnerable(Arena___challenager, true)
	                call PauseUnitBJ(true, Arena___challenager)
	                set Arena___currentLevel=1
	                call UnitAddAbilityBJ('A0ES', Arena___challenager)
	                call UnitAddAbilityBJ('A0B9', Arena___challenager)
	                call UnitAddAbilityBJ('A09W', Arena___challenager)
	                call UnitAddAbilityBJ('A0P1', Arena___challenager)
	                call AddTianyanmokang(Arena___challenager)
	                set Arena___textTag_Level=CreateTextTagUnitBJ(I2S(Arena___currentLevel) + "Á∫ß", Arena___challenager, 0, 20, 100, 0, 0, 0)
	                call PolledWait(3.00)
	                if ( ( Arena___challenager != null ) ) then
	                    call SetUnitInvulnerable(Arena___challenager, false)
	                    call PauseUnitBJ(false, Arena___challenager)
	                    call DisplayTextToPlayer(GetOwningPlayer(Arena___defier), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊåëÊàòÂºÄÂßãÔºÅ")
	                    //5ÁßíÊõ¥Êñ∞‰∏ÄÊ¨°Á≠âÁ∫ß
	                    call TimerStart(CreateTimer(), GetArenaUpdateSpeed(), TRUE, function Arena___updateLevel)
	                    //0.05ÁßíÊõ¥Êñ∞‰∏ÄÊ¨°Á≠âÁ∫ßÊèêÁ§∫ÁöÑ‰ΩçÁΩÆ
	                    call TimerStart(CreateTimer(), 0.05, TRUE, function Arena___updateLevelLoc)
   						call TriggerRegisterUnitEvent(Arena___TDieEvent, Arena___challenager, EVENT_UNIT_DEATH)
	                else
	                endif
	            else
	                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊìÇÂè∞Â∑≤ÁªèÂÖ®ÈÉ®ÊåëÊàòÂÆåÊØïÔºÅ")
	            endif
	        else
	            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑ÊâìÂÆåËøôÂú∫ÊìÇÂè∞ÂÜçÊåëÊàòÊñ∞ÁöÑÔºÅÔºàËÆ§ËæìÊñπÊ≥ïÔºöËæìÂÖ•HGÂõûÂüéÔºâ")
	        endif
	    else
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑ËÆ©Ëã±ÈõÑË¥≠‰π∞ÔºÅ")
	    endif
	    
	endfunction

 function Arena___TArenaStartCon takes nothing returns boolean
	    return ( ( GetItemTypeId(GetSoldItem()) == 'I04D' ) and BuyerFilter(GetBuyingUnit()) == true and ( GetBuyingUnit() == Arena___defier ) )
	endfunction

//---------------------------------------------------------------------------------------------------


	
 function TArenaLeaveCon takes nothing returns boolean
	    return ( ( Arena___defier == GetLeavingUnit() ) and ( IsUnitIllusionBJ(GetLeavingUnit()) != true ) )
	endfunction

 function TArenaLeaveAct takes nothing returns nothing
	    set Arena___defier=null
	    if ( ( Arena___challenager != null ) ) then
	        call RemoveUnit(Arena___challenager)
	        set Arena___challenager=null
	        call DestroyTextTag(Arena___textTag_Level)
	        call Arena___updateLevel()
	    	set Arena___currentLevel=1
	    endif

        call DisableTrigger(Arena___TSpellLinger)
		call DisableTrigger(Arena___TSpellZhousi)
		call DisableTrigger(Arena___TSpellXuemo1)
		call DisableTrigger(Arena___TSpellXuemo2)
		call DisableTrigger(Arena___TSpellFuwang)
		call DisableTrigger(Arena___TSpellMeidusha1)
		call DisableTrigger(Arena___TSpellMeidusha2)
		call DisableTrigger(Arena___TSpellKiller1)
		call DisableTrigger(Arena___TSpellKiller2)
		call DisableTrigger(Arena___TSpellJinxuan1)
		call DisableTrigger(Arena___TSpellJinxuan2)
		call DisableTrigger(Arena___TSpellJinxuan3)
		call DisableTrigger(Arena___TSpellJinxuan4)
		call DisableTrigger(Arena___TSpellYuansha)

	endfunction

//---------------------------------------------------------------------------------------------------

	
 function Arena___TArenaEnterAct takes nothing returns nothing
  local location point
	    if ( ( GetItemTypeId(GetSoldItem()) == 'fgrd' ) ) then
	        if ( ( IsUnitType(GetBuyingUnit(), UNIT_TYPE_HERO) == true ) ) then
	            if ( ( Arena___defier == null ) ) then
	                set Arena___defier=GetBuyingUnit()
	                set point=GetRandomLocInRect(gg_rct_Arena_all)
	                call SetUnitPositionLoc(GetBuyingUnit(), point)
	                call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()), point, 0.20)
	                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetUnitX(GetBuyingUnit()), GetUnitY(GetBuyingUnit())))
	                call RemoveLocation(point)
	                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	            else
	                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊìÇÂè∞Âè™ÊîØÊåÅÂçïÊåë,ÈáåÈù¢Êúâ‰∫∫‰∫ÜÂì¶~")
	            endif
	        else
	            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑ËÆ©Ëã±ÈõÑË¥≠‰π∞ÔºÅ")
	        endif
	    else
	    endif
	    set point=null
	endfunction

//---------------------------------------------------------------------------------------------------



	
 function TDieEventConditions takes nothing returns boolean
	    return ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) )
	endfunction

 function TDieEventActions takes nothing returns nothing
	   
     local integer ty= ( GetUnitTypeId(GetDyingUnit()) )
	    if ( ty == 'Huth' ) then
	        call CreateItem('prvt', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
	    elseif ( ty == 'Hpb1' ) then
	        call CreateItem('cnob', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
	    elseif ( ty == 'Hgam' ) then
	        call CreateItem('rhth', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
        	call DisableTrigger(Arena___TSpellLinger)
	    elseif ( ty == 'Hmbr' ) then
	        call CreateItem('hval', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
			call DisableTrigger(Arena___TSpellZhousi)
	    elseif ( ty == 'Odrt' ) then
	        call CreateItem('afac', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
			call DisableTrigger(Arena___TSpellXuemo1)
			call DisableTrigger(Arena___TSpellXuemo2)
	    elseif ( ty == 'Ogrh' ) then
	        call CreateItem('pmna', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
			call DisableTrigger(Arena___TSpellFuwang)
	    elseif ( ty == 'Hvsh' ) then
	        call CreateItem('evtl', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
			call DisableTrigger(Arena___TSpellMeidusha1)
			call DisableTrigger(Arena___TSpellMeidusha2)
	    elseif ( ty == 'Hpb2' ) then
	        call CreateItem('bspd', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
	        call DisableTrigger(Arena___TSpellKiller1)
			call DisableTrigger(Arena___TSpellKiller2)
	    elseif ( ty == 'Hlgr' ) then
	        call CreateItem('mcou', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
	        call DisableTrigger(Arena___TSpellJinxuan1)
			call DisableTrigger(Arena___TSpellJinxuan2)
			call DisableTrigger(Arena___TSpellJinxuan3)
			call DisableTrigger(Arena___TSpellJinxuan4)
		elseif ( ty == 'Hdgo' ) then
    call SaveKillLeishi(GetOwningPlayer(Arena___defier))
	        call CreateItem('ciri', GetRectCenterX(gg_rct_Arena_all), GetRectCenterY(gg_rct_Arena_all))
			call DisableTrigger(Arena___TSpellYuansha)
	    endif


	    set Arena___currentLevel=1
	    set Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))]=Arena___currentArena[GetConvertedPlayerId(GetOwningPlayer(Arena___defier))] + 1
	    call DisplayTextToPlayer(GetOwningPlayer(Arena___defier), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊåëÊàòÊàêÂäü!")
        call PlaySoundBJ(gg_snd_v_leitai)
	    call RemoveUnit(Arena___challenager)
	    set Arena___challenager=null



	endfunction
//---------------------------------------------------------------------------------------------------
 function Arena___InitArena takes nothing returns nothing
		//ÊåëÊàòÂºÄÂßã--‰π∞‰∫Ü"ÊåëÊàòÂºÄÂßã"
  local trigger t= CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SELL_ITEM)
	    call TriggerAddCondition(t, Condition(function Arena___TArenaStartCon))
	    call TriggerAddAction(t, function TArenaStartAct)

	    //Á¶ªÂºÄÊìÇÂè∞ÂêéÂà§Ë¥ü
	    set t=CreateTrigger()
	    call TriggerRegisterLeaveRectSimple(t, gg_rct_Arena_forbit)
	    call TriggerAddCondition(t, Condition(function TArenaLeaveCon))
	    call TriggerAddAction(t, function TArenaLeaveAct)

	    //ËøõÂÖ•ÊåëÊàòÂú∫--‰π∞‰∫Ü"ËøõÂÖ•ÊìÇÂè∞"
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SELL_ITEM)
	    call TriggerAddAction(t, function Arena___TArenaEnterAct)

	    //ÊìÇ‰∏ªÊ≠ª‰∫°‰∫ã‰ª∂
	    set Arena___TDieEvent=CreateTrigger()
	    call TriggerAddCondition(Arena___TDieEvent, Condition(function TDieEventConditions))
	    call TriggerAddAction(Arena___TDieEvent, function TDieEventActions)

        //ÁÅµÂÑøÊäÄËÉΩ
	    set Arena___TSpellLinger=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellLinger, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellLinger, Condition(function Arena___TSpellLingerCon))
	    call TriggerAddAction(Arena___TSpellLinger, function Arena___TSpellLingerAct)
	    call DisableTrigger(Arena___TSpellLinger)

	    //ÂÆôÊñØÊäÄËÉΩ
	    set Arena___TSpellZhousi=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellZhousi, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellZhousi, Condition(function Arena___TSpellZhousiCon))
	    call TriggerAddAction(Arena___TSpellZhousi, function Arena___TSpellZhousiAct)
	    call DisableTrigger(Arena___TSpellZhousi)

	    //Ë°ÄÈ≠îÊäÄËÉΩ
	    set Arena___TSpellXuemo1=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellXuemo1, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellXuemo1, Condition(function Arena___TSpellXuemo1Con))
	    call TriggerAddAction(Arena___TSpellXuemo1, function Arena___TSpellXuemo1Act)
	    call DisableTrigger(Arena___TSpellXuemo1)
	    set Arena___TSpellXuemo2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellXuemo2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellXuemo2, Condition(function Arena___TSpellXuemo2Con))
	    call TriggerAddAction(Arena___TSpellXuemo2, function Arena___TSpellXuemo2Act)
	    call DisableTrigger(Arena___TSpellXuemo2)

    	//ÊñßÁéãÊäÄËÉΩ
	    set Arena___TSpellFuwang=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellFuwang, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellFuwang, Condition(function Arena___TSpellFuwangCon))
	    call TriggerAddAction(Arena___TSpellFuwang, function Arena___TSpellFuwangAct)
	    call DisableTrigger(Arena___TSpellFuwang)

	    //ÁæéÊùúËééÊäÄËÉΩ
	    set Arena___TSpellMeidusha1=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellMeidusha1, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellMeidusha1, Condition(function Arena___TSpellMeidusha1Con))
	    call TriggerAddAction(Arena___TSpellMeidusha1, function Arena___TSpellMeidusha1Act)
	    call DisableTrigger(Arena___TSpellMeidusha1)

	    set Arena___TSpellMeidusha2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellMeidusha2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellMeidusha2, Condition(function Arena___TSpellMeidusha2Con))
	    call TriggerAddAction(Arena___TSpellMeidusha2, function Arena___TSpellMeidusha2Act)
	    call DisableTrigger(Arena___TSpellMeidusha2)

	    //ÊùÄÊâãÊäÄËÉΩ

	    set Arena___TSpellKiller1=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellKiller1, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellKiller1, Condition(function TSpellKiller1Con))
	    call TriggerAddAction(Arena___TSpellKiller1, function TSpellKiller1Act)
	    call DisableTrigger(Arena___TSpellKiller1)

	    set Arena___TSpellKiller2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellKiller2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellKiller2, Condition(function TSpellKiller2Con))
	    call TriggerAddAction(Arena___TSpellKiller2, function TSpellKiller2Act)
	    call DisableTrigger(Arena___TSpellKiller2)

        //ÁëæËΩ©ÊäÄËÉΩ
	    set Arena___TSpellJinxuan1=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellJinxuan1, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellJinxuan1, Condition(function TSpellJinxuan1Con))
	    call TriggerAddAction(Arena___TSpellJinxuan1, function TSpellJinxuan1Act)
	    call DisableTrigger(Arena___TSpellJinxuan1)

	    set Arena___TSpellJinxuan2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellJinxuan2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellJinxuan2, Condition(function TSpellJinxuan2Con))
	    call TriggerAddAction(Arena___TSpellJinxuan2, function TSpellJinxuan2Act)
	    call DisableTrigger(Arena___TSpellJinxuan2)

	    set Arena___TSpellJinxuan3=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellJinxuan3, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellJinxuan3, Condition(function TSpellJinxuan3Con))
	    call TriggerAddAction(Arena___TSpellJinxuan3, function TSpellJinxuan3Act)
	    call DisableTrigger(Arena___TSpellJinxuan3)

	    set Arena___TSpellJinxuan4=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Arena___TSpellJinxuan4, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Arena___TSpellJinxuan4, Condition(function TSpellJinxuan4Con))
	    call TriggerAddAction(Arena___TSpellJinxuan4, function TSpellJinxuan4Act)
	    call DisableTrigger(Arena___TSpellJinxuan4)

	    //ËæïÁÖû
	    set Arena___TSpellYuansha=CreateTrigger()
	    call TriggerAddCondition(Arena___TSpellYuansha, Condition(function TSpellYuanshaCon))
	    call TriggerAddAction(Arena___TSpellYuansha, function TSpellYuanshaAct)
	    call DisableTrigger(Arena___TSpellYuansha)

	    set t=null
	endfunction

//library Arena ends
//library BaseVersion:


 function BaseVersion___TSpeakPasswordBase takes nothing returns nothing
  local string chat= GetEventPlayerChatString()
   if ( BDIYName[GetConvertedPlayerId(GetTriggerPlayer())] ) then
    call SetDIYName(GetTriggerPlayer() , chat)
    set BDIYName[GetConvertedPlayerId(GetTriggerPlayer())]=false
   elseif ( chat == I2S(GetCycleHash(playerName[GetConvertedPlayerId(GetTriggerPlayer())] , 20)) ) then
    call GetAchievementAndSave(GetTriggerPlayer() , 42)
   endif


		call TSpeakPassword()
	endfunction

//---------------------------------------------------------------------------------------------------

 function BaseVersion___InitBaseVersion takes nothing returns nothing
      local trigger t= CreateTrigger()
		    call TriggerRegisterPlayerChatEvent(t, Player(0), "", false)
		    call TriggerRegisterPlayerChatEvent(t, Player(1), "", false)
		    call TriggerRegisterPlayerChatEvent(t, Player(2), "", false)
		    call TriggerRegisterPlayerChatEvent(t, Player(3), "", false)
		    call TriggerRegisterPlayerChatEvent(t, Player(4), "", false)
		    call TriggerRegisterPlayerChatEvent(t, Player(5), "", false)
		    call TriggerAddAction(t, function BaseVersion___TSpeakPasswordBase)
	endfunction


//library BaseVersion ends
//library Diamond:


//---------------------------------------------------------------------------------------------------
    
    function IsInDiamondRegion takes real x,real y returns boolean
        local location point= Location(x, y)
        local boolean b= RectContainsLoc(gg_rct_Diamond2, point) or RectContainsLoc(gg_rct_Diamond3, point) or RectContainsLoc(gg_rct________8, point)
        call RemoveLocation(point)
        return b
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___Diamond100 takes integer itemID,integer newItemID returns boolean

        if ( GetItemTypeId(GetSpellTargetItem()) == itemID ) then
            call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "‰ª•100%ÁöÑÊàêÂäüÁéáÊàêÂäüÂú∞ÂçáÁ∫ß‰∫Ü" + GetItemName(GetSpellTargetItem()) + "ÔºÅ" ) ))
            call RemoveItem(GetSpellTargetItem())
            call UnitAddItemByIdSwapped(newItemID, GetTriggerUnit())
            call PlaySoundBJ(gg_snd_Chenggong)
            return true
        endif
        return false
    endfunction

//---------------------------------------------------------------------------------------------------
    
    function Diamond___DiamondA takes integer itemID,integer newItemID,integer poss returns boolean
        //ÁêâÁíÉÁíûÁéâ
        if ( HasLiuli(GetTriggerUnit()) == true ) then
            return Diamond___Diamond100(itemID , newItemID)
        endif
        //ÈùûÁêâÁíÉÁíûÁéâ
        if ( GetItemTypeId(GetSpellTargetItem()) == itemID ) then
            if ( ( GetRandomInt(1, 100) <= poss ) ) then
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "‰ª•" + I2S(poss) + "%ÁöÑÊàêÂäüÁéáÊàêÂäüÂú∞ÂçáÁ∫ß‰∫Ü" + GetItemName(GetSpellTargetItem()) + "ÔºÅ" ) ))
                call RemoveItem(GetSpellTargetItem())
                call UnitAddItemByIdSwapped(newItemID, GetTriggerUnit())
                call PlaySoundBJ(gg_snd_Chenggong)
            else
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "‰ª•" + I2S(poss) + "%ÁöÑÊàêÂäüÁéáÂçáÁ∫ß" + GetItemName(GetSpellTargetItem()) + "Â§±Ë¥•ÔºÅ" ) ))
                if ( GetRandomInt(1, 5) == 1 ) then
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÂ∞èÊèêÁ§∫„Äë|rË£ÖÂ§áÂà∞‰∫Ü+4‰ª•ÂêéÊé®Ëçê‰ΩøÁî®Á•ùÁ¶è/Âº∫Âåñ/ËØÖÂííÁü≥ÂéªÂçáÁ∫ß.")
                else
                    if ( GetRandomInt(1, 4) == 1 ) then
                        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÂ∞èÊèêÁ§∫„Äë|r|cffff00ffÁêâÁíÉÁíûÁéâ|rÂèØ‰ª•Â∞ÜÂÆùÁü≥ÊàêÂäüÁéáÊèêÂçáËá≥100%,ÂèØ‰ª•ÈÄöËøá42ËΩ¨ÊàñËÄÖÊ∞∏‰πÖËµûÂä©(ËØ¶ÊÉÖÊåâF9)Ëé∑Âèñ.")
                    endif
                endif
                call PlaySoundBJ(gg_snd_f_baoshi)
            endif
            return true
        endif
        return false
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___DiamondB takes integer itemID,integer newItemID,integer oldItemID,integer poss returns boolean
        //ÁêâÁíÉÁíûÁéâ
        if ( HasLiuli(GetTriggerUnit()) == true ) then
            return Diamond___Diamond100(itemID , newItemID)
        endif
        //ÈùûÁêâÁíÉÁíûÁéâ
        if ( GetItemTypeId(GetSpellTargetItem()) == itemID ) then
            if ( ( GetRandomInt(1, 100) <= poss ) ) then
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "‰ª•" + I2S(poss) + "%ÁöÑÊàêÂäüÁéáÊàêÂäüÂú∞ÂçáÁ∫ß‰∫Ü" + GetItemName(GetSpellTargetItem()) + "ÔºÅ" ) ))
                call RemoveItem(GetSpellTargetItem())
                call UnitAddItemByIdSwapped(newItemID, GetTriggerUnit())
                call PlaySoundBJ(gg_snd_Chenggong)
            else
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "‰ª•" + I2S(poss) + "%ÁöÑÊàêÂäüÁéáÂçáÁ∫ß" + GetItemName(GetSpellTargetItem()) + "Â§±Ë¥•,Á≠âÁ∫ßÈôç‰ΩéÔºÅ" ) ))
                if ( GetRandomInt(1, 5) == 1 ) then
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÂ∞èÊèêÁ§∫„Äë|rË£ÖÂ§áÂà∞‰∫Ü+4‰ª•ÂêéÊé®Ëçê‰ΩøÁî®Á•ùÁ¶è/Âº∫Âåñ/ËØÖÂííÁü≥ÂéªÂçáÁ∫ß.")
                else
                    if ( GetRandomInt(1, 4) == 1 ) then
                        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÂ∞èÊèêÁ§∫„Äë|r|cffff00ffÁêâÁíÉÁíûÁéâ|rÂèØ‰ª•Â∞ÜÂÆùÁü≥ÊàêÂäüÁéáÊèêÂçáËá≥100%,ÂèØ‰ª•ÈÄöËøá42ËΩ¨ÊàñËÄÖÊ∞∏‰πÖËµûÂä©(ËØ¶ÊÉÖÊåâF9)Ëé∑Âèñ.")
                    endif
                endif
                call RemoveItem(GetSpellTargetItem())
                call UnitAddItemByIdSwapped(oldItemID, GetTriggerUnit())
                call PlaySoundBJ(gg_snd_f_baoshi)
            endif
            return true
        endif
        return false
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___DiamondC takes integer itemID,integer newItemID,integer oldItemID,integer poss returns boolean
        //ÁêâÁíÉÁíûÁéâ
        if ( HasLiuli(GetTriggerUnit()) == true ) then
            return Diamond___Diamond100(itemID , newItemID)
        endif
        //ÈùûÁêâÁíÉÁíûÁéâ
        if ( GetItemTypeId(GetSpellTargetItem()) == itemID ) then
            if ( ( GetRandomInt(1, 100) <= poss ) ) then
                call RemoveItem(GetSpellTargetItem())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "‰ª•" + I2S(poss) + "%ÁöÑÊàêÂäüÁéáÊàêÂäüÂú∞ÂçáÁ∫ß‰∫Ü" + GetItemName(GetSpellTargetItem()) + "ÔºÅ" ) ))
                call UnitAddItemByIdSwapped(newItemID, GetTriggerUnit())
                call PlaySoundBJ(gg_snd_Chenggong)
            else
                call RemoveItem(GetSpellTargetItem())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "‰ª•" + I2S(poss) + "%ÁöÑÊàêÂäüÁéáÂçáÁ∫ß" + GetItemName(GetSpellTargetItem()) + "Â§±Ë¥•,Á≠âÁ∫ßÈôç‰Ωé2Á∫ßÔºÅ" ) ))
                if ( GetRandomInt(1, 5) == 1 ) then
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÂ∞èÊèêÁ§∫„Äë|rË£ÖÂ§áÂà∞‰∫Ü+4‰ª•ÂêéÊé®Ëçê‰ΩøÁî®Á•ùÁ¶è/Âº∫Âåñ/ËØÖÂííÁü≥ÂéªÂçáÁ∫ß.")
                else
                    if ( GetRandomInt(1, 4) == 1 ) then
                        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÂ∞èÊèêÁ§∫„Äë|r|cffff00ffÁêâÁíÉÁíûÁéâ|rÂèØ‰ª•Â∞ÜÂÆùÁü≥ÊàêÂäüÁéáÊèêÂçáËá≥100%,ÂèØ‰ª•ÈÄöËøá42ËΩ¨ÊàñËÄÖÊ∞∏‰πÖËµûÂä©(ËØ¶ÊÉÖÊåâF9)Ëé∑Âèñ.")
                    endif
                endif
                call UnitAddItemByIdSwapped(oldItemID, GetTriggerUnit())
                call PlaySoundBJ(gg_snd_f_baoshi)
            endif
            return true
        endif
        return false
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddOneDiamond takes nothing returns nothing
                //Â§çÂà∂Âá∫Êù•ÁöÑ‰∏çËÉΩÂçáÁ∫ß
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('I02N', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if ( Diamond___Diamond100('I04Z' , 'nflg') == true ) then
            return
        endif
        if ( Diamond___Diamond100('I056' , 'spre') == true ) then
            return
        endif
        if ( Diamond___Diamond100('I057' , 'fwss') == true ) then
            return
        endif
        if ( Diamond___Diamond100('I050' , 'uflg') == true ) then
            return
        endif
        if ( Diamond___Diamond100('I055' , 'tgxp') == true ) then
            return
        endif
        if ( Diamond___Diamond100('I03Y' , 'dust') == true ) then
            return
        endif
        if ( Diamond___Diamond100('rej4' , 'drph') == true ) then
            return
        endif
        if ( Diamond___Diamond100('rej6' , 'dtsb') == true ) then
            return
        endif
        if ( Diamond___Diamond100('pgin' , 'gobm') == true ) then
            return
        endif
        call UnitAddItemByIdSwapped('I02N', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSecondDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('I04S', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if ( Diamond___DiamondA('nflg' , 'esaz' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondA('spre' , 'asbl' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondA('fwss' , 'ram4' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondA('uflg' , 'ram3' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondA('tgxp' , 'ram2' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondA('dust' , 'ram1' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondA('drph' , 'oven' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondA('dtsb' , 'tels' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondA('gobm' , 'gvsm' , 90) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('I04S', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddThirdDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('azhr', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___DiamondA('esaz' , 'sksh' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondA('asbl' , 'ocor' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondA('ram4' , 'rat3' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondA('ram3' , 'stre' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondA('ram2' , 'lure' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondA('ram1' , 'rots' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondA('oven' , 'frhg' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondA('tels' , 'ofir' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondA('gvsm' , 'gldo' , 80) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('azhr', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddFourthDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('gmfr', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                    Â∞èÊèêÁ§∫\n\n                    3Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§á‰∏çÂª∫ËÆÆ‰ΩøÁî®Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Á•ºÂçá.\n                    Âõ†‰∏∫Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Â§±Ë¥•ÁéáËæÉÈ´ò,‰∏îÂ§±Ë¥•‰ºöÈôçÁ∫ß.\n\n                    |cff6699ffÁ•ùÁ¶èÁü≥ËÉΩ‰ª§Ë£ÖÂ§áÂ§±Ë¥•‰∏ç‰ºöÈôçÁ∫ß.\n                    Âº∫ÂåñÁü≥ËÉΩÊúâÊïàÊèêÈ´òÂçáÁ∫ßÊàêÂäüÁéá.\n                    ËØÖÂííÁü≥Êõ¥ËÉΩÊèêÈ´òÊàêÂäüÁéá.|r\n\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ËÉΩ‰∏éÊôÆÈÄöÁöÑÂÆùÁü≥ËûçÂêàÂú®‰∏ÄËµ∑.\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ÂùáÂú®ÂÆùÁü≥‰∏ìÂå∫Âà∑ÊÄ™Ëé∑Âèñ.\n    ")
            endif
        endif

        if ( Diamond___DiamondB('sksh' , 'oslo' , 'esaz' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('ocor' , 'blba' , 'asbl' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('rat3' , 'pams' , 'ram4' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('stre' , 'shrs' , 'ram3' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('lure' , 'thdm' , 'ram2' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('rots' , 'tmmt' , 'ram1' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('frhg' , 'mlst' , 'oven' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('ofir' , 'soul' , 'tels' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('gldo' , 'gsou' , 'gvsm' , 70) == true ) then
            return
        endif




        call UnitAddItemByIdSwapped('gmfr', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddFourthStrDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('wolg', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___DiamondB('sksh' , 'oslo' , 'esaz' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondB('ocor' , 'blba' , 'asbl' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondB('rat3' , 'pams' , 'ram4' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondB('stre' , 'shrs' , 'ram3' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondB('lure' , 'thdm' , 'ram2' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondB('rots' , 'tmmt' , 'ram1' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondB('frhg' , 'mlst' , 'oven' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondB('ofir' , 'soul' , 'tels' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondB('gldo' , 'gsou' , 'gvsm' , 90) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('wolg', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddFourthBlessDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('skrt', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___DiamondA('sksh' , 'oslo' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondA('ocor' , 'blba' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondA('rat3' , 'pams' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondA('stre' , 'shrs' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondA('lure' , 'thdm' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondA('rots' , 'tmmt' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondA('frhg' , 'mlst' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondA('ofir' , 'soul' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondA('gldo' , 'gsou' , 60) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('skrt', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddFifthDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('jpnt', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                    Â∞èÊèêÁ§∫\n\n                    3Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§á‰∏çÂª∫ËÆÆ‰ΩøÁî®Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Á•ºÂçá.\n                    Âõ†‰∏∫Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Â§±Ë¥•ÁéáËæÉÈ´ò,‰∏îÂ§±Ë¥•‰ºöÈôçÁ∫ß.\n\n                    |cff6699ffÁ•ùÁ¶èÁü≥ËÉΩ‰ª§Ë£ÖÂ§áÂ§±Ë¥•‰∏ç‰ºöÈôçÁ∫ß.\n                    Âº∫ÂåñÁü≥ËÉΩÊúâÊïàÊèêÈ´òÂçáÁ∫ßÊàêÂäüÁéá.\n                    ËØÖÂííÁü≥Êõ¥ËÉΩÊèêÈ´òÊàêÂäüÁéá.|r\n\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ËÉΩ‰∏éÊôÆÈÄöÁöÑÂÆùÁü≥ËûçÂêàÂú®‰∏ÄËµ∑.\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ÂùáÂú®ÂÆùÁü≥‰∏ìÂå∫Âà∑ÊÄ™Ëé∑Âèñ.\n    ")
            endif
        endif

        if ( Diamond___DiamondB('oslo' , 'grsl' , 'sksh' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('blba' , 'cosl' , 'ocor' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('pams' , 'jdrn' , 'rat3' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('shrs' , 'kgal' , 'stre' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('thdm' , 'arsh' , 'lure' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('tmmt' , 'brag' , 'rots' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('mlst' , 'nspi' , 'frhg' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('soul' , 'sbok' , 'ofir' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('gsou' , 'envl' , 'gldo' , 60) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('jpnt', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddFifthStrDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('ledg', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___DiamondB('oslo' , 'grsl' , 'sksh' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondB('blba' , 'cosl' , 'ocor' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondB('pams' , 'jdrn' , 'rat3' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondB('shrs' , 'kgal' , 'stre' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondB('thdm' , 'arsh' , 'lure' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondB('tmmt' , 'brag' , 'rots' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondB('mlst' , 'nspi' , 'frhg' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondB('soul' , 'sbok' , 'ofir' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondB('gsou' , 'envl' , 'gldo' , 80) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('ledg', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddFifthBlessDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('wtlg', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___DiamondA('oslo' , 'grsl' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondA('blba' , 'cosl' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondA('pams' , 'jdrn' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondA('shrs' , 'kgal' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondA('thdm' , 'arsh' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondA('tmmt' , 'brag' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondA('mlst' , 'nspi' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondA('soul' , 'sbok' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondA('gsou' , 'envl' , 50) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('wtlg', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddFifthCurseDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('gopr', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if ( Diamond___DiamondC('oslo' , 'grsl' , 'esaz' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondC('blba' , 'cosl' , 'asbl' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondC('pams' , 'jdrn' , 'ram4' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondC('shrs' , 'kgal' , 'ram3' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondC('thdm' , 'arsh' , 'ram2' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondC('tmmt' , 'brag' , 'ram1' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondC('mlst' , 'nspi' , 'oven' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondC('soul' , 'sbok' , 'tels' , 90) == true ) then
            return
        endif
        if ( Diamond___DiamondC('gsou' , 'envl' , 'gvsm' , 90) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('gopr', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSixthDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('glsk', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                    Â∞èÊèêÁ§∫\n\n                    3Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§á‰∏çÂª∫ËÆÆ‰ΩøÁî®Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Á•ºÂçá.\n                    Âõ†‰∏∫Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Â§±Ë¥•ÁéáËæÉÈ´ò,‰∏îÂ§±Ë¥•‰ºöÈôçÁ∫ß.\n\n                    |cff6699ffÁ•ùÁ¶èÁü≥ËÉΩ‰ª§Ë£ÖÂ§áÂ§±Ë¥•‰∏ç‰ºöÈôçÁ∫ß.\n                    Âº∫ÂåñÁü≥ËÉΩÊúâÊïàÊèêÈ´òÂçáÁ∫ßÊàêÂäüÁéá.\n                    ËØÖÂííÁü≥Êõ¥ËÉΩÊèêÈ´òÊàêÂäüÁéá.|r\n\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ËÉΩ‰∏éÊôÆÈÄöÁöÑÂÆùÁü≥ËûçÂêàÂú®‰∏ÄËµ∑.\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ÂùáÂú®ÂÆùÁü≥‰∏ìÂå∫Âà∑ÊÄ™Ëé∑Âèñ.\n    ")
            endif
        endif

        if ( Diamond___DiamondB('grsl' , 'flag' , 'oslo' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondB('cosl' , 'shhn' , 'blba' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondB('jdrn' , 'shcw' , 'pams' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondB('kgal' , 'shtm' , 'shrs' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondB('arsh' , 'srtl' , 'thdm' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondB('brag' , 'olig' , 'tmmt' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondB('nspi' , 'oli2' , 'mlst' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondB('sbok' , 'arsc' , 'soul' , 50) == true ) then
            return
        endif
        if ( Diamond___DiamondB('envl' , 'rugt' , 'gsou' , 50) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('glsk', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSixthStrDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('dthb', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___DiamondB('grsl' , 'flag' , 'oslo' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('cosl' , 'shhn' , 'blba' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('jdrn' , 'shcw' , 'pams' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('kgal' , 'shtm' , 'shrs' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('arsh' , 'srtl' , 'thdm' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('brag' , 'olig' , 'tmmt' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('nspi' , 'oli2' , 'mlst' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('sbok' , 'arsc' , 'soul' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondB('envl' , 'rugt' , 'gsou' , 70) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('dthb', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSixthBlessDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('bzbe', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___DiamondA('grsl' , 'flag' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondA('cosl' , 'shhn' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondA('jdrn' , 'shcw' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondA('kgal' , 'shtm' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondA('arsh' , 'srtl' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondA('brag' , 'olig' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondA('nspi' , 'oli2' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondA('sbok' , 'arsc' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondA('envl' , 'rugt' , 40) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('bzbe', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSixthCurseDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('dphe', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___DiamondC('grsl' , 'flag' , 'sksh' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondC('cosl' , 'shhn' , 'ocor' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondC('jdrn' , 'shcw' , 'rat3' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondC('kgal' , 'shtm' , 'stre' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondC('arsh' , 'srtl' , 'lure' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondC('brag' , 'olig' , 'rots' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondC('nspi' , 'oli2' , 'frhg' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondC('sbok' , 'arsc' , 'ofir' , 80) == true ) then
            return
        endif
        if ( Diamond___DiamondC('envl' , 'rugt' , 'gldo' , 80) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('dphe', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSeventhDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('kygh', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                    Â∞èÊèêÁ§∫\n\n                    3Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§á‰∏çÂª∫ËÆÆ‰ΩøÁî®Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Á•ºÂçá.\n                    Âõ†‰∏∫Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Â§±Ë¥•ÁéáËæÉÈ´ò,‰∏îÂ§±Ë¥•‰ºöÈôçÁ∫ß.\n\n                    |cff6699ffÁ•ùÁ¶èÁü≥ËÉΩ‰ª§Ë£ÖÂ§áÂ§±Ë¥•‰∏ç‰ºöÈôçÁ∫ß.\n                    Âº∫ÂåñÁü≥ËÉΩÊúâÊïàÊèêÈ´òÂçáÁ∫ßÊàêÂäüÁéá.\n                    ËØÖÂííÁü≥Êõ¥ËÉΩÊèêÈ´òÊàêÂäüÁéá.|r\n\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ËÉΩ‰∏éÊôÆÈÄöÁöÑÂÆùÁü≥ËûçÂêàÂú®‰∏ÄËµ∑.\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ÂùáÂú®ÂÆùÁü≥‰∏ìÂå∫Âà∑ÊÄ™Ëé∑Âèñ.\n    ")
            endif
        endif

        if ( Diamond___DiamondB('oli2' , 'rump' , 'nspi' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondB('arsc' , 'rde0' , 'sbok' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondB('rugt' , 'shdt' , 'envl' , 40) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('kygh', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSeventhStrDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('mort', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif

        if ( Diamond___DiamondB('oli2' , 'rump' , 'nspi' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('arsc' , 'rde0' , 'sbok' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('rugt' , 'shdt' , 'envl' , 60) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('mort', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSeventhBlessDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('ches', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif

        if ( Diamond___DiamondA('oli2' , 'rump' , 30) == true ) then
            return
        endif
        if ( Diamond___DiamondA('arsc' , 'rde0' , 30) == true ) then
            return
        endif
        if ( Diamond___DiamondA('rugt' , 'shdt' , 30) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('ches', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddSeventhCurseDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('cnhn', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif

        if ( Diamond___DiamondC('oli2' , 'rump' , 'mlst' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondC('arsc' , 'rde0' , 'soul' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondC('rugt' , 'shdt' , 'gsou' , 70) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('cnhn', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddEighthDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('sehr', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
 
        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                    Â∞èÊèêÁ§∫\n\n                    3Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§á‰∏çÂª∫ËÆÆ‰ΩøÁî®Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Á•ºÂçá.\n                    Âõ†‰∏∫Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Â§±Ë¥•ÁéáËæÉÈ´ò,‰∏îÂ§±Ë¥•‰ºöÈôçÁ∫ß.\n\n                    |cff6699ffÁ•ùÁ¶èÁü≥ËÉΩ‰ª§Ë£ÖÂ§áÂ§±Ë¥•‰∏ç‰ºöÈôçÁ∫ß.\n                    Âº∫ÂåñÁü≥ËÉΩÊúâÊïàÊèêÈ´òÂçáÁ∫ßÊàêÂäüÁéá.\n                    ËØÖÂííÁü≥Êõ¥ËÉΩÊèêÈ´òÊàêÂäüÁéá.|r\n\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ËÉΩ‰∏éÊôÆÈÄöÁöÑÂÆùÁü≥ËûçÂêàÂú®‰∏ÄËµ∑.\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ÂùáÂú®ÂÆùÁü≥‰∏ìÂå∫Âà∑ÊÄ™Ëé∑Âèñ.\n    ")
            endif
        endif


        if ( Diamond___DiamondB('rump' , 'shen' , 'oli2' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondB('rde0' , 'oflg' , 'arsc' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondB('shdt' , 'crdt' , 'rugt' , 40) == true ) then
            return
        endif


        call UnitAddItemByIdSwapped('sehr', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddEighthStrDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('k3m3', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
 
        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif

        if ( Diamond___DiamondB('rump' , 'shen' , 'oli2' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('rde0' , 'oflg' , 'arsc' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('shdt' , 'crdt' , 'rugt' , 60) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('k3m3', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddEighthBlessDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('k3m2', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif
        
        if ( Diamond___DiamondA('rump' , 'shen' , 30) == true ) then
            return
        endif
        if ( Diamond___DiamondA('rde0' , 'oflg' , 30) == true ) then
            return
        endif
        if ( Diamond___DiamondA('shdt' , 'crdt' , 30) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('k3m2', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddEighthCurseDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('kybl', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif
        
        if ( Diamond___DiamondC('rump' , 'shen' , 'nspi' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondC('rde0' , 'oflg' , 'sbok' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondC('shdt' , 'crdt' , 'envl' , 70) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('kybl', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddNinthDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('bzbf', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                    Â∞èÊèêÁ§∫\n\n                    3Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§á‰∏çÂª∫ËÆÆ‰ΩøÁî®Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Á•ºÂçá.\n                    Âõ†‰∏∫Êú™ÁªèÂº∫ÂåñÁöÑÂÆùÁü≥Â§±Ë¥•ÁéáËæÉÈ´ò,‰∏îÂ§±Ë¥•‰ºöÈôçÁ∫ß.\n\n                    |cff6699ffÁ•ùÁ¶èÁü≥ËÉΩ‰ª§Ë£ÖÂ§áÂ§±Ë¥•‰∏ç‰ºöÈôçÁ∫ß.\n                    Âº∫ÂåñÁü≥ËÉΩÊúâÊïàÊèêÈ´òÂçáÁ∫ßÊàêÂäüÁéá.\n                    ËØÖÂííÁü≥Êõ¥ËÉΩÊèêÈ´òÊàêÂäüÁéá.|r\n\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ËÉΩ‰∏éÊôÆÈÄöÁöÑÂÆùÁü≥ËûçÂêàÂú®‰∏ÄËµ∑.\n                    ‰ª•‰∏ä3ÁßçÂÆùÁü≥ÂùáÂú®ÂÆùÁü≥‰∏ìÂå∫Âà∑ÊÄ™Ëé∑Âèñ.\n    ")
            endif
        endif
        
        if ( Diamond___DiamondB('shen' , 'stpg' , 'rump' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondB('oflg' , 'frgd' , 'rde0' , 40) == true ) then
            return
        endif
        if ( Diamond___DiamondB('crdt' , 'pspd' , 'shdt' , 40) == true ) then
            return
        endif



        call UnitAddItemByIdSwapped('bzbf', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddNinthStrDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('kysn', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif
        
        if ( Diamond___DiamondB('shen' , 'stpg' , 'rump' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('oflg' , 'frgd' , 'rde0' , 60) == true ) then
            return
        endif
        if ( Diamond___DiamondB('crdt' , 'pspd' , 'shdt' , 60) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('kysn', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddNinthBlessDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('ktrm', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif
        
        if ( Diamond___DiamondA('shen' , 'stpg' , 30) == true ) then
            return
        endif
        if ( Diamond___DiamondA('oflg' , 'frgd' , 30) == true ) then
            return
        endif
        if ( Diamond___DiamondA('crdt' , 'pspd' , 30) == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('ktrm', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___AddNinthCurseDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('shwd', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif

        if not ( HasLiuli(GetTriggerUnit()) ) then
            if not ( Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
                set Diamond___BLuoshang2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
                call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "\n                Â∞èÊèêÁ§∫\n\n                7Á∫ß‰ª•‰∏äÁöÑË£ÖÂ§áÂá†ÁéáÂèØËÉΩ‰ºöËæÉ‰Ωé.\n\n                ‰Ω†ËøòÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢2ÁßçÊñπÂºèÊèêÈ´òÊàêÂäüÁéá:\n                1.ÈÄöËøá42Ê¨°ËΩ¨ÁîüËé∑Âèñ|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,ÂΩìÂ±ÄÊó†ÈôêÊ¨°‰ΩøÁî®)\n                2.‰ΩøÁî®ÊùÄÊïåÊï∞Âú®Âü∫Âú∞Â∑¶ËæπË¥≠‰π∞|cffff0000Ë°ÄÁ≤æÁü≥|r.\n                (100%ÁöÑÂçáÁ∫ßÊàêÂäüÁéá,Ê∂àËÄóÂìÅ)\n    ")
            endif
        endif
        
        if ( Diamond___DiamondC('shen' , 'stpg' , 'oli2' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondC('oflg' , 'frgd' , 'arsc' , 70) == true ) then
            return
        endif
        if ( Diamond___DiamondC('crdt' , 'pspd' , 'rugt' , 70) == true ) then
            return
        endif


        call UnitAddItemByIdSwapped('shwd', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___XueJingDiamond takes nothing returns nothing
        if ( IsItemPawnable(GetSpellTargetItem()) == false ) then
            call UnitAddItemByIdSwapped('k3m1', GetTriggerUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
            return
        endif
        
        if ( Diamond___Diamond100('oli2' , 'rump') == true ) then
            return
        endif
        if ( Diamond___Diamond100('arsc' , 'rde0') == true ) then
            return
        endif
        if ( Diamond___Diamond100('rugt' , 'shdt') == true ) then
            return
        endif
        if ( Diamond___Diamond100('shen' , 'stpg') == true ) then
            return
        endif
        if ( Diamond___Diamond100('oflg' , 'frgd') == true ) then
            return
        endif
        if ( Diamond___Diamond100('crdt' , 'pspd') == true ) then
            return
        endif
        if ( Diamond___Diamond100('rump' , 'shen') == true ) then
            return
        endif
        if ( Diamond___Diamond100('rde0' , 'oflg') == true ) then
            return
        endif
        if ( Diamond___Diamond100('shdt' , 'crdt') == true ) then
            return
        endif

        call UnitAddItemByIdSwapped('k3m1', GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, DIAMOND_CANT_UPDATE)
        return
    endfunction

//---------------------------------------------------------------------------------------------------

    
    function Diamond___TSpellDiamondAct takes nothing returns nothing
        if ( GetSpellAbilityId() == 'A02Z' ) then
            call Diamond___AddOneDiamond()
        elseif ( GetSpellAbilityId() == 'Amnb' ) then
            call Diamond___AddSecondDiamond()
        elseif ( GetSpellAbilityId() == 'Ambb' ) then
            call Diamond___AddThirdDiamond()
        elseif ( ( GetSpellAbilityId() == 'ACfl' ) ) then
            call Diamond___AddFourthDiamond()
        elseif ( ( GetSpellAbilityId() == 'Aenw' ) ) then
            call Diamond___AddFourthStrDiamond()
        elseif ( ( GetSpellAbilityId() == 'Aenr' ) ) then
            call Diamond___AddFourthBlessDiamond()
        elseif ( ( GetSpellAbilityId() == 'ACcy' ) ) then
            call Diamond___AddFifthDiamond()
        elseif ( ( GetSpellAbilityId() == 'ACbn' ) ) then
            call Diamond___AddFifthStrDiamond()
        elseif ( ( GetSpellAbilityId() == 'SCc1' ) ) then
            call Diamond___AddFifthBlessDiamond()
        elseif ( ( GetSpellAbilityId() == 'ACfb' ) ) then
            call Diamond___AddFifthCurseDiamond()
        elseif ( ( GetSpellAbilityId() == 'ACls' ) ) then
            call Diamond___AddSixthDiamond()
        elseif ( ( GetSpellAbilityId() == 'ACbf' ) ) then
            call Diamond___AddSixthStrDiamond()
        elseif ( ( GetSpellAbilityId() == 'Afod' ) ) then
            call Diamond___AddSixthBlessDiamond()
        elseif ( ( GetSpellAbilityId() == 'ACdc' ) ) then
            call Diamond___AddSixthCurseDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DG' ) ) then
            call Diamond___AddSeventhDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DI' ) ) then
            call Diamond___AddSeventhStrDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DH' ) ) then
            call Diamond___AddSeventhBlessDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DN' ) ) then
            call Diamond___AddSeventhCurseDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DJ' ) ) then
            call Diamond___AddEighthDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DK' ) ) then
            call Diamond___AddEighthStrDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DL' ) ) then
            call Diamond___AddEighthBlessDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DM' ) ) then
            call Diamond___AddEighthCurseDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DO' ) ) then
            call Diamond___AddNinthDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DR' ) ) then
            call Diamond___AddNinthStrDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DQ' ) ) then
            call Diamond___AddNinthBlessDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0DP' ) ) then
            call Diamond___AddNinthCurseDiamond()
        elseif ( ( GetSpellAbilityId() == 'A0EK' ) ) then
            call Diamond___XueJingDiamond()
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function DiamondMonsterFilter takes nothing returns boolean
        return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) ) )
    endfunction
//---------------------------------------------------------------------------------------------------

    
    function DiamondPlayerFilter takes nothing returns boolean
        return ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) and ( IsUnitAliveBJ(GetFilterUnit()) or ( GetFilterUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetFilterUnit()))] and not ( IsWanjie() ) ) ) )
    endfunction

    function DiamondPlayerFilterOther takes nothing returns boolean
        return ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) and ( IsUnitAliveBJ(GetFilterUnit()) or ( GetFilterUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetFilterUnit()))] ) ) )
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___CreateDiamonMonster takes integer whichType,integer aLevel returns nothing
        local real x= 0
        local real y= 0
        local unit u
        if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
            set x=GetRandomReal(GetRectMinX(gg_rct________8), GetRectMaxX(gg_rct________8))
            set y=GetRandomReal(GetRectMinY(gg_rct________8), GetRectMaxY(gg_rct________8))
        elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
            set x=GetRandomReal(GetRectMinX(gg_rct_Diamond2), GetRectMaxX(gg_rct_Diamond2))
            set y=GetRandomReal(GetRectMinY(gg_rct_Diamond2), GetRectMaxY(gg_rct_Diamond2))
        else
            set x=GetRandomReal(GetRectMinX(gg_rct_Diamond3), GetRectMaxX(gg_rct_Diamond3))
            set y=GetRandomReal(GetRectMinY(gg_rct_Diamond3), GetRectMaxY(gg_rct_Diamond3))
        endif
        set u=CreateUnit(Player(10), whichType, x, y, GetRandomDirectionDeg())
        call EnhanceDiffAttack(u)
        call SetUnitAbilityLevel(u, 'AB01', GetWanjieAddInt(aLevel , 9))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", x, y))
        set u=null
    endfunction
//---------------------------------------------------------------------------------------------------

    
    function TBuyDiamondStartCon takes nothing returns boolean
        return ( ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) and ( GetUnitTypeId(GetSellingUnit()) == 'nmr5' or GetUnitTypeId(GetSellingUnit()) == 'nmre' or GetUnitTypeId(GetSellingUnit()) == 'n01D' or GetUnitTypeId(GetSellingUnit()) == 'n01C' ) )
    endfunction

    function TBuyDiamondStartAct takes nothing returns nothing
        local group group1
        local group group2
        local integer i= 1

        if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
            set group1=GetUnitsInRectMatching(gg_rct________8, Condition(function DiamondMonsterFilter))
            set group2=GetUnitsInRectMatching(gg_rct________8, Condition(function DiamondPlayerFilter))
        elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
            set group1=GetUnitsInRectMatching(gg_rct_Diamond2, Condition(function DiamondMonsterFilter))
            set group2=GetUnitsInRectMatching(gg_rct_Diamond2, Condition(function DiamondPlayerFilter))
        elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
            set group1=GetUnitsInRectMatching(gg_rct_Diamond3, Condition(function DiamondMonsterFilter))
            set group2=GetUnitsInRectMatching(gg_rct_Diamond3, Condition(function DiamondPlayerFilter))
        endif


//textmacro instance: StartDiamondMonster("rre1","nnmg","1")

        if ( ( GetItemTypeId(GetSoldItem()) == 'rre1' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nnmg' , 1)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("rre1","nnmg","1")
//textmacro instance: StartDiamondMonster("rhe1","nmyr","2")

        if ( ( GetItemTypeId(GetSoldItem()) == 'rhe1' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nmyr' , 2)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("rhe1","nmyr","2")
//textmacro instance: StartDiamondMonster("guvi","nnsw","3")

        if ( ( GetItemTypeId(GetSoldItem()) == 'guvi' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nnsw' , 3)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("guvi","nnsw","3")
//textmacro instance: StartDiamondMonster("tpow","nsnp","4")

        if ( ( GetItemTypeId(GetSoldItem()) == 'tpow' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nsnp' , 4)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("tpow","nsnp","4")
//textmacro instance: StartDiamondMonster("rhe2","nhyc","5")

        if ( ( GetItemTypeId(GetSoldItem()) == 'rhe2' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nhyc' , 5)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("rhe2","nhyc","5")
//textmacro instance: StartDiamondMonster("tint","nnrg","6")

        if ( ( GetItemTypeId(GetSoldItem()) == 'tint' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nnrg' , 6)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("tint","nnrg","6")
//textmacro instance: StartDiamondMonster("modt","nplb","7")

        if ( ( GetItemTypeId(GetSoldItem()) == 'modt' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nplb' , 7)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("modt","nplb","7")
//textmacro instance: StartDiamondMonster("sman","ntrv","8")

        if ( ( GetItemTypeId(GetSoldItem()) == 'sman' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('ntrv' , 8)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("sman","ntrv","8")
//textmacro instance: StartDiamondMonster("sorf","nmmu","9")

        if ( ( GetItemTypeId(GetSoldItem()) == 'sorf' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nmmu' , 9)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("sorf","nmmu","9")
//textmacro instance: StartDiamondMonster("ratf","nanb","5")

        if ( ( GetItemTypeId(GetSoldItem()) == 'ratf' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nanb' , 5)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("ratf","nanb","5")
//textmacro instance: StartDiamondMonster("rreb","nanm","5")

        if ( ( GetItemTypeId(GetSoldItem()) == 'rreb' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nanm' , 5)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("rreb","nanm","5")
//textmacro instance: StartDiamondMonster("ckng","nane","5")

        if ( ( GetItemTypeId(GetSoldItem()) == 'ckng' ) ) then
            if ( ( CountUnitsInGroup(group1) == 0 ) ) then
                if ( ( CountUnitsInGroup(group2) != 0 ) ) then
                    if ( RectContainsUnit(gg_rct________8, GetSellingUnit()) ) then
                        set IAtleast1=21
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetSellingUnit()) ) then
                        set IAtleast2=21
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetSellingUnit()) ) then
                        set IAtleast3=21
                    endif
                     set BJiulun=true
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê!")
                    set i=1
                    loop
                        exitwhen i > 20
                        call Diamond___CreateDiamonMonster('nane' , 5)
                        set i=i + 1
                    endloop
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑!")
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞!")
            endif
        endif

//end of: StartDiamondMonster("ckng","nane","5")

        call DestroyGroup(group1)
        call DestroyGroup(group2)
        set group1=null
        set group2=null

    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___MonsterDropDiamond takes nothing returns boolean
        local integer i= 1
       
            if ( ( GetUnitTypeId(GetDyingUnit()) == 'nnmg' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                        call CreateItem('I02N', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                        set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nmyr' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('I04S', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nnsw' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('azhr', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nsnp' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('gmfr', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nhyc' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('jpnt', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nnrg' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('glsk', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nplb' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('kygh', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'ntrv' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('sehr', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nmmu' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('bzbf', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nanb' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('thle', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nanm' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('dkfw', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            elseif ( ( GetUnitTypeId(GetDyingUnit()) == 'nane' ) ) then
                loop
                    exitwhen i > CModeH(1 , 2)
                    call CreateItem('phlt', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
                    set i=i + 1
                endloop
                return true
            endif
            set i=i + 1
        return false
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function TDropDiamondCon takes nothing returns boolean
        return ( GetOwningPlayer(GetDyingUnit()) == Player(10) or GetOwningPlayer(GetDyingUnit()) == Player(11) ) and not ( IsUnitIllusion(GetDyingUnit()) )
    endfunction
    
    function TDropDiamondAct takes nothing returns nothing
        if ( ( ( GetUnitTypeId(GetDyingUnit()) == 'nnmg' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nmyr' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nnsw' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nsnp' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nhyc' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nnrg' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nplb' ) or ( GetUnitTypeId(GetDyingUnit()) == 'ntrv' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nmmu' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nanb' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nanm' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nane' ) ) and ( GetPlayerController(GetOwningPlayer(GetDyingUnit())) == MAP_CONTROL_COMPUTER ) ) then
            if ( RectContainsUnit(gg_rct________8, GetDyingUnit()) ) then
                set IAtleast1=( IAtleast1 - 1 )
                if ( ( IAtleast1 == 1 ) ) then
                    set IAtleast1=100
                    call Diamond___MonsterDropDiamond()
                    return
                endif
            elseif ( RectContainsUnit(gg_rct_Diamond2, GetDyingUnit()) ) then
                set IAtleast2=( IAtleast2 - 1 )
                if ( ( IAtleast2 == 1 ) ) then
                    set IAtleast2=100
                    call Diamond___MonsterDropDiamond()
                    return
                endif
            elseif ( RectContainsUnit(gg_rct_Diamond3, GetDyingUnit()) ) then
                set IAtleast3=( IAtleast3 - 1 )
                if ( ( IAtleast3 == 1 ) ) then
                    set IAtleast3=100
                    call Diamond___MonsterDropDiamond()
                    return
                endif
            endif
            if ( ( GetRandomInt(1, 25) == 1 ) and not ( IsTianyan ) and IsInDiamondRegion(GetUnitX(GetDyingUnit()) , GetUnitY(GetDyingUnit())) ) then
                if ( Diamond___MonsterDropDiamond() ) then
                    if ( RectContainsUnit(gg_rct________8, GetDyingUnit()) ) then
                        set IAtleast1=100
                    elseif ( RectContainsUnit(gg_rct_Diamond2, GetDyingUnit()) ) then
                        set IAtleast2=100
                    elseif ( RectContainsUnit(gg_rct_Diamond3, GetDyingUnit()) ) then
                        set IAtleast3=100
                    endif
                endif
            endif
        endif
        
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function ClearDiamondRegion takes rect r returns nothing
        local unit l_unit= null
        local group group2= GetUnitsInRectMatching(r, Condition(function DiamondMonsterFilter))
        set group2=GetUnitsInRectMatching(r, Condition(function DiamondMonsterFilter))
        loop
            set l_unit=FirstOfGroup(group2)
            exitwhen l_unit == null
            call GroupRemoveUnit(group2, l_unit)
            call FlushChildHashtable(YDHT, GetHandleId(l_unit))
            call RemoveUnit(l_unit)
        endloop
        call DestroyGroup(group2)
        set group2=null
        set l_unit=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function TLeaveDiamondRegionCon takes nothing returns boolean
        return ( ( GetPlayerController(GetOwningPlayer(GetLeavingUnit())) == MAP_CONTROL_USER ) )
    endfunction

    function TLeaveDiamondRegion1Act takes nothing returns nothing
        local group group1= GetUnitsInRectMatching(gg_rct________8, Condition(function DiamondPlayerFilter))
        if ( ( CountUnitsInGroup(group1) == 0 ) ) then
            call ClearDiamondRegion(gg_rct________8)
        endif
        call DestroyGroup(group1)
        set group1=null
    endfunction

    function TLeaveDiamondRegion2Act takes nothing returns nothing
        local group group1= GetUnitsInRectMatching(gg_rct_Diamond2, Condition(function DiamondPlayerFilterOther))
        local group group2= null
        local unit l_unit= null
        if ( ( CountUnitsInGroup(group1) == 0 ) ) then
            set group2=GetUnitsInRectMatching(gg_rct_Diamond2, Condition(function DiamondMonsterFilter))
            loop
                set l_unit=FirstOfGroup(group2)
                exitwhen l_unit == null
                call GroupRemoveUnit(group2, l_unit)
                call FlushChildHashtable(YDHT, GetHandleId(l_unit))
                call RemoveUnit(l_unit)
            endloop
            call DestroyGroup(group2)
        endif
        call DestroyGroup(group1)
        set group1=null
        set group2=null
        set l_unit=null
    endfunction

    function TLeaveDiamondRegion3Act takes nothing returns nothing
        local group group1= GetUnitsInRectMatching(gg_rct_Diamond3, Condition(function DiamondPlayerFilterOther))
        local group group2= null
        local unit l_unit= null
        if ( ( CountUnitsInGroup(group1) == 0 ) ) then
            set group2=GetUnitsInRectMatching(gg_rct_Diamond3, Condition(function DiamondMonsterFilter))
            loop
                set l_unit=FirstOfGroup(group2)
                exitwhen l_unit == null
                call GroupRemoveUnit(group2, l_unit)
                call FlushChildHashtable(YDHT, GetHandleId(l_unit))
                call RemoveUnit(l_unit)
            endloop
            call DestroyGroup(group2)
        endif
        call DestroyGroup(group1)
        set group1=null
        set group2=null
        set l_unit=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Diamond___DiamondDialogClick takes nothing returns nothing
        local dialog d= GetClickedDialogBJ()
        local unit u= LoadUnitHandle(LHTable, GetHandleId(d), 3)

        if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 1) ) then
            call SetUnitX(u, GetRectCenterX(gg_rct_Diamond2))
            call SetUnitY(u, GetRectCenterY(gg_rct_Diamond2))
            call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct_Diamond2), GetRectCenterY(gg_rct_Diamond2), 0.2)
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct_Diamond2), GetRectCenterY(gg_rct_Diamond2)))
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
        endif

        if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 4) ) then
            call SetUnitX(u, GetRectCenterX(gg_rct_Diamond3))
            call SetUnitY(u, GetRectCenterY(gg_rct_Diamond3))
            call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct_Diamond3), GetRectCenterY(gg_rct_Diamond3), 0.2)
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct_Diamond3), GetRectCenterY(gg_rct_Diamond3)))
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
        endif

        if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), 2) ) then
            call SetUnitX(u, GetRectCenterX(gg_rct________8))
            call SetUnitY(u, GetRectCenterY(gg_rct________8))
            call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), GetRectCenterX(gg_rct________8), GetRectCenterY(gg_rct________8), 0.2)
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetRectCenterX(gg_rct________8), GetRectCenterY(gg_rct________8)))
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
        endif

        call FlushChildHashtable(LHTable, GetHandleId(d))
        call DialogDisplay(GetOwningPlayer(u), d, false)
        call DialogClear(d)
        call DialogDestroy(d)
        set d=null
        set u=null
        call DestroyTrigger(GetTriggeringTrigger())
    endfunction

    function CreateDiamondDialog takes unit u returns nothing
        local trigger t= CreateTrigger()
        local dialog d= DialogCreate()

        call DialogSetMessage(d, "ËØ∑ÈÄâÊã©ËøõÂÖ•ÁöÑÂÆùÁü≥Âå∫")
        call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButtonBJ(d, "‰ΩéÁ∫ßÂÆùÁü≥Âå∫1ÔºàÊ¨°Ôºâ"))
        call SaveButtonHandle(LHTable, GetHandleId(d), 4, DialogAddButtonBJ(d, "‰ΩéÁ∫ßÂÆùÁü≥Âå∫2ÔºàÊ¨°Ôºâ"))
        call SaveButtonHandle(LHTable, GetHandleId(d), 2, DialogAddButtonBJ(d, "È´òÁ∫ßÂÆùÁü≥Âå∫Ôºà‰∏ªÔºâ"))
        call SaveUnitHandle(LHTable, GetHandleId(d), 3, u)
        call DialogDisplay(GetOwningPlayer(u), d, true)
        call TriggerRegisterDialogEvent(t, d)
        call TriggerAddAction(t, function Diamond___DiamondDialogClick)
        set d=null
        set t=null
    endfunction

//---------------------------------------------------------------------------------------------------
    
    function EnterDiamond takes nothing returns nothing
        if ( ( GetItemTypeId(GetSoldItem()) == 'rspd' ) ) then
            call CreateDiamondDialog(GetBuyingUnit())
        endif
    endfunction
//---------------------------------------------------------------------------------------------------

	
 function Diamond___InitDiamond takes nothing returns nothing
		
        local trigger t= CreateTrigger()

        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
        call TriggerAddAction(t, function Diamond___TSpellDiamondAct)

        //ÂºÄÂßãÂà∑ÂÆùÁü≥
        set t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SELL_ITEM)
        call TriggerAddCondition(t, Condition(function TBuyDiamondStartCon))
        call TriggerAddAction(t, function TBuyDiamondStartAct)

        //ÂÆùÁü≥ÊÄ™Áâ©ÊéâËêΩ
        set t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function TDropDiamondCon))
        call TriggerAddAction(t, function TDropDiamondAct)

        //ÂÆùÁü≥Âå∫Á¶ªÂºÄ‰∫ã‰ª∂
        set t=CreateTrigger()
        call TriggerRegisterLeaveRectSimple(t, gg_rct________8)
        call TriggerAddCondition(t, Condition(function TLeaveDiamondRegionCon))
        call TriggerAddAction(t, function TLeaveDiamondRegion1Act)
        set t=CreateTrigger()
        call TriggerRegisterLeaveRectSimple(t, gg_rct_Diamond2)
        call TriggerAddCondition(t, Condition(function TLeaveDiamondRegionCon))
        call TriggerAddAction(t, function TLeaveDiamondRegion2Act)
        set t=CreateTrigger()
        call TriggerRegisterLeaveRectSimple(t, gg_rct_Diamond3)
        call TriggerAddCondition(t, Condition(function TLeaveDiamondRegionCon))
        call TriggerAddAction(t, function TLeaveDiamondRegion3Act)

        set t=null
	endfunction


//library Diamond ends
//library MiJing:
	

//---------------------------------------------------------------------------------------------------
    
    function TDengDamageCon takes nothing returns boolean
        return GetUnitTypeId(GetTriggerUnit()) == 'n01H' and GetEventDamage() > 0
    endfunction

    function TDengDamageAct takes nothing returns nothing
        call SetUnitLifeBJ(GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) - 1)
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__GetMiJingRect takes nothing returns rect
        return gg_rct_M6
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__GetDengJiangli takes nothing returns integer
        if ( MiJing__IDeng == 1 ) then
            return 'ILI1'
        elseif ( MiJing__IDeng == 2 ) then
            return 'ILI2'
        elseif ( MiJing__IDeng == 3 ) then
            return 'ILI3'
        elseif ( MiJing__IDeng == 4 ) then
            return 'ILI4'
        elseif ( MiJing__IDeng == 5 ) then
            return 'ILI5'
        elseif ( MiJing__IDeng == 6 ) then
            return 'ILI6'
        elseif ( MiJing__IDeng == 7 ) then
            return 'ILI7'
        elseif ( MiJing__IDeng == 8 ) then
            return 'ILI8'
        elseif ( MiJing__IDeng == 9 ) then
            return 'ILI9'
        elseif ( MiJing__IDeng == 10 ) then
            return 'ILIA'
        elseif ( MiJing__IDeng == 11 ) then
            return 'ILIB'
        elseif ( MiJing__IDeng == 12 ) then
            return 'ILIC'
        elseif ( MiJing__IDeng == 13 ) then
            return 'ILID'
        elseif ( MiJing__IDeng == 14 ) then
            return 'ILIE'
        elseif ( MiJing__IDeng == 15 ) then
            return 'ILIF'
        elseif ( MiJing__IDeng == 16 ) then
            return 'ILIG'
        elseif ( MiJing__IDeng == 17 ) then
            return 'ILIH'
        elseif ( MiJing__IDeng == 18 ) then
            return 'ILII'
        elseif ( MiJing__IDeng == 19 ) then
            return 'ILIJ'
        elseif ( MiJing__IDeng == 20 ) then
            return 'ILIK'
        endif
        return 0
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__GetMijingMonster takes nothing returns integer
        if ( MiJing__IDeng == 1 ) then
            return 'nogr'
        elseif ( MiJing__IDeng == 2 ) then
            return 'nmbg'
        elseif ( MiJing__IDeng == 3 ) then
            return 'nkog'
        elseif ( MiJing__IDeng == 4 ) then
            return 'nfrp'
        elseif ( MiJing__IDeng == 5 ) then
            return 'nfot'
        elseif ( MiJing__IDeng == 6 ) then
            return 'ners'
        elseif ( MiJing__IDeng == 7 ) then
            return 'nsel'
        elseif ( MiJing__IDeng == 8 ) then
            return 'ndrs'
        elseif ( MiJing__IDeng == 9 ) then
            return 'ehip'
        elseif ( MiJing__IDeng == 10 ) then
            return 'uabo'
        elseif ( MiJing__IDeng >= 11 and MiJing__IDeng < 16 ) then
            return 'nmgd'
        elseif ( MiJing__IDeng >= 16 ) then
            return 'nrwm'
        endif
        return 0
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__GetMijingMonsterCount takes nothing returns integer
        local group l_group= CreateGroup()
        local unit l_unit
        local integer count= 0
        call GroupAddGroup(MiJing__GMijing, l_group)
        loop
            set l_unit=FirstOfGroup(l_group)
            exitwhen l_unit == null
            call GroupRemoveUnit(l_group, l_unit)
            if ( IsUnitAliveBJ(l_unit) and GetOwningPlayer(l_unit) == Player(11) ) then
                set count=count + 1
                call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL, l_unit)
            endif
        endloop
        call DestroyGroup(l_group)
        set l_group=null
        set l_unit=null
        return count
    endfunction
    
//---------------------------------------------------------------------------------------------------
    
    function MiJing__CreateMijingMonster takes nothing returns nothing
        local integer i= 1
        local unit u= null
        local rect r= MiJing__GetMiJingRect()
        local unit temp= MiJing__UDeng[GetRandomInt(1, 1)]
        loop
            exitwhen i > udg_RENSHU
            set u=CreateUnit(Player(11), MiJing__GetMijingMonster(), GetRandomReal(GetRectMinX(r), GetRectMaxX(r)), GetRandomReal(GetRectMinY(r), GetRectMaxY(r)), GetRandomReal(0, 360))
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl", GetUnitX(u), GetUnitY(u)))
            call GroupAddUnit(MiJing__GMijing, u)
            call IssuePointOrderById(u, 851983, GetUnitX(temp) + GetRandomReal(- 100, 100), GetUnitY(temp) + GetRandomReal(- 100, 100))
            if ( IsWanjie() ) then
                call UnitAddAbility(u, 'ANbl')
                call UnitAddAbility(u, 'A0IO')
            endif
            call UnitAddAbility(u, 'A0IH')
            if ( MiJing__IDeng <= 10 ) then
                call EnhanceDiffAttack(u)
            elseif ( MiJing__IDeng == 11 ) then
                call UnitAddAbility(u, 'A09V')
                call SetUnitAbilityLevel(u, 'A09V', NanDiff + 1)
            elseif ( MiJing__IDeng == 12 ) then
                call UnitAddAbility(u, 'A0I6')
                call SetUnitAbilityLevel(u, 'A0I6', NanDiff + 1)
            elseif ( MiJing__IDeng == 13 ) then
                call UnitAddAbility(u, 'A0I7')
                call SetUnitAbilityLevel(u, 'A0I7', NanDiff + 1)
            elseif ( MiJing__IDeng == 14 ) then
                call UnitAddAbility(u, 'A0I8')
                call SetUnitAbilityLevel(u, 'A0I8', NanDiff + 1)
            elseif ( MiJing__IDeng == 15 ) then
                call UnitAddAbility(u, 'A0I9')
                call SetUnitAbilityLevel(u, 'A0I9', NanDiff + 1)
            elseif ( MiJing__IDeng == 16 ) then
                call UnitAddAbility(u, 'A09V')
                call SetUnitAbilityLevel(u, 'A09V', NanDiff + 1)
            elseif ( MiJing__IDeng == 17 ) then
                call UnitAddAbility(u, 'A0IC')
                call SetUnitAbilityLevel(u, 'A0IC', NanDiff + 1)
            elseif ( MiJing__IDeng == 18 ) then
                call UnitAddAbility(u, 'A0ID')
                call SetUnitAbilityLevel(u, 'A0ID', NanDiff + 1)
            elseif ( MiJing__IDeng == 19 ) then
                call UnitAddAbility(u, 'A0IE')
                call SetUnitAbilityLevel(u, 'A0IE', NanDiff + 1)
            elseif ( MiJing__IDeng == 20 ) then
                call UnitAddAbility(u, 'A0IF')
                call SetUnitAbilityLevel(u, 'A0IF', NanDiff + 1)
            endif
            if ( MiJing__IDeng > 10 and MiJing__IDeng < 16 ) then
                call SetUnitAbilityLevel(u, 'A0I3', MiJing__IDeng - 10)
            elseif ( MiJing__IDeng > 15 ) then
                call SetUnitAbilityLevel(u, 'A0IA', MiJing__IDeng - 10)
            endif
            set i=i + 1
        endloop
        set u=null
        set r=null
        set temp=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__GiveMengjiMijing takes nothing returns nothing
        local timer t= GetExpiredTimer()
        set MiJing__IMijing[GetConvertedPlayerId(GetOwningPlayer(mengji))]=UnitAddItemByIdSwapped(MiJing__GetDengJiangli(), udg_H[GetConvertedPlayerId(GetOwningPlayer(mengji))])
        call DisplayTextToPlayer(GetOwningPlayer(mengji), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁßòÂ¢ÉÊåëÊàòÁ¨¨" + I2S(MiJing__IDeng) + "Â±ÇÊåëÊàòÊàêÂäüÔºÅÂ•ñÂä±" + GetItemName(GetLastCreatedItem()) + "ÂèëÊîæÂà∞‰∫Ü‰Ω†ÁöÑË∫´‰∏ä.")
        call PingMinimapForForce(GetForceOfPlayer(GetOwningPlayer(mengji)), GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(mengji))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(mengji))]), 5.00)
        call PauseTimer(t)
        call DestroyTimer(t)
        set t=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Fafangmijing takes integer index returns nothing
        if ( udg_H[index] != cangling ) then
            if ( MiJing__IMijing[index] != null ) then
                call RemoveItem(MiJing__IMijing[index])
            endif
        endif
        //call PolledWait(0.1)
        if ( udg_H[index] == mengji ) then
            call TimerStart(CreateTimer(), 0.1, false, function MiJing__GiveMengjiMijing)
            return
        endif
        
        set MiJing__IMijing[index]=UnitAddItemByIdSwapped(MiJing__GetDengJiangli(), udg_H[index])
        call DisplayTextToPlayer(ConvertedPlayer(index), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁßòÂ¢ÉÊåëÊàòÁ¨¨" + I2S(MiJing__IDeng) + "Â±ÇÊåëÊàòÊàêÂäüÔºÅÂ•ñÂä±" + GetItemName(GetLastCreatedItem()) + "ÂèëÊîæÂà∞‰∫Ü‰Ω†ÁöÑË∫´‰∏ä.")
        call PingMinimapForForce(GetForceOfPlayer(ConvertedPlayer(index)), GetUnitX(udg_H[index]), GetUnitY(udg_H[index]), 5.00)

    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__MijingSucceed takes nothing returns nothing
        local integer i= 1
        loop
            exitwhen i > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
                call Fafangmijing(i)
            endif
            set i=i + 1
        endloop
        call SetTextTagTextBJ(MiJing__TDeng, "Á¨¨" + I2S(MiJing__IDeng) + "Â±Ç", 25)
         call SaveMijingAchievement(MiJing__IDeng)
        call PlaySoundBJ(gg_snd_v_mijing)
    endfunction

//---------------------------------------------------------------------------------------------------
    
    function MiJing__MijingFail takes nothing returns nothing
        call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁßòÂ¢ÉÊåëÊàòÁ¨¨" + I2S(MiJing__IDeng) + "Â±ÇÊåëÊàòÂ§±Ë¥•!")
        set MiJing__IDeng=MiJing__IDeng - 1
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__RemoveAllMijingUnit takes nothing returns nothing
        if ( IsUnitAliveBJ(GetEnumUnit()) and GetOwningPlayer(GetEnumUnit()) == Player(11) ) then
            call RemoveUnit(GetEnumUnit())
        endif
    endfunction

    function MiJing__DestroyAllMijing takes nothing returns nothing
        local integer i= 1
        loop
            exitwhen i > 1
            call RemoveUnit(MiJing__UDeng[i])
            call DestroyTextTag(MiJing__TDengProcess[i])
            set MiJing__UDeng[i]=null
            set MiJing__TDengProcess[i]=null
            set i=i + 1
        endloop
        call ForGroupBJ(MiJing__GMijing, function MiJing__RemoveAllMijingUnit)
        call DisableTrigger(MiJing__TDengUnderAttacked)
        set MiJing__BMijingStart=false
        set MiJing__IProcess=0
        set MiJing__ITotalMonster=0
        call PauseTimer(MiJing__TMijingJudge)
        call DestroyTimer(MiJing__TMijingJudge)
        set MiJing__TMijingJudge=null
        call PauseTimer(MiJing__TMijingBound)
        call DestroyTimer(MiJing__TMijingBound)
        set MiJing__TMijingBound=null
        if ( MiJing__TMijingFlash != null ) then
            call PauseTimer(MiJing__TMijingFlash)
            call DestroyTimer(MiJing__TMijingFlash)
            set MiJing__TMijingFlash=null
        endif
        call DestroyGroup(MiJing__GMijing)
        set MiJing__GMijing=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__JudgeDengTimer takes nothing returns nothing
        local integer i= 1
        set MiJing__IProcess=MiJing__IProcess + 1

        //Â§±Ë¥•Êù°‰ª∂:‰ªª‰∏ÄÁÅØÁàÜ‰∫Ü
        loop
            exitwhen i > 1
            if not ( IsUnitAliveBJ(MiJing__UDeng[i]) ) then
                call MiJing__DestroyAllMijing()
                call MiJing__MijingFail()
                return
            endif
            set i=i + 1
        endloop

        //ËÉúÂà©Êù°‰ª∂:100%ÊàñËÄÖÊ≤°ÊúâÊÄ™‰∫Ü
        if ( MiJing__IProcess >= 100 or ( MiJing__GetMijingMonsterCount() == 0 ) and MiJing__ITotalMonster >= 15 ) then
            call MiJing__MijingSucceed()
            call MiJing__DestroyAllMijing()
            return
        endif

        set i=1
        loop
            exitwhen i > MiJing__IDeng
            call SetTextTagTextBJ(MiJing__TDengProcess[i], I2S(MiJing__IProcess) + "%", 20)
            set i=i + 1
        endloop
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__FlashMonsterTimer takes nothing returns nothing
        set MiJing__ITotalMonster=MiJing__ITotalMonster + udg_RENSHU
        if ( MiJing__ITotalMonster < 15 ) then
            //ÂàõÂª∫ÊÄ™Áâ©
            call MiJing__CreateMijingMonster()
        else
            call PauseTimer(MiJing__TMijingFlash)
            call DestroyTimer(MiJing__TMijingFlash)
            set MiJing__TMijingFlash=null
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__JudgeBoundTimer takes nothing returns nothing
        local group l_group= CreateGroup()
        local unit l_unit
        local integer count= 0
        local unit temp= null
        local rect r= MiJing__GetMiJingRect()
        call GroupAddGroup(MiJing__GMijing, l_group)
        loop
            set l_unit=FirstOfGroup(l_group)
            exitwhen l_unit == null
            call GroupRemoveUnit(l_group, l_unit)
            if ( IsUnitAliveBJ(l_unit) and GetOwningPlayer(l_unit) == Player(11) ) then
                set temp=MiJing__UDeng[GetRandomInt(1, 1)]
                if not ( RectContainsUnit(r, l_unit) ) then
                    call SetUnitPosition(l_unit, GetRandomReal(GetRectMinX(r), GetRectMaxX(r)), GetRandomReal(GetRectMinY(r), GetRectMaxY(r)))
                endif
                call IssuePointOrderById(l_unit, 851983, GetUnitX(temp) + GetRandomReal(- 100, 100), GetUnitY(temp) + GetRandomReal(- 100, 100))
            endif
        endloop
        call DestroyGroup(l_group)
        set l_group=null
        set l_unit=null
        set temp=null
        set r=null
    endfunction
//---------------------------------------------------------------------------------------------------

    
    function MiJing__StartMijing takes nothing returns nothing
        local integer i= 1
        local rect r= null
         set BJiulun=true
        if ( MiJing__IDeng >= 20 ) then
            call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁßòÂ¢ÉÊåëÊàòÂ∑≤ÁªèËææÂà∞ÊúÄÈ´òÁöÑ20Â±ÇÔºå20Â±Ç‰πãÂêéÊï¨ËØ∑ÊúüÂæÖ.")
            return
        endif
        if ( MiJing__BMijingStart ) then
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑ÂÆåÊàêÂΩìÂâçÊåëÊàòÂÜçÊåëÊàòÊñ∞ÁöÑÁßòÂ¢É.")
            return
        endif
        if ( MiJing__IDeng >= 10 ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) < 1000 ) ) then
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªé11Â±ÇÁßòÂ¢ÉÂºÄÂßã,ÈúÄË¶ÅÊ∂àËÄó1000Êú®Â§¥.")
                return
            endif
            call AdjustPlayerStateBJ(- 1000, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        endif
        set MiJing__IDeng=MiJing__IDeng + 1
        //Âº∫ÂåñÊÄ™Áâ©
        if ( MiJing__IDeng == 12 ) then
            call SetPlayerTechResearchedSwap('R012', NanDiff + 1, Player(10))
            call SetPlayerTechResearchedSwap('R012', NanDiff + 1, Player(11))
        elseif ( MiJing__IDeng == 13 ) then
            call SetPlayerTechResearchedSwap('R014', NanDiff + 1, Player(10))
            call SetPlayerTechResearchedSwap('R014', NanDiff + 1, Player(11))
        elseif ( MiJing__IDeng == 14 ) then
            call SetPlayerTechResearchedSwap('R015', NanDiff + 1, Player(10))
            call SetPlayerTechResearchedSwap('R015', NanDiff + 1, Player(11))
        elseif ( MiJing__IDeng == 15 ) then
            call SetPlayerTechResearchedSwap('R016', NanDiff + 1, Player(10))
            call SetPlayerTechResearchedSwap('R016', NanDiff + 1, Player(11))
        elseif ( MiJing__IDeng == 17 ) then
            call SetPlayerTechResearchedSwap('R017', NanDiff + 1, Player(10))
            call SetPlayerTechResearchedSwap('R017', NanDiff + 1, Player(11))
        elseif ( MiJing__IDeng == 18 ) then
            call SetPlayerTechResearchedSwap('R018', NanDiff + 1, Player(10))
            call SetPlayerTechResearchedSwap('R018', NanDiff + 1, Player(11))
        elseif ( MiJing__IDeng == 19 ) then
            call SetPlayerTechResearchedSwap('R019', NanDiff + 1, Player(10))
            call SetPlayerTechResearchedSwap('R019', NanDiff + 1, Player(11))
        elseif ( MiJing__IDeng == 20 ) then
            call SetPlayerTechResearchedSwap('R01A', NanDiff + 1, Player(10))
            call SetPlayerTechResearchedSwap('R01A', NanDiff + 1, Player(11))
        endif
        //Ëé∑ÂèñÂØπÂ∫îÁöÑÂå∫Âüü
        set r=MiJing__GetMiJingRect()
        loop
            exitwhen i > 1
            //ÂàõÂª∫ÂØπÂ∫îÁöÑÁÅØ‰∏éÂØπÂ∫îÁöÑÊñáÂ≠ó
            set MiJing__UDeng[i]=CreateUnit(Player(6), 'n01H', GetRandomReal(GetRectMinX(r), GetRectMaxX(r)), GetRandomReal(GetRectMinY(r), GetRectMaxY(r)), 0)
            set MiJing__TDengProcess[i]=CreateTextTagUnitBJ("0%", MiJing__UDeng[i], 0, 20, 100, 100, 0, 0)
            call PingMinimap(GetUnitX(MiJing__UDeng[i]), GetUnitY(MiJing__UDeng[i]), 5)
            set i=i + 1
        endloop
        set MiJing__IProcess=0
        set MiJing__BMijingStart=true
        call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ¨¨" + I2S(MiJing__IDeng) + "Â±ÇÁßòÂ¢ÉÊåëÊàòÂ∞ÜÂú®5ÁßíÂêéÂºÄÂßãÔºÅËØ∑Â∞ΩÈáè‰øùÊåÅÂÖ®ÂëòÂèÇÊàòÔºÅ")
        call PolledWait(5)
        call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊåëÊàòÂºÄÂßãÔºÅ")
        call EnableTrigger(MiJing__TDengUnderAttacked)
        set MiJing__TMijingJudge=CreateTimer()
        set MiJing__TMijingFlash=CreateTimer()
        set MiJing__TMijingBound=CreateTimer()
        set MiJing__GMijing=CreateGroup()
        //Ê£ÄÊµãËÆ°Êó∂Âô®
        call TimerStart(MiJing__TMijingJudge, 0.6, true, function MiJing__JudgeDengTimer)
        //Âà∑ÊÄ™ËÆ°Êó∂Âô®
        call TimerStart(MiJing__TMijingFlash, 1, true, function MiJing__FlashMonsterTimer)
        //ËøõÊîª‰∏éÊ£ÄÊµãÂê∏ÊÄ™ËÆ°Êó∂Âô®
        call TimerStart(MiJing__TMijingBound, 4, true, function MiJing__JudgeBoundTimer)
        set r=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function EnterMijing takes nothing returns nothing
        local real x
        local real y
        if ( ( GetItemTypeId(GetSoldItem()) == 'I02T' ) ) then
            set x=GetRectCenterX(gg_rct_M6)
            set y=GetRectCenterY(gg_rct_M6)
            call SetUnitX(GetBuyingUnit(), x)
            call SetUnitY(GetBuyingUnit(), y)
            call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
        elseif ( ( GetItemTypeId(GetSoldItem()) == 'I048' ) ) then
            call MiJing__StartMijing()
        endif

    endfunction
//---------------------------------------------------------------------------------------------------
    
    function MiJing__DamageMijingCon takes nothing returns boolean
        return ( IsUnitInGroup(GetTriggerUnit(), MiJing__GMijing) or IsUnitInGroup(GetEventDamageSource(), MiJing__GMijing) ) and ( GetEventDamage() >= 10.00 )
    endfunction

    function MiJing__DamageMijingAct takes nothing returns nothing
        if ( IsUnitInGroup(GetTriggerUnit(), MiJing__GMijing) and udg_RENSHU > 1 ) then
            //Âáè‰º§
            call SetUnitLifeBJ(GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + GetEventDamage() * ( 1.0 - 1.0 / I2R(udg_RENSHU) ))
        elseif ( IsUnitInGroup(GetEventDamageSource(), MiJing__GMijing) ) then
            //Â¢û‰º§
            call DisableTrigger(GetTriggeringTrigger())
            if ( udg_RENSHU > 1 ) then
                call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), GetEventDamage() * ( udg_RENSHU - 1 ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
            endif
            if ( IsWanjie() ) then
                call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), 0.01 * udg_RENSHU * GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
            endif
            if ( IsTianyan and GetTriggerUnit() != udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] and ( GetPlayerController(GetOwningPlayer(GetEventDamageSource())) == MAP_CONTROL_COMPUTER ) ) then
                call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
            endif
            call EnableTrigger(GetTriggeringTrigger())

        endif
    endfunction

//---------------------------------------------------------------------------------------------------
    
 function InitMiJing takes nothing returns nothing
        local trigger t= CreateTrigger()
        set MiJing__TDengUnderAttacked=CreateTrigger()
        call YDWESyStemAnyUnitDamagedRegistTrigger(MiJing__TDengUnderAttacked)
        call DisableTrigger(MiJing__TDengUnderAttacked)
        call TriggerAddCondition(MiJing__TDengUnderAttacked, Condition(function TDengDamageCon))
        call TriggerAddAction(MiJing__TDengUnderAttacked, function TDengDamageAct)
        set UMijingShangdian=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'n01G', - 6144.0, - 10176.0, 270.000)
        set MiJing__TDeng=CreateTextTagUnitBJ("Á¨¨0Â±Ç", UMijingShangdian, 0, 25, 100, 0, 100, 0)

        //ÁßòÂ¢É‰∫∫Êï∞‰º§ÂÆ≥ÁöÑÊèêÈ´ò‰∏é‰º§ÂÆ≥ÁöÑÂáèÂ∞ë
        call YDWESyStemAnyUnitDamagedRegistTrigger(t)
        call TriggerAddCondition(t, Condition(function MiJing__DamageMijingCon))
        call TriggerAddAction(t, function MiJing__DamageMijingAct)

        set t=null
	endfunction

//library MiJing ends
//library MiniGame:
	
//---------------------------------------------------------------------------------------------------
	
 function MiniGame__XiaojunengTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(LHTable, id, 1)
		if ( IsUnitAliveBJ(u) ) then
     		call IssuePointOrder(u, "stampede", GetRectCenterX(gg_rct_Game1), GetRectCenterY(gg_rct_Game1))
		else
			call PauseTimer(t)
			call FlushChildHashtable(LHTable, id)
			call DestroyTimer(t)
		endif
		set u=null
		set t=null
	endfunction

 function MiniGame__StartTimerXiaojuneng takes unit u returns nothing
  local timer t= CreateTimer()
		call SaveUnitHandle(LHTable, GetHandleId(t), 1, u)
		call TimerStart(t, 5, true, function MiniGame__XiaojunengTimer)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CreateGame1Majia takes real angle returns nothing
  local real x= GetRectCenterX(gg_rct_Game1) + 200. * CosBJ(angle)
  local real y= GetRectCenterY(gg_rct_Game1) + 200. * SinBJ(angle)
  local unit u= CreateUnit(Player(10), 'h01U', x, y, angle + 180)
	    call UnitAddAbility(u, 'A0DY')
	    call SetUnitAbilityLevel(u, 'A0DY', I3(IsWanjie() , 7 , 3))
     	call IssuePointOrder(u, "stampede", GetRectCenterX(gg_rct_Game1), GetRectCenterY(gg_rct_Game1))
     	call GroupAddUnit(MiniGame__GGame1, u)
     	call MiniGame__StartTimerXiaojuneng(u)
     	set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
	//Â•ñÂä±ÂÄº
 function MiniGame__GetSpecifyTimeGold takes nothing returns integer
		return R2I(( ( I2R(MiniGame__TTimeGame1) / 50. ) + 1. ) * ( 2.5 * ( I2R(udg_Bo) / 2. + 1 ) ))
	endfunction

 function MiniGame__FlashGame1Reward takes nothing returns nothing
  local integer i= 1
  local string s= ""
		set MiniGame__TTimeGame1=MiniGame__TTimeGame1 + 1
		loop
			exitwhen i > 6
			if ( MiniGame__IGoldGame1[i] != 0 ) then
				set MiniGame__IGoldGame1[i]=MiniGame__IGoldGame1[i] + MiniGame__GetSpecifyTimeGold() * CModeH(1 , 2)
				set s=s + GetUnitName(udg_H[i]) + ":" + I2S(MiniGame__IGoldGame1[i]) + "\n				"
			endif
			set i=i + 1
		endloop
		set s=s + "Êó∂Èó¥:" + I2S(MiniGame__TTimeGame1 / 10) + "s"
		call SetTextTagTextBJ(MiniGame__TTGame1, s, 10)
		set s=null
		if ( MiniGame__TTimeGame1 == 50 ) then
			call CreateGame1Majia(45.)
		elseif ( MiniGame__TTimeGame1 == 100 ) then
			call CreateGame1Majia(135.)
		elseif ( MiniGame__TTimeGame1 == 150 ) then
			call CreateGame1Majia(225.)
		elseif ( MiniGame__TTimeGame1 == 200 ) then
			call CreateGame1Majia(0.)
		elseif ( MiniGame__TTimeGame1 == 250 ) then
			call CreateGame1Majia(90.)
		elseif ( MiniGame__TTimeGame1 == 300 ) then
			call CreateGame1Majia(180.)
		elseif ( MiniGame__TTimeGame1 == 350 ) then
			call CreateGame1Majia(270.)
		elseif ( ModuloInteger(MiniGame__TTimeGame1, 50) == 0 ) then
			call CreateGame1Majia(GetRandomReal(0., 360.))
		endif
	endfunction

 function MiniGame__StartGame1 takes nothing returns nothing
		if ( MiniGame__TGame1 == null ) then
			set MiniGame__TGame1=CreateTimer()
			set MiniGame__GGame1=CreateGroup()
			call TimerStart(MiniGame__TGame1, 0.1, true, function MiniGame__FlashGame1Reward)
			set MiniGame__TTGame1=CreateTextTagUnitBJ("Â•ñÂä±", gg_unit_n01Q_0273, 0, 10, 0, 100, 0, 0)
			set MiniGame__TTimeGame1=0
			call CreateGame1Majia(315.)
		endif
	endfunction

 function MiniGame__RemoveAllMini takes nothing returns nothing
		call RemoveUnit(GetEnumUnit())
	endfunction

 function MiniGame__DestroyGame1 takes nothing returns nothing
		if ( MiniGame__TGame1 != null ) then
			call PauseTimer(MiniGame__TGame1)
			call DestroyTimer(MiniGame__TGame1)
			call DestroyTextTag(MiniGame__TTGame1)
			set MiniGame__TGame1=null
			call ForGroup(MiniGame__GGame1, function MiniGame__RemoveAllMini)
			call DestroyGroup(MiniGame__GGame1)
			set MiniGame__GGame1=null
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function EnterMiniGame takes nothing returns nothing
  local real x
  local real y
		if ( ( GetItemTypeId(GetSoldItem()) == 'I06K' ) ) then
			set x=GetRectCenterX(gg_rct_Game1)
			set y=GetRectCenterY(gg_rct_Game1)

	        call SetUnitX(GetBuyingUnit(), x)
	        call SetUnitY(GetBuyingUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
	        return
	    elseif ( ( GetItemTypeId(GetSoldItem()) == 'I06M' ) and GetBuyingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and RectContainsUnit(gg_rct_Game1, GetBuyingUnit()) ) then
	    	call MiniGame__StartGame1()
	    	call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËø∑‰Ω†ÊåëÊàò-È™∑È´ÖÊµ∑ÂºÄÂßãÂï¶!")
            call PingMinimapForForce(GetPlayersAll(), GetRectCenterX(gg_rct_Game1), GetRectCenterY(gg_rct_Game1), 5.00)
	    endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function MiniGame__MiniGamePlayerFilter takes nothing returns boolean
		return GetFilterUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetFilterUnit()))]
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function MiniGame__TMiniGameCon takes nothing returns boolean
		return GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
	endfunction

	//Á¶ªÂºÄ‰∫ã‰ª∂
 function MiniGame__TLeaveMiniGameAct takes nothing returns nothing
  local integer id= GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
        local group group1= GetUnitsInRectMatching(gg_rct_Game1, Condition(function MiniGame__MiniGamePlayerFilter))
		if ( MiniGame__IGoldGame1[id] != 1 ) then
		 	call AddHeroXP(udg_H[id], R2I(MiniGame__IGoldGame1[id] * 0.4 * udg_I_Jingyan[id]), true)
		    call AdjustPlayerStateBJ(R2I(MiniGame__IGoldGame1[id] * udg_I_Jinqianhuodelv[id]), GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
		    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÈÄöËøáËø∑‰Ω†ÊåëÊàòËé∑Âæó‰∫Ü" + I2S(R2I(MiniGame__IGoldGame1[id] * udg_I_Jinqianhuodelv[id])) + "ÁöÑÈáëÈí±Â•ñÂä±Âíå" + I2S(R2I(MiniGame__IGoldGame1[id] * 0.4 * udg_I_Jingyan[id])) + "ÁöÑÁªèÈ™åÂ•ñÂä±,ÊàêÂäüÂùöÊåÅ‰∫Ü" + I2S(MiniGame__TTimeGame1 / 10) + "Áßí.")
       if ( MiniGame__TTimeGame1 / 10 > 35 ) then
     call GetAchievementAndSave(ConvertedPlayer(id) , 43)
    endif
    if ( MiniGame__TTimeGame1 / 10 > 80 ) then
     call GetAchievementAndSave(ConvertedPlayer(id) , 44)
       endif
		endif
		set MiniGame__IGoldGame1[id]=0
        if ( CountUnitsInGroup(group1) == 0 ) then
        	call MiniGame__DestroyGame1()
        endif
        call DestroyGroup(group1)
        set group1=null
	endfunction
	
	//ËøõÂÖ•‰∫ã‰ª∂
 function MiniGame__TEnterMiniGameAct takes nothing returns nothing
		set MiniGame__IGoldGame1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SimulateDamageMiniGame takes unit u returns boolean
		if ( GetUnitTypeId(u) == 'h01U' and GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
				call HG(GetTriggerUnit())
			return true
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function MiniGame__InitMiniGame takes nothing returns nothing
        local trigger t= CreateTrigger()
        call TriggerRegisterLeaveRectSimple(t, gg_rct_Game1)
        call TriggerAddCondition(t, Condition(function MiniGame__TMiniGameCon))
        call TriggerAddAction(t, function MiniGame__TLeaveMiniGameAct)

        set t=CreateTrigger()
        call TriggerRegisterEnterRectSimple(t, gg_rct_Game1)
        call TriggerAddCondition(t, Condition(function MiniGame__TMiniGameCon))
        call TriggerAddAction(t, function MiniGame__TEnterMiniGameAct)
        set t=null
	endfunction


//library MiniGame ends
//library Multiboard:

//---------------------------------------------------------------------------------------------------
	
 function Multiboard___TAddAllDamageCon takes nothing returns boolean
		return GetEventDamage() > 100000 and GetPlayerSlotState(GetOwningPlayer(GetEventDamageSource())) == PLAYER_SLOT_STATE_PLAYING and GetPlayerController(GetOwningPlayer(GetEventDamageSource())) == MAP_CONTROL_USER
	endfunction

 function Multiboard___TAddAllDamageAct takes nothing returns nothing
  local integer index= GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))
  local integer divede1e= 0
		
		if ( GetEventDamage() > 100000000 ) then
			set divede1e=R2I(GetEventDamage() / 100000000)
			set Mdamage2[index]=Mdamage2[index] + divede1e
			if ( divede1e > 300 ) then
     call GetAchievementAndSave(ConvertedPlayer(index) , 46)
			endif
		endif
		set Mdamage1[index]=Mdamage1[index] + R2I(ModuloReal(GetEventDamage(), 100000000))
		if ( Mdamage1[index] > 100000000 ) then
			set Mdamage2[index]=Mdamage2[index] + 1
			set Mdamage1[index]=Mdamage1[index] - 100000000
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AddCenterCredit takes unit u returns nothing
  local integer index
		if ( udg_RENSHU > 1 ) then
			set index=GetConvertedPlayerId(GetOwningPlayer(u))
			set centerCredit[index]=centerCredit[index] + ( udg_Bo ) * CModeH(1 , 2)
			call MultiboardSetItemValueBJ(udg_D, 9, index + 1, I2S(centerCredit[index]))
		else
			set index=GetConvertedPlayerId(GetOwningPlayer(u))
			set centerCredit[index]=centerCredit[index] + ( udg_Bo / 2 ) * CModeH(1 , 2)
			call MultiboardSetItemValueBJ(udg_D, 9, index + 1, I2S(centerCredit[index]))
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function Multiboard___FlashDamage takes nothing returns nothing
  local integer i= 1

		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				//Âà∑Êñ∞Â§öÈù¢Êùø
			 	call LeaderboardSetPlayerItemValueBJ(Player(11), udg_Paihang[i], Mdamage1[i])
    			call LeaderboardSetPlayerItemLabelBJ(Player(11), udg_Paihang[i], "ÊÄª‰º§ÂÆ≥(" + I2S(Mdamage2[i]) + "‰∫ø)")
     call SaveAchievement6(ConvertedPlayer(i) , Mdamage2[i])
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function Multiboard___InitMultiboard takes nothing returns nothing
  local trigger t= CreateTrigger()

		call TimerStart(CreateTimer(), 20, true, function Multiboard___FlashDamage)

    	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	    call TriggerAddCondition(t, Condition(function Multiboard___TAddAllDamageCon))
	    call TriggerAddAction(t, function Multiboard___TAddAllDamageAct)

    	set t=null
	endfunction

//library Multiboard ends
//library PIV:

//---------------------------------------------------------------------------------------------------
	
 function PIV___TableHas takes integer i returns boolean
		return HaveSavedBoolean(PIV___PIVTable, kPIV, i)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsPIV takes player p returns boolean
		return sPIV[GetConvertedPlayerId(p)]
	endfunction

//---------------------------------------------------------------------------------------------------
    
    function PIV___GetPIVCode takes string s returns integer
        local string result= s
        local integer i= 1
        loop
            exitwhen i > 6
            set result=I2S(StringHash(result))
            set i=i + 1
        endloop
        return S2I(SubStringBJ(result, 2, StringLength(result)))
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function PIV___InitPlayerPIV takes player p returns nothing
		if ( PIV___isFirst ) then
			set PIV___isFirst=false
			set udg_I_Er_diansi[1]=3
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†‰ª¨Â∑≤ÊøÄÊ¥ªÂú®‰ªªÊÑèÈöæÂ∫¶‰∏ãËé∑Âæó24+5+1Ê≥¢ÁöÑÁâπÊùÉ.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂü∫Âú∞Ëé∑Âæó‰∫ÜÈ¢ùÂ§ñÁöÑ2Ê¨°Èò≤Êä§ÁΩ©.")
		endif

		set sPIV[GetConvertedPlayerId(p)]=true
		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊøÄÊ¥ªÊàêÂäü,‰Ω†Â∑≤ÁªèËé∑ÂæóÊ∞∏‰πÖËµûÂä©ÁâπÊùÉÔºåÂ¶ÇÊûúË¶ÅÂÖ≥Èó≠ËµûÂä©ÂäüËÉΩ,ËØ∑ËæìÂÖ•-zz")
   call SavePIV(p , PIV___GetPIVCode(GetPlayerName(p)))
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitPIVHero takes unit u returns nothing
		if ( playerName[GetConvertedPlayerId(GetOwningPlayer(u))] == "‰∏ÄÁ∫ßÂ∞èÊÄ™" ) then
			call AdjustPlayerStateBJ(30000, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
			call UnitAddItemByIdSwapped('IXU1', u)
	        call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(u)))
			call UnitAddItemByIdSwapped('IXU1', u)
	        call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(u)))
		endif

		if ( IsPIV(GetOwningPlayer(u)) ) then
			call UnitAddItemByIdSwapped('IXU1', u)
	        call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(u)))
			call AdjustPlayerStateBJ(8000, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
			call Discolor(u)
			return
		endif

		if ( ( not ( IsPIV(GetOwningPlayer(u)) ) ) and IsColorSpin(GetOwningPlayer(u)) ) then
			call Discolor(u)
		endif

   call GetPlatformLevelGold(GetOwningPlayer(u))

	endfunction

//---------------------------------------------------------------------------------------------------
	
 function CertificatePIV takes player p,string vCode returns nothing

		if ( vCode == null and PIV___TableHas(PIV___GetPIVCode(GetPlayerName(p))) ) then
			call PIV___InitPlayerPIV(p)
			return
		endif

		if ( I2S(PIV___GetPIVCode(GetPlayerName(p))) == vCode ) then
			call PIV___InitPlayerPIV(p)
			return
		endif

		if ( vCode != null ) then
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊøÄÊ¥ªÁ†Å‰∏çÊ≠£Á°ÆÔºÅ")
		endif
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function hasPIV takes nothing returns boolean
  local integer i= 1
		loop
			exitwhen i > 6
			if ( IsPIV(ConvertedPlayer(i)) ) then
				return true
			endif
			set i=i + 1
		endloop
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
    function ChatPIV takes nothing returns nothing
        local string chat= GetEventPlayerChatString()
        local string vCode= SubStringBJ(chat, 2, StringLength(chat))
		call CertificatePIV(GetTriggerPlayer() , vCode)
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function PIV___PIVDialogClick takes nothing returns nothing
     local dialog d= GetClickedDialogBJ()
     local integer i= 0
     local string s= LoadStr(PIV___PIVTable, GetHandleId(d), kPIVStr)
     local player p= LoadPlayerHandle(PIV___PIVTable, GetHandleId(d), kPIVPlayer)
	    //È™åËØÅ
	    if ( GetClickedButtonBJ() == LoadButtonHandle(PIV___PIVTable, GetHandleId(d), 10) ) then
	        call CertificatePIV(p , s)
	        call FlushChildHashtable(PIV___PIVTable, GetHandleId(d))
        	call DialogDisplay(p, d, false)
	        call DialogClear(d)
	        call DialogDestroy(d)
	        set d=null
	        set s=null
	        set p=null
	        call DestroyTrigger(GetTriggeringTrigger())
	        return
	    endif

	    //ËæìÂÖ•
	    loop
	        exitwhen i > 9
	        if ( GetClickedButtonBJ() == LoadButtonHandle(PIV___PIVTable, GetHandleId(d), i) ) then
	            set s=s + I2S(i)
	            call SaveStr(PIV___PIVTable, GetHandleId(d), kPIVStr, s)
	            exitwhen true
	        endif
	        set i=i + 1
	    endloop

	    call DialogSetMessage(d, "ÊøÄÊ¥ªÁ†Å:" + s)
        call DialogDisplay(p, d, true)
	    set d=null
	    set s=null
	    set p=null
	endfunction

 function CreatePIVDialog takes nothing returns nothing
     local trigger t
     local dialog d

		if ( IsPIV(GetTriggerPlayer()) ) then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤ÊøÄÊ¥ª‰∫ÜÊ∞∏‰πÖËµûÂä©ÊùÉÈôê,Êó†È°ªÈáçÂ§çÊøÄÊ¥ªÔºÅ")
			return
		endif

		if ( udg_H[GetConvertedPlayerId(GetTriggerPlayer())] != null ) then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊøÄÊ¥ªÂ§±Ë¥•,ËØ∑Âú®ÈÄâÊã©Ëã±ÈõÑÂâçÊøÄÊ¥ªÔºÅ")
			return
		endif

	    set t=CreateTrigger()
	    set d=DialogCreate()
	    call DialogSetMessage(d, "ËØ∑‰ªéÁ¨¨1‰ΩçÂºÄÂßã‰æùÊ¨°ËæìÂÖ•ÊøÄÊ¥ªÁ†Å")
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 0, DialogAddButton(d, "0", '0'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 1, DialogAddButton(d, "1", '1'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 2, DialogAddButton(d, "2", '2'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 3, DialogAddButton(d, "3", '3'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 4, DialogAddButton(d, "4", '4'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 5, DialogAddButton(d, "5", '5'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 6, DialogAddButton(d, "6", '6'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 7, DialogAddButton(d, "7", '7'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 8, DialogAddButton(d, "8", '8'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 9, DialogAddButton(d, "9", '9'))
	    call SaveButtonHandle(PIV___PIVTable, GetHandleId(d), 10, DialogAddButton(d, "ËæìÂÖ•ÂÆåÊØï|cffff6800(Esc)|r", 512))
	    call SaveStr(PIV___PIVTable, GetHandleId(d), kPIVStr, "")
	    call SavePlayerHandle(PIV___PIVTable, GetHandleId(d), kPIVPlayer, GetTriggerPlayer())
	    call SaveInteger(PIV___PIVTable, GetHandleId(d), kPIVPointer, 1)
	    call DialogDisplay(GetTriggerPlayer(), d, true)
	    call TriggerRegisterDialogEvent(t, d)
	    call TriggerAddAction(t, function PIV___PIVDialogClick)
	    set d=null
	    set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Qskc_GetL takes player l100,string str,integer l10O,integer l1O0 returns boolean
  local integer OO11=0
  local integer lI0O=0
  local integer l0O1=0
  local integer O011=0
  local integer llO0=0
  local integer ll0O= 0
  local integer O01l= 0
  local string OOll=SubStringBJ(str, 11, 9999)
  local string OOl1=SubStringBJ(str, 1, 10)
  local integer llOO=StringLength(OOll) - 2
  local integer O0l1=IAbsBJ(StringHash(GetPlayerName(l100)))
		set ll0O=StringHash(OOll)
		set ll0O=ll0O + StringHash(I2S(StringLength(OOll)))
		loop
		exitwhen llO0 >= StringLength(OOll)
		set ll0O=ll0O + StringHash(SubString(OOll, llO0, llO0 + 1))
		set O01l=S2I(SubStringBJ(R2S(IAbsBJ(ll0O)), 1, 2)) + S2I(SubStringBJ(R2S(IAbsBJ(ll0O)), 3, 4))
		set llO0=llO0 + 1
		endloop
		if StringLength(str) < 90 then
		return false
		endif
		loop
		exitwhen O011 >= O01l
		set O0l1=IAbsBJ(StringHash(I2S(O0l1)))
		set O011=O011 + 1
		endloop
		if O0l1 < $3B9ACA00 then
		set O0l1=O0l1 + $3B9ACA00
		endif
		loop
		exitwhen OO11 > llOO
		set lI0O=lI0O + StringHash(SubString(OOll, OO11, OO11 + 2)) + StringHash(I2S(l0O1))
		set l0O1=l0O1 + StringHash(I2S(lI0O)) - StringHash(SubString(OOll, OO11, OO11 + 2))
		set OO11=OO11 + 1
		endloop
		return lI0O == l10O and l0O1 == l1O0 and I2S(O0l1) == OOl1
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Fgetc_GetL takes player l1000,string l1OOO,integer l10OO,integer l1O00 returns boolean
  local integer OO111=0
  local integer lI0OO=0
  local integer l0O11=0
  local integer O0111=0
  local integer llO00=0
  local integer ll0OO=0
  local integer O01ll=0
  local integer O10ll=0
  local integer O1l0l=0
  local integer llOOO=0
  local string lllOO= ""
  local string ll1OO= ""
  local string array l1lOO
  local integer O0l11=IAbsBJ(StringHash(GetPlayerName(l1000)))
  local integer l11O0=IAbsBJ(StringHash(GetPlayerName(l1000)))
  local string OOl11=SubStringBJ(l1OOO, 1, 10)
  local string OOlll=SubStringBJ(l1OOO, 11, 9999)
		set l1lOO[0]=SubStringBJ(OOlll, 1, 3)
		set l1lOO[1]=SubStringBJ(OOlll, 9, 11)
		set l1lOO[2]=SubStringBJ(OOlll, 16, 19)
		set l1lOO[3]=SubStringBJ(OOlll, 4, 8)
		set l1lOO[4]=SubStringBJ(OOlll, 12, 15)
		set l1lOO[5]=SubStringBJ(OOlll, 20, 999)
		set lllOO=l1lOO[0] + l1lOO[1] + l1lOO[2]
		set ll1OO=l1lOO[3] + l1lOO[4] + l1lOO[5]
		set llOOO=StringLength(ll1OO) - 2
		set ll0OO=StringHash(ll1OO)
		set ll0OO=ll0OO + StringHash(I2S(StringLength(ll1OO)))
		loop
		exitwhen llO00 >= StringLength(ll1OO)
		set ll0OO=ll0OO + StringHash(SubString(ll1OO, llO00, llO00 + 1))
		set O01ll=S2I(SubStringBJ(I2S(IAbsBJ(ll0OO)), 1, 2)) + S2I(SubStringBJ(I2S(IAbsBJ(ll0OO)), 3, 4))
		set O10ll=S2I(SubStringBJ(I2S(IAbsBJ(ll0OO)), 4, 5)) + S2I(SubStringBJ(I2S(IAbsBJ(ll0OO)), 6, 7))
		set llO00=llO00 + 1
		endloop
		loop
		exitwhen O0111 >= O01ll
		set O0l11=IAbsBJ(StringHash(I2S(O0l11)) + $77359400)
		set O0111=O0111 + 1
		endloop
		loop
		exitwhen O1l0l >= O10ll
		set l11O0=IAbsBJ(StringHash(I2S(l11O0)) + $77359400)
		set O1l0l=O1l0l + 1
		endloop
		if O0l11 < $3B9ACA00 then
		set O0l11=O0l11 + $3B9ACA00
		endif
		if l11O0 < $3B9ACA00 then
		set l11O0=l11O0 + $3B9ACA00
		endif
		loop
		exitwhen OO111 > llOOO
		set lI0OO=lI0OO + StringHash(SubString(ll1OO, OO111, OO111 + 2)) + StringHash(I2S(l0O11))
		set l0O11=l0O11 + StringHash(I2S(lI0OO)) - StringHash(SubString(ll1OO, OO111, OO111 + 2))
		set OO111=OO111 + 1
		endloop
		return lI0OO == l10OO and l0O11 == l1O00 and I2S(O0l11) == OOl11 and I2S(l11O0) == lllOO
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function PIV___Verify17Wanba takes nothing returns nothing

	    if ( ( Qskc_GetL(GetTriggerPlayer() , GetEventPlayerChatString() , - 117135511 , 628755061) ) ) then

		    if ( IsPIV(GetTriggerPlayer()) ) then
				call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â∑≤ÊøÄÊ¥ª‰∫ÜÊ∞∏‰πÖËµûÂä©ÊùÉÈôê,Êó†È°ªÈáçÂ§çÊøÄÊ¥ªÔºÅ")
				return
			endif

			if ( udg_H[GetConvertedPlayerId(GetTriggerPlayer())] != null ) then
				call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊøÄÊ¥ªÂ§±Ë¥•,ËØ∑Âú®ÈÄâÊã©Ëã±ÈõÑÂâçÊøÄÊ¥ªÔºÅ")
				return
			endif

			call PIV___InitPlayerPIV(GetTriggerPlayer())
		elseif ( ( Fgetc_GetL(GetTriggerPlayer() , GetEventPlayerChatString() , - 767946655 , - 1650132445) ) ) then
    call SetSeyuSpinOK(GetTriggerPlayer())
    call SetXiaoyueSpinOK(GetTriggerPlayer())
    call SetYanmieSpinOK(GetTriggerPlayer())
    call SetXuanxueSpinOK(GetTriggerPlayer())
    call SetTaiyaSpinOK(GetTriggerPlayer())
    call SetChenji1SpinOK(GetTriggerPlayer())
    call SetHanshangSpinOK(GetTriggerPlayer())
    call SetLingxueSpinOK(GetTriggerPlayer())
    call SetChenji2SpinOK(GetTriggerPlayer())
    call SetMoqiSpinOK(GetTriggerPlayer())
    call SetKaisaSpinOK(GetTriggerPlayer())
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CancelVIP takes player p returns nothing

	    if not ( IsPIV(p) ) then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Âπ∂ÈùûÊ∞∏‰πÖËµûÂä©,ÂÖ≥Èó≠Â§±Ë¥•.")
			return
		endif
		if ( udg_H[GetConvertedPlayerId(p)] != null ) then
			call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•ÂäüËÉΩ‰ªÖÂú®ÈÄâÊã©Ëã±ÈõÑÂâçËæìÂÖ•ÊúâÊïà.")
			return
		endif
		call DisplayTextToPlayer(p, 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂÖ≥Èó≠ËµûÂä©ÂäüËÉΩÊàêÂäü.")
		set sPIV[GetConvertedPlayerId(p)]=false
		if not ( hasPIV() ) then
			set PIV___isFirst=true
			set udg_I_Er_diansi[1]=1
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†‰ª¨Â∑≤Â§±ÂéªÂú®‰ªªÊÑèÈöæÂ∫¶‰∏ãËé∑Âæó24+5Ê≥¢ÁöÑÁâπÊùÉ.")
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂü∫Âú∞Â§±Âéª‰∫ÜÈ¢ùÂ§ñÁöÑ2Ê¨°Èò≤Êä§ÁΩ©.")
		endif
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function InitAllPIV takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			call CertificatePIV(ConvertedPlayer(i) , null)
    if ( IsSavePIV(ConvertedPlayer(i) , PIV___GetPIVCode(GetPlayerName(ConvertedPlayer(i)))) ) then
    		call CertificatePIV(ConvertedPlayer(i) , I2S(PIV___GetPIVCode(GetPlayerName(ConvertedPlayer(i)))))
    endif
			set i=i + 1
		endloop
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function ClosePIV takes nothing returns nothing
		call FlushParentHashtable(PIV___PIVTable)
	endfunction
	
//---------------------------------------------------------------------------------------------------
 function PIV___InitPIV takes nothing returns nothing
  local integer i= 1
  local trigger t= CreateTrigger()

		loop
			exitwhen i > 6
			set sPIV[i]=false
			set i=i + 1
		endloop

		call SaveBoolean(PIV___PIVTable, kPIV, 560584534, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 632066098, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 679792348, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 244103987, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1624950439, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 981252778, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 442300691, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 127836247, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 747551996, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1549153604, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 243951516, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 472054031, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 156566316, true)
		//call SaveBoolean(PIVTable,kPIV,805389327,true)
		//2.64:
		call SaveBoolean(PIV___PIVTable, kPIV, 1386963254, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 920323633, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 2028760546, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 76404545, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 772953595, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 122150585, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1866394937, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 668865994, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 11465124, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1483305270, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 2096927165, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 89160614, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 416503868, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 366425370, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 24682425, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 838476900, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 21235704, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 259338775, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1945313488, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 185409653, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 848895504, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 970908405, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1406966725, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 476387019, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1407806903, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 39350822, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 947015907, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1524326451, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1199483482, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 85817056, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1884797690, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 138245006, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 55883798, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 237209239, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 208207478, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 764958705, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1556955637, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 769983234, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1018574645, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1602970119, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1968941945, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 281722192, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 55774054, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1794669457, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 4775200, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 5934560, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1556972891, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1308263866, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 819949938, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 935082247, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 874526666, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 274143214, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 242646218, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 42780764, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 15784280, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1846898150, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 162418494, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1028656343, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 871412081, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 724251537, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 572061793, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1562039753, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 27535638, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 2856770, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 29748027, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 78547297, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1691009533, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 108509507, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 863575409, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 47256210, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 386002974, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 253021838, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 4943346, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 655724335, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1300925723, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 526128524, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 527932086, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 491536351, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 765412438, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1807059619, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 158219634, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 812702019, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 93444649, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1652902274, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 42083283, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 79706688, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 81738293, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 3334224, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 705577564, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1834015365, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 249745215, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 936721376, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 96122563, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 794534180, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 242232349, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 99200445, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 17295550, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 192227001, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 500660555, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1321008731, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 917107829, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1277254148, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 556905161, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 55162747, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 395306233, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 442043076, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 987238722, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 454437652, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 50731632, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1088397663, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1193547207, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 263166628, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 991993981, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 343567476, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 41292785, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 199066564, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 58301014, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 904823142, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 13683093, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1242297465, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 610812043, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 225975698, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1778330124, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1021570043, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 22278263, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 534339887, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 46380924, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 434531878, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 48827206, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 23689807, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 601303810, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 2024814813, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1965676132, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 1356170852, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 730864612, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 415945636, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 162905578, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 69068141, true)
		call SaveBoolean(PIV___PIVTable, kPIV, 541279117, true)

		//test
		//call SaveBoolean(PIVTable,kPIV,238541434,true)


		call TriggerRegisterPlayerChatEvent(t, Player(0), "##", true)
		call TriggerRegisterPlayerChatEvent(t, Player(1), "##", true)
		call TriggerRegisterPlayerChatEvent(t, Player(2), "##", true)
		call TriggerRegisterPlayerChatEvent(t, Player(3), "##", true)
		call TriggerRegisterPlayerChatEvent(t, Player(4), "##", true)
		call TriggerRegisterPlayerChatEvent(t, Player(5), "##", true)
	    call TriggerAddAction(t, function CreatePIVDialog)

	    set t=CreateTrigger()
		call TriggerRegisterPlayerChatEvent(t, Player(0), "", false)
		call TriggerRegisterPlayerChatEvent(t, Player(1), "", false)
		call TriggerRegisterPlayerChatEvent(t, Player(2), "", false)
		call TriggerRegisterPlayerChatEvent(t, Player(3), "", false)
		call TriggerRegisterPlayerChatEvent(t, Player(4), "", false)
		call TriggerRegisterPlayerChatEvent(t, Player(5), "", false)
	    call TriggerAddAction(t, function PIV___Verify17Wanba)

	    set t=null
	endfunction


//library PIV ends
//library Pet:

    
//---------------------------------------------------------------------------------------------------
    
    function CreatePet takes player owner,unit pet returns nothing
        local unit u= pet

        call PlaySoundBJ(gg_snd_GoodJob)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(pet), GetUnitY(pet)))

        //Âà†Èô§ÂéüÊúâÁöÑÂÆ†Áâ©Âπ∂Ê∏ÖÁ©∫ÁºìÂ≠ò
        call SetUnitOwner(pet, owner, true)
        

        //Ê∑ªÂä†ÊäÄËÉΩ
        if ( IsTianyan ) then
            call RemoveDiffAttack(u)
        endif
        call UnitAddAbilityBJ('AInv', u)
        call UnitAddAbilityBJ('A06E', u)
        call UnitAddAbilityBJ('A06F', u)
        call UnitAddAbilityBJ('A0P0', u)
        call UnitAddType(u, UNIT_TYPE_PEON)
        call SetUnitAcquireRange(u, 600.00)
        call UnitAddAbilityBJ('A08M', u)
        call GroupAddUnitSimple(u, GPet[GetConvertedPlayerId(owner)])
        call UnitAddAbilityBJ('Avul', u)
        call DisplayTextToPlayer(owner, 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊçïÊçâÊàêÂäüÔºÅ")
        call IssueTargetOrder(u, "attack", udg_H[GetConvertedPlayerId(owner)])
        call SetPlayerStateBJ(owner, PLAYER_STATE_RESOURCE_FOOD_USED, ( GetPlayerState(owner, PLAYER_STATE_RESOURCE_FOOD_USED) + 1 ))
        set u=null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function TCatchPetAct takes nothing returns nothing

         
//textmacro instance: CatchPet("A06D","I073","10000")
            //Âø†ËØöÂçï‰Ωç
            if ( GetSpellAbilityId() == 'A06D' ) then
                //Âø†ËØöÂçï‰ΩçÊó†Êïà:
                if ( IsLoyalUnit(GetSpellTargetUnit()) ) then
                    call UnitAddItemByIdSwapped('I073', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰∏çËÉΩÊäìÂø†ËØöÂçï‰Ωç„ÄÇ")
                    return
                endif
                if ( GetUnitLevel(GetSpellTargetUnit()) > 19 and GetUnitLevel(GetSpellTargetUnit()) > GetHeroLevel(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) ) then
                    call UnitAddItemByIdSwapped('I073', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑËã±ÈõÑÈúÄË¶Å" + I2S(GetUnitLevel(GetSpellTargetUnit())) + "Á∫ß‰Ω†ÊâçËÉΩÊçïÊçâËØ•Âçï‰Ωç.")
                    return
                endif
                if ( ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_USED) >= ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_CAP) - 0 ) ) ) then
                    call UnitAddItemByIdSwapped('I073', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰∫∫Âè£Â∑≤Êª°,ËØ∑ÈÄöËøáÁÇºÁã±ÊèêÂçá‰Ω†ÁöÑ‰∫∫Âè£Êï∞.")
                    return
                endif
                if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetSpellTargetUnit()) >= 10000 ) ) then
                    call UnitAddItemByIdSwapped('I073', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁõÆÊ†áÁîüÁâ©HP‰∏∫" + I2S(R2I(GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) / 10000)) + "‰∏áË°Ä,Ë∂ÖËøá‰∫ÜÁΩëÁöÑ" + I2S(10000) + "HPÊçïÊçâ‰∏äÈôê!")
                    return
                endif
                if ( GetSpellAbilityId() == 'A04Q' ) then
                     call SavePetAchievement(GetOwningPlayer(GetTriggerUnit()) , GetUnitLevel(GetSpellTargetUnit()))
                endif
                call CreatePet(GetOwningPlayer(GetTriggerUnit()) , GetSpellTargetUnit())
                return
            endif
//end of: CatchPet("A06D","I073","10000")
//textmacro instance: CatchPet("A04P","I074","100000")
            //Âø†ËØöÂçï‰Ωç
            if ( GetSpellAbilityId() == 'A04P' ) then
                //Âø†ËØöÂçï‰ΩçÊó†Êïà:
                if ( IsLoyalUnit(GetSpellTargetUnit()) ) then
                    call UnitAddItemByIdSwapped('I074', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰∏çËÉΩÊäìÂø†ËØöÂçï‰Ωç„ÄÇ")
                    return
                endif
                if ( GetUnitLevel(GetSpellTargetUnit()) > 19 and GetUnitLevel(GetSpellTargetUnit()) > GetHeroLevel(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) ) then
                    call UnitAddItemByIdSwapped('I074', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑËã±ÈõÑÈúÄË¶Å" + I2S(GetUnitLevel(GetSpellTargetUnit())) + "Á∫ß‰Ω†ÊâçËÉΩÊçïÊçâËØ•Âçï‰Ωç.")
                    return
                endif
                if ( ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_USED) >= ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_CAP) - 0 ) ) ) then
                    call UnitAddItemByIdSwapped('I074', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰∫∫Âè£Â∑≤Êª°,ËØ∑ÈÄöËøáÁÇºÁã±ÊèêÂçá‰Ω†ÁöÑ‰∫∫Âè£Êï∞.")
                    return
                endif
                if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetSpellTargetUnit()) >= 100000 ) ) then
                    call UnitAddItemByIdSwapped('I074', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁõÆÊ†áÁîüÁâ©HP‰∏∫" + I2S(R2I(GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) / 10000)) + "‰∏áË°Ä,Ë∂ÖËøá‰∫ÜÁΩëÁöÑ" + I2S(100000) + "HPÊçïÊçâ‰∏äÈôê!")
                    return
                endif
                if ( GetSpellAbilityId() == 'A04Q' ) then
                     call SavePetAchievement(GetOwningPlayer(GetTriggerUnit()) , GetUnitLevel(GetSpellTargetUnit()))
                endif
                call CreatePet(GetOwningPlayer(GetTriggerUnit()) , GetSpellTargetUnit())
                return
            endif
//end of: CatchPet("A04P","I074","100000")
//textmacro instance: CatchPet("A04Q","I075","500000")
            //Âø†ËØöÂçï‰Ωç
            if ( GetSpellAbilityId() == 'A04Q' ) then
                //Âø†ËØöÂçï‰ΩçÊó†Êïà:
                if ( IsLoyalUnit(GetSpellTargetUnit()) ) then
                    call UnitAddItemByIdSwapped('I075', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰∏çËÉΩÊäìÂø†ËØöÂçï‰Ωç„ÄÇ")
                    return
                endif
                if ( GetUnitLevel(GetSpellTargetUnit()) > 19 and GetUnitLevel(GetSpellTargetUnit()) > GetHeroLevel(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) ) then
                    call UnitAddItemByIdSwapped('I075', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑËã±ÈõÑÈúÄË¶Å" + I2S(GetUnitLevel(GetSpellTargetUnit())) + "Á∫ß‰Ω†ÊâçËÉΩÊçïÊçâËØ•Âçï‰Ωç.")
                    return
                endif
                if ( ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_USED) >= ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_CAP) - 0 ) ) ) then
                    call UnitAddItemByIdSwapped('I075', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰∫∫Âè£Â∑≤Êª°,ËØ∑ÈÄöËøáÁÇºÁã±ÊèêÂçá‰Ω†ÁöÑ‰∫∫Âè£Êï∞.")
                    return
                endif
                if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetSpellTargetUnit()) >= 500000 ) ) then
                    call UnitAddItemByIdSwapped('I075', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁõÆÊ†áÁîüÁâ©HP‰∏∫" + I2S(R2I(GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) / 10000)) + "‰∏áË°Ä,Ë∂ÖËøá‰∫ÜÁΩëÁöÑ" + I2S(500000) + "HPÊçïÊçâ‰∏äÈôê!")
                    return
                endif
                if ( GetSpellAbilityId() == 'A04Q' ) then
                     call SavePetAchievement(GetOwningPlayer(GetTriggerUnit()) , GetUnitLevel(GetSpellTargetUnit()))
                endif
                call CreatePet(GetOwningPlayer(GetTriggerUnit()) , GetSpellTargetUnit())
                return
            endif
//end of: CatchPet("A04Q","I075","500000")
//textmacro instance: CatchPet("A04R","I072","2000000")
            //Âø†ËØöÂçï‰Ωç
            if ( GetSpellAbilityId() == 'A04R' ) then
                //Âø†ËØöÂçï‰ΩçÊó†Êïà:
                if ( IsLoyalUnit(GetSpellTargetUnit()) ) then
                    call UnitAddItemByIdSwapped('I072', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰∏çËÉΩÊäìÂø†ËØöÂçï‰Ωç„ÄÇ")
                    return
                endif
                if ( GetUnitLevel(GetSpellTargetUnit()) > 19 and GetUnitLevel(GetSpellTargetUnit()) > GetHeroLevel(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) ) then
                    call UnitAddItemByIdSwapped('I072', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑËã±ÈõÑÈúÄË¶Å" + I2S(GetUnitLevel(GetSpellTargetUnit())) + "Á∫ß‰Ω†ÊâçËÉΩÊçïÊçâËØ•Âçï‰Ωç.")
                    return
                endif
                if ( ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_USED) >= ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_CAP) - 0 ) ) ) then
                    call UnitAddItemByIdSwapped('I072', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰∫∫Âè£Â∑≤Êª°,ËØ∑ÈÄöËøáÁÇºÁã±ÊèêÂçá‰Ω†ÁöÑ‰∫∫Âè£Êï∞.")
                    return
                endif
                if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetSpellTargetUnit()) >= 2000000 ) ) then
                    call UnitAddItemByIdSwapped('I072', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁõÆÊ†áÁîüÁâ©HP‰∏∫" + I2S(R2I(GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) / 10000)) + "‰∏áË°Ä,Ë∂ÖËøá‰∫ÜÁΩëÁöÑ" + I2S(2000000) + "HPÊçïÊçâ‰∏äÈôê!")
                    return
                endif
                if ( GetSpellAbilityId() == 'A04Q' ) then
                     call SavePetAchievement(GetOwningPlayer(GetTriggerUnit()) , GetUnitLevel(GetSpellTargetUnit()))
                endif
                call CreatePet(GetOwningPlayer(GetTriggerUnit()) , GetSpellTargetUnit())
                return
            endif
//end of: CatchPet("A04R","I072","2000000")
//textmacro instance: CatchPet("A0E1","I071","20000000")
            //Âø†ËØöÂçï‰Ωç
            if ( GetSpellAbilityId() == 'A0E1' ) then
                //Âø†ËØöÂçï‰ΩçÊó†Êïà:
                if ( IsLoyalUnit(GetSpellTargetUnit()) ) then
                    call UnitAddItemByIdSwapped('I071', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰∏çËÉΩÊäìÂø†ËØöÂçï‰Ωç„ÄÇ")
                    return
                endif
                if ( GetUnitLevel(GetSpellTargetUnit()) > 19 and GetUnitLevel(GetSpellTargetUnit()) > GetHeroLevel(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) ) then
                    call UnitAddItemByIdSwapped('I071', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑËã±ÈõÑÈúÄË¶Å" + I2S(GetUnitLevel(GetSpellTargetUnit())) + "Á∫ß‰Ω†ÊâçËÉΩÊçïÊçâËØ•Âçï‰Ωç.")
                    return
                endif
                if ( ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_USED) >= ( GetPlayerState(GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_FOOD_CAP) - 0 ) ) ) then
                    call UnitAddItemByIdSwapped('I071', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰∫∫Âè£Â∑≤Êª°,ËØ∑ÈÄöËøáÁÇºÁã±ÊèêÂçá‰Ω†ÁöÑ‰∫∫Âè£Êï∞.")
                    return
                endif
                if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetSpellTargetUnit()) >= 20000000 ) ) then
                    call UnitAddItemByIdSwapped('I071', GetTriggerUnit())
                    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁõÆÊ†áÁîüÁâ©HP‰∏∫" + I2S(R2I(GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) / 10000)) + "‰∏áË°Ä,Ë∂ÖËøá‰∫ÜÁΩëÁöÑ" + I2S(20000000) + "HPÊçïÊçâ‰∏äÈôê!")
                    return
                endif
                if ( GetSpellAbilityId() == 'A04Q' ) then
                     call SavePetAchievement(GetOwningPlayer(GetTriggerUnit()) , GetUnitLevel(GetSpellTargetUnit()))
                endif
                call CreatePet(GetOwningPlayer(GetTriggerUnit()) , GetSpellTargetUnit())
                return
            endif
//end of: CatchPet("A0E1","I071","20000000")


    endfunction

//---------------------------------------------------------------------------------------------------
    
    function TAttackForbitCon takes nothing returns boolean
        return ( ( GetUnitAbilityLevelSwapped('A06F', GetAttacker()) == 1 ) and IsUnitInGroup(GetAttacker(), GPet[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) == true )
    endfunction

    function TAttackForbitAct takes nothing returns nothing
        call DisplayTextToPlayer(GetOwningPlayer(GetAttacker()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊÉ≥ÊîªÂáªÁöÑËØù‰ΩøÁî®ÊäÄËÉΩ‚ÄúÂàáÊç¢ÂΩ¢ÊÄÅ‚Äù„ÄÇ")
        //ÂÅúÊ≠¢ÂëΩ‰ª§
        call IssueImmediateOrderById(GetAttacker(), 851972)
    endfunction

//---------------------------------------------------------------------------------------------------
    
    function Pet___TPetChangeForm takes nothing returns nothing
        //ÂàáÊç¢ÂΩ¢ÊÄÅ1:
        if ( GetSpellAbilityId() == 'A06G' ) then
            call UnitAddType(GetTriggerUnit(), UNIT_TYPE_PEON)
            call UnitAddAbilityBJ('A06F', GetTriggerUnit())
            call UnitRemoveAbilityBJ('A06G', GetTriggerUnit())
            call UnitAddAbilityBJ('Avul', GetTriggerUnit())
        endif

        //ÂàáÊç¢ÂΩ¢ÊÄÅ2:
        if ( GetSpellAbilityId() == 'A06F' ) then
            call UnitRemoveType(GetTriggerUnit(), UNIT_TYPE_PEON)
            call UnitRemoveAbilityBJ('Avul', GetTriggerUnit())
            call UnitAddAbilityBJ('A06G', GetTriggerUnit())
            call UnitRemoveAbilityBJ('A06F', GetTriggerUnit())
        endif
    endfunction
//---------------------------------------------------------------------------------------------------
    

    function Pet___TPetDeathCon takes nothing returns boolean
        return ( IsUnitIllusionBJ(GetDyingUnit()) == false and ( ( IsUnitInGroup(GetDyingUnit(), GPet[1]) == true ) or ( IsUnitInGroup(GetDyingUnit(), GPet[2]) == true ) or ( IsUnitInGroup(GetDyingUnit(), GPet[3]) == true ) or ( IsUnitInGroup(GetDyingUnit(), GPet[4]) == true ) or ( IsUnitInGroup(GetDyingUnit(), GPet[5]) == true ) or ( IsUnitInGroup(GetDyingUnit(), GPet[6]) == true ) ) )
    endfunction

    function Pet___TPetDeathAct takes nothing returns nothing
        local integer index= - 1
        local integer i= 1
        local integer ii= 1

        loop
            exitwhen ii > 6
            if ( IsUnitInGroup(GetDyingUnit(), GPet[ii]) == true ) then
                set index=ii
            endif
            set ii=ii + 1
        endloop

        if ( index == - 1 ) then
            return
        endif

        call SetPlayerStateBJ(ConvertedPlayer(index), PLAYER_STATE_RESOURCE_FOOD_USED, ( GetPlayerState(ConvertedPlayer(index), PLAYER_STATE_RESOURCE_FOOD_USED) - 1 ))
        //Áâ©ÂìÅÁªô‰ªìÂ∫ì
        loop
            exitwhen i > 6
            if ( IsUnitHasSlot(UDepot[index]) ) then
                call UnitAddItemSwapped(UnitItemInSlotBJ(GetDyingUnit(), i), UDepot[index])
            else
                call SetItemPosition(UnitItemInSlotBJ(GetDyingUnit(), i), GetUnitX(UDepot[index]), GetUnitY(UDepot[index]))
            endif
            set i=i + 1
        endloop
        call PingMinimapForForce(GetForceOfPlayer(ConvertedPlayer(index)), GetUnitX(UDepot[index]), GetUnitY(UDepot[index]), 10.00)
        call DisplayTextToPlayer(ConvertedPlayer(index), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÂÆ†Áâ©‚Äú" + ( GetUnitName(GetDyingUnit()) + "‚ÄùÂ∑≤Èòµ‰∫°ÔºåÁâ©ÂìÅÂ≠òÊîæ‰∫é‰Ω†ÁöÑ‰ªìÂ∫ì„ÄÇ" ) ))
        call FlushChildHashtable(YDHT, GetHandleId(GetDyingUnit()))
        call GroupRemoveUnit(GPet[index], GetDyingUnit())
        call RemoveUnit(GetDyingUnit())

    endfunction
//---------------------------------------------------------------------------------------------------
    

    function TPetItemCon takes nothing returns boolean
        return ( ( not ( IsUnitIllusionBJ(GetTriggerUnit()) ) ) and ( IsUnitInGroup(GetTriggerUnit(), GPet[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) ) )
    endfunction

    //ÂæóÂà∞Áâ©ÂìÅ
    function TPetItemPickAct takes nothing returns nothing
        if ( ( GetItemTypeId(GetManipulatedItem()) == 'sbch' ) and ( GetUnitAbilityLevelSwapped('A06R', GetTriggerUnit()) != 1 ) ) then
            call UnitAddAbilityBJ('A06R', GetTriggerUnit())
        endif
        if ( ( GetItemTypeId(GetManipulatedItem()) == 'gcel' ) and ( GetUnitAbilityLevelSwapped('A0B9', GetTriggerUnit()) != 1 ) ) then
            call UnitAddAbilityBJ('A0B9', GetTriggerUnit())
        endif
        if ( ( GetItemTypeId(GetManipulatedItem()) == 'crys' ) and ( GetUnitAbilityLevelSwapped('A0CG', GetTriggerUnit()) != 1 ) ) then
            call UnitAddAbilityBJ('A0CG', GetTriggerUnit())
        endif
    endfunction

    //‰∏¢ÂºÉÁâ©ÂìÅ
    function TPetItemDropAct takes nothing returns nothing
        if ( ( GetItemTypeId(GetManipulatedItem()) == 'sbch' ) and ( GetUnitAbilityLevelSwapped('A06R', GetTriggerUnit()) == 1 ) ) then
            call UnitRemoveAbility(GetTriggerUnit(), 'A06R')
        else
        endif
        if ( ( GetItemTypeId(GetManipulatedItem()) == 'gcel' ) and ( GetUnitAbilityLevelSwapped('A0B9', GetTriggerUnit()) == 1 ) ) then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0B9')
        else
        endif
        if ( ( GetItemTypeId(GetManipulatedItem()) == 'crys' ) and ( GetUnitAbilityLevelSwapped('A0CG', GetTriggerUnit()) == 1 ) ) then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0CG')
        else
        endif
    endfunction
//---------------------------------------------------------------------------------------------------

    function Pet___InitPet takes nothing returns nothing
        local trigger t= CreateTrigger()
        local integer i= 1
        loop
            exitwhen i > 6
            set GPet[i]=CreateGroup()
            set i=i + 1
        endloop

        //ÊäìÂÆ†Áâ©‰∏éÂÆ†Áâ©ÂàáÊç¢ÂΩ¢ÊÄÅ
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
        call TriggerAddAction(t, function TCatchPetAct)
        call TriggerAddAction(t, function Pet___TPetChangeForm)

        //Ê≤°ÂàáÊç¢ÊîªÂáªÂΩ¢ÊÄÅÊó∂
        set t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerAddCondition(t, Condition(function TAttackForbitCon))
        call TriggerAddAction(t, function TAttackForbitAct)

        //ÂÆ†Áâ©Ê≠ª‰∫°‰∫ã‰ª∂
        set t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function Pet___TPetDeathCon))
        call TriggerAddAction(t, function Pet___TPetDeathAct)

        //ÂÆ†Áâ©Ëé∑ÂæóÁâ©ÂìÅ‰∫ã‰ª∂
        set t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
        call TriggerAddCondition(t, Condition(function TPetItemCon))
        call TriggerAddAction(t, function TPetItemPickAct)

        //ÂÆ†Áâ©‰∏¢ÂºÉÁâ©ÂìÅ‰∫ã‰ª∂
        set t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DROP_ITEM)
        call TriggerAddCondition(t, Condition(function TPetItemCon))
        call TriggerAddAction(t, function TPetItemDropAct)

        set t=null
    endfunction


//library Pet ends
//library Ring:
	

//---------------------------------------------------------------------------------------------------
	
 function Ring__RingSwitch takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local player p= LoadPlayerHandle(LHTable, id, 1)
		set BHintRing[GetConvertedPlayerId(p)]=false
		call PauseTimer(t)
		call FlushChildHashtable(LHTable, id)
		call DestroyTimer(t)
		set p=null
		set t=null
	endfunction

 function Ring__CreateRingTimer takes player p returns nothing
  local timer t= CreateTimer()
		call SavePlayerHandle(LHTable, GetHandleId(t), 1, p)
		call TimerStart(t, 5, false, function Ring__RingSwitch)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function TRingUpdateCon takes nothing returns boolean
	    return ( ( IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(GetKillingUnitBJ())) ) and ( IsUnitAliveBJ(GetKillingUnitBJ()) ) and ( GetBasicRing(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]) != null or GetBasicRing(UDepot[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]) != null ) )
	endfunction

 function TRingUpdateAct takes nothing returns nothing

     local integer count= GetKillCount(GetDyingUnit())

     local integer index= GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
     local item ring= GetBasicRing(udg_H[index])
     local unit u= udg_H[index]
     local integer i= 1
	    if ( ring == null ) then
	    	set ring=GetBasicRing(UDepot[index])
	    	set u=UDepot[index]
	    endif
	    if ( ring == null ) then
	    	set u=null
	    	return
	    endif
	    call SetItemUserData(ring, GetItemUserData(ring) + count)


//textmacro instance: ShuaRing("rat9","rlif","600")
		    if ( GetItemTypeId(ring) == 'rat9' ) then
		    	if ( GetItemUserData(ring) > 600 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('rlif', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('rlif', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/600„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("rat9","rlif","600")
//textmacro instance: ShuaRing("rlif","lgdh","1200")
		    if ( GetItemTypeId(ring) == 'rlif' ) then
		    	if ( GetItemUserData(ring) > 1200 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('lgdh', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('lgdh', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/1200„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("rlif","lgdh","1200")
//textmacro instance: ShuaRing("lgdh","clfm","1800")
		    if ( GetItemTypeId(ring) == 'lgdh' ) then
		    	if ( GetItemUserData(ring) > 1800 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('clfm', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('clfm', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/1800„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("lgdh","clfm","1800")
//textmacro instance: ShuaRing("clfm","bgst","2400")
		    if ( GetItemTypeId(ring) == 'clfm' ) then
		    	if ( GetItemUserData(ring) > 2400 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('bgst', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('bgst', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/2400„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("clfm","bgst","2400")
//textmacro instance: ShuaRing("bgst","belv","3000")
		    if ( GetItemTypeId(ring) == 'bgst' ) then
		    	if ( GetItemUserData(ring) > 3000 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('belv', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('belv', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/3000„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("bgst","belv","3000")
//textmacro instance: ShuaRing("belv","hcun","3600")
		    if ( GetItemTypeId(ring) == 'belv' ) then
		    	if ( GetItemUserData(ring) > 3600 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('hcun', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('hcun', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/3600„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("belv","hcun","3600")
//textmacro instance: ShuaRing("hcun","rag1","4200")
		    if ( GetItemTypeId(ring) == 'hcun' ) then
		    	if ( GetItemUserData(ring) > 4200 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('rag1', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('rag1', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/4200„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("hcun","rag1","4200")
//textmacro instance: ShuaRing("rag1","penr","4800")
		    if ( GetItemTypeId(ring) == 'rag1' ) then
		    	if ( GetItemUserData(ring) > 4800 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('penr', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('penr', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/4800„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("rag1","penr","4800")
//textmacro instance: ShuaRing("penr","brac","5400")
		    if ( GetItemTypeId(ring) == 'penr' ) then
		    	if ( GetItemUserData(ring) > 5400 ) then
		    		//Êª°‰∫Ü
		    		call RemoveItem(ring)
		    		if ( not ( IsUnitAliveBJ(u) ) and ( u == udg_H[index] ) ) then
		    			//Ê≠ª‰∫°‰∏çÂú®Ë∫´‰∏ä
		    			call UnitAddItemByIdSwapped('brac', UDepot[index])
		    			loop
		    				exitwhen i > 6
							call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|rÁî±‰∫é‰Ω†Â§Ñ‰∫éÊ≠ª‰∫°Áä∂ÊÄÅÔºå‰Ω†ÊàêÂäüÂçáÁ∫ßÁöÑÈ¨ºÂô®ËΩ¨ÁßªÂà∞‰∫Ü‰Ω†ÁöÑ‰ªìÂ∫ìÈáåÔºåËæìÂÖ•\"-H\"Êù•Âè¨Âî§‰ªìÂ∫ì„ÄÇ")
		    				set i=i + 1
		    			endloop
					else
		    			call UnitAddItemByIdSwapped('brac', u)
		    		endif
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/5400„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRing("penr","brac","5400")

	    set ring=null
	    set u=null

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function TRingMaxCon takes nothing returns boolean
	    return ( ( IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(GetKillingUnitBJ())) == true ) and ( IsUnitAliveBJ(GetKillingUnitBJ()) == true ) and GetMaxRing(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]) != null )
	endfunction

 function TRingMaxAct takes nothing returns nothing

     local integer count= GetKillCount(GetDyingUnit())

     local integer index= GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
     local item ring= GetMaxRing(udg_H[index])

	    call SetItemUserData(ring, GetItemUserData(ring) + count)


//textmacro instance: ShuaRingMax("brac","5000")
		    if ( GetItemTypeId(ring) == 'brac' ) then
		    	if ( GetItemUserData(ring) > 1000 ) then
		    		call SetItemCharges(ring, GetItemCharges(ring) + 1)
         call SaveRingAchievement(GetOwningPlayer(GetKillingUnitBJ()) , GetItemCharges(ring))
	   				call SetItemUserData(ring, 0)
					call AddHero3W(udg_H[index] , 5000)
    				call TriggerExecute(gg_trg_papa8____________u)
   					call TriggerExecute(gg_trg_papa10____________u)
    				call TriggerExecute(gg_trg_papa9____________u)
    				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Avatar\\AvatarCaster.mdl", GetUnitX(udg_H[index]), GetUnitY(udg_H[index])))
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/1000„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRingMax("brac","5000")
//textmacro instance: ShuaRingMax("I05W","13000")
		    if ( GetItemTypeId(ring) == 'I05W' ) then
		    	if ( GetItemUserData(ring) > 1000 ) then
		    		call SetItemCharges(ring, GetItemCharges(ring) + 1)
         call SaveRingAchievement(GetOwningPlayer(GetKillingUnitBJ()) , GetItemCharges(ring))
	   				call SetItemUserData(ring, 0)
					call AddHero3W(udg_H[index] , 13000)
    				call TriggerExecute(gg_trg_papa8____________u)
   					call TriggerExecute(gg_trg_papa10____________u)
    				call TriggerExecute(gg_trg_papa9____________u)
    				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Avatar\\AvatarCaster.mdl", GetUnitX(udg_H[index]), GetUnitY(udg_H[index])))
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/1000„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRingMax("I05W","13000")
//textmacro instance: ShuaRingMax("I05V","10000")
		    if ( GetItemTypeId(ring) == 'I05V' ) then
		    	if ( GetItemUserData(ring) > 1000 ) then
		    		call SetItemCharges(ring, GetItemCharges(ring) + 1)
         call SaveRingAchievement(GetOwningPlayer(GetKillingUnitBJ()) , GetItemCharges(ring))
	   				call SetItemUserData(ring, 0)
					call AddHero3W(udg_H[index] , 10000)
    				call TriggerExecute(gg_trg_papa8____________u)
   					call TriggerExecute(gg_trg_papa10____________u)
    				call TriggerExecute(gg_trg_papa9____________u)
    				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Avatar\\AvatarCaster.mdl", GetUnitX(udg_H[index]), GetUnitY(udg_H[index])))
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/1000„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRingMax("I05V","10000")
//textmacro instance: ShuaRingMax("lhst","10000")
		    if ( GetItemTypeId(ring) == 'lhst' ) then
		    	if ( GetItemUserData(ring) > 1000 ) then
		    		call SetItemCharges(ring, GetItemCharges(ring) + 1)
         call SaveRingAchievement(GetOwningPlayer(GetKillingUnitBJ()) , GetItemCharges(ring))
	   				call SetItemUserData(ring, 0)
					call AddHero3W(udg_H[index] , 10000)
    				call TriggerExecute(gg_trg_papa8____________u)
   					call TriggerExecute(gg_trg_papa10____________u)
    				call TriggerExecute(gg_trg_papa9____________u)
    				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Avatar\\AvatarCaster.mdl", GetUnitX(udg_H[index]), GetUnitY(udg_H[index])))
		    	else
		    		if not ( BHintRing[index] ) then
		    			set BHintRing[index]=true
		                call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnitBJ()), 0, 0, ( "|cFFFF66CC„ÄêÈ¨ºÂô®„Äë|r" + ( I2S(GetItemUserData(ring)) + "/1000„ÄÇ" ) ))
		                call Ring__CreateRingTimer(GetOwningPlayer(GetKillingUnitBJ()))
		            endif
		    	endif
		    endif
//end of: ShuaRingMax("lhst","10000")

	    set ring=null

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Ring__TRingUseCon takes nothing returns boolean
		return IsMaxRing(GetManipulatedItem())
	endfunction

 function Ring__TRingUseAct takes nothing returns nothing
		call SetItemCharges(GetManipulatedItem(), ( GetItemCharges(GetManipulatedItem()) + 1 ))
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Ring__InitRing takes nothing returns nothing
  local integer i= 1
     local trigger t= CreateTrigger()

		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				set BHintRing[i]=false
			endif
			set i=i + 1
		endloop

	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	    call TriggerAddCondition(t, Condition(function TRingUpdateCon))
	    call TriggerAddAction(t, function TRingUpdateAct)
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	    call TriggerAddCondition(t, Condition(function TRingMaxCon))
	    call TriggerAddAction(t, function TRingMaxAct)
	    //‰ΩøÁî®ÊàíÊåáÈó™ÁÉÅÂêé
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_USE_ITEM)
	    call TriggerAddCondition(t, Condition(function Ring__TRingUseCon))
	    call TriggerAddAction(t, function Ring__TRingUseAct)

	    set t=null

	endfunction


//library Ring ends
//library Spin:
	
//---------------------------------------------------------------------------------------------------
	
 function IsSeyuSpin1 takes player p returns boolean
		return GetSeyu1Spin(p)
		//return true
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsXiaoyueSpin1 takes player p returns boolean
		return GetXiaoyue1Spin(p)
		//return true
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function IsYanmieSpin1 takes player p returns boolean
		return GetYanmie1Spin(p)
		//return true
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsXuanxueSpin1 takes player p returns boolean
		return GetXuanxue1Spin(p)
		//return true
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsTaiyaSpin1 takes player p returns boolean
		return GetTaiya1Spin(p)
		//return true
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function IsHanshangSpin1 takes player p returns boolean
		return GetHanshang1Spin(p)
		//return true
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function IsChenjiSpin1 takes player p returns boolean
		return GetChenji1Spin(p)
		//return true
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsChenjiSpin2 takes player p returns boolean
		return GetChenji2Spin(p)
		//return true
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsLingxueSpin1 takes player p returns boolean
		return GetLingxue1Spin(p)
		//return true
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function IsMoqiSpin1 takes player p returns boolean
		return GetMoqiSpin(p)
		//return true
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsKaisaSpin1 takes player p returns boolean
		return GetKaisaSpin(p)
		//return true
	endfunction


//library Spin ends
//library CenterCredit:
	

//---------------------------------------------------------------------------------------------------
	
	
 function CenterCredit__TBuySoliderCon takes nothing returns boolean
		return ( GetUnitTypeId(GetSellingUnit()) == 'uS02' ) and RectContainsUnit(regionM1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))], GetSellingUnit())
	endfunction

 function CenterCredit__TBuySoliderAct takes nothing returns nothing
  local integer index= GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))
  local real x
  local real y

//textmacro instance: BuySoldier("uG01","1")
		if ( GetUnitTypeId(GetSoldUnit()) == 'uG01' ) then
			if ( centerCredit[index] < CenterCredit__CREDIT_SOLIDER_1 ) then
				call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÂÆàÂÆ∂ÁßØÂàÜÂè™Êúâ" + I2S(centerCredit[index]) + ",‰∏çË∂≥" + I2S(CenterCredit__CREDIT_SOLIDER_1))
				call RemoveUnit(GetSoldUnit())

				return
			endif
			set centerCredit[index]=centerCredit[index] - CenterCredit__CREDIT_SOLIDER_1
			set x=GetRectCenterX(regionM1[index])
			set y=GetRectCenterY(regionM1[index])
			call MultiboardSetItemValueBJ(udg_D, 9, index + 1, I2S(centerCredit[index]))
			call SetUnitX(GetSoldUnit(), x)
			call SetUnitY(GetSoldUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈõá‰Ω£ÊàêÂäü!")
	        return
		endif
//end of: BuySoldier("uG01","1")
//textmacro instance: BuySoldier("uG02","2")
		if ( GetUnitTypeId(GetSoldUnit()) == 'uG02' ) then
			if ( centerCredit[index] < CenterCredit__CREDIT_SOLIDER_2 ) then
				call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÂÆàÂÆ∂ÁßØÂàÜÂè™Êúâ" + I2S(centerCredit[index]) + ",‰∏çË∂≥" + I2S(CenterCredit__CREDIT_SOLIDER_2))
				call RemoveUnit(GetSoldUnit())

				return
			endif
			set centerCredit[index]=centerCredit[index] - CenterCredit__CREDIT_SOLIDER_2
			set x=GetRectCenterX(regionM2[index])
			set y=GetRectCenterY(regionM2[index])
			call MultiboardSetItemValueBJ(udg_D, 9, index + 1, I2S(centerCredit[index]))
			call SetUnitX(GetSoldUnit(), x)
			call SetUnitY(GetSoldUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈõá‰Ω£ÊàêÂäü!")
	        return
		endif
//end of: BuySoldier("uG02","2")
//textmacro instance: BuySoldier("uG03","3")
		if ( GetUnitTypeId(GetSoldUnit()) == 'uG03' ) then
			if ( centerCredit[index] < CenterCredit__CREDIT_SOLIDER_3 ) then
				call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÂÆàÂÆ∂ÁßØÂàÜÂè™Êúâ" + I2S(centerCredit[index]) + ",‰∏çË∂≥" + I2S(CenterCredit__CREDIT_SOLIDER_3))
				call RemoveUnit(GetSoldUnit())

				return
			endif
			set centerCredit[index]=centerCredit[index] - CenterCredit__CREDIT_SOLIDER_3
			set x=GetRectCenterX(regionM3[index])
			set y=GetRectCenterY(regionM3[index])
			call MultiboardSetItemValueBJ(udg_D, 9, index + 1, I2S(centerCredit[index]))
			call SetUnitX(GetSoldUnit(), x)
			call SetUnitY(GetSoldUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈõá‰Ω£ÊàêÂäü!")
	        return
		endif
//end of: BuySoldier("uG03","3")
//textmacro instance: BuySoldier("uG04","4")	
		if ( GetUnitTypeId(GetSoldUnit()) == 'uG04' ) then
			if ( centerCredit[index] < CenterCredit__CREDIT_SOLIDER_4 ) then
				call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÂÆàÂÆ∂ÁßØÂàÜÂè™Êúâ" + I2S(centerCredit[index]) + ",‰∏çË∂≥" + I2S(CenterCredit__CREDIT_SOLIDER_4))
				call RemoveUnit(GetSoldUnit())

				return
			endif
			set centerCredit[index]=centerCredit[index] - CenterCredit__CREDIT_SOLIDER_4
			set x=GetRectCenterX(regionM4[index])
			set y=GetRectCenterY(regionM4[index])
			call MultiboardSetItemValueBJ(udg_D, 9, index + 1, I2S(centerCredit[index]))
			call SetUnitX(GetSoldUnit(), x)
			call SetUnitY(GetSoldUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈõá‰Ω£ÊàêÂäü!")
	        return
		endif
//end of: BuySoldier("uG04","4")	

		if ( GetUnitTypeId(GetSoldUnit()) == 'uG05' ) then
			if ( IsPIV(GetOwningPlayer(GetBuyingUnit())) != true ) then
				call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†‰∏çÊòØÊ∞∏‰πÖËµûÂä©.")
				call RemoveUnit(GetSoldUnit())
				return
			endif

			if ( udg_Bo < 18 ) then
				call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÊ≥¢Êï∞Êú™Âà∞18Ê≥¢,Â∞öÊú™ÂèØ‰ª•Ë¥≠‰π∞.")
				call RemoveUnit(GetSoldUnit())
				return
			endif

			set x=GetRectCenterX(regionM5[index])
			set y=GetRectCenterY(regionM5[index])
			call SetUnitX(GetSoldUnit(), x)
			call SetUnitY(GetSoldUnit(), y)
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈõá‰Ω£ÊàêÂäü!")
		endif

		if ( GetUnitTypeId(GetSoldUnit()) == 'uG06' ) then
			if ( IsPIV(GetOwningPlayer(GetBuyingUnit())) != true ) then
				call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†‰∏çÊòØÊ∞∏‰πÖËµûÂä©.")
				call RemoveUnit(GetSoldUnit())
				return
			endif

			if ( udg_Bo < 22 ) then
				call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÊ≥¢Êï∞Êú™Âà∞22Ê≥¢,Â∞öÊú™ÂèØ‰ª•Ë¥≠‰π∞.")
				call RemoveUnit(GetSoldUnit())
				return
			endif

			set x=GetRectCenterX(regionM6[index])
			set y=GetRectCenterY(regionM6[index])
			call SetUnitX(GetSoldUnit(), x)
			call SetUnitY(GetSoldUnit(), y)
			call IssueImmediateOrder(GetSoldUnit(), "stop")
	        call PanCameraToTimedForPlayer(GetOwningPlayer(GetBuyingUnit()), x, y, 0.2)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x, y))
	        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈõá‰Ω£ÊàêÂäü!")
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SimulateDamageSoldier takes unit u returns boolean
		if ( GetUnitAbilityLevel(u, 'A0GZ') >= 1 and ( Is20Unit(GetTriggerUnit()) or Is10Unit(GetTriggerUnit()) ) ) then
			call DisableTrigger(GetTriggeringTrigger())
			call SetUnitLifeBJ(GetTriggerUnit(), 100)
			call UnitDamageTarget(u, GetTriggerUnit(), 1000, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			return true
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
 function CenterCredit__InitCenterCredit takes nothing returns nothing
  local trigger t= CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SELL)
		call TriggerAddCondition(t, Condition(function CenterCredit__TBuySoliderCon))
		call TriggerAddAction(t, function CenterCredit__TBuySoliderAct)
		set t=null
	endfunction


//library CenterCredit ends
//library ChatCommand:
	
//---------------------------------------------------------------------------------------------------
	


//textmacro instance: CombineBox("E","hlst","wshs")
  function CombineBoxE takes nothing returns nothing

		    if ( ( GetItemTypeId(GetEnumItem()) == 'hlst' ) ) then
				if ( HaveSavedInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) and ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) != LoadInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) ) ) then
						return
				endif
		    	set ChatCommand__IBox[ChatCommand__IBoxCount]=GetEnumItem()
		    	set ChatCommand__IBoxCount=ChatCommand__IBoxCount + 1
		    endif

		    if ( ChatCommand__IBoxCount >= 3 ) then
		    	if ( ChatCommand__IBox[0] == null or ChatCommand__IBox[1] == null or ChatCommand__IBox[2] == null ) then
			    	set ChatCommand__IBoxCount=0
		    		return
		    	endif
		    	call RemoveItem(ChatCommand__IBox[0])
		    	call RemoveItem(ChatCommand__IBox[1])
		    	call RemoveItem(ChatCommand__IBox[2])
		    	call CreateItem('wshs', GetUnitX(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]), GetUnitY(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]))
		    	set ChatCommand__IBox[0]=null
		    	set ChatCommand__IBox[1]=null
		    	set ChatCommand__IBox[2]=null
		    	set ChatCommand__IBoxCount=0
		    	set ChatCommand__IBoxSucceed=ChatCommand__IBoxSucceed + 3
		    endif
		endfunction
//end of: CombineBox("E","hlst","wshs")
//textmacro instance: CombineBox("D","wshs","wild")
  function CombineBoxD takes nothing returns nothing

		    if ( ( GetItemTypeId(GetEnumItem()) == 'wshs' ) ) then
				if ( HaveSavedInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) and ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) != LoadInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) ) ) then
						return
				endif
		    	set ChatCommand__IBox[ChatCommand__IBoxCount]=GetEnumItem()
		    	set ChatCommand__IBoxCount=ChatCommand__IBoxCount + 1
		    endif

		    if ( ChatCommand__IBoxCount >= 3 ) then
		    	if ( ChatCommand__IBox[0] == null or ChatCommand__IBox[1] == null or ChatCommand__IBox[2] == null ) then
			    	set ChatCommand__IBoxCount=0
		    		return
		    	endif
		    	call RemoveItem(ChatCommand__IBox[0])
		    	call RemoveItem(ChatCommand__IBox[1])
		    	call RemoveItem(ChatCommand__IBox[2])
		    	call CreateItem('wild', GetUnitX(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]), GetUnitY(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]))
		    	set ChatCommand__IBox[0]=null
		    	set ChatCommand__IBox[1]=null
		    	set ChatCommand__IBox[2]=null
		    	set ChatCommand__IBoxCount=0
		    	set ChatCommand__IBoxSucceed=ChatCommand__IBoxSucceed + 3
		    endif
		endfunction
//end of: CombineBox("D","wshs","wild")
//textmacro instance: CombineBox("C","wild","totw")
  function CombineBoxC takes nothing returns nothing

		    if ( ( GetItemTypeId(GetEnumItem()) == 'wild' ) ) then
				if ( HaveSavedInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) and ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) != LoadInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) ) ) then
						return
				endif
		    	set ChatCommand__IBox[ChatCommand__IBoxCount]=GetEnumItem()
		    	set ChatCommand__IBoxCount=ChatCommand__IBoxCount + 1
		    endif

		    if ( ChatCommand__IBoxCount >= 3 ) then
		    	if ( ChatCommand__IBox[0] == null or ChatCommand__IBox[1] == null or ChatCommand__IBox[2] == null ) then
			    	set ChatCommand__IBoxCount=0
		    		return
		    	endif
		    	call RemoveItem(ChatCommand__IBox[0])
		    	call RemoveItem(ChatCommand__IBox[1])
		    	call RemoveItem(ChatCommand__IBox[2])
		    	call CreateItem('totw', GetUnitX(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]), GetUnitY(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]))
		    	set ChatCommand__IBox[0]=null
		    	set ChatCommand__IBox[1]=null
		    	set ChatCommand__IBox[2]=null
		    	set ChatCommand__IBoxCount=0
		    	set ChatCommand__IBoxSucceed=ChatCommand__IBoxSucceed + 3
		    endif
		endfunction
//end of: CombineBox("C","wild","totw")
//textmacro instance: CombineBox("B","totw","sror")
  function CombineBoxB takes nothing returns nothing

		    if ( ( GetItemTypeId(GetEnumItem()) == 'totw' ) ) then
				if ( HaveSavedInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) and ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) != LoadInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) ) ) then
						return
				endif
		    	set ChatCommand__IBox[ChatCommand__IBoxCount]=GetEnumItem()
		    	set ChatCommand__IBoxCount=ChatCommand__IBoxCount + 1
		    endif

		    if ( ChatCommand__IBoxCount >= 3 ) then
		    	if ( ChatCommand__IBox[0] == null or ChatCommand__IBox[1] == null or ChatCommand__IBox[2] == null ) then
			    	set ChatCommand__IBoxCount=0
		    		return
		    	endif
		    	call RemoveItem(ChatCommand__IBox[0])
		    	call RemoveItem(ChatCommand__IBox[1])
		    	call RemoveItem(ChatCommand__IBox[2])
		    	call CreateItem('sror', GetUnitX(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]), GetUnitY(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]))
		    	set ChatCommand__IBox[0]=null
		    	set ChatCommand__IBox[1]=null
		    	set ChatCommand__IBox[2]=null
		    	set ChatCommand__IBoxCount=0
		    	set ChatCommand__IBoxSucceed=ChatCommand__IBoxSucceed + 3
		    endif
		endfunction
//end of: CombineBox("B","totw","sror")
//textmacro instance: CombineBox("A","sror","fgrg")
  function CombineBoxA takes nothing returns nothing

		    if ( ( GetItemTypeId(GetEnumItem()) == 'sror' ) ) then
				if ( HaveSavedInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) and ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) != LoadInteger(YDHT, GetHandleId(GetEnumItem()), 0xA75AD423) ) ) then
						return
				endif
		    	set ChatCommand__IBox[ChatCommand__IBoxCount]=GetEnumItem()
		    	set ChatCommand__IBoxCount=ChatCommand__IBoxCount + 1
		    endif

		    if ( ChatCommand__IBoxCount >= 3 ) then
		    	if ( ChatCommand__IBox[0] == null or ChatCommand__IBox[1] == null or ChatCommand__IBox[2] == null ) then
			    	set ChatCommand__IBoxCount=0
		    		return
		    	endif
		    	call RemoveItem(ChatCommand__IBox[0])
		    	call RemoveItem(ChatCommand__IBox[1])
		    	call RemoveItem(ChatCommand__IBox[2])
		    	call CreateItem('fgrg', GetUnitX(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]), GetUnitY(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]))
		    	set ChatCommand__IBox[0]=null
		    	set ChatCommand__IBox[1]=null
		    	set ChatCommand__IBox[2]=null
		    	set ChatCommand__IBoxCount=0
		    	set ChatCommand__IBoxSucceed=ChatCommand__IBoxSucceed + 3
		    endif
		endfunction
//end of: CombineBox("A","sror","fgrg")

 function CombineBox takes nothing returns nothing
		if not ( IsPIV(GetTriggerPlayer()) ) then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈúÄË¶ÅÊàê‰∏∫Ê∞∏‰πÖËµûÂä©ÊâçËÉΩ‰ΩøÁî®Ê≠§Êåá‰ª§!")
			return
		endif

		call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + GetUnitName(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]) + "‰ΩøÁî®Êåá‰ª§-hcÊàêÂäüÂ∞ÜÂú∞‰∏äÁöÑÊâÄÊúâÂÆùÁÆ±ËûçÂêàÊàê‰∏∫Êõ¥È´òÁ∫ßÁöÑÂÆùÁÆ±ÔºåÂàóË°®Â¶Ç‰∏ãÔºö")
    	set ChatCommand__IBox[0]=null
    	set ChatCommand__IBox[1]=null
    	set ChatCommand__IBox[2]=null
    	set ChatCommand__IBoxCount=0
    	set ChatCommand__IBoxSucceed=0
   		call EnumItemsInRectBJ(GetPlayableMapRect(), function CombineBoxE)
   		if ( ChatCommand__IBoxSucceed != 0 ) then
	   		call BJDebugMsg(I2S(ChatCommand__IBoxSucceed) + "‰∏™EÁ∫ßÂÆùÁÆ±‚Üí‚Üí‚Üí" + I2S(ChatCommand__IBoxSucceed / 3) + "‰∏™DÁ∫ßÂÆùÁÆ±„ÄÇ")
	    	set ChatCommand__IBoxSucceed=0
   		endif
    	set ChatCommand__IBox[0]=null
    	set ChatCommand__IBox[1]=null
    	set ChatCommand__IBox[2]=null
    	set ChatCommand__IBoxCount=0
   		call EnumItemsInRectBJ(GetPlayableMapRect(), function CombineBoxD)
   		if ( ChatCommand__IBoxSucceed != 0 ) then
	   		call BJDebugMsg(I2S(ChatCommand__IBoxSucceed) + "‰∏™DÁ∫ßÂÆùÁÆ±‚Üí‚Üí‚Üí" + I2S(ChatCommand__IBoxSucceed / 3) + "‰∏™CÁ∫ßÂÆùÁÆ±„ÄÇ")
	    	set ChatCommand__IBoxSucceed=0
   		endif
    	set ChatCommand__IBox[0]=null
    	set ChatCommand__IBox[1]=null
    	set ChatCommand__IBox[2]=null
    	set ChatCommand__IBoxCount=0
   		call EnumItemsInRectBJ(GetPlayableMapRect(), function CombineBoxC)
   		if ( ChatCommand__IBoxSucceed != 0 ) then
	   		call BJDebugMsg(I2S(ChatCommand__IBoxSucceed) + "‰∏™CÁ∫ßÂÆùÁÆ±‚Üí‚Üí‚Üí" + I2S(ChatCommand__IBoxSucceed / 3) + "‰∏™BÁ∫ßÂÆùÁÆ±„ÄÇ")
	    	set ChatCommand__IBoxSucceed=0
   		endif
    	set ChatCommand__IBox[0]=null
    	set ChatCommand__IBox[1]=null
    	set ChatCommand__IBox[2]=null
    	set ChatCommand__IBoxCount=0
   		call EnumItemsInRectBJ(GetPlayableMapRect(), function CombineBoxB)
   		if ( ChatCommand__IBoxSucceed != 0 ) then
	   		call BJDebugMsg(I2S(ChatCommand__IBoxSucceed) + "‰∏™BÁ∫ßÂÆùÁÆ±‚Üí‚Üí‚Üí" + I2S(ChatCommand__IBoxSucceed / 3) + "‰∏™AÁ∫ßÂÆùÁÆ±„ÄÇ")
	    	set ChatCommand__IBoxSucceed=0
   		endif
    	set ChatCommand__IBox[0]=null
    	set ChatCommand__IBox[1]=null
    	set ChatCommand__IBox[2]=null
    	set ChatCommand__IBoxCount=0
   		call EnumItemsInRectBJ(GetPlayableMapRect(), function CombineBoxA)
   		if ( ChatCommand__IBoxSucceed != 0 ) then
	   		call BJDebugMsg(I2S(ChatCommand__IBoxSucceed) + "‰∏™AÁ∫ßÂÆùÁÆ±‚Üí‚Üí‚Üí" + I2S(ChatCommand__IBoxSucceed / 3) + "‰∏™SÁ∫ßÂÆùÁÆ±„ÄÇ")
	    	set ChatCommand__IBoxSucceed=0
   		endif
    	set ChatCommand__IBox[0]=null
    	set ChatCommand__IBox[1]=null
    	set ChatCommand__IBox[2]=null
    	set ChatCommand__IBoxCount=0
   		endfunction
//---------------------------------------------------------------------------------------------------
	
 function ChatCommand__ClearDiamondFunc takes nothing returns nothing
	    if ( IsDiamond(GetEnumItem()) and IsItemVisible(GetEnumItem()) ) then
	    	call RemoveItem(GetEnumItem())
	    endif
	endfunction

 function ChatCommand__ClearDiamond takes nothing returns nothing
   		call EnumItemsInRectBJ(GetPlayableMapRect(), function ChatCommand__ClearDiamondFunc)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function FixView takes boolean higher returns nothing
		if ( higher ) then
			call SetCameraFieldForPlayer(GetTriggerPlayer(), CAMERA_FIELD_ZOFFSET, ( GetCameraTargetPositionZ() + 400.00 ), 0)
		else
			call SetCameraFieldForPlayer(GetTriggerPlayer(), CAMERA_FIELD_ZOFFSET, ( GetCameraTargetPositionZ() - 400.00 ), 0)
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function ChatCommand__YincangBroad takes nothing returns nothing
		if not ( ChatCommand__BYincang[GetConvertedPlayerId(GetTriggerPlayer())] ) then
			call LeaderboardDisplayBJ(false, udg_Paihang[GetConvertedPlayerId(GetTriggerPlayer())])
			call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ¶ÇÊûúË¶ÅÈù¢ÊùøÊòæÁ§∫ËØ∑ÂÜçÊ¨°ËæìÂÖ•-yc.")
		else
			call LeaderboardDisplayBJ(true, udg_Paihang[GetConvertedPlayerId(GetTriggerPlayer())])
   		endif
   		set ChatCommand__BYincang[GetConvertedPlayerId(GetTriggerPlayer())]=not ( ChatCommand__BYincang[GetConvertedPlayerId(GetTriggerPlayer())] )
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function ChatCommandAct takes nothing returns nothing
  local string str= GetEventPlayerChatString()
  local unit u= udg_H[GetConvertedPlayerId(GetTriggerPlayer())]
		//Ëá™ÊùÄ
		if ( str == "-kill" and not ( RectContainsUnit(gg_rct_Game1, udg_H[GetConvertedPlayerId(GetTriggerPlayer())]) ) ) then
			call KillSelf(u)
		    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËá™ÊùÄÊàêÂäü!")
		    return
		elseif ( str == "-hc" ) then
			call CombineBox()
		elseif ( str == "-bs" ) then
			call ChatCommand__ClearDiamond()
		elseif ( str == "-+" ) then
			call FixView(true)
		elseif ( str == "-ph" ) then
			call CameraSetSmoothingFactor(0.)
		elseif ( str == "--" ) then
			call FixView(false)
		elseif ( str == "-yc" ) then
			call ChatCommand__YincangBroad()
   elseif ( str == "-jn" ) then
    call ShowQiandao(GetTriggerPlayer())
		elseif ( str == "-sh" ) then
			set BHideDamage[GetConvertedPlayerId(GetTriggerPlayer())]=not ( BHideDamage[GetConvertedPlayerId(GetTriggerPlayer())] )
			call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊàêÂäüÊòæÁ§∫/ÈöêËóè‰º§ÂÆ≥.")
		elseif ( str == "-zz" ) then
			call CancelVIP(GetTriggerPlayer())
		elseif ( str == "-yxjs" and GetTriggerPlayer() == GetFirstPlayer() and BShengli ) then
		    call ForForce(GetPlayersAll(), function ShengliAll)
   elseif ( str == "-qm" ) then
    if ( IsQuanchengjiu(GetTriggerPlayer()) ) then
     set BDIYName[GetConvertedPlayerId(GetTriggerPlayer())]=true
     call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁé∞Âú®ËØ∑ËæìÂÖ•‰Ω†Ë¶ÅËá™ÂÆö‰πâÁöÑÊàêÂ∞±ÂêçÂêß!")
    else
     call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Êú™Ëß£ÈîÅÊâÄÊúâÊàêÂ∞±.")
    endif
		elseif ( str == "-qc" ) then
			if ( TBianse[GetConvertedPlayerId(GetTriggerPlayer())] != null ) then

				call SetUnitVertexColor(udg_H[GetConvertedPlayerId(GetTriggerPlayer())], 255, 255, 255, 255)
				call PauseTimer(TBianse[GetConvertedPlayerId(GetTriggerPlayer())])
				call DestroyTimer(TBianse[GetConvertedPlayerId(GetTriggerPlayer())])
				call FlushChildHashtable(itemTable, GetHandleId(TBianse[GetConvertedPlayerId(GetTriggerPlayer())]))
			endif
		elseif ( str == "-ms" ) then
			set BMoshou[GetConvertedPlayerId(GetTriggerPlayer())]=not ( BMoshou[GetConvertedPlayerId(GetTriggerPlayer())] )
			if ( BMoshou[GetConvertedPlayerId(GetTriggerPlayer())] ) then
				call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈáçÊñ∞Ë£ÖÂ§áÈ≠îÂÖΩÂêéÔºåÈ≠îÂÖΩÂ∞Ü‰∏ç‰ºöË¢´ÁÇπ‰∏≠Ôºå‰∏ªÂä®ÊäÄËÉΩ‰πü‰ºö‰∏ªÂä®ÈáäÊîæ„ÄÇ")
			else
				call DisplayTextToPlayer(GetTriggerPlayer(), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈáçÊñ∞Ë£ÖÂ§áÈ≠îÂÖΩÂêéÔºåÈ≠îÂÖΩÂèØ‰ª•Ë¢´ÁÇπ‰∏≠Ôºå‰∏ªÂä®ÊäÄËÉΩ‰πüËÉΩÊâãÂä®ÈáäÊîæ„ÄÇ")
			endif
   elseif ( str == "-cj" ) then
    call CreateAchievementDialog(GetTriggerPlayer())
		endif
		set str=null
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ChatCommand__ShowHint takes nothing returns nothing
  local string s= null
  local integer i= GetRandomInt(1, 59)
		if ( i == 1 ) then
			set s="ÁÇºÁã±ÊâÄÁàÜÁöÑÈ≠îÂÖΩÂèØ‰ª•ÊèêÈ´òËã±ÈõÑÁöÑÁîüÂëΩÊÅ¢Â§çÈÄüÂ∫¶ËøòÊúâÈ≠îÊ≥ïÊÅ¢Â§çÈÄüÂ∫¶Âì¶~"
		elseif ( i == 2 ) then
			set s="ÊàòÈ≠ÇÂçáÁ∫ßÂà∞‰∫ÜÈ´òÁ≠âÁ∫ßÊó∂,Â§çÊ¥ªÂè™ÈúÄË¶Å3ÁßíÂì¶~"
		elseif ( i == 3 ) then
			set s="È°∂Á∫ßÊ≥ïÈ≠ÇÂèØ‰ª•‰∏ÄÊ¨°ÊÄßÂè¨Âî§3‰∏™Âº∫Â§ßÁöÑÂú∞Áã±ÁÅ´Âì¶~"
		elseif ( i == 4 ) then
			set s="È≠îÊ≥ï‰∏äÈôêÁöÑÊù•Ê∫êÔºö1.ÂêàÊàê‰ªôÂô®Ê≥ïÈ≠Ç.2.Â§©Â∫≠Â§ÑÊâìÈ≠îÊ≥ï‰∏äÈôêÂíåÂõûÂ§çÂ¢ûÁõä„ÄÇ"
		elseif ( i == 5 ) then
			set s="È¨ºÂô®|cffffff00ËøΩÈ≠ÇÂ§∫È≠ÑÊàí|rÊòØ‰∏Ä‰ª∂ÊâìÊÄ™ÂçáÁ∫ßÂûãË£ÖÂ§áÔºåÁî±ÂçÉÂπ¥Â≠§È≠ÇÂ§ÑËé∑ÂæóÔºåË∂äÊó©ÊâìË∂äÂ•ΩÂì¶ÔºÅ"
		elseif ( i == 6 ) then
			set s="3‰∏™ÂÆùÁÆ±ÂèØ‰ª•ÂêàÊàê‰∏Ä‰∏™Êõ¥È´òÁ∫ßÁöÑÂÆùÁÆ±Âì¶!"
		elseif ( i == 7 ) then
			set s="ÊÉ≥Âø´ÈÄüÊ∏ÖÊÄ™ËØ∑Âú®Âü∫Âú∞‰∏äÊñπÁöÑ‚ÄúÊàòÊñóË∞ÉÊï¥‚ÄùÂ§ÑË∞ÉÊàê1-3sÔºåÊÉ≥Á®≥ÂÆöÂÆàÂÆ∂ËØ∑Âú®Âü∫Âú∞‰∏äÊñπÁöÑ‚ÄúÊàòÊñóË∞ÉÊï¥‚ÄùË∞ÉÊàê4-6s„ÄÇ"
		elseif ( i == 8 ) then
			set s="Â∞ΩÈáè‰∏çË¶ÅËÆ©‰∏ä‰∏ã‰∏§Ê≥¢ÊÄ™ËûçÂêàÔºå‰ªñ‰ª¨ÁöÑÊàòÊñóÂäõ‰ºöÂõ†Ê≠§ÊèêÈ´òÂæàÂ§öÂÄç„ÄÇ"
		elseif ( i == 9 ) then
			set s="Á•ûÂô®Âè™ÈúÄË¶ÅÂêàÂà∞+6Â∞±ÂèØ‰ª•‰∫ÜÔºåËÄå‰∫∫Âô®ÈúÄË¶ÅÂêàÂà∞+9„ÄÇ"
		elseif ( i == 10 ) then
			set s="ÁÇºÁã±ÊâÄÁàÜÁöÑÈ≠îÂÖΩÊòØÂèØ‰ª•‰∏ÄÁõ¥ÂÆàÊä§ÁùÄËã±ÈõÑ."
		elseif ( i == 11 ) then
			set s="10ËΩ¨‰ª•ÂêéÁöÑÈïúÂÉè‰ºö‰∏ªÂä®ÂØπ‰Ω†ÂèëÂä®ËøõÊîª,20ËΩ¨ÂêéÈïúÂÉèÂ∞Ü‰ºöÈÄêÊ≠•Ëß£ÈîÅ‰∏ÄÂÆöÁöÑÊäÄËÉΩ."
		elseif ( i == 12 ) then
			set s="ÂâçÊù•ËøõÊîªÁöÑBOSSÈÉΩÂÖ∑Êúâ‚ÄúÁßíÊùÄ‰πãÂàÉ‚ÄùÊäÄËÉΩÔºåËÉΩÂØπÈùûËã±ÈõÑÈÄ†Êàê" + I2S(udg_Nandu_JJJ) + "%ÁöÑÁîüÂëΩ‰º§ÂÆ≥„ÄÇ"
		elseif ( i == 13 ) then
			set s="ÂêÑ‰∏™Ëã±ÈõÑÈÉΩÂØπÂ∫î‰∫îÁïå‰∏≠ÁöÑ‰∏ÄÁïåÔºåÂæóÂà∞Áõ∏Â∫îÁïåÂüü‰∏≠ÁöÑË£ÖÂ§áÔºå‰ºöËé∑Âæó‰∏ìÂ±ûÊäÄËÉΩ„ÄÇ"
		elseif ( i == 14 ) then
			set s="Êú®Â§¥Âú®Âü∫Âú∞‰∏≠Áî®Èí±Êç¢„ÄÇ"
		elseif ( i == 15 ) then
			set s="Âú∞ÂõæÈááÁî®ÁöÑÊòØ‰º§ÂÆ≥‰∫∫Â§¥Ëé∑ÂèñÈáëÂ∏ÅÁ≥ªÁªüÔºåÂáªÊùÄÊÄ™Áâ©ÁöÑÁé©ÂÆ∂ÂèØ‰ª•Ëé∑ÂèñÊâÄÊúâÈáëÂ∏Å."
		elseif ( i == 16 ) then
			set s="ÈöæÂ∫¶Ë∂äÈ´òÔºåÂ§©Â∫≠‰∏≠ËÉΩÂêåÊó∂Â¢ûÁõäÁöÑÊï∞Èáè‰πüË∂äÂ§ö„ÄÇ"
		elseif ( i == 17 ) then
			set s="‰∏≠ÊúüËßâÂæóÈí±Ê≤°Áî®‰∫ÜÔºåÂèØ‰ª•Áî®Êù•ÂêàÊàê‰ªôÂô®„ÄÇ"
		elseif ( i == 18 ) then
			set s="‰∏Ä‰∏™ÊÄ™Ëã•ÂÖ®Áî±ÁÇÆÂ°îÊùÄÔºåÁé©ÂÆ∂Â∞Ü‰∏ç‰ºöÂæóÂà∞ÈáëÂ∏Å."
		elseif ( i == 19 ) then
			set s="ËôöÁïåÊÄ™Áâ©ÂÖ∑ÊúâÈó™ÁîµÈìæÊäÄËÉΩ."
		elseif ( i == 20 ) then
			set s="ÊØèÊ≥¢ÁÇºÁã±ÈÉΩÊã•Êúâ‰∏çÂêåÁöÑÊäÄËÉΩÔºå ÂºÑÊ∏Ö‰ªñ‰ª¨ÁöÑÊäÄËÉΩÔºåÂ∞±ÂæàÂÆπÊòìÁ™ÅÁ†¥„ÄÇ"
		elseif ( i == 21 ) then
			set s="Â¶ñÊóèËã±ÈõÑÂú®Ëé∑ÂèñÁ¨¨‰∏âÂèåÁøÖËÜÄÂêéËß£ÈîÅ‰∏ìÂ±ûÊäÄËÉΩ,Á•û‰∫∫‰ªôÈ¨ºËã±ÈõÑ‰πüÁ±ª‰ººËé∑ÂæóÁõ∏Â∫îÁïåÂüüÁöÑË£ÖÂ§á."
		elseif ( i == 22 ) then
			set s="ÁÇºÁã±ÊØèÊâìËøá2‰∏™BOSSÂ∞±ÂèØ‰ª•Ëé∑ÂæóÂØπÂ∫îÁöÑÈ≠îÂÖΩ."
		elseif ( i == 23 ) then
			set s="È°∂Á∫ßÂÆùÁü≥ÔºöÂ∑®ËÉΩËûçÂêàÁü≥Âú®ÊØèÊ¨°ÂáªÊùÄÂêéËÉΩÂäõ‰ºöÊèêÈ´ò20%ÔºåÊâÄ‰ª•ËØ∑ÂÅöÂ•ΩÂáÜÂ§áÂÜçÂéª„ÄÇ"
		elseif ( i == 24 ) then
			set s="ËΩ¨ÁîüÁöÑÈöæÂ∫¶ÈöèÁùÄËÉΩÂäõÁöÑÊèêÈ´òÔºåÁ≠âÁ∫ßË∂äÈ´òË∂äÈöæËΩ¨ÔºåÊâÄ‰ª•Ë∂ÅÁùÄÁ≠âÁ∫ß‰ΩéÂéªËΩ¨Âêß„ÄÇ"
		elseif ( i == 25 ) then
			set s="ÁÇºÁã±ÊåëÊàòËé∑ÂèñÁöÑÈ≠îÂÖΩÂèØ‰ª•Â§ßÂπÖÂ∫¶ÊèêÈ´òËã±ÈõÑÁöÑÁîüÂëΩ,‰∏çËøáÂØπ‰∫éÂ±ûÊÄßÁöÑÂä†ÊàêÊØîËæÉÂ∞ë."
		elseif ( i == 26 ) then
			set s="|cffff9900ÂπΩÂÜ•È°πÈìæ|rÊòØ‰∏Ä‰ª∂ÊèêÈ´òÁôæÂàÜÊØîÂ±ûÊÄßÁöÑË£ÖÂ§áÔºå‰ªªÊÑèÊó∂ÊúüÈÉΩÂèØ‰ª•ÊåëÊàòËé∑Âæó„ÄÇ"
		elseif ( i == 27 ) then
			set s="ÊìÇÂè∞ÁöÑÊâÄÊúâËã±ÈõÑÈÉΩÊúâÂπ≤Êâ∞‰πãÂàÉÊäÄËÉΩÔºåËÉΩÂØπÈùûÊåëÊàòÁõÆÊ†áÈÄ†Êàê3%ÁöÑÁîüÂëΩ‰º§ÂÆ≥„ÄÇ"
		elseif ( i == 28 ) then
			set s="ËæìÂÖ•‚Äú-ym‚ÄùÂèØ‰ª•Ê∏ÖÈô§Âú∞‰∏äÊâÄÊúâÁöÑÁæΩÊØõÔºåÈò≤Ê≠¢Ê∏∏ÊàèËøáÂç°Âì¶„ÄÇ"
		elseif ( i == 29 ) then
			set s="Ëã•Âá∫Áé∞‰∫ÜËã±ÈõÑÊ≠ª‰∫°‰∏çÂ§çÊ¥ªÁöÑBUGÔºåÂèØ‰ª•ËæìÂÖ•‚Äú-fh‚ÄùÊù•Ëß£ÂÜ≥„ÄÇ"
		elseif ( i == 30 ) then
			set s="Âü∫Âú∞Âè≥ËæπÁöÑ‰ªôÂô®ÂèØ‰ª•ÂçáÁ∫ßÔºåÊª°Á∫ßÊàòÈ≠ÇÂ§çÊ¥ªÂè™ÈúÄË¶Å4ÁßíÔºåÊª°Á∫ßÊ≥ïÈ≠ÇËÉΩÂáèÂ∞ë80%ÁöÑÈ≠îÊ≥ï‰º§ÂÆ≥Âì¶ÔºåËµ∂Á¥ßËØïËØïÂêßÔºÅ"
		elseif ( i == 31 ) then
			set s="Âü∫Âú∞Âè≥ËæπÁöÑ‰ªôÂô®Âú®ÂØπ‰ªòÂêéÊúüÁöÑÊÄ™Áâ©Êó∂ÊúâÂº∫Â§ßÁöÑÈò≤ÂÆàÂäüÊïàÔºåÂº∫ÁÉàÂª∫ËÆÆÂêàÊàê‰∏Ä‰∏™ÔºÅ"
		elseif ( i == 32 ) then
			set s="ÂÆùÁü≥Âå∫ÁöÑÊÄ™Áâ©Êù•Ëá™ËôöÁïåÔºåÊã•ÊúâÂº∫Â§ßÁöÑÈ≠îÊ≥ï‰º§ÂÆ≥ÔºåËÄå‰ªôÂô®Ê≥ïÈ≠ÇËÉΩÊúâÊïàÂáèÂ∞ëËøô‰∫õ‰º§ÂÆ≥ÔºÅ"
		elseif ( i == 33 ) then
			set s="Â¶ÇÊûúÊÑüËßâÊúâÊó∂‰∏çÊòéÁôΩ‰∏∫‰ªÄ‰πàÂ∞±Ê≠ª‰∫ÜÔºåÈÇ£ÊúâÂèØËÉΩÂõ†‰∏∫ÊÄ™Áâ©ÁöÑÈ≠îÊ≥ï‰º§ÂÆ≥Ëøá‰∫éÈ´òÔºåËÄå‰Ω†ÁöÑÈ≠îÊ≥ïÊäóÊÄßËøá‰ΩéÔºåÂèØ‰ª•ÂêàÊàêÊ≥ïÈ≠ÇÊúâÊïàÈòªÊäóËØ•‰º§ÂÆ≥ÔºåÊàñËÄÖÂêàÊàêÊàòÈ≠ÇÂø´ÈÄüÂ§çÊ¥ª"
		elseif ( i == 34 ) then
			set s="ÊúÄÂêéÁöÑBOSSÁöÑÊäÄËÉΩÊòØÈúÄË¶ÅË∫≤ÈÅøÁöÑ,‰∏çË¶ÅÂ∞èÁúã‰∫ÜËøô‰∫õÊäÄËÉΩÁöÑÂ®ÅÂäõ!"
		elseif ( i == 35 ) then
			set s="Ê≥ïÈ≠ÇÂè¨Âî§Âá∫ÁöÑÂú∞Áã±ÁÅ´ÂèØ‰ª•ÊîæÂà∞Âà∑Èí±Êàø‰∏≠ÂéªÂ∏Æ‰Ω†Ëá™Âä®Âà∑Èí±,‰πüÂèØ‰ª•Âú®ÁÇºÁã±‰∏≠Â∏Æ‰Ω†ÊâøÊãÖ‰∏ÄÂÆöÁöÑ‰º§ÂÆ≥!"
		elseif ( i == 36 ) then
			set s="Ê≥®ÊÑè‰øùÊåÅËá™Â∑±ÁöÑÊä§Áî≤Â§Ñ‰∫éÊ≠£Êï∞!ÂΩìÊä§Áî≤‰Ωé‰∫é0Êó∂ÊÄ™Áâ©Â∞ÜÂØπ‰Ω†ÈÄ†ÊàêÊé•Ëøë‰∫é2ÂÄçÊîªÂáªÁöÑ‰º§ÂÆ≥!"
		elseif ( i == 37 ) then
			set s="ÁøÖËÜÄËÉΩÊØèÈó¥Èöî‰∏ÄÂÆöÁöÑÊó∂Èó¥ÂØπÂë®Âõ¥‰∏Ä‰∏™Êïå‰∫∫Â∞ÑÂá∫‰∏ÄÈÅìÁÅ´ÁÑ∞ÈÄ†Êàê‰º§ÂÆ≥,‰∏çËøáÂÆ†Áâ©Êê∫Â∏¶Êó†Êïà."
		elseif ( i == 38 ) then
			set s="Âø´ÈÄüÂçáÁ∫ß|cffffff00ËøΩÈ≠ÇÂ§∫È≠ÑÊàí|rÁöÑÊñπÊ≥ïÊòØËÆ©Âè¨Âî§Áâ©/Èõá‰Ω£ÂÖµÂú®ÁªÉÂäüÊàøÂ∏Æ‰Ω†Âà∑ÊÄ™!"
		elseif ( i == 39 ) then
			set s="Á•ûÂô®‰∏äÁöÑÂ§öÈáçÊîªÂáªÂÖ∂ÂÆûÊòØÊúâÊïàÁöÑ,‰∏∫‰∫ÜÈò≤Ê≠¢ÂêéÊúüÂç°È°øÊâç‰∏çÊòæÁ§∫ÂºπÈÅìÊïàÊûú."
		elseif ( i == 40 ) then
			set s="|cffff00ffÁêâÁíÉÁíûÁéâ|rËÉΩËÆ©ÂÆùÁü≥ÂçáÁ∫ßË£ÖÂ§áÊó∂ÁöÑÊàêÂäüÁéáËææÂà∞100%."
		elseif ( i == 41 ) then
			set s="Âà∞‰∫ÜÂêéÊúü,‰Ω†ÂèØ‰ª•‰ΩøÁî®ÊùÄÊÄ™ÁßØÂàÜÂú®Â∑¶ËæπÁöÑ\"Â•Ω‰∏úË•ø\"ÂïÜÂ∫óÂÖëÊç¢Âü∫Âú∞Èò≤Êä§ÁΩ©Á≠âÂ•Ω‰∏úË•øÂì¶!"
		elseif ( i == 42 ) then
			set s="ÊØè‰∏™Ëã±ÈõÑÈÉΩÊúâÁã¨ÁâπÁöÑÂÖâÁéØÂØπÂÖ®Âú∞ÂõæÁöÑÈòüÂèãÊèê‰æõÂ¢ûÁõä,Âõ†Ê≠§‰∫∫Â§öÊó∂Â¢ûÁõä‰πü‰ºöÂ¢ûÂ§ö,Êõ¥ÂÆπÊòìÈÄöÂÖ≥."
		elseif ( i == 43 ) then
			set s="ÊìÇÂè∞ÊòØÊØè‰ΩçÁé©ÂÆ∂Áã¨Á´ãÊåëÊàòËé∑ÂèñË£ÖÂ§áÁöÑÂú∞ÊñπÂì¶!"
		elseif ( i == 44 ) then
			set s="‰∏çË¶ÅÁî®‰ΩéÁ∫ßÁöÑÂÆ†Áâ©ÂéªÊâìBOSSÊàñËÄÖÈ´òÁ∫ßÁöÑÂÆ†Áâ©,ÂèØËÉΩ‰ºöË¢´ÂèçÊéßÊàñËÄÖÂèóÂà∞Â∑®Â§ß‰º§ÂÆ≥."
		elseif ( i == 45 ) then
			set s="ÂáªË¥•4Á∫ßÈáéÂå∫ÊÄ™Áâ©ÂèØ‰ª•ËÆ©ÊâÄÊúâÁé©ÂÆ∂Ëé∑Âèñ1000Êú®Â§¥Âì¶!"
		elseif ( i == 46 ) then
			set s="ÊúâÂÖ≥‰∫éÊ∞∏‰πÖËµûÂä©ÁöÑÂÜÖÂÆπ,ËØ∑ÂâçÂæÄÂ§çÊ¥ªÁÇπÁ§ºÂåÖÂ§ÑÊàñËÄÖÂú®F9‰ªªÂä°Â§Ñ‰∫ÜËß£."
		elseif ( i == 47 ) then
			set s="Â¶ÇÊûú‰Ω†ÈÄöÂÖ≥|cff008000‰∏áÂä´ÈöæÂ∫¶|rÁöÑËØù.|cffffff00‰Ω†ÁöÑÂêçÂ≠ó|rÂ∞ÜÂèØ‰ª•Âú®Êú¨Âú∞ÂõæÊ∞∏‰πÖÊÄßÂú∞Ëç£Áôª‰∫é|cff008000\"Â∞ÅÂ∏ù‰∏áÂä´ÂΩï\"|r‰∏≠Âì¶!"
		elseif ( i == 48 ) then
			set s="ÊåëÊàòÂ∑®ËÉΩËûçÂêàÁü≥Êó∂ËØ∑Âà©Áî®Ëµ∞‰ΩçË∫≤ÂºÄ‰ºöÁßíÊùÄÁöÑÈ™∑È´ÖÊµ∑ÊäÄËÉΩ!"
		elseif ( i == 49 ) then
			set s="ÊØè‰∏™Ëã±ÈõÑÈÉΩÊã•ÊúâÂØπÂÖ®Âú∞ÂõæÈòüÂèãÂ¢ûÁõäÁöÑÂÖâÁéØÊïàÊûú,‰∫∫Â§öÂäõÈáèÊõ¥Â§ß!"
		elseif ( i == 50 ) then
			set s="ËΩÆÂõû‰πãÁã±‰∏ªÁæ§Ê¨¢Ëøé‰Ω†ÁöÑÂä†ÂÖ•:1Áæ§:148199145(Êª°).....2Áæ§:413359254....."
		elseif ( i == 51 ) then
			set s="ËæìÂÖ•-cjÂèØ‰ª•Êõ¥Êç¢‰Ω†ÁöÑÊàêÂ∞±Âì¶,ËøòÂèØ‰ª•Êü•ËØ¢‰Ω†Êã•ÊúâÁöÑÊâÄÊúâÊàêÂ∞±,‰πüÂèØ‰ª•Êü•ËØ¢ÊâÄÊúâÊàêÂ∞±ÁöÑËé∑ÂèñÊù°‰ª∂."
		elseif ( i == 52 ) then
			set s="ÁßòÂ¢É‰∏≠ÊàêÂäüÈÄöËøáÊüê‰∏ÄÂ±ÇÊúâ2ÁßçÊñπÊ≥ïÔºå‰∏ÄÁßçÊòØÂ∞ÜÊâÄÊúâÁÅØÂú®60ÁßíÂÜÖÊàêÂäüÁÇπ‰∫ÆÔºåÂè¶‰∏ÄÁßçÊñπÊ≥ïÂàôÊòØÁõ¥Êé•Ê∂àÁÅ≠ÊâÄÊúâÊÄ™Áâ©„ÄÇ"
		elseif ( i == 53 ) then
			set s="Ëã±ÈõÑÂèØ‰ª•ÈÄöËøáÊòéÁÅØÂØπÂ§©ËµãÊäÄËÉΩËøõË°å‰∏ÄÈò∂ÊàñËÄÖ‰∫åÈò∂ËßâÈÜíÔºåÊòéÁÅØÂèØ‰ªéÁßòÂ¢É‰∏≠Ëé∑ÂèñÔºåÊÄªÂÖ±Êúâ20Â±ÇÊåëÊàòÔΩû"
		elseif ( i == 54 ) then
			set s="Êüê‰∫õËã±ÈõÑÊúâÁâπÂÆöÁöÑÁöÆËÇ§ÔºåËøô‰∫õÁöÆËÇ§ÂèØ‰ª•ÈÄöËøáËß£ÈîÅÁâπÂÆöÁöÑÊàêÂ∞±Êù•Ê∞∏‰πÖËé∑Âèñ„ÄÇÔºàËæìÂÖ•-cjÊü•ËØ¢Ôºâ"
		elseif ( i == 55 ) then
			set s="ÂΩìÂâçÂú®Á∫øÁöÑÁé©ÂÆ∂Ë∂äÂ§öÔºåÁßòÂ¢É‰∏≠ÂêåÊó∂Âá∫Áé∞ÁöÑÊÄ™Áâ©Ë∂äÂ§öÔºåËåÉÂõ¥Ë∂äÂ§ßÔºåÁÅØÁöÑ‰ΩçÁΩÆ‰πüË∂äÂàÜÊï£„ÄÇ"
		elseif ( i == 56 ) then
			set s="ÁßòÂ¢É‰∏≠ÁöÑÊØè‰∏™ÊòéÁÅØÂèØ‰ª•ÊäµÊå°20Ê¨°ÊîªÂáªÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÊ≤ªÁñóÁöÑÊñπÂºè‰ª§ÂÖ∂ÊÅ¢Â§çÁîüÂëΩÔºåËÄåÂè™Ë¶Å‰ªª‰∏ÄÁÅØË¢´ÊëßÊØÅÔºåÂàôÊåëÊàòÂ§±Ë¥•„ÄÇ"
		elseif ( i == 57 ) then
			set s="‰Ω†ÂèØ‰ª•ËæìÂÖ•-+Êù•ÊèêÈ´òËßÜËßí„ÄÇ"
		elseif ( i == 58 ) then
			set s="Â¶ÇÊûú‰Ω†ÊÉ≥ËÆ©È≠îÂÖΩËá™Âä®ÊñΩÊ≥ïÔºå‰Ω†ÂèØ‰ª•ËæìÂÖ•-msÊù•‰ª§È≠îÂÖΩËøõÂÖ•‰∏çÂèØÈÄâÂÆöÁä∂ÊÄÅ„ÄÇ"
		elseif ( i == 59 ) then
			set s="‰Ω†ÂèØ‰ª•ËæìÂÖ•-bsÊù•Ê∏ÖÈô§Âú∞‰∏äÁöÑÊâÄÊúâÂÆùÁü≥."
		endif
		call BJDebugMsg("‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª")
		call BJDebugMsg("|cFFFF66CC„ÄêÂ∞èÊèêÁ§∫„Äë|r" + s)
		call BJDebugMsg("‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª‚Äª")
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ShowZanzhuHint takes nothing returns nothing
	    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "Ê∞∏‰πÖËµûÂä©", "ÂÅöÂõæ‰∏çÊòì,‰Ω†ÁöÑÂ¶ÇÊûú‰Ω†ÂñúÊ¨¢Êú¨Âõæ,‰πüÊÑøÊÑèËµûÂä©Êú¨Âõæ,ÈÇ£‰πà‰Ω†Â∞ÜËé∑Âæó‰ª•‰∏ãÂäüËÉΩ:\n\n	    	|cffff68001.ÂèØ‰ª•Áõ¥Êé•ÈÄâÂèñËã±ÈõÑ|r|cff00ccff\"ÊòüËÉß\"|r|cffff6800„ÄÅ|r|cff00ccff\"ÂπªÈÄ∏\"|r|cffff6600„ÄÅ|r|cff00ccff\"Ê¢¶ÈúÅ\"|r„ÄÅ|cff00ccff\"ËãçÂáå\"|r|cffff6600„ÄÇ|r|cffff6800|n2.Ëã±ÈõÑÂ∞ÜËé∑Âæó‰∏ÉÂΩ©ÁöÆËÇ§ÊïàÊûú|n3.ÂºÄÂ±ÄÈáëÂ∏Å10000(‰∏ç‰∏éÂπ≥Âè∞Á≠âÁ∫ßÂè†Âä†)|n4.ÂºÄÂ±ÄÁ´ãÂç≥Ëé∑Âæó\"|r|cffff00ffÁêâÁíÉÁíûÁéâ|r|cffff6800\",‰ªªÊÑèÂÆùÁü≥ÂçáÁ∫ßË£ÖÂ§áÊàêÂäüÁéá100%|n5.ÈÄâÊã©ÊâÄÊúâÈöæÂ∫¶(ÂåÖÊã¨Ââç4‰∏™)ÂùáËÉΩ‰ΩìÈ™å24+5+1Ê≥¢ËøõÊîªÔºåÂπ∂Ëß£ÈîÅÊ∑∑Ê≤åÂå∫Âüü.|n6.‰∏ìÂ±ûÊåá‰ª§(-hc)ÂèØ‰ª•ÊääÂú∞Èù¢‰∏äÁöÑÂÆùÁÆ±‰∏ÄÈîÆÂêàÊàêÈ´òÁ∫ßÂÆùÁÆ±|r|cffff00ff.|r|cffff6800|n7.ÂèØ‰ª•Èõá‰Ω£Á¨¨5Á¨¨6Âè∑Èõá‰Ω£ÂÖµ.|n8.Âü∫Âú∞Â∞ÜËé∑Âæó3Ê¨°Èò≤Êä§ÁΩ©ÊïàÊûú.\n\n	    	|r|cffffff00ËµûÂä©ÂêéÁª≠ÁâàÊú¨Ê∞∏‰πÖÊúâÊïà,Ê∞∏‰πÖËµûÂä©ËØ∑Âä†QQÁæ§413359254Ëé∑Âèñ,ËøòÂèØ‰ª•Ê∑ªÂä†‰ΩúËÄÖÂæÆ‰ø°Âè∑\"a19f12\"Ëé∑Âèñ.|r", "ReplaceableTextures\\CommandButtons\\BTNMGExchange.blp")

	endfunction

 function ShowZanzhuHint2 takes nothing returns nothing
	    call PlaySoundBJ(gg_snd_Renwu)
	    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
	    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00Ê∞∏‰πÖËµûÂä©|r\n|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
	    call DestroyTimer(GetExpiredTimer())
	endfunction
	
//---------------------------------------------------------------------------------------------------

 function ChatCommand__InitChatCommand takes nothing returns nothing
		
     local trigger t= CreateTrigger()
		call TriggerRegisterPlayerChatEvent(t, Player(0), "-", false)
		call TriggerRegisterPlayerChatEvent(t, Player(1), "-", false)
		call TriggerRegisterPlayerChatEvent(t, Player(2), "-", false)
		call TriggerRegisterPlayerChatEvent(t, Player(3), "-", false)
		call TriggerRegisterPlayerChatEvent(t, Player(4), "-", false)
		call TriggerRegisterPlayerChatEvent(t, Player(5), "-", false)
	    call TriggerAddAction(t, function ChatCommandAct)

	    //Â∞èÊèêÁ§∫
	    call TimerStart(CreateTimer(), 120, true, function ChatCommand__ShowHint)

	    //Ê∞∏‰πÖËµûÂä©ÁöÑ‰ªªÂä°
	    call TimerStart(CreateTimer(), 1400, true, function ShowZanzhuHint2)

	    set t=null
	endfunction
//---------------------------------------------------------------------------------------------------


//library ChatCommand ends
//library Chenji:
    

//---------------------------------------------------------------------------------------------------
    
    function CountYindu takes nothing returns nothing
        if ( Chenji__IYinduTimes >= 7 ) then
             call SetChenji1SpinOK(GetOwningPlayer(chenji))
        else
            set Chenji__IYinduTimes=Chenji__IYinduTimes + 1
        endif
    endfunction
    
//---------------------------------------------------------------------------------------------------
    
    function GetYeai takes nothing returns item
        if ( UnitHasItemOfTypeBJ(chenji, 'stel') ) then
            return GetItemOfTypeFromUnitBJ(chenji, 'stel')
        elseif ( UnitHasItemOfTypeBJ(chenji, 'I04M') ) then
            return GetItemOfTypeFromUnitBJ(chenji, 'I04M')
        endif
        return null
    endfunction
//---------------------------------------------------------------------------------------------------
    
    

//---------------------------------------------------------------------------------------------------
    

    function TSpellChenji4Con takes nothing returns boolean
        return ( ( GetUnitStateSwap(UNIT_STATE_MANA, chenji) > 800.00 ) and ( GetEventDamage() >= 1. ) and ( GetEventDamage() <= 100000000.00 ) )
    endfunction

    function TSpellChenji4Act takes nothing returns nothing
        local unit u
        call DisableTrigger(GetTriggeringTrigger())
        set Chenji__RDamage=Chenji__RDamage + GetEventDamage()
        if ( Chenji__RDamage >= GetUnitState(chenji, UNIT_STATE_MAX_LIFE) * 0.1 ) then
            set Chenji__RDamage=0
        else
            call EnableTrigger(GetTriggeringTrigger())
            return
        endif

        set u=CreateUnit(GetOwningPlayer(chenji), 'h00P', YDWECoordinateX(( GetUnitX(chenji) + GetRandomReal(- 300.00, 300.00) )), YDWECoordinateY(( GetUnitY(chenji) + GetRandomReal(- 300.00, 300.00) )), 0.00)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(u), GetUnitY(u)))
        call UnitApplyTimedLifeBJ(5.00, 'BTLF', u)
        set u=null
        call PolledWait(0.50)
        call EnableTrigger(GetTriggeringTrigger())
    endfunction
//---------------------------------------------------------------------------------------------------
    
    function Chenji__MingheTimer takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer id= GetHandleId(t)
        local integer times= LoadInteger(spellTable, id, 1)
        local real x= LoadReal(spellTable, id, 2)
        local real y= LoadReal(spellTable, id, 3)
        local integer i= 1
        local integer random= GetRandomInt(8, 18)
        local unit u= null
        if ( times <= 10 ) then
            call SaveInteger(spellTable, GetHandleId(t), 1, times + 1)
            call DamageArea(chenji , x , y , 600 , GetDamageChenji(chenji) * 8)
            call CreateUnitEffect(GetOwningPlayer(chenji) , 'h014' , x , y , 0)
            loop
                exitwhen i > random
                set u=CreateUnit(GetOwningPlayer(chenji), 'h00J', x, y, i * ( 360 / random ))
                call UnitApplyTimedLifeBJ(5, 'BHwe', u)
                set i=i + 1
            endloop
        else
            call PauseTimer(t)
            call FlushChildHashtable(spellTable, id)
            call DestroyTimer(t)
        endif
        set t=null
        set u=null
    endfunction

    function ChenjiMinghe takes nothing returns nothing
        local timer t= CreateTimer()
        call SaveInteger(spellTable, GetHandleId(t), 1, 0)
        call SaveReal(spellTable, GetHandleId(t), 2, GetSpellTargetX())
        call SaveReal(spellTable, GetHandleId(t), 3, GetSpellTargetY())
        call TimerStart(t, 1, true, function Chenji__MingheTimer)
        call PrintSpellContent(GetOwningPlayer(chenji) , GetAbilityName('A0G3') , I2S(R2I(GetDamageChenji(chenji) * 0.8 * RJ3(chenji , 2 , 1) / 100)) + "‰∏áÊÄª‰º§ÂÆ≥.")
        set t=null
    endfunction
//---------------------------------------------------------------------------------------------------
    

    //ÊåâÁÖß12345Êù•Âà§Êñ≠
    function LearnSkillChenjiI takes unit learner,integer whichSpell returns nothing
        local integer i
        if ( learner == chenji ) then
            if ( whichSpell == 4 and IsFourthSpellOK(chenji) == true and GetUnitAbilityLevel(chenji, 'A0F8') == 1 ) then
                set Chenji__TSpellChenji4=CreateTrigger()
                call TriggerRegisterUnitEvent(Chenji__TSpellChenji4, chenji, EVENT_UNIT_DAMAGED)
                call TriggerAddCondition(Chenji__TSpellChenji4, Condition(function TSpellChenji4Con))
                call TriggerAddAction(Chenji__TSpellChenji4, function TSpellChenji4Act)
            endif
        endif
    endfunction

    function LearnSkillChenji takes unit learner,integer learnSpellID returns nothing
        if ( learner == chenji ) then
            if ( learnSpellID == 'A0F8' ) then
                call LearnSkillChenjiI(learner , 4)
            endif
        endif
    endfunction

//---------------------------------------------------------------------------------------------------
    
    function Chenji__InitChenjiSpin takes unit u returns unit

        if ( IsChenjiSpin2(GetOwningPlayer(u)) ) then
            set udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]=CreateUnit(GetOwningPlayer(u), 'H01W', GetUnitX(u), GetUnitY(u), 0)
            set gg_unit_Harf_0262=udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
            call UnitAddItemByIdSwapped('stel', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
            call UnitAddItemByIdSwapped('I006', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
            call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.1)
            call SetUnitManaPercentBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], 1000)
            call RemoveUnit(u)
            set u=udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
        endif

        if ( IsChenjiSpin1(GetOwningPlayer(u)) ) then
            call UnitAddAbility(u, 'A0JS')
            call AddStrPercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.1)
        endif

        return u

    endfunction

//---------------------------------------------------------------------------------------------------
    function InitChenji takes unit u returns nothing

        set chenji=Chenji__InitChenjiSpin(u)

        call TriggerRegisterUnitEvent(gg_trg_____________132, chenji, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(gg_trg_____________125, chenji, EVENT_UNIT_DAMAGED)
        call TriggerRegisterUnitEvent(gg_trg_____________130, chenji, EVENT_UNIT_DAMAGED)

    endfunction


//library Chenji ends
//library Hanshang:
	

//---------------------------------------------------------------------------------------------------
	
    function Hanshang__GuifushengongTimer takes nothing returns nothing
        local timer t= GetExpiredTimer()
        local integer id= GetHandleId(t)
        local item it= LoadItemHandle(spellTable, id, 1)
        call RemoveItem(it)
        call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0., 0., "|cFFFF66CC„ÄêÈ¨ºÊñßÁ•ûÂ∑•„Äë|rÊó∂Èó¥Âà∞ÔºåÁâ©ÂìÅÊ∂àÂ§±„ÄÇ")
        call PauseTimer(t)
        call FlushChildHashtable(spellTable, id)
        call DestroyTimer(t)
        set it=null
        set t=null
    endfunction

 function Hanshang__Guifushengong takes nothing returns nothing
        local item it= null
        local timer t= null
        if not ( IsCanCopy(GetSpellTargetItem()) ) then
            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0., 0., "|cFFFF66CC„ÄêÈ¨ºÊñßÁ•ûÂ∑•„Äë|rËØ•Áâ©ÂìÅÁ¶ÅÊ≠¢Â§çÂà∂„ÄÇ")
            return
        endif
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„Äê|r|cffff00ffÈ¨ºÊñßÁ•ûÂ∑•|r|cFFFF66CC„Äë|rÊàêÂäüÂ§çÂà∂Âá∫‰∫Ü" + ( GetItemName(GetSpellTargetItem()) + "„ÄÇ" ) ))
        set it=UnitAddItemByIdSwapped(GetItemTypeId(GetSpellTargetItem()), GetTriggerUnit())
        if ( ( GetItemType(GetSpellTargetItem()) != ITEM_TYPE_CHARGED ) ) then
        	if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(hanshang))] ) then
        		set Hanshang__IJuexing=Hanshang__IJuexing + 1
        		if ( Hanshang__IJuexing >= 20 ) then
        			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„Äê|r|cffff00ffÈ¨ºÊñßÁ•ûÂ∑•|r|cFFFF66CC„Äë|rËØ•Áâ©ÂìÅ‰∏∫ÁúüÂìÅ„ÄÇ" ))
					set Hanshang__IJuexing=0
			        set it=null
			        set t=null
					return
				else
        			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„Äê|r|cffff00ffÈ¨ºÊñßÁ•ûÂ∑•|r|cFFFF66CC„Äë|rËøòÈúÄË¶Å‰ΩøÁî®" + I2S(20 - Hanshang__IJuexing) + "Ê¨°Êâç‰∏∫ÁúüÂìÅ„ÄÇ" ))
        		endif
        	endif
            call SetItemPawnable(it, false)
            set t=CreateTimer()
            call SaveItemHandle(spellTable, GetHandleId(t), 1, it)
            call TimerStart(t, 30, false, function Hanshang__GuifushengongTimer)
        endif
        set it=null
        set t=null

	endfunction
//---------------------------------------------------------------------------------------------------
	


 function SiShenZhaDan takes real x,real y,real damageRate,integer abilityID returns nothing
  local real n
  local real damage= GetDamageAgi(hanshang) * damageRate
  local real x1= GetUnitX(hanshang)
     local real y1= GetUnitY(hanshang)
     local real facing= Atan2(y - y1, x - x1)
     local real distance= SquareRoot(( y - y1 ) * ( y - y1 ) + ( x - x1 ) * ( x - x1 ))
	    if ( distance < 1000 ) then
	    	set n=1
	    elseif ( distance < 4000 ) then
	    	set n=1.5
	    else
	    	set n=( 1.5 + ( distance - 4000 ) / 5000 )
	    endif
	    set damage=damage * n
	    call CreateBoom(CreateUnit(GetOwningPlayer(hanshang), 'h007', x1, y1, facing) , facing , distance , 1200 * IJ2(hanshang , 2 , 1) , 0.05 , damage , 450 , "Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
	    if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(hanshang))] ) then
	    	call SetUnitLifePercentBJ(hanshang, 100)
	    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl", GetUnitX(hanshang), GetUnitY(hanshang)))
	    endif
	    if ( abilityID != 0 ) then
	    	call PrintSpellAdd(GetOwningPlayer(hanshang) , GetAbilityName(abilityID) , damage , ",Ë∑ùÁ¶ª‰º§ÂÆ≥Âä†Êàên‰∏∫" + I2S(R2I(n * 100) - 100) + "%.")
	    endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hanshang__Wuqiongtunshi takes nothing returns nothing

        local item it= GetSpellTargetItem()
        local integer i= 0
        local real r= 0
        local integer loopI= 0
        if ( HaveSavedInteger(YDHT, GetHandleId(it), 0xA75AD423) and GetConvertedPlayerId(GetOwningPlayer(hanshang)) != LoadInteger(YDHT, GetHandleId(it), 0xA75AD423) ) then
            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËøô‰ª∂‰∏úË•øÂ±û‰∫é" + ( GetUnitName(udg_H[LoadInteger(YDHT, GetHandleId(it), 0xA75AD423)]) + ",‰∏çÂèØÂêûÂô¨„ÄÇ" ) ))
            set it=null
            return
        endif

	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", GetUnitX(hanshang), GetUnitY(hanshang)))

	    if ( IsItemPawnable(it) ) then
	    	set loopI=1
	    	loop
	    		exitwhen i > ( Hanshang__ILianjinChi - 1 )
	    		if ( LoadInteger(spellTable, GetHandleId(hanshang), i) == GetItemTypeId(it) ) then
	    			call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêûÂô¨Â§±Ë¥•,ÂØπÂêå‰∏ÄÁßçÁúüÂìÅÂè™ËÉΩÂêûÂô¨‰∏ÄÊ¨°.(Â§çÂà∂Âá∫Êù•ÁöÑÊ≤°Ëøô‰∏™ÈôêÂà∂)")
	    			return
	    		endif
	    		set i=i + 1
	    	endloop
			
	    	call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|r" + ( GetAbilityName(GetSpellAbilityId()) + "|cFFFF66CC„Äë|rÂêûÂô¨ÊàêÂäüÔºåÂ¢ûÂä†ÁöÑÂ±ûÊÄßÂÄºÂ¶Ç‰ª•‰∏ãÊâÄÁ§∫Ôºö" ) ))
			call SaveInteger(spellTable, GetHandleId(hanshang), Hanshang__ILianjinChi, GetItemTypeId(it))
			set Hanshang__ILianjinChi=Hanshang__ILianjinChi + 1

	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x5BAE281D) ) then
	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x5BAE281D) * 2 / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÂÖ®Â±ûÊÄß|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call ModifyHeroStat(bj_HEROSTAT_STR, hanshang, bj_MODIFYMETHOD_ADD, i)
	            call ModifyHeroStat(bj_HEROSTAT_AGI, hanshang, bj_MODIFYMETHOD_ADD, i)
	            call ModifyHeroStat(bj_HEROSTAT_INT, hanshang, bj_MODIFYMETHOD_ADD, i)
	            set Hanshang__ITotalEat=Hanshang__ITotalEat + i * 3
	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x8D205575) ) then

	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x8D205575) * 2 / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÂäõÈáè|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call ModifyHeroStat(bj_HEROSTAT_STR, hanshang, bj_MODIFYMETHOD_ADD, i)
	            set Hanshang__ITotalEat=Hanshang__ITotalEat + i

	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x384C9D86) ) then

	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x384C9D86) * 2 / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÊïèÊç∑|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call ModifyHeroStat(bj_HEROSTAT_AGI, hanshang, bj_MODIFYMETHOD_ADD, i)
	            set Hanshang__ITotalEat=Hanshang__ITotalEat + i


	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x1B5C932E) ) then


	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x1B5C932E) * 2 / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÊô∫Âäõ|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call ModifyHeroStat(bj_HEROSTAT_INT, hanshang, bj_MODIFYMETHOD_ADD, i)
	            set Hanshang__ITotalEat=Hanshang__ITotalEat + i


	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x5039AFFB) ) then

	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x5039AFFB) * 2 / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÊîªÂáª|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call AddAttack(hanshang , i)

	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0xFCD961C9) ) then

	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0xFCD961C9) * 2 / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÁîüÂëΩ‰∏äÈôê|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call AddHP(hanshang , i)

	        endif
	        if ( HaveSavedReal(YDHT, GetItemTypeId(it), 0x06C64278) ) then

	            set r=LoadReal(YDHT, GetItemTypeId(it), 0x06C64278) / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, "|cFFFF66CC„Äê|rÂäõÈáèÂä†Êàê|cFFFF66CC„Äë|r+" + I2S(R2I(r * 100.00)) + "%„ÄÇ")
	            call AddStrPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , r)
	        endif
	        if ( HaveSavedReal(YDHT, GetItemTypeId(it), 0x6FFF4132) ) then

	            set r=LoadReal(YDHT, GetItemTypeId(it), 0x6FFF4132) / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, "|cFFFF66CC„Äê|rÊïèÊç∑Âä†Êàê|cFFFF66CC„Äë|r+" + I2S(R2I(r * 100.00)) + "%„ÄÇ")
	            call AddAgiPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , r)

	        endif
	        if ( HaveSavedReal(YDHT, GetItemTypeId(it), 0xC0C6918C) ) then

	            set r=LoadReal(YDHT, GetItemTypeId(it), 0xC0C6918C) / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, "|cFFFF66CC„Äê|rÊô∫ÂäõÂä†Êàê|cFFFF66CC„Äë|r+" + I2S(R2I(r * 100.00)) + "%„ÄÇ")
	            call AddIntPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , r)

	        endif
	        if ( HaveSavedReal(YDHT, GetItemTypeId(it), 0xFAA305CD) ) then

	            set r=LoadReal(YDHT, GetItemTypeId(it), 0xFAA305CD) / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, "|cFFFF66CC„Äê|rHP‰∏äÈôêÂä†Êàê|cFFFF66CC„Äë|r+" + I2S(R2I(r * 100.00)) + "%„ÄÇ")
	            call AddHPPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , r)

	        endif
	        if ( HaveSavedReal(YDHT, GetItemTypeId(it), 0x4C0507D9) ) then

	            set r=LoadReal(YDHT, GetItemTypeId(it), 0x4C0507D9) / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, "|cFFFF66CC„Äê|rÊîªÂáªÂä†Êàê|cFFFF66CC„Äë|r+" + I2S(R2I(r * 100.00)) + "%„ÄÇ")
	            call AddAttackPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , r)
	        endif
	        if ( HaveSavedReal(YDHT, GetItemTypeId(it), 0x0B6FB20F) ) then

	            set r=LoadReal(YDHT, GetItemTypeId(it), 0x0B6FB20F) / 5
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, "|cFFFF66CC„Äê|rÈò≤Âæ°Âä†Êàê|cFFFF66CC„Äë|r+" + I2S(R2I(r * 100.00)) + "%„ÄÇ")
	            call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , r)
	        endif
	    else
	    	call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|r" + ( GetAbilityName(GetSpellAbilityId()) + "|cFFFF66CC„Äë|rÂêûÂô¨ÊàêÂäüÔºåÂ¢ûÂä†ÁöÑÂ±ûÊÄßÂÄºÂ¶Ç‰ª•‰∏ãÊâÄÁ§∫Ôºö" ) ))
	       if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x5BAE281D) ) then
	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x5BAE281D) / 20
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÂÖ®Â±ûÊÄß|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call ModifyHeroStat(bj_HEROSTAT_STR, hanshang, bj_MODIFYMETHOD_ADD, i)
	            call ModifyHeroStat(bj_HEROSTAT_AGI, hanshang, bj_MODIFYMETHOD_ADD, i)
	            call ModifyHeroStat(bj_HEROSTAT_INT, hanshang, bj_MODIFYMETHOD_ADD, i)
	            set Hanshang__ITotalEat=Hanshang__ITotalEat + i * 3
	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x8D205575) ) then

	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x8D205575) / 20
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÂäõÈáè|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call ModifyHeroStat(bj_HEROSTAT_STR, hanshang, bj_MODIFYMETHOD_ADD, i)
	            set Hanshang__ITotalEat=Hanshang__ITotalEat + i

	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x384C9D86) ) then

	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x384C9D86) / 20
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÊïèÊç∑|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call ModifyHeroStat(bj_HEROSTAT_AGI, hanshang, bj_MODIFYMETHOD_ADD, i)
	            set Hanshang__ITotalEat=Hanshang__ITotalEat + i


	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x1B5C932E) ) then


	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x1B5C932E) / 20
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÊô∫Âäõ|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call ModifyHeroStat(bj_HEROSTAT_INT, hanshang, bj_MODIFYMETHOD_ADD, i)
	            set Hanshang__ITotalEat=Hanshang__ITotalEat + i


	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0x5039AFFB) ) then

	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0x5039AFFB) / 20
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÊîªÂáª|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call AddAttack(hanshang , i)

	        endif
	        if ( HaveSavedInteger(YDHT, GetItemTypeId(it), 0xFCD961C9) ) then

	            set i=LoadInteger(YDHT, GetItemTypeId(it), 0xFCD961C9) / 20
	            call DisplayTextToPlayer(GetOwningPlayer(hanshang), 0, 0, ( "|cFFFF66CC„Äê|rÁîüÂëΩ‰∏äÈôê|cFFFF66CC„Äë|r+" + I2S(i) ))
	            call AddHP(hanshang , i)

	        endif
	    endif
	    if ( Hanshang__ITotalEat > 5000000 ) then
       call SetHanshangSpinOK(GetOwningPlayer(hanshang))
	    endif
	    call RemoveItem(it)
	    set it=null
    
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hanshang__TSpellHanshang2Con takes nothing returns boolean
	    return ( ( GetAttackedUnitBJ() == hanshang ) and ( IsSecondSpellOK(hanshang) == true ) and ( GetRandomInt(1, 10) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, hanshang) > 200.00 ) and GetUnitAbilityLevel(hanshang, 'A0IK') >= 1 )
	endfunction

 function Hanshang__TSpellHanshang2Act takes nothing returns nothing
		call DisableTrigger(GetTriggeringTrigger())
		call SiShenZhaDan(GetUnitX(GetAttacker()) , GetUnitY(GetAttacker()) , 0.33 , 'A0IK')
		call PolledWait(5)
		call EnableTrigger(GetTriggeringTrigger())
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hanshang__LianJinZhiShuTimer takes nothing returns nothing
  local integer lumber= GetPlayerState(GetOwningPlayer(hanshang), PLAYER_STATE_RESOURCE_LUMBER)
  local integer update= 0
  local real Rupdate
		if ( lumber > 100000 ) then
			set update=90
			set Hanshang__RLianjin2=0.72
		elseif ( lumber > 10000 ) then
			set update=75
			set Hanshang__RLianjin2=0.6
		elseif ( lumber > 1000 ) then
			set update=60
			set Hanshang__RLianjin2=0.48
		elseif ( lumber > 100 ) then
			set update=45
			set Hanshang__RLianjin2=0.36
		elseif ( lumber > 10 ) then
			set update=30
			set Hanshang__RLianjin2=0.24
		elseif ( lumber > 1 ) then
			set update=15
			set Hanshang__RLianjin2=0.12
		endif
		set Rupdate=I2R(update) / 100
		if ( Hanshang__RLianjin != Rupdate ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", GetUnitX(hanshang), GetUnitY(hanshang)))
			call PrintSpellContent(GetOwningPlayer(hanshang) , GetAbilityName('A0BN') , "È¢ùÂ§ñÊäÄËÉΩ‰º§ÂÆ≥Âä†Êàê" + I2S(update) + "%.")
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , Rupdate - Hanshang__RLianjin)
			set Hanshang__RLianjin=Rupdate
		endif
	endfunction


//---------------------------------------------------------------------------------------------------

	
	
 function Hanshang__LianhuanBoomTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local real x= LoadReal(spellTable, id, kLianhuanBoomX)
  local real y= LoadReal(spellTable, id, kLianhuanBoomY)
		if ( ( GetUnitState(hanshang, UNIT_STATE_MANA) >= 100 ) and ( Hanshang__IsLianhuan == true ) ) then
			call SetUnitManaBJ(hanshang, GetUnitState(hanshang, UNIT_STATE_MANA) - 100)
			call SiShenZhaDan(x , y , 1 , 0)
		else
        	call IssueImmediateOrder(hanshang, "stop")
        	set Hanshang__IsLianhuan=false
			call PrintSpellContent(GetOwningPlayer(hanshang) , GetAbilityName('A0F0') , "ÊñΩÊ≥ïÁªìÊùü.")
			call PauseTimer(t)
			call DestroyTimer(t)
			call FlushChildHashtable(spellTable, id)
		endif
		set t=null
	endfunction
	
 function Hanshang__LianhuanBoom takes nothing returns nothing
  local timer t= CreateTimer()
		set Hanshang__IsLianhuan=true
		call EnableTrigger(Hanshang__TSpellHanshang4)
		call SaveReal(spellTable, GetHandleId(t), kLianhuanBoomX, GetSpellTargetX())
		call SaveReal(spellTable, GetHandleId(t), kLianhuanBoomY, GetSpellTargetY())
		call TimerStart(t, 0.5, true, function Hanshang__LianhuanBoomTimer)
		call PrintSpellName(GetOwningPlayer(hanshang) , GetAbilityName('A0F0'))
		set t=null
	endfunction

	
 function Hanshang__TSpellHanshang4Con takes nothing returns boolean
	    return ( ( GetSpellAbilityId() == 'A0F0' ) )
	endfunction

 function Hanshang__TSpellHanshang4Act takes nothing returns nothing
		set Hanshang__IsLianhuan=false
		call DisableTrigger(Hanshang__TSpellHanshang4)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hanshang__GiveDiyu takes nothing returns nothing
  local integer i= GetRandomInt(1, 3)
		if ( IsFourthSpellOK(hanshang) and GetUnitAbilityLevel(hanshang, 'A0F0') == 1 ) then
			if ( i == 1 ) then
				call UnitAddItemByIdSwapped('I06A', UDepot[GetConvertedPlayerId(GetOwningPlayer(hanshang))])
			elseif ( i == 2 ) then
				call UnitAddItemByIdSwapped('I06J', UDepot[GetConvertedPlayerId(GetOwningPlayer(hanshang))])
			elseif ( i == 3 ) then
				call UnitAddItemByIdSwapped('I06B', UDepot[GetConvertedPlayerId(GetOwningPlayer(hanshang))])
			endif
			call PrintSpellContent(GetOwningPlayer(hanshang) , GetAbilityName('A0F0') , "Ëé∑Âæó‰∫Ü" + GetItemName(GetLastCreatedItem()) + "Â≠òÊîæ‰∫é‰ªìÂ∫ì.")
            call PingMinimapForForce(GetForceOfPlayer(GetOwningPlayer(hanshang)), GetUnitX(UDepot[GetConvertedPlayerId(GetOwningPlayer(hanshang))]), GetUnitY(UDepot[GetConvertedPlayerId(GetOwningPlayer(hanshang))]), 2.00)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function Hanshang__DuwumizhenTimer takes nothing returns nothing
		if ( ( IsUnitAliveBJ(Hanshang__UDuwu) ) and ( GetUnitAbilityLevelSwapped('Avul', Hanshang__UDuwu) < 1 ) and ( IsUnitAliveBJ(hanshang) == true ) ) then
	    	call DamageArea(hanshang , GetUnitX(Hanshang__UDuwu) , GetUnitY(Hanshang__UDuwu) , 400 , GetDamageAgi(hanshang) * 0.6)
		else
			call PauseTimer(Hanshang__TDuwu)
			call DestroyTimer(Hanshang__TDuwu)
			set Hanshang__TDuwu=null
			set Hanshang__UDuwu=null
			call DestroyEffect(Hanshang__EffectDu)
			set Hanshang__EffectDu=null
		endif
	endfunction

 function Hanshang__Duwumizhen takes nothing returns nothing
		if ( Hanshang__EffectDu != null ) then
        	call DestroyEffect(Hanshang__EffectDu)
		endif
	    set Hanshang__UDuwu=GetSpellTargetUnit()
	    set Hanshang__EffectDu=AddSpecialEffectTarget("war3mapImported\\radioactivecloud.mdl", Hanshang__UDuwu, "chest")
    	call PrintSpell(GetOwningPlayer(hanshang) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(hanshang) * 0.6)
		if ( Hanshang__TDuwu == null ) then
			set Hanshang__TDuwu=CreateTimer()
			call TimerStart(Hanshang__TDuwu, 1, true, function Hanshang__DuwumizhenTimer)
		endif
		call PlaySoundBJ(gg_snd_hanshang_5)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hanshang__TSpellHanshangCon takes nothing returns boolean
	    return ( GetSpellAbilityUnit() == hanshang )
	endfunction

 function Hanshang__TSpellHanshangAct takes nothing returns nothing
		if ( ( GetSpellAbilityId() == 'A0IJ' ) ) then
			call SiShenZhaDan(GetSpellTargetX() , GetSpellTargetY() , 1 , GetSpellAbilityId())
		elseif ( ( GetSpellAbilityId() == 'A0F0' ) ) then
			call Hanshang__LianhuanBoom()
		//È¨ºÊñßÁ•ûÂ∑•
        elseif ( ( GetSpellAbilityId() == 'A0II' ) ) then
            call Hanshang__Guifushengong()
        //Êó†Á©∑ÂêûÂô¨
        elseif ( ( GetSpellAbilityId() == 'A0IK' ) ) then
            call Hanshang__Wuqiongtunshi()
        //ÊØíÈõæËø∑Èòµ
        elseif ( ( GetSpellAbilityId() == 'AUfa' ) ) then
            call Hanshang__Duwumizhen()
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hanshang__TSpellHanshang3Con takes nothing returns boolean
		return IsThirdSpellOK(hanshang) == true and GetUnitAbilityLevel(hanshang, 'A0BN') == 1 and GetEventDamage() > 100 and GetTriggerUnit() == hanshang and IsUnitAliveBJ(hanshang)
	endfunction
	
 function Hanshang__TSpellHanshang3Act takes nothing returns nothing
		call SetUnitLifeBJ(hanshang, GetUnitState(hanshang, UNIT_STATE_LIFE) + GetEventDamage() * Hanshang__RLianjin2)
	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillHanshangI takes unit learner,integer whichSpell returns nothing
		if ( learner == hanshang ) then
			if ( whichSpell == 3 and IsThirdSpellOK(hanshang) == true and GetUnitAbilityLevel(hanshang, 'A0BN') == 1 ) then
				//ÊäÄËÉΩ3ÂàùÂßãÂåñ
		        call AddMoneyPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , 0.25)

       			call InitHanshangAura()
       			//ÁÇºÈáë‰πãÊúØ
       			call TimerStart(CreateTimer(), 3, true, function Hanshang__LianJinZhiShuTimer)
       		endif
		endif
	endfunction

 function LearnSkillHanshang takes unit learner,integer learnSpellID returns nothing
		if ( learner == hanshang ) then
			if ( learnSpellID == 'A0IJ' ) then
				call LearnSkillHanshangI(learner , 1)
			elseif ( learnSpellID == 'A0IK' ) then
				call LearnSkillHanshangI(learner , 2)
			elseif ( learnSpellID == 'A0BN' ) then
				call LearnSkillHanshangI(learner , 3)
			elseif ( learnSpellID == 'A0F0' ) then
				call LearnSkillHanshangI(learner , 4)
			elseif ( learnSpellID == 'AUfa' ) then
				call LearnSkillHanshangI(learner , 5)
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Hanshang__InitHanshangSpin takes unit u returns unit
		if ( IsHanshangSpin1(GetOwningPlayer(u)) ) then
			call UnitAddAbility(u, 'A0KV')
			call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.08)
			return u
		else
			return u
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function InitHanshang takes unit u returns nothing
		set hanshang=Hanshang__InitHanshangSpin(u)

		//1
	    set Hanshang__TSpellHanshang=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Hanshang__TSpellHanshang, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	    call TriggerAddCondition(Hanshang__TSpellHanshang, Condition(function Hanshang__TSpellHanshangCon))
	    call TriggerAddAction(Hanshang__TSpellHanshang, function Hanshang__TSpellHanshangAct)

	    //2
	    set Hanshang__TSpellHanshang2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Hanshang__TSpellHanshang2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Hanshang__TSpellHanshang2, Condition(function Hanshang__TSpellHanshang2Con))
	    call TriggerAddAction(Hanshang__TSpellHanshang2, function Hanshang__TSpellHanshang2Act)

	    //È≠îËÉΩÁ≠âÁ∫ß‰Ωé‰∫é5ÂàôÂáèÂ∞ëÂèóÂà∞ÁöÑ50%‰º§ÂÆ≥
	    set Hanshang__TSpellHanshang3=CreateTrigger()
	    call TriggerRegisterUnitEvent(Hanshang__TSpellHanshang3, hanshang, EVENT_UNIT_DAMAGED)
	    call TriggerAddCondition(Hanshang__TSpellHanshang3, Condition(function Hanshang__TSpellHanshang3Con))
	    call TriggerAddAction(Hanshang__TSpellHanshang3, function Hanshang__TSpellHanshang3Act)

	    //4
	    set Hanshang__TSpellHanshang4=CreateTrigger()
	    call DisableTrigger(Hanshang__TSpellHanshang4)
	    call TriggerRegisterAnyUnitEventBJ(Hanshang__TSpellHanshang4, EVENT_PLAYER_UNIT_SPELL_ENDCAST)
	    call TriggerRegisterAnyUnitEventBJ(Hanshang__TSpellHanshang4, EVENT_PLAYER_UNIT_SPELL_FINISH)
	    call TriggerAddCondition(Hanshang__TSpellHanshang4, Condition(function Hanshang__TSpellHanshang4Con))
	    call TriggerAddAction(Hanshang__TSpellHanshang4, function Hanshang__TSpellHanshang4Act)

		call AddMoneyPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , 0.3)

		call TimerStart(CreateTimer(), CModeH(150 , 75), true, function Hanshang__GiveDiyu)
	endfunction

//library Hanshang ends
//library Huanyi:
	
//---------------------------------------------------------------------------------------------------
	
	
 function SimulateDamageHuanyi takes unit u returns boolean

		//È£é
		if ( GetUnitTypeId(u) == 'hhh3' ) then
			call UnitDamageTarget(Huanyi, GetTriggerUnit(), Huanyi___RDamageHuanyi * 0.3, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		//ÂÜ∞ÁÅ´
		if ( GetUnitTypeId(u) == 'h01B' and udg_H[GetConvertedPlayerId(GetOwningPlayer(u))] == Huanyi ) then
			call UnitDamageTarget(Huanyi, GetTriggerUnit(), Huanyi___RDamageHuanyi * 0.4, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
		
 function SimulateDeathHuanyi takes unit u returns nothing
		
		if ( GetUnitTypeId(u) == 'hhh7' ) then
			call DamageArea(Huanyi , GetUnitX(u) , GetUnitY(u) , 300 , Huanyi___RDamageHuanyi * 1.5)
	    	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", GetUnitX(u), GetUnitY(u)))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___GetMultiSpell takes nothing returns integer
		if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(Huanyi))] ) then
			return 6
		endif

		if not ( IsThirdSpellOK(Huanyi) == true and GetUnitAbilityLevel(Huanyi, 'AHH2') == 1 ) then
			return 1 + IJ2(Huanyi , 1 , 0)
		endif

		return IMaxBJ(IMinBJ(Huanyi___IMoneng / 2, 5), 1) + IJ2(Huanyi , 1 , 0)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___NoneTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local real intTimes= LoadReal(spellTable, GetHandleId(t), kNoneIntTimes)
		call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , - 1 * intTimes)
		call FlushChildHashtable(spellTable, GetHandleId(t))
		call PauseTimer(t)
		call DestroyTimer(t)
		set t=null
	endfunction

 function Huanyi___None takes nothing returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local real intTimes= times * 0.2
  local real time= times * 10
  local timer t= CreateTimer()
		call SaveReal(spellTable, GetHandleId(t), kNoneIntTimes, intTimes)
		call TimerStart(t, time, false, function Huanyi___NoneTimer)
		call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , intTimes)
		call YDWETimerDestroyEffect(time , AddSpecialEffectTargetUnitBJ("overhead", Huanyi, "war3mapImported\\music.mdx"))
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH5') , "ÊàêÂäüÂ¢ûÂä†" + I2S(times * 20) + "%ÁöÑÊô∫ÂäõÔºåÊåÅÁª≠" + I2S(times * 10) + "Áßí„ÄÇ")
	    set t=null
	endfunction

//---------------------------------------------------------------------------------------------------
		
 function Huanyi___Fire takes real x,real y returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local real damage= Huanyi___RDamageHuanyi
  local integer i= 1
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpell(GetOwningPlayer(Huanyi) , GetAbilityName('AHH6') , damage)
		loop
			set times=times - 1
	        call CreateUnitEffect(GetOwningPlayer(Huanyi) , 'hhh1' , x , y , 0)
	        set i=1
			loop
				exitwhen i > 6
	        	call CreateUnitEffect(GetOwningPlayer(Huanyi) , 'hhh1' , x + 400 * CosBJ(i * 60) , y + 400 * SinBJ(i * 60) , 0)
				set i=i + 1
			endloop
			call DamageArea(Huanyi , x , y , 600 , damage)
			exitwhen times <= 0
			call PolledWait(0.5)
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___Lumber takes nothing returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local integer attack= GetHeroInt(Huanyi, true) + GetAttack(Huanyi)
  local integer defense= GetHeroAgi(Huanyi, true) / 100 + GetDefense(Huanyi)
  local integer hp= GetHeroStr(Huanyi, true) * 10 + GetHP(Huanyi)
  local unit u
  local integer i= 1
		loop
			exitwhen i > times
			set u=CreateUnit(GetOwningPlayer(Huanyi), 'hhh2', GetUnitX(Huanyi), GetUnitY(Huanyi), 0)
			call SetUnitAnimation(u, "birth")
			call UnitApplyTimedLifeBJ(180.00, 'BHwe', u)
			call SetAttack(u , attack)
			call SetDefense(u , defense)
			call SetHP(u , hp)
			set i=i + 1
		endloop
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpellName(GetOwningPlayer(Huanyi) , GetAbilityName('AHH8'))
	    set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___Wind takes nothing returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local unit u
  local integer i= 1
		loop
			exitwhen i > times
			set u=CreateUnit(GetOwningPlayer(Huanyi), 'hhh3', YDWECoordinateX(GetUnitX(Huanyi) + GetRandomInt(- 100, 100)), YDWECoordinateY(GetUnitY(Huanyi) + GetRandomInt(- 100, 100)), 0)
			call UnitApplyTimedLifeBJ(15.00, 'BHwe', u)
			set i=i + 1
		endloop
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpellName(GetOwningPlayer(Huanyi) , GetAbilityName('AHH9'))
	    set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FireWater takes nothing returns nothing

  local integer times= Huanyi___GetMultiSpell()
  local real damage= Huanyi___RDamageHuanyi * 0.6
  local integer i= 6 * times
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpell(GetOwningPlayer(Huanyi) , GetAbilityName('AHHA') , damage)
		loop
			set i=i - 1
	 		call SimulateSpell4(Huanyi , YDWECoordinateX(GetUnitX(Huanyi) + GetRandomReal(- 600, 600)) , YDWECoordinateY(GetUnitY(Huanyi) + GetRandomReal(- 600, 600)) , 'A05S' , 1 , 6 , "blizzard")
	 		call SimulateSpell4(Huanyi , YDWECoordinateX(GetUnitX(Huanyi) + GetRandomReal(- 600, 600)) , YDWECoordinateY(GetUnitY(Huanyi) + GetRandomReal(- 600, 600)) , 'A00U' , 1 , 6 , "blizzard")
			exitwhen i <= 0
			call PolledWait(0.5 / times)
		endloop

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FireLumber takes real x,real y returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local real damage= Huanyi___RDamageHuanyi * 0.15
  local integer i= 1
  local integer ii= 1
  local real range= 150 * times
		if ( IsInForbitRegion(x , y , Huanyi) ) then
	        call DisplayTextToPlayer(GetOwningPlayer(Huanyi), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢Áû¨ÁßªÂà∞Ëææ.")
	        return
		endif
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
		call SetUnitManaBJ(Huanyi, GetUnitState(Huanyi, UNIT_STATE_MANA) - 75)
	    call PrintSpell(GetOwningPlayer(Huanyi) , GetAbilityName('AHHB') , damage)
		call SetUnitX(Huanyi, x)
		call SetUnitY(Huanyi, y)
		call IssueImmediateOrder(Huanyi, "stop")
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", x, y))
		loop
			exitwhen i > times - 1
			set ii=1
			loop
				exitwhen ii > i * 1 + 4
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", YDWECoordinateX(x + 150 * i * CosBJ(360 * ii / ( i * 1 + 4 ))), YDWECoordinateY(y + 150 * i * SinBJ(360 * ii / ( i * 1 + 4 )))))
				set ii=ii + 1
			endloop
			set i=i + 1
		endloop
		call DamageArea(Huanyi , x , y , range , damage)
	endfunction	
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FireWind takes real x2,real y2 returns nothing


  local integer times= Huanyi___GetMultiSpell()
  local real damage= Huanyi___RDamageHuanyi
  local integer i= 1

     local real x1
     local real y1
     local real facing
  local unit u

		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpell(GetOwningPlayer(Huanyi) , GetAbilityName('AHHC') , damage)
		loop
			set times=times - 1

		    set x1=GetUnitX(Huanyi)
		    set y1=GetUnitY(Huanyi)
		    set facing=Atan2BJ(y2 - y1, x2 - x1)
			set u=CreateUnit(GetOwningPlayer(Huanyi), 'hhh4', x1, y1, facing)
	    	call UnitApplyTimedLifeBJ(2, 'BHwe', u)
		    call YDWETimerPatternRushSlide(u , facing , 1400 , 2 , 0.05 , damage , 300. , false , true , true , "origin" , "" , "Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
			exitwhen times <= 0
			call PolledWait(0.5)
		endloop

	    set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___WaterWindTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(spellTable, id, kUHuanyiQuan)
  local group l_group= CreateGroup()
  local unit l_unit
		if ( IsUnitAliveBJ(u) ) then
			call GroupEnumUnitsInRange(l_group, GetUnitX(u), GetUnitY(u), 600, null)
			loop
			    set l_unit=FirstOfGroup(l_group)
			    exitwhen l_unit == null
			    call GroupRemoveUnit(l_group, l_unit)
			    if ( IsAlly(l_unit , Huanyi) ) then
			    	call RecoverUnitHP(l_unit , 0.3)
			    	call RecoverUnitMP(l_unit , 20)
			    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl", GetUnitX(l_unit), GetUnitY(l_unit)))
			    endif
			endloop
			call DestroyGroup(l_group)
			set l_group=null
			set l_unit=null
		else
			call RemoveUnit(u)
			call FlushChildHashtable(spellTable, id)
			call PauseTimer(t)
			call DestroyTimer(t)
		endif
		set u=null
		set t=null
		call DestroyGroup(l_group)
		set l_unit=null
		set l_group=null
	endfunction

 function Huanyi___WaterWind takes real x,real y returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local timer t= CreateTimer()
  local unit u= CreateUnit(GetOwningPlayer(Huanyi), 'hhh5', x, y, 0)
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
    	call UnitApplyTimedLifeBJ(15 * times, 'BHwe', u)
		call SaveUnitHandle(spellTable, GetHandleId(t), kUHuanyiQuan, u)
		call TimerStart(t, 1, true, function Huanyi___WaterWindTimer)
	    call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHHE') , "ÊåÅÁª≠" + I2S(15 * times) + "Áßí„ÄÇ")
		set t=null
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function Huanyi___WaterLumberWindTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local integer times= LoadInteger(spellTable, id, kIGuCan)
  local integer i= 1
  local integer ii= 1
		if ( IsUnitAliveBJ(Huanyi) ) then
			call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(Huanyi___UGucan), GetUnitY(Huanyi___UGucan)))
			loop
				exitwhen i > times - 1
				set ii=1
				loop
					exitwhen ii > i * 1 + 2
					call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", YDWECoordinateX(GetUnitX(Huanyi___UGucan) + 150 * i * CosBJ(360 * ii / ( i * 1 + 2 ))), YDWECoordinateY(GetUnitY(Huanyi___UGucan) + 150 * i * SinBJ(360 * ii / ( i * 1 + 2 )))))
					set ii=ii + 1
				endloop
				set i=i + 1
			endloop
			call DamageAreaMirror(Huanyi , GetUnitX(Huanyi___UGucan) , GetUnitY(Huanyi___UGucan) , times * 150 , Huanyi___RDamageHuanyi * 0.15)
		else
			call RemoveUnit(Huanyi___UGucan)
			set Huanyi___UGucan=null
			call FlushChildHashtable(spellTable, id)
			call PauseTimer(t)
			call DestroyTimer(t)
		endif
		set t=null
	endfunction

 function Huanyi___WaterLumberWind takes real x,real y returns nothing
		
  local integer times= Huanyi___GetMultiSpell()
  local timer t= CreateTimer()
		if ( Huanyi___UGucan != null ) then
			call RemoveUnit(Huanyi___UGucan)
		endif
		set Huanyi___UGucan=CreateUnit(GetOwningPlayer(Huanyi), 'hhh6', x, y, 270)
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
    	call SetUnitScalePercent(Huanyi___UGucan, 100.00 + times * 20.00, 100.00 + times * 20.00, 100.00 + times * 20.00)
    	call SetUnitAnimation(Huanyi___UGucan, "stand birth alternate work upgrade")
		call SaveInteger(spellTable, GetHandleId(t), kIGuCan, times)
		call TimerStart(t, 1, true, function Huanyi___WaterLumberWindTimer)
	    call PrintSpellName(GetOwningPlayer(Huanyi) , GetAbilityName('AHHG'))
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FireLumberWind takes nothing returns nothing
  local integer times= Huanyi___GetMultiSpell()
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHHH') , ",Áú©Êôï" + I2S(times * 2) + "Áßí„ÄÇ")
 		call SimulateSpell(Huanyi , Huanyi , 'A0BI' , times , 6 , "stomp" , false , true , false)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FireWaterWind takes real x,real y returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local real damage= Huanyi___RDamageHuanyi * 1.5
  local unit u
  local integer i= 1
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpell(GetOwningPlayer(Huanyi) , GetAbilityName('AHHI') , damage)
		loop
			set times=times - 1
			set u=CreateUnit(GetOwningPlayer(Huanyi), 'hhh7', x, y, 0)
    		call SetUnitFlyHeight(u, 0.00, 333.00)
			exitwhen times <= 0
			call PolledWait(0.5)
		endloop
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FireWaterLumber takes real x,real y returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local integer i= 1
  local unit u
     local integer attract
	    if ( IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) ) then
	    	call DisplayTextToPlayer(GetOwningPlayer(Huanyi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁõÆÊ†áÂú∞ÁÇπ‰∏çËÉΩÈÄöË°å,ÊäÄËÉΩÊñΩÊ≥ïÊó†ÊïàÔºÅ")
	    	return
	    endif
		set u=CreateUnit(GetOwningPlayer(Huanyi), 'hhh8', x, y, 0)
	    set attract=s__Attract_create(u , I3(IsInDiamondRegion(x , y) , 1200 , 900 * times) , 0.05 , 50 * times)
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHHJ') , "ËåÉÂõ¥" + I2S(900 * times) + "s.")
		call UnitApplyTimedLifeBJ(3, 'BHwe', u)
		call s__Attract_SetForbitHero(attract)
	    call s__Attract_start(attract)
	    set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FireWaterLumberWindTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local real attrTimes= LoadReal(spellTable, GetHandleId(t), kHuanyuTimes)
		call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , - 1 * attrTimes)
		call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , - 1 * attrTimes)
		call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , - 1 * attrTimes)
		call FlushChildHashtable(spellTable, GetHandleId(t))
		call PauseTimer(t)
		call DestroyTimer(t)
		set t=null
	endfunction

 function Huanyi___FireWaterLumberWind takes nothing returns nothing
  local integer times= Huanyi___GetMultiSpell()
  local real attrTimes= times * 0.2
  local real time= times * 10
  local timer t= CreateTimer()
		call SaveReal(spellTable, GetHandleId(t), kHuanyuTimes, attrTimes)
		call TimerStart(t, time, false, function Huanyi___FireWaterLumberWindTimer)
		call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , attrTimes)
		call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , attrTimes)
		call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , attrTimes)
		call YDWETimerDestroyEffect(time , AddSpecialEffectTargetUnitBJ("origin", Huanyi, "war3mapImported\\blackbird.mdx"))
		if ( times > 1 ) then
	    	call CreateSpellTextTag(I2S(times) + "ÈáçÊñΩÊ≥ï" , Huanyi , 0 , 100 , 0 , 4)
		endif
	    call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHHK') , "ÊàêÂäüÂ¢ûÂä†" + I2S(times * 20) + "%ÁöÑ‰∏âÂõ¥Â±ûÊÄßÔºåÊåÅÁª≠" + I2S(times * 10) + "Áßí„ÄÇ")
	    set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___Fusu takes nothing returns nothing
  local real x= GetSpellTargetX()
  local real y= GetSpellTargetY()
        call PlaySoundBJ(gg_snd_huanyi_5)
		//ÂπªÂÖÉ‰ºèÂøÉ
		call Huanyi___None()
		call PolledWait(1)

		//‰∏ÉÁÇéÁÑöÁã±
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 100 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 100)
		call Huanyi___Fire(x , y)
		call PolledWait(1)
		//ÂÜ∞ËäØ‰πãÈì†
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 15 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 15)
 		call SimulateSpell(Huanyi , Huanyi , 'AHH7' , GetHeroLevel(Huanyi) / 2 , 5 , "frostarmoron" , false , false , true)
	    call PrintSpellName(GetOwningPlayer(Huanyi) , GetAbilityName('AHH7'))
		call PolledWait(1)
 		//Â§©Âè§Êú®Á≤æ
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 100 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 100)
		call Huanyi___Lumber()
		call PolledWait(1)
		//ÂπªÂåñÊÆãÂç∑
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 200 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 200)
		call Huanyi___Wind()
		call PolledWait(1)
		//ÂÜ∞ÁÅ´ÂèåÁªù
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 150 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 150)
		call Huanyi___FireWater()
		call PolledWait(1)
		//‰∏áË±°ÂΩíÂΩ±
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 100 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 100)
		call Huanyi___FireLumber(x , y)
		call PolledWait(1)
		//ÁÅ´ËΩÆÁÉÅÊó•
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 150 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 150)
		call Huanyi___FireWind(x , y)
		call PolledWait(1)
		//ÂπªÂÜ•Â§©Ê≥â
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 300 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 300)
		call Huanyi___WaterWind(x , y)
		call PolledWait(1)
		//Ê≤ßÊÄíÂè§ÂèÇ
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 1500 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 1500)
		call Huanyi___WaterLumberWind(x , y)
		call PolledWait(1)
		//Èõ®Áé•ÂçÉÈáå
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 200 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 200)
		call Huanyi___FireLumberWind()
		call PolledWait(1)
		//ÊÆãÊúàÊµÅÊòü
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 100 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 100)
		call Huanyi___FireWaterWind(x , y)
		call PolledWait(1)
		//ÂºïÂäõÁïåÂú∫
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 360 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 360)
		call Huanyi___FireWaterLumber(x , y)
		call PolledWait(1)
		//ÂØ∞ÂÆáÂΩí‰∏Ä
		if ( GetUnitState(Huanyi, UNIT_STATE_MANA) < 800 ) then
	    	call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			return
		endif
		call RecoverUnitMP(Huanyi , - 800)
		call Huanyi___FireWaterLumberWind()
	    call PrintSpellContent(GetOwningPlayer(Huanyi) , GetAbilityName('AHH4') , ",ÊñΩÊ≥ïÁªìÊùü.")
			
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___TSpellHuanyi2Act takes nothing returns nothing
		call SetUnitAbilityLevel(Huanyi, 'AHH7', IMinBJ(100, GetHeroLevel(Huanyi) / 2))
	endfunction 
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___TSpellHuanyi3Con takes nothing returns boolean
		return IsFourthSpellOK(Huanyi) == true and GetUnitAbilityLevel(Huanyi, 'AHH3') == 1 and Huanyi___IMoneng <= 5 and GetRandomInt(1, 2) == 1
	endfunction
	
 function Huanyi___TSpellHuanyi3Act takes nothing returns nothing
		call SetUnitLifeBJ(Huanyi, GetUnitState(Huanyi, UNIT_STATE_LIFE) + GetEventDamage())
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FlashPowerData takes nothing returns nothing
		call SetTextTagPosUnitBJ(Huanyi___TTMoneng, Huanyi, 20)

		if ( ( GetUnitState(Huanyi, UNIT_STATE_MANA) >= GetUnitState(Huanyi, UNIT_STATE_MAX_MANA) * 0.9 ) and Huanyi___IMoneng < 10 ) then
			call SetUnitManaPercentBJ(Huanyi, 30)
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Avatar\\AvatarCaster.mdl", GetUnitX(Huanyi), GetUnitY(Huanyi)))
			set Huanyi___IMoneng=Huanyi___IMoneng + 1
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , 0.1)
			if ( Huanyi___ELowMoneng != null and Huanyi___IMoneng > 5 ) then
				call DestroyEffect(Huanyi___ELowMoneng)
				set Huanyi___ELowMoneng=null
			endif
		elseif ( ( GetUnitState(Huanyi, UNIT_STATE_MANA) < GetUnitState(Huanyi, UNIT_STATE_MAX_MANA) * 0.2 ) and Huanyi___IMoneng > 0 ) then
			call SetUnitManaPercentBJ(Huanyi, 80)
			set Huanyi___IMoneng=Huanyi___IMoneng - 1
	    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl", GetUnitX(Huanyi), GetUnitY(Huanyi)))
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(Huanyi)) , - 0.1)
			if ( Huanyi___ELowMoneng == null and Huanyi___IMoneng <= 5 ) then
				set Huanyi___ELowMoneng=AddSpecialEffectTargetUnitBJ("origin", Huanyi, "Abilities\\Spells\\Human\\ManaShield\\ManaShieldCaster.mdl")
			endif
	    else
	    	return
		endif

		call SetTextTagTextBJ(Huanyi___TTMoneng, I2S(Huanyi___IMoneng) + "Á∫ßÈ≠îËÉΩ", 20)
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function Huanyi___InitPower takes nothing returns nothing
  local timer ti= CreateTimer()

		set Huanyi___IMoneng=0
		set Huanyi___TTMoneng=CreateTextTagUnitBJ("0Á∫ßÈ≠îËÉΩ", Huanyi, 0, 20, 0, 50, 100, 0)
		call TimerStart(ti, 0.05, true, function Huanyi___FlashPowerData)

		set Huanyi___ELowMoneng=AddSpecialEffectTargetUnitBJ("origin", Huanyi, "Abilities\\Spells\\Human\\ManaShield\\ManaShieldCaster.mdl")
		set ti=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___SetHuanyiSpell takes nothing returns nothing
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), ICurrentSpell, false)
		if ( ICurrentSpell == 'AHHF' ) then
			call UnitRemoveAbility(Huanyi, 'AHHF')
		endif
		//0ÊéíÂàó
		if ( not ( Huanyi___IsFire ) and not ( Huanyi___IsWater ) and not ( Huanyi___IsLumber ) and not ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHH5'
		//1ÊéíÂàó
		elseif ( ( Huanyi___IsFire ) and not ( Huanyi___IsWater ) and not ( Huanyi___IsLumber ) and not ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHH6'
		elseif ( not ( Huanyi___IsFire ) and ( Huanyi___IsWater ) and not ( Huanyi___IsLumber ) and not ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHH7'
		elseif ( not ( Huanyi___IsFire ) and not ( Huanyi___IsWater ) and ( Huanyi___IsLumber ) and not ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHH8'
		elseif ( not ( Huanyi___IsFire ) and not ( Huanyi___IsWater ) and not ( Huanyi___IsLumber ) and ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHH9'
		//2ÊéíÂàó
		elseif ( ( Huanyi___IsFire ) and ( Huanyi___IsWater ) and not ( Huanyi___IsLumber ) and not ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHA'
		elseif ( ( Huanyi___IsFire ) and not ( Huanyi___IsWater ) and ( Huanyi___IsLumber ) and not ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHB'
		elseif ( ( Huanyi___IsFire ) and not ( Huanyi___IsWater ) and not ( Huanyi___IsLumber ) and ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHC'
		elseif ( not ( Huanyi___IsFire ) and ( Huanyi___IsWater ) and ( Huanyi___IsLumber ) and not ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHD'
		elseif ( not ( Huanyi___IsFire ) and ( Huanyi___IsWater ) and not ( Huanyi___IsLumber ) and ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHE'
		elseif ( not ( Huanyi___IsFire ) and not ( Huanyi___IsWater ) and ( Huanyi___IsLumber ) and ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHF'
			call UnitAddAbility(Huanyi, 'AHHF')
		//1ÊéíÂàó
		elseif ( not ( Huanyi___IsFire ) and ( Huanyi___IsWater ) and ( Huanyi___IsLumber ) and ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHG'
		elseif ( ( Huanyi___IsFire ) and not ( Huanyi___IsWater ) and ( Huanyi___IsLumber ) and ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHH'
		elseif ( ( Huanyi___IsFire ) and ( Huanyi___IsWater ) and not ( Huanyi___IsLumber ) and ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHI'
		elseif ( ( Huanyi___IsFire ) and ( Huanyi___IsWater ) and ( Huanyi___IsLumber ) and not ( Huanyi___IsWind ) ) then
			set ICurrentSpell='AHHJ'
		//0ÊéíÂàó
		else
			set ICurrentSpell='AHHK'
		endif
		if not ( BTianfu ) then
			call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), ICurrentSpell, true)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------

	

 function Huanyi___TSpellHuanyiAct takes nothing returns nothing
		//ÂõõÁõ∏
		if ( GetSpellAbilityId() == 'AHH0' ) then
			set Huanyi___IsFire=not ( Huanyi___IsFire )
			call Huanyi___SetHuanyiSpell()
		elseif ( GetSpellAbilityId() == 'AHH1' ) then
			set Huanyi___IsWater=not ( Huanyi___IsWater )
			call Huanyi___SetHuanyiSpell()
		elseif ( GetSpellAbilityId() == 'AHH2' ) then
			set Huanyi___IsLumber=not ( Huanyi___IsLumber )
			call Huanyi___SetHuanyiSpell()
		elseif ( GetSpellAbilityId() == 'AHH3' ) then
			set Huanyi___IsWind=not ( Huanyi___IsWind )
			call Huanyi___SetHuanyiSpell()
		//Â§çËãè
		elseif ( GetSpellAbilityId() == 'AHH4' ) then
			call Huanyi___Fusu()
		//ÂπªÂÖÉ‰ºèÂøÉ
		elseif ( GetSpellAbilityId() == 'AHH5' ) then
			call Huanyi___None()
		//‰∏ÉÁÇéÁÑöÁã±
		elseif ( GetSpellAbilityId() == 'AHH6' ) then
			call Huanyi___Fire(GetSpellTargetX() , GetSpellTargetY())
		//Â§©Âè§Êú®Á≤æ
		elseif ( GetSpellAbilityId() == 'AHH8' ) then
			call Huanyi___Lumber()
		//ÂπªÂåñÊÆãÂç∑
		elseif ( GetSpellAbilityId() == 'AHH9' ) then
			call Huanyi___Wind()
		//ÂÜ∞ÁÅ´ÂèåÁªù
		elseif ( GetSpellAbilityId() == 'AHHA' ) then
			call Huanyi___FireWater()
		//‰∏áË±°ÂΩíÂΩ±
		elseif ( GetSpellAbilityId() == 'AHHB' ) then
			call Huanyi___FireLumber(GetSpellTargetX() , GetSpellTargetY())
		//ÁÅ´ËΩÆÁÉÅÊó•
		elseif ( GetSpellAbilityId() == 'AHHC' ) then
			call Huanyi___FireWind(GetSpellTargetX() , GetSpellTargetY())
		//ÂπªÂÜ•Â§©Ê≥â
		elseif ( GetSpellAbilityId() == 'AHHE' ) then
			call Huanyi___WaterWind(GetSpellTargetX() , GetSpellTargetY())
		//Ê≤ßÊÄíÂè§ÂèÇ
		elseif ( GetSpellAbilityId() == 'AHHG' ) then
			call Huanyi___WaterLumberWind(GetSpellTargetX() , GetSpellTargetY())
		//Èõ®Áé•ÂçÉÈáå
		elseif ( GetSpellAbilityId() == 'AHHH' ) then
			call Huanyi___FireLumberWind()
		//ÊÆãÊúàÊµÅÊòü
		elseif ( GetSpellAbilityId() == 'AHHI' ) then
			call Huanyi___FireWaterWind(GetSpellTargetX() , GetSpellTargetY())
		//ÂºïÂäõÁïåÂú∫
		elseif ( GetSpellAbilityId() == 'AHHJ' ) then
			call Huanyi___FireWaterLumber(GetSpellTargetX() , GetSpellTargetY())
		//ÂØ∞ÂÆáÂΩí‰∏Ä
		elseif ( GetSpellAbilityId() == 'AHHK' ) then
			call Huanyi___FireWaterLumberWind()
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Huanyi___FlashHuanyiDamage takes nothing returns nothing
		set Huanyi___RDamageHuanyi=GetDamageInt(Huanyi)
	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillHuanyiI takes unit learner,integer whichSpell returns nothing
  local integer i
		if ( learner == Huanyi ) then
			if ( whichSpell == 2 and IsSecondSpellOK(Huanyi) == true and GetUnitAbilityLevel(Huanyi, 'AHH1') == 1 ) then
				//ÊäÄËÉΩ2ÂàùÂßãÂåñ
				call Huanyi___InitPower()
			elseif ( whichSpell == 4 and IsFourthSpellOK(Huanyi) == true and GetUnitAbilityLevel(Huanyi, 'AHH3') == 1 ) then

				call InitHuanyiAura()
				call AddSpecialEffectTargetUnitBJ("origin", Huanyi, "war3mapImported\\sichongjiejie_b.mdx")
			endif
		endif
	endfunction

 function LearnSkillHuanyi takes unit learner,integer learnSpellID returns nothing
		if ( learner == Huanyi ) then
			if ( learnSpellID == 'AHH0' ) then
				call LearnSkillHuanyiI(learner , 1)
			elseif ( learnSpellID == 'AHH1' ) then
				call LearnSkillHuanyiI(learner , 2)
			elseif ( learnSpellID == 'AHH2' ) then
				call LearnSkillHuanyiI(learner , 3)
			elseif ( learnSpellID == 'AHH3' ) then
				call LearnSkillHuanyiI(learner , 4)
			elseif ( learnSpellID == 'AHH4' ) then
				call LearnSkillHuanyiI(learner , 5)
			endif
		endif
	endfunction

//---------------------------------------------------------------------------------------------------

	
 function InitHuanyi takes unit u returns nothing
  local trigger t= CreateTrigger()
		set Huanyi=u
		set ICurrentSpell='AHH5'
		//‰∏ªËã±ÈõÑÊäÄËÉΩ
		set Huanyi___TSpellHuanyi=CreateTrigger()
	    call TriggerRegisterUnitEvent(Huanyi___TSpellHuanyi, u, EVENT_UNIT_SPELL_EFFECT)
	    call TriggerAddAction(Huanyi___TSpellHuanyi, function Huanyi___TSpellHuanyiAct)

	    //È≠îËÉΩÁ≠âÁ∫ß‰Ωé‰∫é5ÂàôÂáèÂ∞ëÂèóÂà∞ÁöÑ50%‰º§ÂÆ≥
	    call TriggerRegisterUnitEvent(t, Huanyi, EVENT_UNIT_DAMAGED)
	    call TriggerAddCondition(t, Condition(function Huanyi___TSpellHuanyi3Con))
	    call TriggerAddAction(t, function Huanyi___TSpellHuanyi3Act)


	    //Âà∑Êñ∞‰º§ÂÆ≥
	    call TimerStart(CreateTimer(), 1, true, function Huanyi___FlashHuanyiDamage)


	    //ÂÜ∞Áî≤ÁöÑÁ≠âÁ∫ßÂà∑Êñ∞
	    set t=CreateTrigger()
	    call TriggerRegisterUnitEvent(t, Huanyi, EVENT_UNIT_HERO_LEVEL)
	    call TriggerAddAction(t, function Huanyi___TSpellHuanyi2Act)
	    set t=null
	    //ÂàùÂßãÂåñÊäÄËÉΩÁä∂ÊÄÅ
	    call UnitAddAbility(Huanyi, 'AHH6')
	    call UnitAddAbility(Huanyi, 'AHH7')
	    call UnitAddAbility(Huanyi, 'AHH8')
	    call UnitAddAbility(Huanyi, 'AHH9')
	    call UnitAddAbility(Huanyi, 'AHHA')
	    call UnitAddAbility(Huanyi, 'AHHB')
	    call UnitAddAbility(Huanyi, 'AHHC')
	    call UnitAddAbility(Huanyi, 'AHHD')
	    call UnitAddAbility(Huanyi, 'AHHE')
	    call UnitAddAbility(Huanyi, 'AHHG')
	    call UnitAddAbility(Huanyi, 'AHHH')
	    call UnitAddAbility(Huanyi, 'AHHI')
	    call UnitAddAbility(Huanyi, 'AHHJ')
	    call UnitAddAbility(Huanyi, 'AHHK')
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHH6', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHH7', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHH8', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHH9', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHA', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHB', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHC', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHD', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHE', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHF', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHG', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHH', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHI', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHJ', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'AHHK', false)
		//ÂπªÈÄ∏ÂõûÈ≠î
		call SetPlayerAbilityAvailable(GetOwningPlayer(Huanyi), 'A0HX', false)

	endfunction


//library Huanyi ends
//library Kaisa:
	

//---------------------------------------------------------------------------------------------------
	
 function CountKaisa takes unit u returns nothing
		if not ( GetKaisaSpin(GetOwningPlayer(kaisa)) ) then
			if not ( IsUnitAliveBJ(u) ) then
				set Kaisa__INiuSpinCount=Kaisa__INiuSpinCount + 1
				if ( ModuloInteger(Kaisa__INiuSpinCount, 100) == 0 ) then
					call DisplayTextToPlayer(GetOwningPlayer(kaisa), 0., 0., "„Äê|cFF6699FFÁÜîÊó•ÁÖå‰∏ñ|r„ÄëÂÆåÊàêËøõÂ∫¶" + I2S(Kaisa__INiuSpinCount) + "/2500.")
				endif
     if ( Kaisa__INiuSpinCount >= 2500 ) then
      call SetKaisaSpinOK(GetOwningPlayer(kaisa))
     endif
			endif
		endif
	endfunction

	
//---------------------------------------------------------------------------------------------------
	
 function KaisaSanjiejuxing takes nothing returns nothing
		if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(kaisa))] ) then
			call SetUnitManaPercentBJ(kaisa, 100)
			call ImmuteDamageInterval(kaisa , 3)
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(seyu), GetUnitY(seyu)))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Kaisa__Lianxueyiji takes nothing returns nothing
  local unit target= GetSpellTargetUnit()
     local real facing= Atan2BJ(GetUnitY(target) - GetUnitY(kaisa), GetUnitX(target) - GetUnitX(kaisa))
  local real damage= ( GetUnitState(kaisa, UNIT_STATE_LIFE) / 500.0 ) * SquareRoot(I2R(GetHeroLevel(kaisa))) * GetUnitState(kaisa, UNIT_STATE_MANA)
     local integer i= 1
	    call PrintSpell(GetOwningPlayer(kaisa) , GetAbilityName(GetSpellAbilityId()) , damage)
	    loop
	    	exitwhen i > 6
       		call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", YDWECoordinateX(GetUnitX(kaisa) + 300.00 * I2R(i) * CosBJ(facing)), YDWECoordinateY(GetUnitY(kaisa) + 300.00 * I2R(i) * SinBJ(facing))))
	    	set i=i + 1
	    endloop
	    call UnitDamageTarget(kaisa, target, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	    call SetUnitManaPercentBJ(kaisa, 1)
	    call SetUnitLifePercentBJ(kaisa, 1)
	    set target=null
	endfunction

//---------------------------------------------------------------------------------------------------
	

 function Kaisa__TSpellKaisaAct takes nothing returns nothing
		if ( GetSpellAbilityId() == 'AOhx' ) then
			call Kaisa__Lianxueyiji()
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Kaisa__InitKaisaSpin takes unit u returns unit
		if ( IsKaisaSpin1(GetOwningPlayer(u)) ) then
			set udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]=CreateUnit(GetOwningPlayer(u), 'O002', GetUnitX(u), GetUnitY(u), 0)
			set gg_unit_Ocbh_0251=udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
			call UnitAddItemByIdSwapped('I006', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
			call SetUnitManaPercentBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], 1000)
			call RemoveUnit(u)
			return udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
		else
			return u
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitKaisa takes unit u returns nothing
		set kaisa=Kaisa__InitKaisaSpin(u)

		//‰∏ªËã±ÈõÑÊäÄËÉΩ
		set Kaisa__TSpellKaisa=CreateTrigger()
	    call TriggerRegisterUnitEvent(Kaisa__TSpellKaisa, kaisa, EVENT_UNIT_SPELL_EFFECT)
	    call TriggerAddAction(Kaisa__TSpellKaisa, function Kaisa__TSpellKaisaAct)

		call TriggerRegisterUnitEvent(gg_trg_____________7, kaisa, EVENT_UNIT_DAMAGED)

	endfunction


//library Kaisa ends
//library Lingxue:
	
//---------------------------------------------------------------------------------------------------
	
 function AfterReviveLingxue takes unit u returns nothing
		if ( u == lingxue ) then
    		call SetUnitPathing(lingxue, false)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Lingxue___InitLingxueSpin takes unit u returns unit
		if ( IsLingxueSpin1(GetOwningPlayer(u)) ) then
			set udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]=CreateUnit(GetOwningPlayer(u), 'H01V', GetUnitX(u), GetUnitY(u), 0)
			set gg_unit_Hjai_0014=udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
			call UnitAddItemByIdSwapped('I006', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.1)
			call SetUnitManaPercentBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], 1000)
			call RemoveUnit(u)
			return udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
		else
			return u
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
 function InitLingxue takes unit u returns nothing

		set lingxue=Lingxue___InitLingxueSpin(u)

    	call TriggerRegisterUnitEvent(gg_trg_____________21, lingxue, EVENT_UNIT_DAMAGED)
    	call SetUnitPathing(lingxue, false)
	endfunction


//library Lingxue ends
//library MonsterSpell:
	


	
 function FocusCow takes unit selected returns nothing
		if ( GetUnitAbilityLevel(selected, 'A09W') >= 1 and IsUnitAliveBJ(selected) ) then
			call SetUnitState(selected, UNIT_STATE_LIFE, GetUnitState(selected, UNIT_STATE_LIFE) + GetUnitState(selected, UNIT_STATE_MAX_LIFE) * 0.05)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function MonsterSpell__TSpellQianFaEnemyFilter takes nothing returns boolean
	    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) == true ) ) )
	endfunction

 function MonsterSpell__TSpellQianFaAct takes nothing returns nothing
     local integer i
     local group ydl_group
     local unit ydl_unit
     local real x
     local real y

	    set x=GetUnitX(GetAttackedUnitBJ())
	    set y=GetUnitY(GetAttackedUnitBJ())
	    call DisableTrigger(GetTriggeringTrigger())
	    call SetUnitManaBJ(GetAttacker(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) - 333.00 ))
	    //ÁâπÊïà
	    set i=1
	    loop
	        exitwhen i > 8
	        call UnitApplyTimedLifeBJ(5.00, 'BHwe', CreateUnit(GetOwningPlayer(GetAttacker()), 'h00J', x, y, 45 * I2R(i)))
	        set i=i + 1
	    endloop

	    //Â∑®ËÉΩ
	    if ( ( GetUnitTypeId(GetAttacker()) == 'N00Q' ) ) then
	    		set ydl_group=CreateGroup()
			    call GroupEnumUnitsInRange(ydl_group, x, y, 900, Condition(function MonsterSpell__TSpellQianFaEnemyFilter))
			    loop
			        set ydl_unit=FirstOfGroup(ydl_group)
			        exitwhen ydl_unit == null
			        call GroupRemoveUnit(ydl_group, ydl_unit)
			        //ÈÄ†Êàê75%ÁîüÂëΩÁöÑ‰º§ÂÆ≥
		            call UnitDamageTarget(GetAttacker(), ydl_unit, ( 0.5 * GetUnitStateSwap(UNIT_STATE_LIFE, ydl_unit) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			    endloop
		 	elseif ( ( GetUnitTypeId(GetAttacker()) == 'Nngs' ) or ( GetUnitTypeId(GetAttacker()) == 'Nbrn' ) ) then
		//‰ªôÁÇºÊàñÁîüÂÖã
	    		set ydl_group=CreateGroup()
				call GroupEnumUnitsInRange(ydl_group, x, y, 900, Condition(function MonsterSpell__TSpellQianFaEnemyFilter))
				loop
				    set ydl_unit=FirstOfGroup(ydl_group)
				    exitwhen ydl_unit == null
				    call GroupRemoveUnit(ydl_group, ydl_unit)
			        //ÈÄ†Êàê50%ÁîüÂëΩÁöÑ‰º§ÂÆ≥
			        call UnitDamageTarget(GetAttacker(), ydl_unit, ( 0.3 * GetUnitStateSwap(UNIT_STATE_LIFE, ydl_unit) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
				endloop

	    endif

	    //ÊñáÂ≠ó
	    call CreateSpellTextTag("Ëôö--ÂçÉÁΩö‰πãÂÖâ" , GetAttacker() , 100 , 100 , 0 , 2)

	    call PolledWait(5.00)
	    call EnableTrigger(GetTriggeringTrigger())

	    call DestroyGroup(ydl_group)
	    set ydl_group=null
	    set ydl_unit=null
	endfunction

 function MonsterSpell__TSpellQianFaCon takes nothing returns boolean
	    return ( ( ( GetUnitTypeId(GetAttacker()) == 'Nngs' ) or ( GetUnitTypeId(GetAttacker()) == 'Nbrn' ) or ( GetUnitTypeId(GetAttacker()) == 'N00Q' ) ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) > 333.00 ) and ( GetRandomInt(1, 10) == 1 ) )
	endfunction
//---------------------------------------------------------------------------------------------------
	
	

 function MonsterSpell__DiamondTransmit takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(spellTable, id, 1)
		if ( IsUnitAliveBJ(u) ) then
			call TLeaveDiamondRegion1Act()
		else
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
		endif
		set u=null
		set t=null
	endfunction
	
 function StartJudgeTransmit takes unit u returns nothing
  local timer t= CreateTimer()
  local integer shield
		call SaveUnitHandle(spellTable, GetHandleId(t), 1, u)
		call TimerStart(t, 2, true, function MonsterSpell__DiamondTransmit)
		if ( GetDiffculty() == 8 ) then
			set shield=s__SuperShield_create(u , 1)
		elseif ( GetDiffculty() > 8 ) then
			set shield=s__SuperShield_create(u , 5)
		endif
		set t=null
	endfunction

	
//---------------------------------------------------------------------------------------------------
	

 function MonsterSpell__TSpellJunlinAct takes nothing returns nothing
		if ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] == xuanxue and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(xuanxue))] ) then
	    	call RecoverUnitHP(GetAttackedUnitBJ() , - 0.1)
		else
        	call SetUnitOwner(GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker()), true)
		endif
	    call CreateSpellTextTag("Ëá£Êúç‰∫éÊàë" , GetAttacker() , 100 , 0 , 0 , 2)
	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetAttackedUnitBJ()), GetUnitY(GetAttackedUnitBJ())))
	endfunction

 function MonsterSpell__TSpellJunlinCon takes nothing returns boolean
	    return ( ( GetUnitAbilityLevel(GetAttacker(), 'A0P1') >= 1 ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) > 100.00 ) and ( GetRandomInt(1, 100) <= udg_Nandu_JJJ * 3 ) and ( IsEnemyM(GetAttackedUnitBJ() , GetAttacker()) == true ) and ( GetPlayerController(GetOwningPlayer(GetAttackedUnitBJ())) == MAP_CONTROL_USER ) and ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) != true ) and ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_MECHANICAL) == false ) )
	endfunction
//---------------------------------------------------------------------------------------------------
	

 function MonsterSpell__TSpellYuanshaAct takes nothing returns nothing
		call UnitDamageTarget(GetAttackedUnitBJ(), GetAttacker(), GetUnitState(GetAttacker(), UNIT_STATE_LIFE) * 10, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
	endfunction

 function MonsterSpell__TSpellYuanshaCon takes nothing returns boolean
	    return ( GetUnitAbilityLevel(GetAttackedUnitBJ(), 'A0HE') >= 1 ) and ( IsYuansu(GetAttacker()) )
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function MonsterSpell__TSpellPetAct takes nothing returns nothing
  local real per= ( 0.02 * ( GetUnitLevel(GetAttacker()) - GetUnitLevel(GetAttackedUnitBJ()) + 1 ) )
		call UnitDamageTarget(GetAttacker(), GetAttackedUnitBJ(), GetUnitState(GetAttacker(), UNIT_STATE_MAX_LIFE) * per, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
	endfunction

 function MonsterSpell__TSpellPetCon takes nothing returns boolean
	    return ( ( ( GetUnitAbilityLevel(GetAttackedUnitBJ(), 'A0P0') >= 1 ) or ( GetUnitAbilityLevel(GetAttackedUnitBJ(), 'A0P0') >= 1 ) ) and ( IsEnemy(GetAttackedUnitBJ() , GetAttacker()) == true ) and GetUnitLevel(GetAttacker()) >= 50 and GetUnitLevel(GetAttacker()) >= GetUnitLevel(GetAttackedUnitBJ()) )
	endfunction
//---------------------------------------------------------------------------------------------------
	
    function MonsterSpell__YouxiangZhibao takes nothing returns nothing
     local group l_group= CreateGroup()
     local unit l_unit
    	call GroupEnumUnitsInRange(l_group, GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()), 600, null)
    	call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
    	loop
    	    set l_unit=FirstOfGroup(l_group)
    	    exitwhen l_unit == null
    	    call GroupRemoveUnit(l_group, l_unit)
    	    if ( IsEnemyM(l_unit , GetDyingUnit()) and ( GetPlayerController(GetOwningPlayer(l_unit)) == MAP_CONTROL_USER ) ) then
    	    	call UnitDamageTarget(GetDyingUnit(), l_unit, GetUnitState(l_unit, UNIT_STATE_LIFE) * 0.9, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
    	    endif
    	endloop
    	call DestroyGroup(l_group)
    	set l_group=null
    	set l_unit=null
    endfunction

    function MonsterSpell__Leitongyuan takes nothing returns nothing
     local group l_group= CreateGroup()
     local unit l_unit
    	call GroupEnumUnitsInRange(l_group, GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()), 6000, null)
    	loop
    	    set l_unit=FirstOfGroup(l_group)
    	    exitwhen l_unit == null
    	    call GroupRemoveUnit(l_group, l_unit)
    	    if ( GetUnitTypeId(GetDyingUnit()) == GetUnitTypeId(l_unit) ) then
    	    	call SetUnitLifePercentBJ(l_unit, 100)
    	    	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedTarget.mdl", GetUnitX(l_unit), GetUnitY(l_unit)))
    	    endif
    	endloop
    	call DestroyGroup(l_group)
    	set l_group=null
    	set l_unit=null
    endfunction

    function MonsterSpell__TMijingDeathAct takes nothing returns nothing

    	if ( GetUnitAbilityLevel(GetDyingUnit(), 'A0I4') >= 1 ) then
    		//ÂπΩË±°‰πãÁàÜ
    		call MonsterSpell__YouxiangZhibao()
    	endif
    	if ( GetUnitAbilityLevel(GetDyingUnit(), 'A0I5') >= 1 ) then
    		//Á±ªÂêåÊ∫ê
    		call MonsterSpell__Leitongyuan()
    	endif

    endfunction
//---------------------------------------------------------------------------------------------------
	
    function MonsterSpell__TMijingAttackSpellCon takes nothing returns boolean
    	return GetUnitTypeId(GetAttacker()) == 'nrwm'
    endfunction
    
    function MonsterSpell__TMijingAttackSpellAct takes nothing returns nothing
    	if ( GetRandomInt(1, 10) == 1 ) then
    		call IssuePointOrder(GetAttacker(), "clusterrockets", GetUnitX(GetAttackedUnitBJ()), GetUnitY(GetAttackedUnitBJ()))
    		return
    	endif
    	if ( GetRandomInt(1, 10) == 1 ) then
    		call IssuePointOrder(GetAttacker(), "silence", GetUnitX(GetAttackedUnitBJ()), GetUnitY(GetAttackedUnitBJ()))
    		return
    	endif
    endfunction
	    
//---------------------------------------------------------------------------------------------------

	
 function MonsterSpell__TSpellDratAct takes nothing returns nothing
  local integer i= - 1
     local real x1
     local real y1
     local real x2
     local real y2
     local unit drat
     local real facing

	    set x1=GetUnitX(GetAttackedUnitBJ())
	    set y1=GetUnitY(GetAttackedUnitBJ())
	    set x2=GetUnitX(GetAttacker())
	    set y2=GetUnitY(GetAttacker())
	    set facing=Atan2BJ(y2 - y1, x2 - x1)

	    call DisableTrigger(GetTriggeringTrigger())
	    call SetUnitManaBJ(GetAttackedUnitBJ(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) - 333.00 ))

	    //Â∑®ËÉΩ
	    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'N00Q' ) ) then
	    	loop
	    		exitwhen i > 1
	    		set drat=CreateUnit(GetOwningPlayer(GetAttackedUnitBJ()), 'hs00', x1, y1, facing)
	        	call UnitApplyTimedLifeBJ(10.00, 'BHwe', drat)
	        	    call DIYRushSlide(drat , facing + i * 30 , 20000.00 , 10.00 , 0.05 , DRAT_JUNENG * ( 1 + 0.2 * I2R(level_juneng) ) , 60. , false , true , false , "origin" , "" , "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
	    		set i=i + 1
	    	endloop
		 	elseif ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Nngs' ) or ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Nbrn' ) ) then
		//‰ªôÁÇºÊàñÁîüÂÖã
	    		set drat=CreateUnit(GetOwningPlayer(GetAttackedUnitBJ()), 'hs00', x1, y1, facing)
	        	call UnitApplyTimedLifeBJ(10.00, 'BHwe', drat)
	        	    call DIYRushSlide(drat , facing , 20000.00 , 10.00 , 0.05 , R3(IsTianyan , 1000000000 , DRAT_XIANLIAN) , 60. , false , true , false , "origin" , "" , "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
	    endif

	    //ÊñáÂ≠ó
	    call CreateSpellTextTag("Ëôö--ÂºπÂ∞ÑÈ£ûÈïñ" , GetAttacker() , 0 , 100 , 1000 , 2)
	    call PolledWait(10.00)
	    call EnableTrigger(GetTriggeringTrigger())

	    set drat=null
	endfunction

 function MonsterSpell__TSpellDratCon takes nothing returns boolean
	    return ( ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Nngs' ) or ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Nbrn' ) or ( GetUnitTypeId(GetAttackedUnitBJ()) == 'N00Q' ) ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) > 333.00 ) and ( GetRandomInt(1, 10) == 1 ) )
	endfunction
//---------------------------------------------------------------------------------------------------
 function MonsterSpell__InitMonsterSpell takes nothing returns nothing
  local trigger t= CreateTrigger()
		//Â∑®ËÉΩ,‰ªôÁÇºËøòÊúâÁîüÂÖãÁöÑÂçÉÁΩö‰πãÂÖâ
	    set TSpellQianfa=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(TSpellQianfa, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(TSpellQianfa, Condition(function MonsterSpell__TSpellQianFaCon))
	    call TriggerAddAction(TSpellQianfa, function MonsterSpell__TSpellQianFaAct)
	    call DisableTrigger(TSpellQianfa)

	    //Â∑®ËÉΩ,‰ªôÁÇºËøòÊúâÁîüÂÖãÁöÑÊâãÈáåÂâë
	    set TSpellDart=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(TSpellDart, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(TSpellDart, Condition(function MonsterSpell__TSpellDratCon))
	    call TriggerAddAction(TSpellDart, function MonsterSpell__TSpellDratAct)
	    call DisableTrigger(TSpellDart)

	    //Ëá£Êúç‰∫éÊàë
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(t, Condition(function MonsterSpell__TSpellJunlinCon))
	    call TriggerAddAction(t, function MonsterSpell__TSpellJunlinAct)

	    //ÂÖÉÁ¥†ÊùÄÊâã
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(t, Condition(function MonsterSpell__TSpellYuanshaCon))
	    call TriggerAddAction(t, function MonsterSpell__TSpellYuanshaAct)

	    //ÂπΩË±°‰πã‰Ωì
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	    call TriggerAddAction(t, function MonsterSpell__TMijingDeathAct)

	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(t, Condition(function MonsterSpell__TMijingAttackSpellCon))
	    call TriggerAddAction(t, function MonsterSpell__TMijingAttackSpellAct)

	    //ÂÆ†Áâ©ÊéâË°Ä
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(t, Condition(function MonsterSpell__TSpellPetCon))
	    call TriggerAddAction(t, function MonsterSpell__TSpellPetAct)

	    set t=null
	endfunction

//library MonsterSpell ends
//library Moqi:
	
//---------------------------------------------------------------------------------------------------
	
 function JudgeMoqiSpin takes nothing returns nothing
  local location point1= null
  local location point2= null
  local real angle= 0.
		if ( GetDistance(GetUnitX(moqi) , GetUnitY(moqi) , GetSpellTargetX() , GetSpellTargetY()) < 10 ) then
			return
		endif
		set point1=GetUnitLoc(moqi)
		set point2=GetSpellTargetLoc()
		set angle=AngleBetweenPoints(point1, point2)
		call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊäÄËÉΩÊñΩÊîæËßíÂ∫¶‰∏∫" + R2S(angle) + "Â∫¶.")
		if ( angle < 90.1 and angle > 89.9 ) then
			call SetMoqiSpinOK(GetOwningPlayer(moqi))
		endif

		call RemoveLocation(point1)
		call RemoveLocation(point2)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function XingJuxing2 takes unit u returns nothing
		if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(moqi))] ) then
			call UnitAddAbility(u, 'A0HW')
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function JuexingMoqi2 takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 7
			call UnitAddAbility(udg_Unit_Qixing[i], 'A0HW')
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function QJuexingMoqi takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 7
			call UnitRemoveAbility(udg_Unit_Qixing[i], 'A0HW')
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsMoqiSpin takes nothing returns boolean
		return GetUnitTypeId(xiaoyue) == 'H01X'
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Moqi___InitMoqiSpin takes unit u returns unit
		if ( IsMoqiSpin1(GetOwningPlayer(u)) ) then
			set udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]=CreateUnit(GetOwningPlayer(u), 'H01X', GetUnitX(u), GetUnitY(u), 0)
			set gg_unit_Hvwd_0016=udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
			call UnitAddItemByIdSwapped('I006', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
			call SetUnitManaPercentBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], 1000)
			call RemoveUnit(u)
			return udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
		else
			return u
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitMoqi takes unit u returns nothing
		set moqi=Moqi___InitMoqiSpin(u)

		call TriggerRegisterUnitEvent(gg_trg_______17, moqi, EVENT_UNIT_DAMAGED)
		call TriggerRegisterUnitEvent(gg_trg_______19, moqi, EVENT_UNIT_ATTACKED)

	endfunction

//library Moqi ends
//library Seyu:
	
//---------------------------------------------------------------------------------------------------
	
 function JuexingSeyu1 takes nothing returns nothing
		call SetPlayerAbilityAvailable(GetOwningPlayer(seyu), 'A0G1', true)
	endfunction

 function JuexingSeyu2 takes nothing returns nothing
		call SetPlayerAbilityAvailable(GetOwningPlayer(seyu), 'ACam', true)
	endfunction

 function QJuexingSeyu takes nothing returns nothing
		call SetPlayerAbilityAvailable(GetOwningPlayer(seyu), 'ACam', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(seyu), 'A0G1', false)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Seyu___ShowChongdongHint takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > IMinBJ(8, Seyu___chongCount)
			if ( chongdongs[i] != null ) then
	            call PingMinimapForForce(GetForceOfPlayer(GetOwningPlayer(seyu)), GetUnitX(chongdongs[i]), GetUnitY(chongdongs[i]), 2.00)
			endif
			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ChongdongFilter takes nothing returns boolean
	    return ( ( GetUnitTypeId(GetFilterUnit()) == 'h015' ) )
	endfunction

//---------------------------------------------------------------------------------------------------

	
 function TSpellSeyuUpdateAct takes nothing returns nothing
  local integer i= 1
	    loop
	    	exitwhen i > IMinBJ(8, Seyu___chongCount)
	    	if ( chongdongs[i] != null ) then
	            call SetUnitAbilityLevel(chongdongs[i], 'ACfu', IMinBJ(100, GetHeroLevel(seyu) / 2))
	    	endif
	    	set i=i + 1
	    endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CreateChongdong takes nothing returns nothing

  local integer i= 1

  local group l_group= CreateGroup()
  local unit l_unit= null
		call GroupEnumUnitsInRange(l_group, GetSpellTargetX(), GetSpellTargetY(), 900, Condition(function ChongdongFilter))
		if ( CountUnitsInGroup(l_group) > 0 ) then
			call DisplayTextToPlayer(GetOwningPlayer(seyu), 0., 0., "|cFFFF66CC„ÄêËô´Ê¥û„Äë|rÂë®Âõ¥900ËåÉÂõ¥ÂÜÖÂ≠òÂú®‰∏Ä‰∏™Ëô´Ê¥ûÔºåËØ∑Âú®ËøúÁÇπÁöÑ‰ΩçÁΩÆÈáäÊîæ„ÄÇ")
			call DestroyGroup(l_group)
			set l_group=null
			set l_unit=null
			return
		endif
		call DestroyGroup(l_group)
		set l_group=null
		set l_unit=null

		loop
			if ( i > IMinBJ(8, Seyu___chongCount) ) then
				//Á©∫Ê¥ûÊª°‰∫ÜÂ∞±ÊèêÁ§∫Êª°‰∫Ü
				call Seyu___ShowChongdongHint()
				call DisplayTextToPlayer(GetOwningPlayer(seyu), 0., 0., "|cFFFF66CC„ÄêËô´Ê¥û„Äë|rËô´Ê¥ûÂèØÈáäÊîæÁöÑÊï∞ÈáèÂ∑≤Êª°,ËØ∑ÊâãÂä®ÂèñÊ∂àÂ§ö‰ΩôÁöÑËô´Ê¥û!")
				return
			endif
			if ( chongdongs[i] == null ) then
				set chongdongs[i]=CreateUnit(GetOwningPlayer(seyu), 'h015', GetSpellTargetX(), GetSpellTargetY(), 270)
				set Seyu___TTCD[i]=CreateTextTagUnitBJ("Ëô´Ê¥û" + I2S(i) + "Âè∑", chongdongs[i], 0, 20.00, 100, 0, 0, 0)
	            call PingMinimapForForce(GetForceOfPlayer(GetOwningPlayer(seyu)), GetSpellTargetX(), GetSpellTargetY(), 2.00)
	            //ÂÜ∞Áî≤ÊäÄËÉΩÁöÑËÆæÂÆö
	            call TSpellSeyuUpdateAct()
	            return
			endif
			set i=i + 1
		endloop
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function CancelChongdong takes nothing returns nothing
  local integer i= 1
	    loop
	        exitwhen i > IMinBJ(8, Seyu___chongCount)
	        if ( GetSpellAbilityUnit() == chongdongs[i] ) then
	        	call RemoveUnit(chongdongs[i])
	            call DestroyTextTag(Seyu___TTCD[i])
	            set chongdongs[i]=null
	            set Seyu___TTCD[i]=null
	            return
	        endif
	        set i=i + 1
	    endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Seyu___ChongdongSpell takes nothing returns nothing
		if ( GetSpellAbilityId() == 'A0E6' ) then
			call CancelChongdong()
		//Á©∫Èó¥ÂÖçÁñ´
		elseif ( GetSpellAbilityId() == 'ACam' ) then
			call ImmuteDamageInterval(GetSpellTargetUnit() , 3)
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit())))
		//Á©∫Èó¥ÂõöÁ¨º
		elseif ( GetSpellAbilityId() == 'A0G1' ) then
 			call SimulateSpell(GetSpellAbilityUnit() , GetSpellAbilityUnit() , 'A0G2' , 1 , 6 , "stomp" , false , true , false)
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function Seyu___EnemyFilterSeyu takes nothing returns boolean
		return IsEnemy(GetFilterUnit() , seyu) == true
	endfunction

    
    function GetRandomUnitAround takes unit u,real radius returns unit
  local group l_group= CreateGroup()
     local unit result= null
	    call GroupEnumUnitsInRange(l_group, GetUnitX(u), GetUnitY(u), radius, Condition(function Seyu___EnemyFilterSeyu))
	    set result=FirstOfGroup(l_group)
	    call DestroyGroup(l_group)
	    set l_group=null
	    return result
    endfunction

    
//---------------------------------------------------------------------------------------------------
	
 function Mantuoluo takes real damageRate,integer abilityID returns nothing
  local real damage= GetDamageAgi(seyu) * damageRate * 0.8
     local integer i= 1
	    loop
	    	exitwhen i > IMinBJ(8, Seyu___chongCount)
	    	if ( chongdongs[i] != null ) then
	    		call DamageAreaEff(seyu , GetUnitX(chongdongs[i]) , GetUnitY(chongdongs[i]) , 600 , damage , "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
	    	endif
	    	set i=i + 1
	    endloop
		call DamageAreaEff(seyu , GetUnitX(seyu) , GetUnitY(seyu) , 600 , damage , "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
		call CreateUnitEffect(GetOwningPlayer(seyu) , 'h00E' , GetUnitX(seyu) , GetUnitY(seyu) , 0)

	    //ËæìÂá∫‰º§ÂÆ≥
	    call PrintSpell(GetOwningPlayer(seyu) , GetAbilityName(abilityID) , damage)
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function TSpellSeyu2Con takes nothing returns boolean
	    return ( ( ( GetAttacker() == seyu ) or ( GetUnitTypeId(GetAttacker()) == 'n01I' ) ) and ( IsSecondSpellOK(seyu) == true ) and ( GetRandomInt(1, 20) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, seyu) > 200.00 ) and ( GetUnitAbilityLevel(seyu, 'A0C2') > 0 ) )
	endfunction

 function TSpellSeyu2Act takes nothing returns nothing
		call DisableTrigger(GetTriggeringTrigger())
		call Mantuoluo(1 , 'A0C2')
		call PolledWait(5)
		call EnableTrigger(GetTriggeringTrigger())
	endfunction

//---------------------------------------------------------------------------------------------------
	
	//‰ΩçÁΩÆÂà∑Êñ∞Ôºå0.05s
 function Seyu___FlashPowerLocation takes nothing returns nothing
		call SetTextTagPosUnitBJ(Seyu___TTPower, seyu, 25)
	endfunction

	
	//Êï∞ÂÄºÂà∑Êñ∞,1Áßí1Ê¨°
 function Seyu___FlashPowerData takes nothing returns nothing
  local integer index= GetConvertedPlayerId(GetOwningPlayer(seyu))
  local real delta
		//ÈôêÂà∂ËÉΩÈáèÂú®0-105‰πãÈó¥
		set Seyu___IPower=IMinBJ(IMaxBJ(Seyu___IPower - IJ3(seyu , GetRandomInt(1, 2) , 1), 0), IJ3(seyu , 255 , 105))
   if ( Seyu___ItempPower == 0 and Seyu___IPower >= 105 ) then
    call SetSeyuSpinOK(GetOwningPlayer(seyu))
   endif
   set Seyu___ItempPower=Seyu___IPower
		call SetTextTagTextBJ(Seyu___TTPower, I2S(Seyu___IPower) + "%ËÉΩÈáè", 20)
		set delta=I2R(( Seyu___IPower / 10 ) * 10) / 100
		if ( Seyu___RAddtion != delta ) then

			call AddStrPercent(index , delta - Seyu___RAddtion)
			call AddIntPercent(index , delta - Seyu___RAddtion)
			call AddAgiPercent(index , delta - Seyu___RAddtion)
			set Seyu___RAddtion=delta
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", GetUnitX(seyu), GetUnitY(seyu)))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Seyu___TDeathAddPowerCon takes nothing returns boolean
		return ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == seyu )
	endfunction
	
 function Seyu___TDeathAddPowerAct takes nothing returns nothing
		set Seyu___IPower=Seyu___IPower + 1
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Seyu___InitPower takes nothing returns nothing
  local timer ti= CreateTimer()
  local trigger t= CreateTrigger()

		//ÂºÇÁïåËÉΩÈáèËß¶Âèë
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
		call TriggerAddCondition(t, Condition(function Seyu___TDeathAddPowerCon))
		call TriggerAddAction(t, function Seyu___TDeathAddPowerAct)

		set Seyu___IPower=0
		set Seyu___RAddtion=0
		set Seyu___TTPower=CreateTextTagUnitBJ(I2S(Seyu___IPower) + "%ËÉΩÈáè", seyu, 0, 20, 100, 0, 100, 0)
		call TimerStart(ti, 0.05, true, function Seyu___FlashPowerLocation)

		set ti=CreateTimer()
		call TimerStart(ti, 1, true, function Seyu___FlashPowerData)

		set ti=null
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Seyu___TSpellSeyu3Con takes nothing returns boolean
    	return GetAttackedUnitBJ() == seyu and GetRandomInt(1, 20) == 1 and GetUnitState(seyu, UNIT_STATE_MANA) >= 400 and IsThirdSpellOK(seyu) == true and GetUnitAbilityLevel(seyu, 'AEar') == 1
	endfunction
		
 function Seyu___TSpellSeyu3Act takes nothing returns nothing
  local real damage= GetDamageAgi(seyu) * 2
  local integer i= 1
  local unit u= null
		call DisableTrigger(GetTriggeringTrigger())
		loop
			exitwhen i > IMinBJ(8, Seyu___chongCount)
			if ( chongdongs[i] != null ) then
				set u=GetRandomUnitAround(chongdongs[i] , 600)
	        	call CreateUnitEffect(GetOwningPlayer(u) , 'hh00' , GetUnitX(u) , GetUnitY(u) , 0)
	    		call CreateSpellTextTag("ÂÜª" , u , 0 , 100 , 0 , 4)
				call UnitDamageTarget(seyu, u, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			endif
			set i=i + 1
		endloop
		set u=GetRandomUnitAround(seyu , 600)
    	call CreateUnitEffect(GetOwningPlayer(u) , 'hh00' , GetUnitX(u) , GetUnitY(u) , 0)
		call CreateSpellTextTag("ÂÜª" , u , 0 , 100 , 0 , 4)
		call UnitDamageTarget(seyu, u, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	    call PrintSpell(GetOwningPlayer(seyu) , GetAbilityName('AEar') , damage)
		set u=null
		call PolledWait(8)
		call EnableTrigger(GetTriggeringTrigger())
	endfunction

//---------------------------------------------------------------------------------------------------

	
 function Kongjianshashou takes nothing returns nothing
  local integer i= 1
  local integer ii= 1
  local integer attack= R2I(I2R(GetHeroAgi(seyu, true)) * SquareRoot(GetHeroLevel(seyu)))
		call PrintSpellContent(GetOwningPlayer(seyu) , GetAbilityName(GetSpellAbilityId()) , "ÊîªÂáªÂäõ" + I2S(attack) + ".")
        call PlaySoundBJ(gg_snd_seyu_4)
		loop
			exitwhen i > IMinBJ(8, Seyu___chongCount)
			if ( shashous[i] != null ) then
	        	call FlushChildHashtable(YDHT, GetHandleId(shashous[i]))
				call RemoveUnit(shashous[i])
			endif
			set i=i + 1
		endloop

		loop
			exitwhen ii > IMinBJ(8, Seyu___chongCount)
			if ( chongdongs[ii] != null ) then
				set shashous[ii]=CreateUnit(GetOwningPlayer(seyu), 'n01I', GetUnitX(chongdongs[ii]), GetUnitY(chongdongs[ii]), 270)
				call UnitApplyTimedLifeBJ(120, 'BHwe', shashous[ii])
				call SetAttack(shashous[ii] , attack)
			endif
			set ii=ii + 1
		endloop

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function FlashShashouLocation takes nothing returns nothing
  local integer i= 1

		loop
			exitwhen i > IMinBJ(8, Seyu___chongCount)
			if ( IsUnitAliveBJ(shashous[i]) and shashous[i] != null ) then
				if not ( IsUnitInRange(shashous[i], chongdongs[i], 1800.00) ) then
					call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetUnitX(shashous[i]), GetUnitY(shashous[i])))
					call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetUnitX(chongdongs[i]), GetUnitY(chongdongs[i])))
					call SetUnitPosition(shashous[i], GetUnitX(chongdongs[i]), GetUnitY(chongdongs[i]))

				endif
			else
				set shashous[i]=null
			endif
			set i=i + 1
		endloop

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Seyu___AnShaZhiWuTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local real damage= GetDamageAgi(seyu) * 0.5
  local integer value= LoadInteger(spellTable, id, kAnShaCount)
  local integer i= 1
		if ( value < 30 ) then
			//++1
			call SaveInteger(spellTable, id, kAnShaCount, value + 1)
			//ÁâπÊïà
	        call CreateUnitEffect(GetOwningPlayer(seyu) , 'h00E' , GetUnitX(seyu) , GetUnitY(seyu) , 0)
    		call DamageArea(seyu , GetUnitX(seyu) , GetUnitY(seyu) , 600 , damage)
			loop
				exitwhen i > 8
				if ( chongdongs[i] != null ) then
	       			call CreateUnitEffect(GetOwningPlayer(seyu) , 'h00E' , GetUnitX(chongdongs[i]) , GetUnitY(chongdongs[i]) , 0)
	    			call DamageArea(seyu , GetUnitX(chongdongs[i]) , GetUnitY(chongdongs[i]) , 600 , damage)
				endif
				set i=i + 1
			endloop
		else
			call PauseTimer(t)
			call DestroyTimer(t)
			call FlushChildHashtable(spellTable, id)
		endif
		set t=null
	endfunction

 function Seyu___AnShaZhiWu takes nothing returns nothing
  local timer t= CreateTimer()
	    call PrintSpell(GetOwningPlayer(seyu) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(seyu))
		call SaveInteger(spellTable, GetHandleId(t), kAnShaCount, 0)
        call PlaySoundBJ(gg_snd_seyu_5)
		call TimerStart(t, 0.5, true, function Seyu___AnShaZhiWuTimer)
		set t=null
	endfunction


//---------------------------------------------------------------------------------------------------
	
 function Seyu___TSpellSeyuCon takes nothing returns boolean
	    return ( GetSpellAbilityUnit() == seyu )
	endfunction

 function Seyu___TSpellSeyuAct takes nothing returns nothing
		if ( ( GetSpellAbilityId() == 'A0IM' ) ) then
			call Mantuoluo(1 , GetSpellAbilityId())
		//ÊîæËô´Ê¥û
		elseif ( GetSpellAbilityId() == 'A0IL' ) then
			call CreateChongdong()
		//Á©∫Èó¥ÊùÄÊâã
		elseif ( GetSpellAbilityId() == 'AEsv' ) then
			call Kongjianshashou()
		elseif ( ( GetSpellAbilityId() == 'AEst' ) ) then
			call Seyu___AnShaZhiWu()
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillSeyuI takes unit learner,integer whichSpell returns nothing
  local integer i
		if ( learner == seyu ) then
			if ( whichSpell == 1 ) then
				set Seyu___chongCount=Seyu___chongCount + 1
			elseif ( whichSpell == 2 and IsSecondSpellOK(seyu) == true and GetUnitAbilityLevel(seyu, 'A0C2') == 1 ) then
				//ÊäÄËÉΩ2ÂàùÂßãÂåñ
				call Seyu___InitPower()
				set Seyu___chongCount=Seyu___chongCount + 1
			elseif ( whichSpell == 3 and IsThirdSpellOK(seyu) == true and GetUnitAbilityLevel(seyu, 'AEar') == 1 ) then
				//ÊäÄËÉΩ3ÂàùÂßãÂåñ
				call SetPlayerTechResearchedSwap('R00D', 1, GetOwningPlayer(seyu))
				set Seyu___chongCount=Seyu___chongCount + 1
				call InitSeyuAura()
			elseif ( whichSpell == 4 and IsFourthSpellOK(seyu) == true and GetUnitAbilityLevel(seyu, 'AEsv') == 1 ) then
				//ÊäÄËÉΩ4ÂàùÂßãÂåñ
				set Seyu___chongCount=Seyu___chongCount + 1
			elseif ( whichSpell == 5 and IsFifthSpellOK(seyu) == true and GetUnitAbilityLevel(seyu, 'AEst') == 1 ) then
				//ÊäÄËÉΩ5ÂàùÂßãÂåñ
				set Seyu___chongCount=Seyu___chongCount + 2
			endif
		endif
	endfunction

 function LearnSkillSeyu takes unit learner,integer learnSpellID returns nothing
		if ( learner == seyu ) then
			if ( learnSpellID == 'A0IM' ) then
				call LearnSkillSeyuI(learner , 1)
			elseif ( learnSpellID == 'A0C2' ) then
				call LearnSkillSeyuI(learner , 2)
			elseif ( learnSpellID == 'AEar' ) then
				call LearnSkillSeyuI(learner , 3)
			elseif ( learnSpellID == 'AEsv' ) then
				call LearnSkillSeyuI(learner , 4)
			elseif ( learnSpellID == 'AEst' ) then
				call LearnSkillSeyuI(learner , 5)
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Seyu___InitSeyuSpin takes unit u returns unit
		if ( IsSeyuSpin1(GetOwningPlayer(u)) ) then
			set udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]=CreateUnit(GetOwningPlayer(u), 'E00E', GetUnitX(u), GetUnitY(u), 0)
			call UnitAddItemByIdSwapped('I006', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.1)
			call SetUnitManaPercentBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], 100)
			call RemoveUnit(u)
			return udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
		else
			return u
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitSeyu takes unit u returns nothing
  local integer i= 1
 		
 		//ÁöÆËÇ§
		set seyu=Seyu___InitSeyuSpin(u)
		set Seyu___chongCount=2
		//1
	    set Seyu___TSpellSeyu=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Seyu___TSpellSeyu, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	    call TriggerAddCondition(Seyu___TSpellSeyu, Condition(function Seyu___TSpellSeyuCon))
	    call TriggerAddAction(Seyu___TSpellSeyu, function Seyu___TSpellSeyuAct)
		//1
	    set Seyu___TSpellChongdong=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Seyu___TSpellChongdong, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	    call TriggerAddAction(Seyu___TSpellChongdong, function Seyu___ChongdongSpell)

	    //2
	    set Seyu___TSpellSeyu2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Seyu___TSpellSeyu2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Seyu___TSpellSeyu2, Condition(function TSpellSeyu2Con))
	    call TriggerAddAction(Seyu___TSpellSeyu2, function TSpellSeyu2Act)

	    //Ê≥®ÂÜåÁ©∫Èó¥Â∞ÅÂÜªÊäÄËÉΩ
	    set Seyu___TSpellSeyu3=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Seyu___TSpellSeyu3, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Seyu___TSpellSeyu3, Condition(function Seyu___TSpellSeyu3Con))
	    call TriggerAddAction(Seyu___TSpellSeyu3, function Seyu___TSpellSeyu3Act)

		//ÊùÄÊâã‰ΩçÁΩÆÂà∑Êñ∞
		call TimerStart(CreateTimer(), 5, true, function FlashShashouLocation)

	    //ÂçáÁ∫ßÈ°∫‰æøÊèêÈ´òËô´Ê¥ûÊäÄËÉΩÁ≠âÁ∫ß
	    set Seyu___TSpellSeyuUpdate=CreateTrigger()
	    call TriggerRegisterUnitEvent(Seyu___TSpellSeyuUpdate, seyu, EVENT_UNIT_HERO_LEVEL)
	    call TriggerAddAction(Seyu___TSpellSeyuUpdate, function TSpellSeyuUpdateAct)
	    call QJuexingSeyu()
	endfunction

//library Seyu ends
//library Sichen:


//---------------------------------------------------------------------------------------------------
	
 function Sichen__AddAllMoney takes real value returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			
	        if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
	            call AddMoneyPercent(i , value)
	        endif

			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__AddAll3W takes real value returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			
	        if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
                call AddIntPercent(i , value)
                call AddAgiPercent(i , value)
                call AddStrPercent(i , value)
	        endif

			set i=i + 1
		endloop
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__CloserWudiTowerCon takes nothing returns boolean
		return GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
	endfunction

 function Sichen__CloserWudiTowerAct takes nothing returns nothing
  local unit u= LoadUnitHandle(spellTable, GetHandleId(GetTriggeringTrigger()), 1)
		if ( GetUnitState(u, UNIT_STATE_MANA) > 1333 and not ( IsWudi(GetTriggerUnit()) ) ) then
			call ImmuteDamageInterval(GetTriggerUnit() , 3)
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
			call RecoverUnitMP(u , - 1333)
		endif
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__InitWudi takes unit u returns nothing
  local trigger t= CreateTrigger()
	    call TriggerRegisterUnitInRangeSimple(t, 300, u)
	    call TriggerAddCondition(t, Condition(function Sichen__CloserWudiTowerCon))
	    call TriggerAddAction(t, function Sichen__CloserWudiTowerAct)
	    call SaveUnitHandle(spellTable, GetHandleId(t), 1, u)
	    call SaveTriggerHandle(spellTable, GetHandleId(u), 1, t)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__DestroyWudi takes unit u returns nothing
  local trigger t= LoadTriggerHandle(spellTable, GetHandleId(u), 1)
		call FlushChildHashtable(spellTable, GetHandleId(t))
		call DestroyTrigger(t)
		call FlushChildHashtable(spellTable, GetHandleId(u))
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SimulateDeathSichen takes unit u returns nothing
		if ( IsUnitInGroup(u, Sichen__GTower) ) then
			if ( GetUnitTypeId(GetDyingUnit()) == 'h0s2' ) then
				call DestroyEffect(LoadEffectHandle(spellTable, GetHandleId(GetDyingUnit()), 1))
				call FlushChildHashtable(spellTable, GetHandleId(GetDyingUnit()))
			elseif ( GetUnitTypeId(GetDyingUnit()) == 'h1s3' ) then
    			call Sichen__AddAllMoney(- 0.1)
			elseif ( GetUnitTypeId(GetDyingUnit()) == 'h01F' ) then
    			call Sichen__AddAll3W(- 0.02)
			elseif ( GetUnitTypeId(GetDyingUnit()) == 'h1s6' ) then
				call Sichen__DestroyWudi(GetDyingUnit())
			elseif ( GetUnitTypeId(GetDyingUnit()) == 'h1s7' ) then
    			call Sichen__AddAllMoney(- 0.1)
    			call Sichen__AddAll3W(- 0.02)
				call Sichen__DestroyWudi(GetDyingUnit())
			endif
			call GroupRemoveUnit(Sichen__GTower, u)
		endif
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Sichen__GetSichenAttack takes nothing returns integer
		return GetHeroInt(sichen, true) + GetAttack(sichen)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__GetSichenHP takes nothing returns integer
		return GetHeroStr(sichen, true) * 10 + GetHP(sichen)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__GetSichenDefense takes nothing returns integer
		return GetHeroAgi(sichen, true) / 100 + GetDefense(sichen)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__InitHeidong takes unit u returns nothing
     local integer attract= s__Attract_create(u , 900 , 0.05 , 15)
		call s__Attract_SetForbitHero(attract)
		call s__Attract_start(attract)
	endfunction
//---------------------------------------------------------------------------------------------------


	
 function TSichenBuildingCon takes nothing returns boolean
		return GetOwningPlayer(GetTriggerUnit()) == GetOwningPlayer(sichen)
	endfunction 

 function TSichenBuildingUpdate takes nothing returns nothing
     local unit u= GetTriggerUnit()
    	call UnitSetUpgradeProgress(GetTriggerUnit(), 100)
    	if ( GetUnitTypeId(u) == 'h0s3' ) then
			call SetDefense(u , Sichen__GetSichenDefense() * 4)
			call SetHP(u , Sichen__GetSichenHP() * 3)
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h0s6' ) then
			call SetDefense(u , Sichen__GetSichenDefense() * 5)
			call SetHP(u , Sichen__GetSichenHP() * 5)
			call SetAttack(u , Sichen__GetSichenAttack() * 5)
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h01C' ) then
			call SetDefense(u , Sichen__GetSichenDefense())
			call SetHP(u , Sichen__GetSichenHP())
			call SetAttack(u , Sichen__GetSichenAttack() * 5)
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h0s2' ) then
			call SetDefense(u , Sichen__GetSichenDefense())
			call SetHP(u , Sichen__GetSichenHP())
			call SaveEffectHandle(spellTable, GetHandleId(u), 1, AddSpecialEffectTargetUnitBJ("chest", u, "war3mapImported\\IceTornado.mdx"))
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h0s1' ) then
			call SetDefense(u , Sichen__GetSichenDefense())
			call SetHP(u , Sichen__GetSichenHP())
			call SetAttack(u , Sichen__GetSichenAttack() * 5)
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h0s5' ) then
			call SetDefense(u , Sichen__GetSichenDefense() * 2)
			call SetHP(u , Sichen__GetSichenHP() * 2)
			call SetAttack(u , Sichen__GetSichenAttack() * 2)
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h0s8' ) then
			call SetDefense(u , Sichen__GetSichenDefense() * 4)
			call SetHP(u , Sichen__GetSichenHP() * 4)
			call SetAttack(u , Sichen__GetSichenAttack() * 5)
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h0s4' ) then
			call SetHP(u , Sichen__GetSichenHP() * 2)
			call SetAttack(u , Sichen__GetSichenAttack())
			call SetDefense(u , Sichen__GetSichenDefense())
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h0s7' ) then
			call SetDefense(u , Sichen__GetSichenDefense())
			call SetHP(u , Sichen__GetSichenHP())
			call SetAttack(u , Sichen__GetSichenAttack())
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h1s1' ) then
    		call Sichen__InitHeidong(u)
			call SetDefense(u , Sichen__GetSichenDefense())
			call SetHP(u , Sichen__GetSichenHP())
			if ( IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call UnitAddAbility(u, 'A0HG')
			endif
    	elseif ( GetUnitTypeId(u) == 'h1s3' ) then
    		call Sichen__AddAllMoney(0.1)
    	elseif ( GetUnitTypeId(u) == 'h01F' ) then
    		call Sichen__AddAll3W(0.02)
    	elseif ( GetUnitTypeId(u) == 'h1s6' ) then
    		call Sichen__InitWudi(u)
    	elseif ( GetUnitTypeId(u) == 'h1s7' ) then
    		call Sichen__AddAllMoney(0.1)
    		call Sichen__AddAll3W(0.02)
    		call Sichen__InitWudi(u)
    	endif
    	set u=null
	endfunction

    function TSichenBuilding takes nothing returns nothing

     local unit u= GetTriggerUnit()
    	call GroupAddUnit(Sichen__GTower, u)
    	if ( GetUnitTypeId(u) == 'hmtt' ) then
    		if ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_USED) > ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) - 0 ) ) then
    			call RemoveUnit(u)
                call DisplayTextToPlayer(GetOwningPlayer(sichen), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰∫∫Âè£Â∑≤Êª°.")
    		endif
    	endif
    	set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__Yunluoliuyan takes integer abilityID,unit caster,integer zhenshu returns nothing
  local integer i= 1
  local unit u= null
		if ( abilityID != 0 ) then
	    	call PrintSpell(GetOwningPlayer(sichen) , GetAbilityName(abilityID) , GetDamageAgi(sichen) * 0.33)
		endif
		loop
			exitwhen i > zhenshu
			set u=CreateUnit(GetOwningPlayer(sichen), 'h01G', GetUnitX(caster), GetUnitY(caster), 0)
			if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(sichen))] ) then
				call SetUnitAbilityLevel(u, 'A0JA', 2)
			endif
			call UnitApplyTimedLifeBJ(3.00, 'BHwe', u)
			if ( i < zhenshu ) then
				call PolledWait(0.5)
			endif
			set i=i + 1
		endloop
		set u=null
	endfunction

//---------------------------------------------------------------------------------------------------
	
	
 function SimulateDamageSichen takes nothing returns boolean

		if ( GetEventDamage() > 0 ) then

			//Â°î1
			if ( GetUnitTypeId(GetEventDamageSource()) == 'h01C' ) then
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage * 0.1, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				return true
			//Â°î2
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h0s1' ) then
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage * 0.1, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				return true
			//ÂçÉÂàÉ
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h0s2' ) then
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage * 0.15, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				return true
			//Á•ûÈïú
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h0s4' ) then
				call Sichen__Yunluoliuyan(0 , GetTriggerUnit() , 6)
				return true
			//Êï£Âçé
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h0s5' ) then
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage * 0.2, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				call SetUnitLifeBJ(sichen, GetUnitState(sichen, UNIT_STATE_LIFE) + Sichen__SichenDamage * 0.02)
				call SetUnitLifeBJ(GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + GetDamageAgi(GetTriggerUnit()) * 0.02)
				return true
			//ÂçÅÁªù‰∏ÄÁÅ≠
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h0s6' ) then
				if ( GetUnitUserData(GetEventDamageSource()) >= 10 ) then
	    			call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
	    			call CreateSpellTextTag("‰∏ÄÁÅ≠" , GetTriggerUnit() , 0 , 100 , 0 , 3)
	    			call DamageArea(sichen , GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , 400 , Sichen__SichenDamage * 5)
					call SetUnitUserData(GetEventDamageSource(), 0)

	    		else
					call SetUnitUserData(GetEventDamageSource(), GetUnitUserData(GetEventDamageSource()) + 1)
				endif
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage * 0.5, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				return true
			//Á©ø‰∫ë
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h0s7' ) then
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage * 2, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				return true
			//Â≠§È∏ø
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h0s8' ) then


				call SetUnitLifeBJ(sichen, GetUnitState(sichen, UNIT_STATE_LIFE) + Sichen__SichenDamage * 0.1)
				call SetUnitLifeBJ(GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + GetDamageAgi(GetTriggerUnit()) * 0.1)
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				return true
			//ÊäìÂÆ†Áâ©
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h1s7' or GetUnitTypeId(GetEventDamageSource()) == 'h1s4' ) then
				if ( ( not ( IsLoyalUnit(GetTriggerUnit()) ) ) and ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_USED) < ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) ) ) and GetRandomInt(1, 100) < ( GetHeroLevel(sichen) - GetUnitLevel(GetTriggerUnit()) ) and not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) and not ( IsUnitIllusion(GetTriggerUnit()) ) ) then
					call CreatePet(GetOwningPlayer(sichen) , GetTriggerUnit())
				endif
			//Á°´ÁÇé
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h01G' ) then
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage * 0.33, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				return true
			//ÁÅ´ÁÆ≠
			elseif ( GetUnitTypeId(GetEventDamageSource()) == 'h01H' ) then
				call UnitDamageTarget(sichen, GetTriggerUnit(), Sichen__SichenDamage * 0.75, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
				return true
			endif

		endif

		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__GenyuetiandiA takes nothing returns boolean
		return udg_H[GetConvertedPlayerId(GetOwningPlayer(GetFilterUnit()))] == GetFilterUnit() and not ( IsWudi(GetFilterUnit()) )
	endfunction

    function Sichen__GenyuetiandiB takes nothing returns nothing
        if ( GetEnumUnit() != null ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
			call UnitRemoveAbility(GetEnumUnit(), 'Avul')
        endif
    endfunction

    function Sichen__GenyuetiandiC takes nothing returns nothing
	    if ( GetEnumUnit() != null ) then
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
			call UnitAddAbility(GetEnumUnit(), 'Avul')
			call SetUnitLifePercentBJ(GetEnumUnit(), 100)
	    endif
    endfunction

 function Sichen__GenyuetiandiTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local group l_group= LoadGroupHandle(spellTable, id, 1)
        call ForGroupBJ(l_group, function Sichen__GenyuetiandiB)
		call PauseTimer(t)
		call FlushChildHashtable(spellTable, id)
		call DestroyTimer(t)
		call DestroyGroup(l_group)
		set l_group=null
		set t=null
	endfunction

 function Sichen__Genyuetiandi takes nothing returns nothing
  local group l_group= CreateGroup()
  local timer t= CreateTimer()
  local group l_group1= CreateGroup()
  local unit l_unit1

	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", GetUnitX(sichen), GetUnitY(sichen)))
		call GroupEnumUnitsInRange(l_group, GetUnitX(sichen), GetUnitY(sichen), 900, Condition(function Sichen__GenyuetiandiA))
		if not ( IsWudi(sichen) ) then
			call GroupAddUnit(l_group, sichen)
		endif
		//Âä†‰∏çÊó†ÊïåÁöÑÂ°îËøõÊù•
		call GroupAddGroup(Sichen__GTower, l_group1)
		call GroupAddUnit(l_group, gg_unit_haro_0030)
		loop
		    set l_unit1=FirstOfGroup(l_group1)
		    exitwhen l_unit1 == null
		    call GroupRemoveUnit(l_group1, l_unit1)
    		if not ( IsWudi(l_unit1) ) then
				call GroupAddUnit(l_group, l_unit1)
			endif
		endloop

		call ForGroup(l_group, function Sichen__GenyuetiandiC)
	    call PrintSpellName(GetOwningPlayer(sichen) , GetAbilityName('A0IR'))
		call SaveGroupHandle(spellTable, GetHandleId(t), 1, l_group)
		call TimerStart(t, 5, false, function Sichen__GenyuetiandiTimer)
		set t=null
		call DestroyGroup(l_group1)
		set l_group1=null
		set l_unit1=null
		set l_group=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
    function Sichen__TSpellSichen2Con takes nothing returns boolean
    	return ( GetAttackedUnitBJ() == sichen or IsUnitInGroup(GetAttackedUnitBJ(), Sichen__GTower) ) and IsSecondSpellOK(sichen) == true and GetUnitState(sichen, UNIT_STATE_MANA) >= 250 and GetUnitAbilityLevel(sichen, 'A0IR') == 1 and GetRandomInt(1, 20) == 1
    endfunction
    
    function Sichen__TSpellSichen2Act takes nothing returns nothing
    	call DisableTrigger(GetTriggeringTrigger())
		call Sichen__Yunluoliuyan('A0IR' , GetAttackedUnitBJ() , 2)
		call PolledWait(4.5)
    	call EnableTrigger(GetTriggeringTrigger())
    endfunction

//---------------------------------------------------------------------------------------------------
	
 function Sichen__TSpellSichen3Con takes nothing returns boolean
		return IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 and GetEventDamage() > GetUnitState(sichen, UNIT_STATE_LIFE) and ( GetTriggerUnit() == sichen or GetTriggerUnit() == Sichen__UCili ) and IsUnitAliveBJ(sichen) and GetRandomInt(1, 2) == 1 and GetTriggerUnit() != null
	endfunction
	
 function Sichen__TSpellSichen3Act takes nothing returns nothing
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", GetUnitX(sichen), GetUnitY(sichen)))
		call SetUnitLifePercentBJ(sichen, 100)
	    call CreateSpellTextTag("Ê∂ÖÊßÉÂåñÂá∞" , sichen , 100 , 0 , 0 , 3)
	endfunction
//---------------------------------------------------------------------------------------------------
		
 function Sichen__ShenghuangciliTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local integer index= LoadInteger(spellTable, id, 2)
  local effect eff= LoadEffectHandle(spellTable, id, 3)
		call DestroyEffect(eff)
		call AddSpellPercent(index , - 0.6)
		if ( Sichen__UCili != null ) then
			call UnitRemoveAbility(Sichen__UCili, 'A0FU')
		endif
	    call PrintSpellContent(GetOwningPlayer(sichen) , GetAbilityName('A0IT') , "ÔºåÊó∂Èó¥ÁªìÊùü„ÄÇ")
		call PauseTimer(t)
		call FlushChildHashtable(spellTable, id)
		call DestroyTimer(t)
		set Sichen__UCili=null
		set t=null
		set eff=null
	endfunction
		
 function Sichen__Shenghuangcili takes nothing returns nothing
  local timer t= CreateTimer()
		//Âú£ÁöáËµêÂäõ
		call UnitAddAbility(GetSpellTargetUnit(), 'A0FU')
		call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit())) , 0.6)
		set Sichen__UCili=GetSpellTargetUnit()
		call SaveInteger(spellTable, GetHandleId(t), 2, GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit())))
		call SaveEffectHandle(spellTable, GetHandleId(t), 3, AddSpecialEffectTargetUnitBJ("chest", GetSpellTargetUnit(), "war3mapImported\\bullerouge.mdx"))
	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl", GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit())))
		call TimerStart(t, 60, false, function Sichen__ShenghuangciliTimer)
        call PlaySoundBJ(gg_snd_sichen_4)
	    call PrintSpellName(GetOwningPlayer(sichen) , GetAbilityName('A0IT'))
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__Huojianzhiyuan2 takes nothing returns nothing
  local group l_group= CreateGroup()
  local unit l_unit
		call GroupAddGroup(Sichen__GTower, l_group)
		loop
		    set l_unit=FirstOfGroup(l_group)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(l_group, l_unit)
		    if ( not ( IsWudi(l_unit) ) ) then
				call UnitApplyTimedLifeBJ(2.00, 'BHwe', CreateUnit(GetOwningPlayer(sichen), 'h01H', GetUnitX(l_unit), GetUnitY(l_unit), GetUnitFacing(l_unit)))
		    endif
		endloop
		call DestroyGroup(l_group)
		set l_group=null
		set l_unit=null
	endfunction

 function Sichen__Huojianzhiyuan takes nothing returns nothing
  local integer i
		if not ( UnitHasBuffBJ(sichen, 'B021') ) then
			return
		endif

		set i=1
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( udg_H[i] != null ) ) then
				call UnitApplyTimedLifeBJ(2.00, 'BHwe', CreateUnit(GetOwningPlayer(sichen), 'h01H', GetUnitX(udg_H[i]), GetUnitY(udg_H[i]), GetUnitFacing(udg_H[i])))
            endif
			set i=i + 1
		endloop

		if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(sichen))] ) then
			call Sichen__Huojianzhiyuan2()
		endif

	endfunction
//---------------------------------------------------------------------------------------------------

	

 function Sichen__TSpellSichenAct takes nothing returns nothing
		if ( GetSpellAbilityId() == 'A0IQ' ) then
			call Sichen__Yunluoliuyan(GetSpellAbilityId() , sichen , 6)
		elseif ( GetSpellAbilityId() == 'A0IR' ) then
			call Sichen__Genyuetiandi()
		elseif ( GetSpellAbilityId() == 'A0IS' ) then
			call SetUnitLifePercentBJ(GetSpellTargetUnit(), 100)
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit())))
	    	call PrintSpellName(GetOwningPlayer(sichen) , GetAbilityName('A0IS'))
		elseif ( GetSpellAbilityId() == 'A0IT' and GetSpellTargetUnit() != gg_unit_haro_0030 ) then
			call Sichen__Shenghuangcili()
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillSichenI takes unit learner,integer whichSpell returns nothing
  local integer i
		if ( learner == sichen ) then
			if ( whichSpell == 1 ) then
				call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))
			elseif ( whichSpell == 2 and IsSecondSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IR') == 1 ) then
				call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))
			elseif ( whichSpell == 3 and IsThirdSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IS') == 1 ) then
				call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))
				call AddSpecialEffectTargetUnitBJ("origin", sichen, "war3mapImported\\WarAura.mdx")
				call InitSichenAura()
			elseif ( whichSpell == 4 and IsFourthSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IT') == 1 ) then
				call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))
			elseif ( whichSpell == 5 and IsFifthSpellOK(sichen) == true and GetUnitAbilityLevel(sichen, 'A0IU') == 1 ) then
				call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))
			endif
		endif
	endfunction

 function LearnSkillSichen takes unit learner,integer learnSpellID returns nothing
		if ( learner == sichen ) then
			if ( learnSpellID == 'A0IQ' ) then
				call LearnSkillSichenI(learner , 1)
			elseif ( learnSpellID == 'A0IR' ) then
				call LearnSkillSichenI(learner , 2)
			elseif ( learnSpellID == 'A0IS' ) then
				call LearnSkillSichenI(learner , 3)
			elseif ( learnSpellID == 'A0IT' ) then
				call LearnSkillSichenI(learner , 4)
			elseif ( learnSpellID == 'A0IU' ) then
				call LearnSkillSichenI(learner , 5)
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__TSpellSichenUpdateAct takes nothing returns nothing
		if ( GetHeroLevel(sichen) >= 25 ) then
			call SetPlayerTechResearchedSwap('R01E', 1, GetOwningPlayer(sichen))
		endif
		if ( GetHeroLevel(sichen) >= 50 ) then
			call SetPlayerTechResearchedSwap('R01B', 1, GetOwningPlayer(sichen))
		endif
		if ( GetHeroLevel(sichen) >= 100 ) then
			call SetPlayerTechResearchedSwap('R01C', 1, GetOwningPlayer(sichen))
		endif
		if ( GetHeroLevel(sichen) >= 150 ) then
			call SetPlayerTechResearchedSwap('R01D', 1, GetOwningPlayer(sichen))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Sichen__FlashSichenDamage takes nothing returns nothing
		set Sichen__SichenDamage=GetDamageAgi(sichen)
	endfunction
//---------------------------------------------------------------------------------------------------
 function InitSichen takes unit u returns nothing
  local trigger t= CreateTrigger()
  local integer i= 1
		set sichen=u

		//‰∏ªËã±ÈõÑÊäÄËÉΩ
		set Sichen__TSpellSichen=CreateTrigger()
	    call TriggerRegisterUnitEvent(Sichen__TSpellSichen, u, EVENT_UNIT_SPELL_EFFECT)
	    call TriggerAddAction(Sichen__TSpellSichen, function Sichen__TSpellSichenAct)
	    //Ë¢´Âä®Ë¢´ÊîªÂáªÊïàÊûú
	    set Sichen__TSpellSichen2=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(Sichen__TSpellSichen2, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(Sichen__TSpellSichen2, Condition(function Sichen__TSpellSichen2Con))
	    call TriggerAddAction(Sichen__TSpellSichen2, function Sichen__TSpellSichen2Act)
	    set Sichen__GTower=CreateGroup()
	    //Ë¢´Âä®3ÁöÑÂáè‰º§
	    set Sichen__TSpellSichen3=CreateTrigger()
	    call TriggerRegisterUnitEvent(Sichen__TSpellSichen3, sichen, EVENT_UNIT_DAMAGED)
	    call TriggerAddCondition(Sichen__TSpellSichen3, Condition(function Sichen__TSpellSichen3Con))
	    call TriggerAddAction(Sichen__TSpellSichen3, function Sichen__TSpellSichen3Act)
	    //ÂçáÁ∫ßËß£ÈîÅÁßëÊäÄ
	    set Sichen__TSpellSichenUpdate=CreateTrigger()
	    call TriggerRegisterUnitEvent(Sichen__TSpellSichenUpdate, sichen, EVENT_UNIT_HERO_LEVEL)
	    call TriggerAddAction(Sichen__TSpellSichenUpdate, function Sichen__TSpellSichenUpdateAct)
	    //È©¨Áî≤‰º§ÂÆ≥
	    set Sichen__TSpellSichenDamage=CreateTrigger()
	    call YDWESyStemAnyUnitDamagedRegistTrigger(Sichen__TSpellSichenDamage)
	    call TriggerAddAction(Sichen__TSpellSichenDamage, function SimulateDamageSichen)
		//ÂÆåÊàêÂª∫ÈÄ†
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)
	    call TriggerAddCondition(t, Condition(function TSichenBuildingCon))
	    call TriggerAddAction(t, function TSichenBuilding)
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_UPGRADE_START)
	    call TriggerAddCondition(t, Condition(function TSichenBuildingCon))
	    call TriggerAddAction(t, function TSichenBuildingUpdate)

	    call TimerStart(CreateTimer(), 1, true, function Sichen__Huojianzhiyuan)
	    //Âà∑Êñ∞‰º§ÂÆ≥
	    call TimerStart(CreateTimer(), 1, true, function Sichen__FlashSichenDamage)

		call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))

	    loop
	    	exitwhen i > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				call SetPlayerAbilityAvailable(ConvertedPlayer(i), 'A0FU', false)
            endif
	    	set i=i + 1
	    endloop
		call SetPlayerAbilityAvailable(Player(6), 'A0FU', false)
		set t=null
	endfunction


//library Sichen ends
//library Taiya:
	
//---------------------------------------------------------------------------------------------------
	
 function AddTaiyaSpin takes nothing returns nothing
		if ( Taiya__ITaiyamiao > 2000 ) then
    call SetTaiyaSpinOK(GetOwningPlayer(taiya))
		else
			set Taiya__ITaiyamiao=Taiya__ITaiyamiao + 1
		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function Taiya__InitTaiyaSpin takes unit u returns unit
		if ( IsTaiyaSpin1(GetOwningPlayer(u)) ) then
			set udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]=CreateUnit(GetOwningPlayer(u), 'E00G', GetUnitX(u), GetUnitY(u), 0)
			set gg_unit_Etyr_0017=udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
			call UnitAddItemByIdSwapped('I006', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.1)
			call SetUnitManaPercentBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], 100)
			
			call RemoveUnit(u)
			return udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
		else
			return u
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitTaiya takes unit u returns nothing
		set taiya=Taiya__InitTaiyaSpin(u)

    	call TriggerRegisterUnitEvent(gg_trg_____________86, taiya, EVENT_UNIT_DAMAGED)
	endfunction

//library Taiya ends
//library Xiaoyue:


//---------------------------------------------------------------------------------------------------
	
 function IncreaseZhenfuhuo takes nothing returns nothing
   if ( Xiaoyue__IFuhuo < 150 ) then
    set Xiaoyue__IFuhuo=Xiaoyue__IFuhuo + 1
   elseif ( Xiaoyue__IFuhuo == 150 ) then
    call SetXiaoyueSpinOK(GetOwningPlayer(xiaoyue))
   endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function IsXiaoyueSpin takes nothing returns boolean
		return GetUnitTypeId(xiaoyue) == 'U001'
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Xiaoyue__InitXiaoyueSpin takes unit u returns unit
		if ( IsXiaoyueSpin1(GetOwningPlayer(u)) ) then
			set udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]=CreateUnit(GetOwningPlayer(u), 'U001', GetUnitX(u), GetUnitY(u), 0)
			call UnitAddItemByIdSwapped('I006', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
			call SetUnitManaPercentBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], 100)
			call RemoveUnit(u)
			return udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
		else
			return u
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
 function InitXiaoyue takes unit u returns nothing
		set Xiaoyue__IFuhuo=0
		set xiaoyue=Xiaoyue__InitXiaoyueSpin(u)
		
	endfunction

//library Xiaoyue ends
//library Xuanxue:
	
//---------------------------------------------------------------------------------------------------
	
 function Bingzhidiaoling takes unit u returns nothing
  local real damage= GetDamageInt(xuanxue)
  local real x= GetUnitX(u)
  local real y= GetUnitY(u)
	    call PrintSpell(GetOwningPlayer(xuanxue) , GetAbilityName(GetSpellAbilityId()) , damage)
	    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", x, y))
	    call UnitDamageTarget(xuanxue, u, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	    call PolledWait(1)
		call DamageAreaEff(xuanxue , x , y , 600 , damage , "Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function Wanguxuanshuang takes unit u returns nothing

		if ( IsEnemy(u , xuanxue) and ( udg_U_Zhuansheng_Dantiao[2] != u or GetAttacker() == xuanxue ) and GetUnitState(xuanxue, UNIT_STATE_MANA) >= 400 ) then
			call UnitDamageTarget(xuanxue, u, GetDamageInt(xuanxue) * 0.1, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
		endif

	endfunction

//---------------------------------------------------------------------------------------------------
	
 function Xuanxue__InitXuanxueSpin takes unit u returns unit
		if ( IsXuanxueSpin1(GetOwningPlayer(u)) ) then
			call UnitRemoveAbility(u, 'A046')
			call UnitAddAbility(u, 'A0JM')
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.2)
			return u
		else
			return u
		endif
	endfunction

 function InitXuanxue takes unit u returns nothing
		set xuanxue=Xuanxue__InitXuanxueSpin(u)

	endfunction


//library Xuanxue ends
//library Yanmie:


//---------------------------------------------------------------------------------------------------
	

 function SimulateDamageYanmie takes unit u returns boolean
		//Èõ∑Á•ûÊÆãÂΩ±50%‰º§ÂÆ≥
		if ( GetUnitTypeId(u) == 'h010' ) then
			call UnitDamageTarget(yanmie, GetTriggerUnit(), GetDamageAgi(yanmie) * 0.4, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_POISON, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function CountYanmieLingyu takes nothing returns nothing
		if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(yanmie))] ) then
			set Yanmie__Ilingyu=Yanmie__Ilingyu + 1
			if ( Yanmie__Ilingyu >= 30 ) then
	   			call CreateSpellTextTag("Èõ∑Á•ûÈ¢ÜÂüü" , yanmie , 0 , 50 , 100 , 2)
 				call SimulateSpell(yanmie , yanmie , 'A0HV' , 1 , 5 , "stomp" , false , true , false)
				set Yanmie__Ilingyu=0
			endif
		endif
		if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(yanmie))] ) then
			set Yanmie__Ishuaxinyifu=Yanmie__Ishuaxinyifu + 1
			if ( Yanmie__Ishuaxinyifu >= 200 ) then
	   			call CreateSpellTextTag("Èõ∑Á•ûÂÖçÁñ´" , yanmie , 50 , 0 , 100 , 2)
	   			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", GetUnitX(yanmie), GetUnitY(yanmie)))
	   			set udg_Yifu[GetConvertedPlayerId(GetOwningPlayer(yanmie))]=false
				set Yanmie__Ishuaxinyifu=0
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function BoltShadow takes real x,real y returns nothing
  local unit u
		if not ( IsFourthSpellOK(yanmie) == true and GetUnitAbilityLevel(yanmie, 'AHab') == 1 and GetUnitState(yanmie, UNIT_STATE_MANA) >= 600 ) then
				return
			endif
		if ( CountUnitsInGroup(Yanmie__GShadow) >= ICountShadowMAX ) then
			return
		endif
		set u=CreateUnit(GetOwningPlayer(yanmie), 'h010', x, y, GetRandomReal(0, 360))
	    call CreateSpellTextTag("ÂΩ±" , u , 100 , 100 , 0 , 2)
		call UnitApplyTimedLifeBJ(4.00, 'BHwe', u)
		call GroupAddUnit(Yanmie__GShadow, u)
		set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SimulateDeathYanmie takes unit u returns nothing
		if ( IsUnitInGroup(u, Yanmie__GShadow) == true ) then
			call GroupAddUnit(Yanmie__GShadow, u)
		endif
	endfunction

//---------------------------------------------------------------------------------------------------

	//ÊåâÁÖß12345Êù•Âà§Êñ≠
 function LearnSkillYanmieI takes unit learner,integer whichSpell returns nothing
  local integer i
		if ( learner == yanmie ) then

			if ( whichSpell == 3 and IsThirdSpellOK(yanmie) == true and GetUnitAbilityLevel(yanmie, 'AHbh') == 1 ) then
				//ÊäÄËÉΩ3ÂàùÂßãÂåñ
				call AddSpecialEffectTargetUnitBJ("origin", yanmie, "war3mapImported\\etherealaura.mdx")
				call InitYanmieAura()
			endif
		endif
	endfunction

 function LearnSkillYanmie takes unit learner,integer learnSpellID returns nothing
		if ( learner == yanmie ) then
			if ( learnSpellID == 'AHbh' ) then
				call LearnSkillYanmieI(learner , 3)
			endif
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function InitYanmieSpin takes unit u returns unit
		if ( IsYanmieSpin1(GetOwningPlayer(u)) ) then
			set udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]=CreateUnit(GetOwningPlayer(u), 'E00F', GetUnitX(u), GetUnitY(u), 0)
			set gg_unit_Eevi_0020=udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
			call SetUnitManaPercentBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], 100)
			call UnitAddItemByIdSwapped('I006', udg_H[GetConvertedPlayerId(GetOwningPlayer(u))])
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.1)
			call RemoveUnit(u)
			return udg_H[GetConvertedPlayerId(GetOwningPlayer(u))]
		else
			return u
		endif
	endfunction
//---------------------------------------------------------------------------------------------------


	
 function InitYanmie takes unit u returns nothing

		set yanmie=InitYanmieSpin(u)
		set Yanmie__GShadow=CreateGroup()
	    call TriggerRegisterUnitEvent(gg_trg_____________3, yanmie, EVENT_UNIT_ISSUED_POINT_ORDER)
	endfunction


//library Yanmie ends
//library HeroSpellBase:
	

//---------------------------------------------------------------------------------------------------
	
 function HeroSpellBase__HeroLearnSkillCon takes nothing returns boolean
	    return ( ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) )
	endfunction



	//Áõ¥Êé•Â≠¶‰π†
 function HeroSpellBase__HeroLearnSkillAct takes nothing returns nothing
		set learnSkillHero=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]

		//Âä†ÂÖ•Ëã±ÈõÑÂÜÖÈÉ®Âà§Êñ≠
		call LearnSkillHeiyan(learnSkillHero , GetLearnedSkill())
		call LearnSkillSeyu(learnSkillHero , GetLearnedSkill())
		call LearnSkillHanshang(learnSkillHero , GetLearnedSkill())
		call LearnSkillHuanyi(learnSkillHero , GetLearnedSkill())
		call LearnSkillChenji(learnSkillHero , GetLearnedSkill())
		call LearnSkillMengji(learnSkillHero , GetLearnedSkill())
		call LearnSkillYanmie(learnSkillHero , GetLearnedSkill())
		call LearnSkillCangling(learnSkillHero , GetLearnedSkill())
		call LearnSkillSichen(learnSkillHero , GetLearnedSkill())
		call LearnSkillXinglong(learnSkillHero , GetLearnedSkill())
	endfunction

	//ÈÄöËøáÂà§Êñ≠Â≠¶‰π†Á¨¨Âá†‰∏™Êù•Âà§Êñ≠
 function TriggerAllHeroLearn takes integer convertedPlayerID,integer which returns nothing
		set learnSkillHero=udg_H[convertedPlayerID]

		//Âä†ÂÖ•Ëã±ÈõÑÂÜÖÈÉ®Âà§Êñ≠
		call LearnSkillHeiyanI(learnSkillHero , which)
		call LearnSkillSeyuI(learnSkillHero , which)
		call LearnSkillHanshangI(learnSkillHero , which)
		call LearnSkillHuanyiI(learnSkillHero , which)
		call LearnSkillChenjiI(learnSkillHero , which)
		call LearnSkillMengjiI(learnSkillHero , which)
		call LearnSkillYanmieI(learnSkillHero , which)
		call LearnSkillCanglingI(learnSkillHero , which)
		call LearnSkillSichenI(learnSkillHero , which)
		call LearnSkillXinglongI(learnSkillHero , which)
	endfunction
//---------------------------------------------------------------------------------------------------


 function HeroSpellBase__InitHeroSpellBase takes nothing returns nothing
      local trigger t= CreateTrigger()
		    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_HERO_SKILL)
		    call TriggerAddCondition(t, Condition(function HeroSpellBase__HeroLearnSkillCon))
		    call TriggerAddAction(t, function HeroSpellBase__HeroLearnSkillAct)
		    set t=null
	endfunction

//library HeroSpellBase ends
//library Juexing:


//---------------------------------------------------------------------------------------------------
	
 function ForbidTianfu takes nothing returns nothing
  local integer i= 1
		set BTianfu=true
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				call UnitAddAbility(udg_H[i], 'A0KK')
				if ( udg_H[i] == Huanyi ) then
					call SetPlayerAbilityAvailable(ConvertedPlayer(i), ICurrentSpell, false)
				elseif ( udg_H[i] == mengji ) then
					call SetPlayerAbilityAvailable(ConvertedPlayer(i), 'A0GX', false)
					call SetPlayerAbilityAvailable(ConvertedPlayer(i), 'A0GY', false)
				else
					call SetPlayerAbilityAvailable(ConvertedPlayer(i), GetHeroTianFu(udg_H[i]), false)
				endif
			endif
			set i=i + 1
		endloop

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function AllowTianfu takes nothing returns nothing
  local integer i= 1
		set BTianfu=false
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) ) then
				call UnitRemoveAbility(udg_H[i], 'A0KK')
				if ( udg_H[i] == Huanyi ) then
					call SetPlayerAbilityAvailable(ConvertedPlayer(i), ICurrentSpell, true)
				elseif ( udg_H[i] == mengji ) then
					call SetPlayerAbilityAvailable(ConvertedPlayer(i), 'A0GX', true)
					call SetPlayerAbilityAvailable(ConvertedPlayer(i), 'A0GY', true)
				else
					call SetPlayerAbilityAvailable(ConvertedPlayer(i), GetHeroTianFu(udg_H[i]), true)
				endif
			endif
			set i=i + 1
		endloop

	endfunction
//---------------------------------------------------------------------------------------------------
	
		
		

  function s__TianfuForbidder_allowTimer takes nothing returns nothing
   local integer this= sc__TianfuForbidder__staticgetindex(GetExpiredTimer())
			call AllowTianfu()
			call PauseTimer(s__TianfuForbidder_t[this])
			call TimerStart(s__TianfuForbidder_t[this], s__TianfuForbidder_IAllow[this], false, function sc__TianfuForbidder_forbitTimer)
  endfunction

  function s__TianfuForbidder_forbitTimer takes nothing returns nothing
   local integer this= sc__TianfuForbidder__staticgetindex(GetExpiredTimer())
			call ForbidTianfu()
			call PauseTimer(s__TianfuForbidder_t[this])
			call TimerStart(s__TianfuForbidder_t[this], s__TianfuForbidder_IForbid[this], false, function s__TianfuForbidder_allowTimer)
  endfunction

  function s__TianfuForbidder__staticgetindex takes handle h returns integer
            return YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__TianfuForbidder__staticsetindex takes handle h,integer value returns nothing
            call YDWESaveIntegerByString("SPellBase" , I2S(YDWEH2I(h)) , value)
        endfunction

        function s__TianfuForbidder_flush takes handle h returns nothing
            call YDWEFlushStoredIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
        endfunction

        function s__TianfuForbidder_create takes unit caster,real forbidTime,real allowTime returns integer

      local integer this= s__TianfuForbidder__allocate()
			set s__TianfuForbidder_IForbid[this]=forbidTime
			set s__TianfuForbidder_IAllow[this]=allowTime
			set s__TianfuForbidder_t[this]=CreateTimer()
			call s__TianfuForbidder__staticsetindex(s__TianfuForbidder_t[this], (this))
			call TimerStart(s__TianfuForbidder_t[this], allowTime, false, function s__TianfuForbidder_forbitTimer)
			return this
  endfunction

  function s__TianfuForbidder_onDestroy takes integer this returns nothing
			call s__TianfuForbidder_flush(s__TianfuForbidder_t[this])
			call AllowTianfu()
			set s__TianfuForbidder_IForbid[this]=0
			set s__TianfuForbidder_IAllow[this]=0
			call PauseTimer(s__TianfuForbidder_t[this])
			call DestroyTimer(s__TianfuForbidder_t[this])
			set s__TianfuForbidder_t[this]=null
  endfunction

//Generated destructor of TianfuForbidder
function s__TianfuForbidder_deallocate takes integer this returns nothing
    if this==null then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: TianfuForbidder")
        return
    elseif (si__TianfuForbidder_V[this]!=-1) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: TianfuForbidder")
        return
    endif
    call s__TianfuForbidder_onDestroy(this)
    set si__TianfuForbidder_V[this]=si__TianfuForbidder_F
    set si__TianfuForbidder_F=this
endfunction

//---------------------------------------------------------------------------------------------------
	
 function Juexing___InitHeroJuexing1 takes unit u returns nothing
  local integer i= GetHeroTianFu(u)
		call SetUnitAbilityLevel(u, i, 2)
		call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ" + GetAbilityName(i) + "ÊäÄËÉΩ‰∏ÄÈò∂ËßâÈÜí‰∫Ü!")
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", GetUnitX(u), GetUnitY(u)))
		set BJuexing1[GetConvertedPlayerId(GetOwningPlayer(u))]=true
		if ( u == seyu ) then
			call JuexingSeyu1()
		elseif ( u == Huanyi ) then
			call UnitAddAbility(Huanyi, 'A0HX')
		elseif ( u == sichen ) then
			call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))
		elseif ( u == hanshang ) then
			call AddMoneyPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , 0.25)
		elseif ( u == xinglong and IsLong() ) then
			call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.2)
			call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.1)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Juexing___InitHeroJuexing2 takes unit u returns nothing
  local integer i= GetHeroTianFu(u)
		call SetUnitAbilityLevel(u, i, 3)
		call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ" + GetAbilityName(i) + "ÊäÄËÉΩ‰∫åÈò∂ËßâÈÜí‰∫Ü!")
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", GetUnitX(u), GetUnitY(u)))
		set BJuexing2[GetConvertedPlayerId(GetOwningPlayer(u))]=true
		if ( u == moqi ) then
			call JuexingMoqi2()
		elseif ( u == seyu ) then
			call JuexingSeyu2()
		elseif ( u == chenji ) then
			call TriggerExecute(gg_trg_____________127)
		elseif ( u == sheyan ) then
			call JuexingSheyan2()
		elseif ( u == sichen ) then
			call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))
		elseif ( u == xinglong and IsLong() ) then
			call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.2)
			call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , 0.1)
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Juexing___InitHeroJuexing3 takes unit u returns nothing
  local integer i= GetHeroTianFu(u)
		call SetUnitAbilityLevel(u, i, 4)
		call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ" + GetAbilityName(i) + "ÊäÄËÉΩ‰∏âÈò∂ËßâÈÜí‰∫Ü!")
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", GetUnitX(u), GetUnitY(u)))
		set BJuexing3[GetConvertedPlayerId(GetOwningPlayer(u))]=true
		if ( u == kaisa ) then
			call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(kaisa)) , 0.5)
		elseif ( u == yanmie ) then
			call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(yanmie)) , 0.4)
		elseif ( u == bajue ) then
			call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(bajue)) , 0.6)
		elseif ( u == xiaoyue ) then
			call UnitAddAbility(gg_unit_h00K_0254, 'A0IN')
		elseif ( u == lingxue ) then
			call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(lingxue)) , 1)
		elseif ( u == sheyan ) then
			call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(sheyan)) , 0.4)
		elseif ( u == Heiyan ) then
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(Heiyan)) , 1)
		elseif ( u == cangling ) then
			call AddHP(cangling , 40000000)
		elseif ( u == mengji ) then
			call RuohuanmengChatBack()
		elseif ( u == sichen ) then
			call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) + 2 ))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Juexing___CancelJuexing takes unit u returns nothing
  local integer i= GetHeroTianFu(u)
		call SetUnitAbilityLevel(u, i, 1)
		call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ" + GetAbilityName(i) + "ÊäÄËÉΩËßâÈÜíÂ§±Êïà‰∫Ü!")
		call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", GetUnitX(u), GetUnitY(u)))
		if ( u == sichen ) then
			if ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(sichen))] ) then
				call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) - 2 ))
			endif
			if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(sichen))] ) then
				call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) - 2 ))
			endif
			if ( BJuexing1[GetConvertedPlayerId(GetOwningPlayer(sichen))] ) then
				call SetPlayerStateBJ(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(sichen), PLAYER_STATE_RESOURCE_FOOD_CAP) - 2 ))
			endif
		endif
		if ( u == xinglong and IsLong() ) then
			if ( BJuexing1[GetConvertedPlayerId(GetOwningPlayer(sichen))] ) then
				call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.2)
				call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.1)
			endif
			if ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(sichen))] ) then
				call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.2)
				call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(xinglong)) , - 0.1)
			endif
		endif
		if ( u == kaisa and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(kaisa))] ) then
			call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(kaisa)) , - 0.5)
		elseif ( u == yanmie and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(yanmie))] ) then
			call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(yanmie)) , - 0.4)
		elseif ( u == bajue and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(bajue))] ) then
			call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(bajue)) , - 0.6)
		elseif ( u == xiaoyue and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(xiaoyue))] ) then
			call UnitRemoveAbility(gg_unit_h00K_0254, 'A0IN')
		elseif ( u == lingxue and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(lingxue))] ) then
			call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(lingxue)) , - 1)
		elseif ( u == sheyan and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(sheyan))] ) then
			call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(sheyan)) , - 0.4)
		elseif ( u == Heiyan and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(Heiyan))] ) then
			call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(Heiyan)) , - 1)
		elseif ( u == cangling and BJuexing3[GetConvertedPlayerId(GetOwningPlayer(cangling))] ) then
			call AddHP(cangling , - 40000000)
		elseif ( u == hanshang ) then
			call AddMoneyPercent(GetConvertedPlayerId(GetOwningPlayer(hanshang)) , - 0.25)
		endif
		set BJuexing1[GetConvertedPlayerId(GetOwningPlayer(u))]=false
		set BJuexing2[GetConvertedPlayerId(GetOwningPlayer(u))]=false
		set BJuexing3[GetConvertedPlayerId(GetOwningPlayer(u))]=false
		if ( u == moqi ) then
			call QJuexingMoqi()
		elseif ( u == seyu ) then
			call QJuexingSeyu()
		elseif ( u == chenji ) then
			call TriggerExecute(gg_trg_____________129)
		elseif ( u == sheyan ) then
			call QJuexingSheyan()
		elseif ( u == Huanyi ) then
			call UnitRemoveAbility(Huanyi, 'A0HX')
		elseif ( u == mengji ) then
			call RuohuanmengChatBack()
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Juexing___TDengEquitCon takes nothing returns boolean
		return ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and IsDeng(GetManipulatedItem())
	endfunction

 function Juexing___TDengEquitAct takes nothing returns nothing
  local integer i= 1
  local integer dengCount= 0
		loop
			exitwhen i > 6
			if ( IsDeng(UnitItemInSlotBJ(GetTriggerUnit(), i)) ) then
				set dengCount=dengCount + 1
			endif
			set i=i + 1
		endloop

		//Â¶ÇÊûúËÆ°Êï∞ÂêõÂ§ß‰∫é1Âàô‰∏¢Êéâ
		if ( dengCount > 1 ) then
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Âè™ËÉΩÂêåÊó∂Ë£ÖÂ§á‰∏ä‰∏Ä‰∏™ÁßòÂ¢ÉËá≥ÂÆùÔºÅ")
			call PolledWait(0.01)
			call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
			return
		elseif ( dengCount == 1 ) then
			if ( GetDeng(GetTriggerUnit()) >= 3 ) then
				call Juexing___InitHeroJuexing1(GetTriggerUnit())
			endif
			if ( GetDeng(GetTriggerUnit()) >= 7 ) then
				call Juexing___InitHeroJuexing2(GetTriggerUnit())
			endif
			if ( GetDeng(GetTriggerUnit()) >= 12 ) then
				call Juexing___InitHeroJuexing3(GetTriggerUnit())
			endif
		endif

	endfunction

 function Juexing___TDengDropAct takes nothing returns nothing
  local integer i= 1
  local integer dengCount= 0
		loop
			exitwhen i > 6
			if ( IsDeng(UnitItemInSlotBJ(GetTriggerUnit(), i)) ) then
				set dengCount=dengCount + 1
			endif
			set i=i + 1
		endloop
		if ( dengCount <= 1 and GetDeng(GetTriggerUnit()) >= 3 ) then
			call Juexing___CancelJuexing(GetTriggerUnit())
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
 function Juexing___InitJuexing takes nothing returns nothing
		//Âè™ËÉΩÂêåÊó∂Ë£ÖÂ§á‰∏Ä‰∏™ÁÅØ
  local trigger t= CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
		call TriggerAddCondition(t, Condition(function Juexing___TDengEquitCon))
		call TriggerAddAction(t, function Juexing___TDengEquitAct)

		//‰∏¢ÂºÉÁÅØ‰∫ã‰ª∂
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DROP_ITEM)
		call TriggerAddCondition(t, Condition(function Juexing___TDengEquitCon))
		call TriggerAddAction(t, function Juexing___TDengDropAct)

		set t=null
	endfunction

//library Juexing ends
//library Revive:
	
//---------------------------------------------------------------------------------------------------
	
function TReviveHeroCon takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetRevivingUnit()) == false ) and ( GetRevivingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetRevivingUnit()))] ) )
endfunction

function TReviveHeroAct takes nothing returns nothing
	call ReviveBeast(GetRevivingUnit())
	call AfterReviveLingxue(GetRevivingUnit())
	call AfterReviveXinglong(GetRevivingUnit())
	call AfterReviveHeiyan(GetRevivingUnit())
	if ( GetPlayerSlotState(GetOwningPlayer(GetRevivingUnit())) == PLAYER_SLOT_STATE_LEFT ) then
		call SetUnitPosition(GetRevivingUnit(), GetRectCenterX(gg_rct_QuitRegion), GetRectCenterY(gg_rct_QuitRegion))
	    call SetUnitInvulnerable(GetRevivingUnit(), true)
	    call PauseUnitBJ(true, GetRevivingUnit())
	    call ShowUnitHide(GetRevivingUnit())
	endif
endfunction

//---------------------------------------------------------------------------------------------------

 function Revive___InitRevive takes nothing returns nothing
  local trigger t= CreateTrigger()

	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_HERO_REVIVE_FINISH)
	    call TriggerAddCondition(t, Condition(function TReviveHeroCon))
	    call TriggerAddAction(t, function TReviveHeroAct)
	endfunction

//library Revive ends
//library Boss:
//---------------------------------------------------------------------------------------------------
	
 function Boss___HaiHangTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local real x
  local real y
  local unit temp
  local integer times= IMaxBJ(1, s__MultiLife_getTimes(MLChuanzhang))
		if ( IsUnitAliveBJ(UChuanzhang) or GetUnitAbilityLevel(UChuanzhang, 'A0KH') > 0 ) then
			set x=YDWECoordinateX(GetUnitX(UChuanzhang) + GetRandomReal(- 900, 900))
			set y=YDWECoordinateY(GetUnitY(UChuanzhang) + GetRandomReal(- 900, 900))
			set temp=CreateUnit(Player(10), 'h01S', x, y, GetRandomReal(0, 360))
			call SetUnitAbilityLevel(temp, 'A0KI', udg_Nandu_JJJ)
			call UnitApplyTimedLifeBJ(2.50 * times, 'BHwe', temp)
			call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", x, y))
		else
			call PauseTimer(t)
			call DestroyTimer(t)
		endif
		set t=null
		set temp=null
	endfunction
		

 function InitHanghai takes nothing returns nothing
  local timer t= CreateTimer()
		call TimerStart(t, 3, true, function Boss___HaiHangTimer)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Boss___TimerStoneKaipaoTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local group l_group= CreateGroup()
  local unit l_unit
		call GroupEnumUnitsInRange(l_group, LoadReal(LHTable, GetHandleId(t), 1), LoadReal(LHTable, GetHandleId(t), 2), 300, null)
		loop
		    set l_unit=FirstOfGroup(l_group)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(l_group, l_unit)
		    if ( IsEnemyM(l_unit , UXiaoY) ) then
		    	call UnitDamageTarget(UXiaoY, l_unit, GetUnitState(l_unit, UNIT_STATE_MAX_LIFE) * 2, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
		    endif
		endloop
		call DestroyGroup(l_group)
		set l_group=null
		set l_unit=null
		call PauseTimer(t)
		call FlushChildHashtable(LHTable, id)
		call DestroyTimer(t)
		set t=null
	endfunction

 function Boss___TimerStoneKaipao takes unit u returns nothing
  local timer t= CreateTimer()
		call SaveReal(LHTable, GetHandleId(t), 1, GetUnitX(u))
		call SaveReal(LHTable, GetHandleId(t), 2, GetUnitY(u))
		call DestroyEffect(AddSpecialEffect("Units\\Demon\\Infernal\\InfernalBirth.mdl", GetUnitX(u), GetUnitY(u)))
		call TimerStart(t, 1, false, function Boss___TimerStoneKaipaoTimer)
		set t=null
	endfunction

 function Boss___TimerStoneKill takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer i= 1
		if ( IsUnitAliveBJ(UXiaoY) or GetUnitAbilityLevel(UXiaoY, 'A0KH') > 0 ) then
			set Boss___ILuoshi=Boss___ILuoshi - 1
			if ( Boss___ILuoshi > 3 ) then
				set t=null
				return
			endif
			loop
				exitwhen i > 6
	            if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) and udg_H[i] != null ) then
	            	if ( Boss___ILuoshi <= 0 ) then
	            		call Boss___TimerStoneKaipao(udg_H[i])
	            	else
	    				call CreateSpellTextTag("ËêΩÁü≥:" + I2S(Boss___ILuoshi) + "s" , udg_H[i] , 100 , 0 , 0 , 2)
        				call PlaySoundBJ(gg_snd_Clock)
	            	endif
            	endif
				set i=i + 1
			endloop
        	if ( Boss___ILuoshi <= 0 ) then
				set Boss___ILuoshi=10 - NanDiff * 2
			endif
		else
			set Boss___ILuoshi=0
			call PauseTimer(t)
			call DestroyTimer(t)
		endif
		set t=null
	endfunction

 function InitTimerStoneKill takes nothing returns nothing
  local timer t= CreateTimer()
		set Boss___ILuoshi=12 - NanDiff * 2
		call TimerStart(t, 1, true, function Boss___TimerStoneKill)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Boss___StartFashangTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local integer playerID= LoadInteger(LHTable, id, 1)
  local real value= LoadReal(LHTable, id, 2)
		call AddSpellPercent(playerID , value)
		call DisplayTextToPlayer(ConvertedPlayer(playerID), 0., 0., "|cffff0000„ÄêÊ≥®ÊÑè„Äë‰Ω†ÁöÑÊ≥ï‰º§ÊÅ¢Â§ç‰∫Ü,ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®ÊäÄËÉΩ‰∫Ü!|r")
		call DisplayTextToPlayer(ConvertedPlayer(playerID), 0., 0., "|cffff0000„ÄêÊ≥®ÊÑè„Äë‰Ω†ÁöÑÊ≥ï‰º§ÊÅ¢Â§ç‰∫Ü,ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®ÊäÄËÉΩ‰∫Ü!|r")
		call DisplayTextToPlayer(ConvertedPlayer(playerID), 0., 0., "|cffff0000„ÄêÊ≥®ÊÑè„Äë‰Ω†ÁöÑÊ≥ï‰º§ÊÅ¢Â§ç‰∫Ü,ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®ÊäÄËÉΩ‰∫Ü!|r")
		call PauseTimer(t)
		call FlushChildHashtable(LHTable, id)
		call DestroyTimer(t)
		set t=null
	endfunction

 function Boss___StartFashang takes integer playerID returns nothing
  local timer t= null
		if ( udg_I_Jinengjiacheng[playerID] <= 0 ) then
			return
		endif
		set t=CreateTimer()
		call SaveInteger(LHTable, GetHandleId(t), 1, playerID)
		call SaveReal(LHTable, GetHandleId(t), 2, 2 * udg_I_Jinengjiacheng[playerID])
		call AddSpellPercent(playerID , - 2 * udg_I_Jinengjiacheng[playerID])
		call DisplayTextToPlayer(ConvertedPlayer(playerID), 0., 0., "|cffff0000„ÄêÊ≥®ÊÑè„Äë‰Ω†ÁöÑÊ≥ï‰º§ÂèòÊàê‰∫ÜË¥üÊï∞Áä∂ÊÄÅ,ËØ∑Ë∞®ÊÖé‰ΩøÁî®ÊäÄËÉΩ!|r")
		call DisplayTextToPlayer(ConvertedPlayer(playerID), 0., 0., "|cffff0000„ÄêÊ≥®ÊÑè„Äë‰Ω†ÁöÑÊ≥ï‰º§ÂèòÊàê‰∫ÜË¥üÊï∞Áä∂ÊÄÅ,ËØ∑Ë∞®ÊÖé‰ΩøÁî®ÊäÄËÉΩ!|r")
		call DisplayTextToPlayer(ConvertedPlayer(playerID), 0., 0., "|cffff0000„ÄêÊ≥®ÊÑè„Äë‰Ω†ÁöÑÊ≥ï‰º§ÂèòÊàê‰∫ÜË¥üÊï∞Áä∂ÊÄÅ,ËØ∑Ë∞®ÊÖé‰ΩøÁî®ÊäÄËÉΩ!|r")
		call TimerStart(t, 2 * udg_Nandu_JJJ, true, function Boss___StartFashangTimer)
		set t=null
	endfunction

 function Boss___FashangfuTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local group l_group= null
  local unit l_unit= null
    	call CreateUnitEffect(Player(11) , 'h01M' , GetUnitX(UXiaoY) , GetUnitY(UXiaoY) , 0)
		call CreateSpellTextTag("1800ËåÉÂõ¥Ê≥ï‰º§ÁöÜË¥ü!" , UXiaoY , 100 , 0 , 0 , 4)
		if ( IsUnitAliveBJ(UXiaoY) or GetUnitAbilityLevel(UXiaoY, 'A0KH') > 0 ) then
			set l_group=CreateGroup()
			call GroupEnumUnitsInRange(l_group, GetUnitX(UXiaoY), GetUnitY(UXiaoY), 1800, null)
			loop
			    set l_unit=FirstOfGroup(l_group)
			    exitwhen l_unit == null
			    call GroupRemoveUnit(l_group, l_unit)
			    if ( udg_H[GetConvertedPlayerId(GetOwningPlayer(l_unit))] == l_unit ) then
			    	call Boss___StartFashang(GetConvertedPlayerId(GetOwningPlayer(l_unit)))
			    endif
			endloop
			call DestroyGroup(l_group)
			set l_group=null
			set l_unit=null
		else
			call PauseTimer(t)
			call FlushChildHashtable(spellTable, id)
			call DestroyTimer(t)
		endif
		set t=null
	endfunction

 function InitFashangfuTimer takes nothing returns nothing
  local timer t= CreateTimer()
		call TimerStart(t, 20, true, function Boss___FashangfuTimer)
		set t=null
	endfunction

//---------------------------------------------------------------------------------------------------
	

 function InitConnectLine takes nothing returns nothing
  local integer i= 1
  local unit temp= null
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) and udg_H[i] != null ) then
				if ( temp != null ) then
					set Boss___LLifeConnect[i - 1]=AddLightning("HWPB", true, GetUnitX(temp), GetUnitY(temp), GetUnitX(udg_H[i]), GetUnitY(udg_H[i]))
				endif
				set temp=udg_H[i]
			endif
			set i=i + 1
		endloop
		set temp=null
	endfunction

	//Âà†Èô§ÁîüÂëΩËøûÁªì
 function DestroyConnection takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			if ( Boss___LLifeConnect[i] != null ) then
				call DestroyLightningBJ(Boss___LLifeConnect[i])
			endif
			set i=i + 1
		endloop
		call PauseTimer(TLifeConnect)
		call DestroyTimer(TLifeConnect)
		set TLifeConnect=null
	endfunction

 function Boss___LifeConnectTimer takes nothing returns nothing
  local integer i= 1
  local unit temp= null
		if ( IsUnitAliveBJ(UXiaoY) or GetUnitAbilityLevel(UXiaoY, 'A0KH') > 0 ) then
			loop
				exitwhen i > 6
				if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) and udg_H[i] != null ) then
					if ( temp != null ) then
	    				call MoveLightning(Boss___LLifeConnect[i - 1], true, GetUnitX(temp), GetUnitY(temp), GetUnitX(udg_H[i]), GetUnitY(udg_H[i]))
					endif
					set temp=udg_H[i]
				endif
				set i=i + 1
			endloop
			set temp=null
		else
			call DestroyConnection()
		endif

	endfunction

	//‰∏ÄËµ∑Ê≠ªÂêß~
 function DieTogether takes nothing returns nothing
  local integer i= 1
		loop
			exitwhen i > 6
			if ( ( GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER ) and udg_H[i] != null and IsUnitAliveBJ(udg_H[i]) and not ( BGongxiang[i] ) ) then
				call UnitDamageTarget(GetKillingUnitBJ(), udg_H[i], GetUnitState(udg_H[i], UNIT_STATE_MAX_LIFE) * 2, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			endif
			set i=i + 1
		endloop
		call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁî±‰∫éÂèóÂà∞ÁîüÂëΩÂÖ±‰∫´ÁöÑÂΩ±Âìç,‰Ω†‰ª¨ÊâÄÊúâËã±ÈõÑÂèóÂà∞‰∫ÜËá¥Ê≠ª‰º§ÂÆ≥.")
   set BShengming=true
	endfunction



	//ÂºÄÂßãËÅîÁªì‰πãË∑Ø
 function StartLifeConnect takes nothing returns nothing
		if ( udg_RENSHU < 2 ) then
			return
		endif
		set TLifeConnect=CreateTimer()
		call InitConnectLine()
		call TimerStart(TLifeConnect, 0.05, true, function Boss___LifeConnectTimer)

	endfunction

//---------------------------------------------------------------------------------------------------

 function CycleFangKa takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local unit u= LoadUnitHandle(bossTable, id, 1)
  local real x2= GetUnitX(u)
  local real y2= GetUnitY(u)
  local real x1
  local real y1
  local real distance
  local real facing
  local integer count= 0
  local group l_group= CreateGroup()
  local unit l_unit
		if ( IsUnitAliveBJ(u) ) then
			call GroupEnumUnitsInRange(l_group, x2, y2, 900, null)
			loop
			    set l_unit=FirstOfGroup(l_group)
			    exitwhen l_unit == null
			    call GroupRemoveUnit(l_group, l_unit)
			    if ( ( IsUnitAliveBJ(l_unit) == true ) and ( GetUnitAbilityLevel(l_unit, 'Avul') < 1 ) and ( GetUnitPointValue(l_unit) != 123 ) and ( IsUnitEnemy(l_unit, Player(11)) == true ) and ( not ( IsTerrainPathable(GetUnitX(l_unit), GetUnitY(l_unit), PATHING_TYPE_WALKABILITY) ) ) ) then
			    	set count=count + 1
			    endif
			endloop
			if ( count == 0 ) then
		    	set x1=GetRectCenterX(gg_rct________1)
		    	set y1=GetRectCenterY(gg_rct________1)
		    	set distance=SquareRoot(( x1 - x2 ) * ( x1 - x2 ) + ( y1 - y2 ) * ( y1 - y2 ))
		    	if ( distance > 600 ) then
			    	set facing=Atan2BJ(y1 - y2, x1 - x2)
			    	call SetUnitX(u, YDWECoordinateX(x2 + CosBJ(facing) * 40))
			    	call SetUnitY(u, YDWECoordinateY(y2 + SinBJ(facing) * 40))
		    	endif
			endif
		else
			call PauseTimer(t)
			call DestroyTimer(t)
	    	call FlushChildHashtable(bossTable, id)
		endif
		set t=null
		set u=null
		call DestroyGroup(l_group)
		set l_group=null
		set l_unit=null
	endfunction
	
 function StartFangKa takes unit fangka returns nothing
  local timer t=CreateTimer()
	    call SaveUnitHandle(bossTable, GetHandleId(t), 1, fangka)
		call TimerStart(t, 0.1, true, function CycleFangKa)
		set t=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function TSpellZuoCon takes nothing returns boolean
	    return ( ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 10) == 1 ) )
	endfunction

 function TSpellZuoAct takes nothing returns nothing
	    call DisableTrigger(GetTriggeringTrigger())
 		call SimulateSpell(GetAttackedUnitBJ() , GetAttacker() , 'AB00' , udg_Nandu_JJJ , 5 , "magicleash" , false , false , true)
	    call CreateSpellTextTag("Ê≠ª‰∫°Êû∑ÈîÅÔºÅ" , gg_unit_Uear_0242 , 100 , 75 , 0 , 2)
	    call PolledWait(4.00)
	    call EnableTrigger(GetTriggeringTrigger())
	endfunction

//---------------------------------------------------------------------------------------------------
	
 function TSpellYouCon takes nothing returns boolean
	    return ( ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 10) == 1 ) )
	endfunction

 function TSpellYouAct takes nothing returns nothing
	    call DisableTrigger(GetTriggeringTrigger())
 		call SimulateSpell(GetAttackedUnitBJ() , GetAttacker() , 'ANc2' , udg_Nandu_JJJ , 5 , "clusterrockets" , true , false , false)
	    call CreateSpellTextTag("ÂºÇÁïåÂÜ∞Â∞ÅÔºÅ" , gg_unit_Npld_0253 , 25 , 100 , 25 , 2)
	    call PolledWait(4.00)
	    call EnableTrigger(GetTriggeringTrigger())
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function startMissile takes nothing returns nothing
		call s__Missile_create(gg_unit_Nkjx_0241 , 'hs01' , "Units\\Demon\\Infernal\\InfernalBirth.mdl" , 300 , 1800 , 3 , 1 , 1000000000)
	endfunction

 function refreshMissile takes nothing returns nothing
  local real interval
  local timer t= GetExpiredTimer()
		if ( IsUnitAliveBJ(gg_unit_Nkjx_0241) == true ) then
			set interval=( GetUnitState(gg_unit_Nkjx_0241, UNIT_STATE_LIFE) / GetUnitState(gg_unit_Nkjx_0241, UNIT_STATE_MAX_LIFE) * 0.2 ) + 0.2
			call TimerStart(Boss___TiMissile, interval, true, function startMissile)
		else
			call PauseTimer(t)
			call DestroyTimer(t)
			call PauseTimer(Boss___TiMissile)
			call DestroyTimer(Boss___TiMissile)
		endif
		set t=null
	endfunction

 function starthaha takes nothing returns nothing
	endfunction
//---------------------------------------------------------------------------------------------------

	
 function InitMingwang takes nothing returns nothing
  local timer refresh= CreateTimer()
		
        local integer attract= s__Attract_create(gg_unit_Nkjx_0241 , 1800 , 0.05 , 10)
        call s__Attract_start(attract)

        //Â∑¶Âè≥Êä§Ê≥ïÁöÑÊäÄËÉΩ
	    set Boss___TSpellZuo=CreateTrigger()
	    call TriggerRegisterUnitEvent(Boss___TSpellZuo, gg_unit_Uear_0242, EVENT_UNIT_ATTACKED)
	    call TriggerAddCondition(Boss___TSpellZuo, Condition(function TSpellZuoCon))
	    call TriggerAddAction(Boss___TSpellZuo, function TSpellZuoAct)

	    set Boss___TSpellYou=CreateTrigger()
	    call TriggerRegisterUnitEvent(Boss___TSpellYou, gg_unit_Npld_0253, EVENT_UNIT_ATTACKED)
	    call TriggerAddCondition(Boss___TSpellYou, Condition(function TSpellYouCon))
	    call TriggerAddAction(Boss___TSpellYou, function TSpellYouAct)

	    //ÂÜ•ÂàπÁöÑÊ≠ª‰∫°ÂØºÂºπ
		set Boss___TiMissile=CreateTimer()
		//ÂºÄÂßãÁñØÁãÇÂØºÂºπ
		call TimerStart(Boss___TiMissile, 0.4, true, function startMissile)
		call TimerStart(refresh, 3, true, function refreshMissile)
		set refresh=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function DestroyMingwang takes nothing returns nothing
		call DestroyTrigger(Boss___TSpellZuo)
		call DestroyTrigger(Boss___TSpellYou)
	endfunction
//---------------------------------------------------------------------------------------------------

 function InitSaisilier takes unit u returns nothing
        local integer attract= s__Attract_create(u , 1800 , 0.05 , 14)
        call s__Attract_start(attract)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Boss___EnemyFilter takes nothing returns boolean
		return IsEnemyMP(GetFilterUnit() , Player(11))
	endfunction

    function Boss___JudgeBossAttackTimer takes nothing returns nothing
     local timer t= GetExpiredTimer()
     local integer id= GetHandleId(t)
     local unit u= LoadUnitHandle(LHTable, id, 1)
     local group l_group= CreateGroup()
    	call GroupEnumUnitsInRange(l_group, GetUnitX(u), GetUnitY(u), 900, Condition(function Boss___EnemyFilter))
    	if ( IsUnitAliveBJ(u) or GetUnitAbilityLevel(u, 'A0KH') > 0 ) then
    		if ( CountUnitsInGroup(l_group) >= 1 ) then
    			call IssueTargetOrder(u, "attack", GroupPickRandomUnit(l_group))
    		else
    			call IssuePointOrderLoc(u, "attack", udg_Point_Fuhuo)
    		endif
    	else
    		call PauseTimer(t)
    		call FlushChildHashtable(LHTable, id)
    		call DestroyTimer(t)
    	endif
    	call DestroyGroup(l_group)
    	set l_group=null
    	set u=null
    	set t=null
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function Boss___DaroubangJudge takes nothing returns nothing
		if ( s__MultiLife_getTimes(MLChuanzhang) > IRoubang ) then
			set IRoubang=s__MultiLife_getTimes(MLChuanzhang)
	    	call s__Roubang_create(UChuanzhang , 10 , 100 , 1.66 * IRoubang , GetRandomReal(0, 360) , 'h01T')
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
	
 function Boss___TDeathRenyaoAct takes nothing returns nothing
		if ( not ( IsUnitAliveBJ(UXiaoY) ) and GetUnitAbilityLevel(UXiaoY, 'A0KH') < 1 and not ( IsUnitAliveBJ(UChuanzhang) ) and GetUnitAbilityLevel(UChuanzhang, 'A0KH') < 1 ) then
		    call s__TianfuForbidder_deallocate(TFChuan)
		    call PauseTimer(udg_Time_BOSS)
		    call DestroyTimer(udg_Time_BOSS)
	    	call DestroyTimerDialog(udg_Timer_BOSS)
		    call PauseTimer(TRBChuan)
		    call DestroyTimer(TRBChuan)
			call DestroyConnection()
			call CinematicModeBJ(true, GetPlayersAll())
		    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_H[GetConvertedPlayerId(GetFirstPlayer())], GetUnitName(udg_H[GetConvertedPlayerId(GetFirstPlayer())]), null, "Áúã‰ººËøôÂú∫Êàò‰∫âÊöÇÊó∂ÊÄßÁöÑÁªìÊùü‰∫Ü...‰∏çËøáÁúã‰ººËøôËÉåÂêéÂπ∂‰∏çÁÆÄÂçï?", bj_TIMETYPE_ADD, 2.00, true)
		    call PolledWait(2.00)
		    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_H[GetConvertedPlayerId(GetFirstPlayer())], GetUnitName(udg_H[GetConvertedPlayerId(GetFirstPlayer())]), null, "Ê∏∏ÊàèÂ∞ÜÂú®60ÁßíÂêéÁªìÊùü...", bj_TIMETYPE_ADD, 2.00, true)
       call SaveAchievement()
       call SaveAchievement2()
		    call PolledWait(2.00)
		    call PrintMengjiPassword()
		    call PrintMengjiPassword()
		    call PrintMengjiPassword()
		    call PrintMengjiPassword()
		    call PrintCanglingPassword()
		    call PrintCanglingPassword()
		    call PrintCanglingPassword()
		    call PrintCanglingPassword()
		    call PrintXinglongPassword()
		    call PrintXinglongPassword()
		    call PrintXinglongPassword()
		    call PrintXinglongPassword()
       call SaveAchievementKuilei1()
		    call CinematicModeBJ(false, GetPlayersAll())
		    call PolledWait(60.00)
		    call ForForce(GetPlayersAll(), function ShengliAll)

		endif
	endfunction
	
//---------------------------------------------------------------------------------------------------
	
 function Boss___InitRenYao takes nothing returns nothing
  local timer t= CreateTimer()
		call ShowGameHintAll("\n		    	|cffffff00‰∏äË∑ØBOSS(‰∫∫ÁéãÂÇÄÂÑ°) ÊäÄËÉΩ:|r\n	        3Ê¨°ÁîüÂëΩ\n	        ÁÅ´ÁÑ∞‰πãÊ£í(ÊØèÊ≠ª‰∏ÄÊ¨°Â§ö‰∏ÄÊù°Ê£í,ÈÄüÂ∫¶Êõ¥Âø´,Ê≥®ÊÑèË∫≤ÂºÄ)\n	        Ëà™Êµ∑È¢ÜÂüü(Áú©ÊôïÊîªÂáª)\n	        Â§©ËµãÁ¶ÅÁî®(Âë®ÊúüÊÄßÊäÄËÉΩ)\n\n	        |cff00ccff‰∏ãË∑ØBOSS(Â¶ñÁéãÂÇÄÂÑ°) ÊäÄËÉΩ:|r\n	        3Ê¨°ÁîüÂëΩ\n	        ÁîüÂëΩÂÖ±‰∫´(‰ªª‰∏ÄÈòüÂèãÊ≠ª‰∫°ÂàôÂÖ®ÈòüÊ≠ª‰∫°)\n	        Ê≥ï‰º§ÂèòË¥ü(Âë®ÊúüÊÄßÊäÄËÉΩ,ËåÉÂõ¥ÊúâÊïà)\n	        Èô®Áü≥Âù†ËêΩ(Ê≥®ÊÑèÂÄíËÆ°Êó∂!)\n\n	        |cffff0000BOSSÊ≠£ÂºèËøõÊîª!|r")
		//call PolledWait(10)
		set UXiaoY=CreateUnit(Player(11), 'N01O', GetRectCenterX(gg_rct________6), GetRectCenterY(gg_rct________6), 90)
		set UChuanzhang=CreateUnit(Player(11), 'N01P', GetRectCenterX(gg_rct________3), GetRectCenterY(gg_rct________3), 270)
		//Â§öÊù°ÂëΩ
		set MLChuanzhang=s__MultiLife_create(UChuanzhang , 3)
		set MLXiaoY=s__MultiLife_create(UXiaoY , 3)
		call SetUnitAbilityLevel(UXiaoY, 'A0AG', udg_Nandu_JJJ)
		call SetUnitAbilityLevel(UChuanzhang, 'A0AG', udg_Nandu_JJJ)
		call StartFangKa(UXiaoY)
		call StartFangKa(UChuanzhang)

	    call PauseTimer(TiRenYao)
	    call DestroyTimer(TiRenYao)
    	call DestroyTimerDialog(TiDiaRenYao)

	    call StartTimerBJ(udg_Time_BOSS, false, 1200.00)
	    call CreateTimerDialogBJ(udg_Time_BOSS, "ÈôêÊó∂ÂáªÊùÄÊó∂Èó¥")
	    set udg_Timer_BOSS=GetLastCreatedTimerDialogBJ()
	    call TimerDialogDisplayBJ(true, udg_Timer_BOSS)
	    call SaveUnitHandle(LHTable, GetHandleId(t), 1, UXiaoY)
	    call TimerStart(t, 1, true, function Boss___JudgeBossAttackTimer)
	    set t=CreateTimer()
	    call SaveUnitHandle(LHTable, GetHandleId(t), 1, UChuanzhang)
	    call TimerStart(t, 1, true, function Boss___JudgeBossAttackTimer)
	    set t=null
	    //Â∞èYÊäÄËÉΩ
	    call InitFashangfuTimer()
	    call InitTimerStoneKill()
	    call StartLifeConnect()
	    //ËàπÈïøÊäÄËÉΩ
	    call InitHanghai()
	    set TFChuan=s__TianfuForbidder_create(UChuanzhang , GetForbidTianfuTime() , 10. - GetForbidTianfuTime())
	    set TRBChuan=CreateTimer()
	    call TimerStart(TRBChuan, 1, true, function Boss___DaroubangJudge)
    	call TriggerRegisterUnitEvent(Boss___TDeathRenyao, UXiaoY, EVENT_UNIT_DEATH)
    	call TriggerRegisterUnitEvent(Boss___TDeathRenyao, UChuanzhang, EVENT_UNIT_DEATH)

	endfunction
//---------------------------------------------------------------------------------------------------

	
 function StartRenYaoTimer takes nothing returns nothing
        set TiRenYao=CreateTimer()
        set TiDiaRenYao=CreateTimerDialogBJ(TiRenYao, "ÂÖ≠ÁïåÂÇÄÂÑ°1")
	    call PauseTimer(udg_Double_M[1])
	    call DestroyTimer(udg_Double_M[1])
    	call DestroyTimerDialog(udg_Double_Me)
        call TimerStart(TiRenYao, GetWangSpeed(), false, function Boss___InitRenYao)
        call TimerDialogDisplay(TiDiaRenYao, true)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SimulateDamageBoss takes unit u returns boolean
		if ( GetUnitTypeId(u) == 'h01S' ) then
			call DisableTrigger(GetTriggeringTrigger())
			if ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_MAGIC_IMMUNE) ) then
				call UnitDamageTarget(u, GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * 2, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			call EnableTrigger(GetTriggeringTrigger())
			endif
			return true
		endif
		if ( GetUnitTypeId(u) == 'h01T' and IsUnitAliveBJ(UChuanzhang) and IsUnitDeadBJ(GetTriggerUnit()) ) then
			call RecoverUnitHP(UChuanzhang , 0.005)
			return true
		endif
		return false
	endfunction
//---------------------------------------------------------------------------------------------------

 function Boss___InitBoss takes nothing returns nothing
		// body...
		set bossTable=InitHashtable()

    	set Boss___TDeathRenyao=CreateTrigger()
    	call TriggerAddAction(Boss___TDeathRenyao, function Boss___TDeathRenyaoAct)

	endfunction

//library Boss ends
//library Debug:


	
 function Debug__addHeroAttr takes integer attr,integer level returns nothing
		call SetHeroInt(udg_H[1], attr, false)
		call SetHeroAgi(udg_H[1], attr, false)
		call SetHeroStr(udg_H[1], attr, false)
		call SetHeroLevel(udg_H[1], level, true)
	endfunction

	
 function Debug__debugDamage takes nothing returns nothing
		if ( debug_show_damage ) then
			call BJDebugMsg(GetUnitName(GetEventDamageSource()) + "ÂØπ" + GetUnitName(GetTriggerUnit()) + "ÈÄ†Êàê‰∫Ü" + R2S(GetEventDamage()) + "‰º§ÂÆ≥.")
		endif
	endfunction

 function Debug__ShowMajiaCount takes nothing returns integer
  local group l_group= GetUnitsInRectAll(GetPlayableMapRect())
  local unit l_unit
  local integer count= 0
		call GroupEnumUnitsInRange(l_group, 0, 0, 99999, null)
		loop
		    set l_unit=FirstOfGroup(l_group)
		    exitwhen l_unit == null
		    call GroupRemoveUnit(l_group, l_unit)
		    if ( GetUnitPointValue(l_unit) == 123 or GetUnitPointValue(l_unit) == 0 ) then
		    	set count=count + 1
		    endif
		endloop
		call DestroyGroup(l_group)
		set l_group=null
		set l_unit=null
		return count
	endfunction

	
 function Debug__debugChat takes nothing returns nothing
		//ÂÖ≥Èó≠‰º§ÂÆ≥ÊòæÁ§∫
  local string chat= GetEventPlayerChatString()
  local integer bo
  local unit u
		if ( chat == "test damage" ) then
			set debug_show_damage=not ( debug_show_damage )
			call BJDebugMsg("ÊàêÂäüÂÖ≥Èó≠‰º§ÂÆ≥ÊòæÁ§∫")
			return
		endif

		if ( chat == "test tech" ) then
			call SetPlayerTechResearchedSwap('R007', 1, Player(0))
			call SetPlayerTechResearchedSwap('R00A', 1, Player(0))
			call SetPlayerTechResearchedSwap('R00B', 1, Player(0))
			call SetPlayerTechResearchedSwap('R008', 1, Player(0))
			call SetPlayerTechResearchedSwap('R009', 1, Player(0))
			call SetPlayerTechResearchedSwap('R006', 1, Player(0))
			call SetPlayerTechResearchedSwap('R00D', 1, Player(0))
			call BJDebugMsg("ÁßëÊäÄÁ†îÁ©∂ÂÆåÊàê")
			return
		endif

		if ( chat == "test part1" ) then
			call Debug__addHeroAttr(20000 , 80)

			//È¨º3
			call UnitAddItemByIdSwapped('lgdh', udg_H[1])
			//Êòü3
			call UnitAddItemByIdSwapped('ram1', udg_H[1])
			//ÂÜ∞Â∞ÅÁøÖËÜÄ
			call UnitAddItemByIdSwapped('I041', udg_H[1])
			//Ê≥ïÈ≠Ç3
			call UnitAddItemByIdSwapped('phea', udg_H[1])
			//È°πÈìæ
			call UnitAddItemByIdSwapped('rde3', udg_H[1])
			//‰∫∫3
			call UnitAddItemByIdSwapped('oven', udg_H[1])

			call BJDebugMsg("ÊµãËØïÈò∂ÊÆµ1")
			return
		endif

		if ( chat == "test part0" ) then
			
			call Debug__addHeroAttr(10000 , 60)

			//È¨º1
			call UnitAddItemByIdSwapped('rat9', udg_H[1])
			//Êòü0
			call UnitAddItemByIdSwapped('I03Y', udg_H[1])
			//‰∫îÂΩ©ÁøÖËÜÄ
			call UnitAddItemByIdSwapped('I045', udg_H[1])
			//Ê≥ïÈ≠Ç2
			call UnitAddItemByIdSwapped('rin1', udg_H[1])
			//È°πÈìæ
			call UnitAddItemByIdSwapped('rde3', udg_H[1])
			//‰∫∫0
			call UnitAddItemByIdSwapped('rej4', udg_H[1])

			call BJDebugMsg("ÊµãËØïÈò∂ÊÆµ0")

			return
		endif

		if ( chat == "test part2" ) then
			
			call Debug__addHeroAttr(40000 , 120)

			//È¨º5
			call UnitAddItemByIdSwapped('bgst', udg_H[1])
			//ÊòüMAX
			call UnitAddItemByIdSwapped('olig', udg_H[1])
			//Â¶ñÁöáÁøÖËÜÄ
			call UnitAddItemByIdSwapped('I04R', udg_H[1])
			//Ê≥ïÈ≠Ç5
			call UnitAddItemByIdSwapped('shas', udg_H[1])
			//È°πÈìæ
			call UnitAddItemByIdSwapped('rde3', udg_H[1])
			//‰∫∫6
			call UnitAddItemByIdSwapped('oli2', udg_H[1])

			call BJDebugMsg("ÊµãËØïÈò∂ÊÆµ2")

			return
		endif

		if ( chat == "test part3" ) then
			
			call Debug__addHeroAttr(80000 , 140)

			//È¨º8
			call UnitAddItemByIdSwapped('rag1', udg_H[1])
			//Èõ∑Êòü
			call UnitAddItemByIdSwapped('ccmd', udg_H[1])
			//5ÁøÖËÜÄ
			call UnitAddItemByIdSwapped('I05B', udg_H[1])
			//Ê≥ïÈ≠Ç5
			call UnitAddItemByIdSwapped('shas', udg_H[1])
			//È°πÈìæ
			call UnitAddItemByIdSwapped('rde3', udg_H[1])
			//‰∫∫7
			call UnitAddItemByIdSwapped('shdt', udg_H[1])

			call BJDebugMsg("ÊµãËØïÈò∂ÊÆµ3")

			return
		endif

		if ( chat == "test part4" ) then
			
			call Debug__addHeroAttr(150000 , 170)

			//Ë∂ÖÈ¨º
			call UnitAddItemByIdSwapped('lhst', udg_H[1])
			//Ë∂ÖÁ•û
			call UnitAddItemByIdSwapped('tlum', udg_H[1])
			//Ë∂ÖÂ¶ñ
			call UnitAddItemByIdSwapped('I05F', udg_H[1])
			//Ë∂Ö‰ªô
			call UnitAddItemByIdSwapped('rst1', udg_H[1])
			//Ë∂ÖÂú£
			call UnitAddItemByIdSwapped('ssil', udg_H[1])
			//Ë∂Ö‰∫∫
			call UnitAddItemByIdSwapped('tfar', udg_H[1])

			call BJDebugMsg("ÊµãËØïÈò∂ÊÆµ4,Á•ûË£Ö")

			return
		endif

		if ( chat == "test fangka" ) then
			set u=CreateUnit(Player(0), 'hpea', 5790.6, 4445.8, 0)
			call StartFangKa(u)
			set u=null
			return
		endif

		if ( chat == "test credit" ) then
			set udg_Paihangbang[1]=50000
			call BJDebugMsg("Â¢ûÂä†‰∫ÜÁßØÂàÜ~!")
			return
		endif

		if ( chat == "test Scredit" ) then
			set centerCredit[1]=50000
			call BJDebugMsg("Â¢ûÂä†‰∫ÜÂÆàÂüéÁßØÂàÜ~!")
			return
		endif

		if ( chat == "test majia" ) then
			call BJDebugMsg("È©¨Áî≤Êï∞Èáè:" + I2S(Debug__ShowMajiaCount()))
			return
		endif

		if ( chat == "test VIP" ) then
			set sPIV[1]=true
			call BJDebugMsg("ÊµãËØïVIP!")
			return
		endif

		//ÂØπËá™Â∑±ÈÄ†Êàê‰º§ÂÆ≥
		if ( chat == "test kill" ) then
		//gg_unit_Otch_0001   gg_unit_nubr_0093
			call UnitDamageTargetBJ(CreateUnit(Player(0), 'hpea', 0., 0., 0.), udg_H[1], ( 1.00 * 10000000.00 ), ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC)
			return
		endif

		//ÂÖ≥Èó≠ÈÄâ‰∏≠ÊòæÁ§∫Â±ûÊÄß
		if ( chat == "test select" ) then
			set debug_show_attr=not ( debug_show_attr )
			return
		endif


		//Âü∫Âú∞Êó†Êïå
		if ( chat == "test invu" ) then
			call SetUnitInvulnerable(gg_unit_haro_0030, true)
			return
		endif

		//Âü∫Âú∞‰∏çÊó†Êïå
		if ( chat == "test vu" ) then
			call SetUnitInvulnerable(gg_unit_haro_0030, false)
			return
		endif

		//Á≠âÁ∫ß400
		if ( chat == "test level" ) then
			call SetHeroLevel(udg_H[1], 400, true)
			return
		endif

		if ( chat == "test renshu" ) then
			set udg_RENSHU=2
			call BJDebugMsg("‰∫∫Êï∞‰∏∫2")
			return
		endif

		if ( chat == "test lianyu1" ) then
			set udg_I_Lianyu[1]=14
			call BJDebugMsg("ÁÇºÁã±14Â±Ç")
			return
		endif

		if ( chat == "test zhuansheng19" ) then
			set udg_Z[1]=19
			call BJDebugMsg("ËΩ¨Áîü19")
			return
		endif
		if ( chat == "test zhuansheng39" ) then
			set udg_Z[1]=39
			call BJDebugMsg("ËΩ¨Áîü39")
			return
		endif
		if ( chat == "test zhuansheng59" ) then
			set udg_Z[1]=59
			call BJDebugMsg("ËΩ¨Áîü59")
			return
		endif
		if ( chat == "test zhuansheng79" ) then
			set udg_Z[1]=79
			call BJDebugMsg("ËΩ¨Áîü79")
			return
		endif
		if ( chat == "test zhuansheng99" ) then
			set udg_Z[1]=99
			call BJDebugMsg("ËΩ¨Áîü99")
			return
		endif
		if ( chat == "test zhuansheng119" ) then
			set udg_Z[1]=119
			call BJDebugMsg("ËΩ¨Áîü119")
			return
		endif
		if ( chat == "test zhuansheng149" ) then
			set udg_Z[1]=149
			call BJDebugMsg("ËΩ¨Áîü149")
			return
		endif

		if ( chat == "test lianyu2" ) then
			set udg_I_Lianyu[1]=69
			call BJDebugMsg("ÁÇºÁã±69Â±Ç")
			return
		endif

		if ( chat == "test lianyu3" ) then
			set udg_I_Lianyu[1]=59
			call BJDebugMsg("ÁÇºÁã±59Â±Ç")
			return
		endif

		if ( chat == "test lianyu4" ) then
			set udg_I_Lianyu[1]=89
			call BJDebugMsg("ÁÇºÁã±89Â±Ç")
			return
		endif

		if ( chat == "test darenshu" ) then
			set udg_RENSHU=6
			call BJDebugMsg("‰∫∫Êï∞Ë∞ÉÊàê6")
			return
		endif

		if ( chat == "test renkou" ) then
			call SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(Player(0), PLAYER_STATE_RESOURCE_FOOD_CAP) + 100 ))
			call BJDebugMsg("‰∫∫Âè£Ë∞ÉÊàê100")
			return
		endif

		if ( chat == "test baoshi" ) then
			call BJDebugMsg("IAtleast1:" + I2S(IAtleast1))
			call BJDebugMsg("IAtleast2:" + I2S(IAtleast2))
			return
		endif

		if ( chat == "test unitState" ) then
			call BJDebugMsg(GetUnitName(testDyingUnit) + "ÁöÑË°ÄÈáè‰∏∫:" + R2S(GetUnitState(testDyingUnit, UNIT_STATE_LIFE)))
			if ( IsUnitAliveBJ(testDyingUnit) ) then
				call BJDebugMsg("Ê¥ªÁùÄÁöÑ")
			else
				call BJDebugMsg("Ê≠ª‰∫ÜÁöÑ")
			endif
			return
		endif

		//È≠îÁéãÊãÜÂÆ∂ÈÄüÂ∫¶
		if ( chat == "test mowang" ) then
       		call SetPlayerTechResearchedSwap('R00O', 100, Player(6))
			call CreateUnit(Player(11), 'Uwar', GetUnitX(gg_unit_haro_0030), GetUnitY(gg_unit_haro_0030), 0)
			return
		endif

		//ÂÜ•ÁéãÊãÜÂÆ∂ÈÄüÂ∫¶
		if ( chat == "test mingwang" ) then
            call UnitAddAbilityBJ('A0EG', gg_unit_haro_0030)
			call CreateUnit(Player(11), 'Nkjx', GetUnitX(gg_unit_haro_0030), GetUnitY(gg_unit_haro_0030), 0)
			return
		endif

		//Áõ¥Êé•ÂêéÈù¢Áõ¥Êé•Êù•
		if ( chat == "test renyao" ) then
			call PauseTimer(udg_Time_Start[1])
			call DestroyTimer(udg_Time_Start[1])
			call KillUnit(gg_unit_Uear_0242)
			call KillUnit(gg_unit_Nkjx_0241)
			call KillUnit(gg_unit_Npld_0253)
			return
		endif

		//ÊµãËØïÁîüÂëΩÂÖ±‰∫´
		if ( chat == "test gongxiang" ) then
			call StartLifeConnect()
			return
		endif

		//Ë∞ÉÊï¥ÂΩìÂâçÊ≥¢Êï∞
		set bo=S2I(SubStringBJ(chat, StringLength(chat) - 1, StringLength(chat)))
		if ( bo < 30 ) then
			set udg_Bo=bo
			call BJDebugMsg("ÂΩìÂâçÊ≥¢Êï∞:" + "=" + I2S(udg_Bo))
			return
		endif


	endfunction

//---------------------------------------------------------------------------------------------------
	
 function SetTestUnit takes unit u returns nothing
		set testDyingUnit=u
	endfunction
	
//---------------------------------------------------------------------------------------------------

	
 function Debug__peekAttr takes nothing returns nothing
		if ( debug_show_attr ) then
			call BJDebugMsg("ÈÄâ‰∏≠Âçï‰ΩçÁîüÂëΩ:" + R2S(GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit())))
			call BJDebugMsg("ÈÄâ‰∏≠Âçï‰ΩçÁßªÂä®ÈÄüÂ∫¶:" + R2S(GetUnitMoveSpeed(GetTriggerUnit())))
		endif
	endfunction

 function Debug__initDebugTri takes nothing returns nothing
		//ÊòæÁ§∫‰º§ÂÆ≥ÂÄº
  local trigger t= CreateTrigger()
		call YDWESyStemAnyUnitDamagedRegistTrigger(t)
		call TriggerAddAction(t, function Debug__debugDamage)

		//ËÅäÂ§©ÊâìÂºÄÂºÄÂÖ≥ËøõË°åÊµãËØï
		set t=CreateTrigger()
		call TriggerRegisterPlayerChatEvent(t, Player(0), "test", false)
		call TriggerAddAction(t, function Debug__debugChat)

		//ÈÄâÊã©‰∫∫Áâ©ÁúãÊï∞ÊçÆ
		set t=CreateTrigger()
		call TriggerRegisterPlayerSelectionEventBJ(t, Player(0), true)
		call TriggerAddAction(t, function Debug__peekAttr)
		set t=null

		call SetPlayerState(Player(0), PLAYER_STATE_RESOURCE_GOLD, 300000)
		call SetPlayerState(Player(0), PLAYER_STATE_RESOURCE_LUMBER, 1000000)
	endfunction

 function Debug__Initdebug takes nothing returns nothing
		
		call Debug__initDebugTri()

	endfunction


//library Debug ends
//library ItemSpell:
	


//---------------------------------------------------------------------------------------------------
	
 function ItemSpell__TransferItemAct takes nothing returns nothing
		call UnitAddItem(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))], GetSpellTargetItem())
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemSpell__GetHeroItemClick takes nothing returns nothing
        local dialog d= GetClickedDialogBJ()
        local unit u= LoadUnitHandle(LHTable, GetHandleId(d), 8)
        local integer i= 1
        loop
        	exitwhen i > 6
        	if ( GetClickedButtonBJ() == LoadButtonHandle(LHTable, GetHandleId(d), i) ) then
        		if ( UnitItemInSlotBJ(u, i) != null ) then
        			if ( UnitItemInSlotBJ(u, i) != GetYeai() ) then
						call UnitAddItem(UDepot[GetConvertedPlayerId(GetOwningPlayer(u))], UnitItemInSlotBJ(u, i))
        			else
        				call DisplayTextToPlayer(GetOwningPlayer(u), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•Áâ©ÂìÅ‰∏çËÉΩÁßªÂä®")
        			endif
        		endif
        	endif
        	set i=i + 1
        endloop

        call FlushChildHashtable(LHTable, GetHandleId(d))
        call DialogDisplay(GetOwningPlayer(u), d, false)
        call DialogClear(d)
        call DialogDestroy(d)
        set d=null
        set u=null
        call DestroyTrigger(GetTriggeringTrigger())
	endfunction

 function ItemSpell__GetHeroItemAct takes nothing returns nothing
        local trigger t= CreateTrigger()
        local unit u= udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
        local dialog d= DialogCreate()

        call DialogSetMessage(d, "ÈÄâÊã©‰Ω†Ë¶ÅÂèñËµ∞ÁöÑË£ÖÂ§á")

	    call SaveButtonHandle(LHTable, GetHandleId(d), 1, DialogAddButton(d, S3(UnitItemInSlotBJ(u, 1) != null , GetItemName(UnitItemInSlotBJ(u, 1)) , "Á©∫") + "|cff00ccff(1)|r", '1'))
	    call SaveButtonHandle(LHTable, GetHandleId(d), 2, DialogAddButton(d, S3(UnitItemInSlotBJ(u, 2) != null , GetItemName(UnitItemInSlotBJ(u, 2)) , "Á©∫") + "|cff00ccff(2)|r", '2'))
	    call SaveButtonHandle(LHTable, GetHandleId(d), 3, DialogAddButton(d, S3(UnitItemInSlotBJ(u, 3) != null , GetItemName(UnitItemInSlotBJ(u, 3)) , "Á©∫") + "|cff00ccff(3)|r", '3'))
	    call SaveButtonHandle(LHTable, GetHandleId(d), 4, DialogAddButton(d, S3(UnitItemInSlotBJ(u, 4) != null , GetItemName(UnitItemInSlotBJ(u, 4)) , "Á©∫") + "|cff00ccff(4)|r", '4'))
	    call SaveButtonHandle(LHTable, GetHandleId(d), 5, DialogAddButton(d, S3(UnitItemInSlotBJ(u, 5) != null , GetItemName(UnitItemInSlotBJ(u, 5)) , "Á©∫") + "|cff00ccff(5)|r", '5'))
	    call SaveButtonHandle(LHTable, GetHandleId(d), 6, DialogAddButton(d, S3(UnitItemInSlotBJ(u, 6) != null , GetItemName(UnitItemInSlotBJ(u, 6)) , "Á©∫") + "|cff00ccff(6)|r", '6'))
	    call SaveButtonHandle(LHTable, GetHandleId(d), 7, DialogAddButton(d, "‰∏ç‰º†ÈÄÅ|cff00ccff(Esc)|r", 512))

        call SaveUnitHandle(LHTable, GetHandleId(d), 8, u)
        call DialogDisplay(GetOwningPlayer(u), d, true)
        call TriggerRegisterDialogEvent(t, d)
        call TriggerAddAction(t, function ItemSpell__GetHeroItemClick)

        set d=null
        set t=null
        set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemSpell__Dianjin takes nothing returns nothing
  local integer i= GetHeroLevel(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
	    if ( ( RectContainsUnit(gg_rct______________084, GetSpellTargetUnit()) == true ) ) then
	        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰∏çËÉΩÂØπÁÇºÁã±ÁöÑÊÄ™‰ΩøÁî®„ÄÇ")
	        return
	    endif
	    if ( IsLoyalUnit(GetSpellTargetUnit()) ) then
	        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰∏çËÉΩÂØπÂø†ËØöÂçï‰Ωç‰ΩøÁî®„ÄÇ")
	        return
	    endif
	    if ( i >= GetUnitLevel(GetSpellTargetUnit()) ) then
	        call SetUnitLifeBJ(GetSpellTargetUnit(), 5.00)
	        call UnitDamageTarget(GetTriggerUnit(), GetSpellTargetUnit(), GetUnitState(GetSpellTargetUnit(), UNIT_STATE_MAX_LIFE) * 10, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
	        call AdjustPlayerStateBJ(( GetHeroLevel(GetTriggerUnit()) * 100 ), GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
	        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit())))
	    	call CreateSpellTextTag("+" + I2S(( GetHeroLevel(GetTriggerUnit()) * 100 )) , GetSpellTargetUnit() , 100 , 100 , 0 , 2)
	    else
	        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰Ω†ÁöÑËã±ÈõÑÈúÄË¶Å" + ( I2S(GetUnitLevel(GetSpellTargetUnit())) + "Á∫ßÊâçËÉΩÂ∞ÜËØ•Âçï‰ΩçÁõ¥Êé•ÂèòÊàêÈáëÂ∏Å„ÄÇ" ) ))
	    endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
    function DamageAreaPercent takes unit attacker,real x,real y,real radius,real percent returns nothing
        local group l_group= CreateGroup()
        local unit l_unit
        call GroupEnumUnitsInRange(l_group, x, y, radius, null)
        loop
            set l_unit=FirstOfGroup(l_group)
            exitwhen l_unit == null
            call GroupRemoveUnit(l_group, l_unit)
            if ( IsEnemy(l_unit , attacker) ) then
                call UnitDamageTarget(attacker, l_unit, GetUnitState(l_unit, UNIT_STATE_MAX_LIFE) * percent, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            endif
        endloop
        call DestroyGroup(l_group)
        set l_group=null
        set l_unit=null
    endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemSpell__AddAttr10SecondTimer takes nothing returns nothing
  local timer t= GetExpiredTimer()
  local integer id= GetHandleId(t)
  local player p= LoadPlayerHandle(spellTable, id, 1)
		call AddStrPercentImme(GetConvertedPlayerId(p) , - 0.5)
		call AddAgiPercentImme(GetConvertedPlayerId(p) , - 0.5)
		call AddIntPercentImme(GetConvertedPlayerId(p) , - 0.5)
		call AddDefensePercent(GetConvertedPlayerId(p) , - 1.)
		set BYaoShuxing[GetConvertedPlayerId(p)]=false
		call PauseTimer(t)
		call FlushChildHashtable(spellTable, id)
		call DestroyTimer(t)
		set p=null
		set t=null
	endfunction

 function ItemSpell__AddAttr10Second takes unit u returns nothing
  local timer t= CreateTimer()
		call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.5)
		call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.5)
		call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(u)) , 0.5)
		call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(u)) , 1.)
		set BYaoShuxing[GetConvertedPlayerId(GetOwningPlayer(u))]=true
		call SavePlayerHandle(spellTable, GetHandleId(t), 1, GetOwningPlayer(u))
		call TimerStart(t, 20, false, function ItemSpell__AddAttr10SecondTimer)
		set t=null
		call PolledWait(20)
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Qinghanqianli takes nothing returns nothing
  local integer i= 1
  local real x= GetUnitX(GetSpellAbilityUnit())
  local real y= GetUnitY(GetSpellAbilityUnit())
		call DestroyEffect(AddSpecialEffect("war3mapImported\\IceStomp.mdx", x, y))
		loop
			exitwhen i > 6
			call DestroyEffect(AddSpecialEffect("war3mapImported\\IceStomp.mdx", YDWECoordinateX(x + 900 * CosBJ(i * 60)), YDWECoordinateY(y + 900 * SinBJ(i * 60))))
			set i=i + 1
		endloop
 		call SimulateSpell(GetSpellAbilityUnit() , GetSpellAbilityUnit() , 'A0BI' , 5 , 6 , "stomp" , false , true , false)
 		
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemSpell__ItemSpellJudge takes nothing returns nothing
		//ËΩ¨ÁßªÁâ©ÂìÅ
		if ( ( GetSpellAbilityId() == 'A0GT' ) and ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] != udg_U_Zhuansheng_Dantiao[1] ) ) then
			call ItemSpell__TransferItemAct()
		//‰ªìÂ∫ìÂõûÂüé
		elseif ( ( GetSpellAbilityId() == 'A0L0' ) ) then
			call HG(UDepot[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
		//Âà∞Ëã±ÈõÑË∫´Ëæπ
		elseif ( ( GetSpellAbilityId() == 'A0L3' ) and ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] != udg_U_Zhuansheng_Dantiao[1] ) ) then
			call SetUnitX(GetTriggerUnit(), GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
			call SetUnitY(GetTriggerUnit(), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
		//ÊãøË£ÖÂ§á
		elseif ( ( GetSpellAbilityId() == 'A0KZ' ) and ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] != udg_U_Zhuansheng_Dantiao[1] ) ) then
			call ItemSpell__GetHeroItemAct()
		//ÁÇπÈáë
		elseif ( GetSpellAbilityId() == 'A073' ) then
			call ItemSpell__Dianjin()
		elseif ( GetSpellAbilityId() == 'A0KQ' ) then
			//„ÄêÂú∞Áã±„ÄëÁêÖÁéïÁªòËùâËúï
 			call SimulateSpell(GetSpellAbilityUnit() , GetSpellTargetUnit() , 'A0KP' , 1 , 5 , "faeriefire" , false , false , true)
 			call SimulateSpell(GetSpellAbilityUnit() , GetSpellTargetUnit() , 'A0KP' , 1 , 5 , "faeriefire" , false , false , true)
 			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit())))
		elseif ( GetSpellAbilityId() == 'A0KW' ) then
			call Qinghanqianli()
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemSpell__ItemSpellUseJudge takes nothing returns nothing
		if ( GetItemTypeId(GetManipulatedItem()) == 'I05T' ) then
			//ÂπΩÂÜ•È°πÈìæ-Âáå
			if ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , 1.)
				call PolledWait(4)
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , - 1.)
			else
				call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•ÊäÄËÉΩÈúÄË¶Å‰∏ªËã±ÈõÑÊñΩÊîæ.")
			endif
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I04Y' ) then
			//ÂπΩÂÜ•È°πÈìæ-‰∫°
			if ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , 1.)
				call PolledWait(8)
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				call AddDamagePercent(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , - 1.)
				call KillSelf(GetTriggerUnit())
			else
				call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•ÊäÄËÉΩÈúÄË¶Å‰∏ªËã±ÈõÑÊñΩÊîæ.")
			endif
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05Y' ) then
			//Âä†Èò≤Âæ°
			if ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , 1.)
				call PolledWait(10)
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				call AddDefensePercent(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , - 1.)
			else
				call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•ÊäÄËÉΩÈúÄË¶Å‰∏ªËã±ÈõÑÊñΩÊîæ.")
			endif

		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05Z' ) then
			//Âä†Â±ûÊÄß
			if ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , 0.5)
				call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , 0.5)
				call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , 0.5)
				call PolledWait(10)
				call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
				call AddStrPercentImme(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , - 0.5)
				call AddAgiPercentImme(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , - 0.5)
				call AddIntPercentImme(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , - 0.5)
			else
				call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•ÊäÄËÉΩÈúÄË¶Å‰∏ªËã±ÈõÑÊñΩÊîæ.")
			endif

		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I060' ) then
			//Âä†Â±ûÊÄß
			if ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
				call ImmuteDamageInterval(GetTriggerUnit() , 5)
				call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
			else
				call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•ÊäÄËÉΩÈúÄË¶Å‰∏ªËã±ÈõÑÊñΩÊîæ.")
			endif
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I05V' and GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
			//ÊàíÊåá
			call UnitApplyTimedLifeBJ(3.00, 'BHwe', CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'h01N', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetRandomReal(0, 360)))
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'sres' ) then
			//„ÄêÂú∞Áã±„ÄëÁ∫ØÁ≤πÁöÑÂ§©Ëµã
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
			call AllowTianfu()
			call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ§©ËµãÊäÄËÉΩÂæóÂà∞‰∫ÜÊöÇÊó∂ÊÄßÁöÑËß£Á¶Å.")
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I06A' ) then
			//„ÄêÂú∞Áã±„ÄëÈúìË£≥‰πã‰π±Ëàû
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
			if not ( BYaoShuxing[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) then
				call ItemSpell__AddAttr10Second(GetTriggerUnit())
			else
				call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Â§Ñ‰∫éÂ±ûÊÄßÂ¢ûÂä†Áä∂ÊÄÅ,‰ΩøÁî®Â§±Ë¥•!")
			endif
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I06B' ) then
			//„ÄêÂú∞Áã±„ÄëÈ≠ÑÈúú‰∏éÊµÅÊô∂
			call ImmuteDamageInterval(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] , 5)
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I06C' ) then
			//„ÄêÂú∞Áã±„ÄëÂ§©Âú∞ÂÖ±ÁíéÁèû
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
			set udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + ( 16000 - udg_RENSHU * 1000 ) )
    		call MultiboardSetItemValueBJ(udg_D, 5, ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1 ), I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
    		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑÁßØÂàÜÊàêÂäüÂ¢ûÂä†" + I2S(16500 - udg_RENSHU * 1500))
    	elseif ( GetItemTypeId(GetManipulatedItem()) == 'I06O' ) then
			//„ÄêÂú∞Áã±„ÄëÂëΩËøêÊó†Êû∑ÈîÅ
			call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
			set BGongxiang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
    		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëËß£ÈîÅÂØπÂ§ñÁîüÂëΩËøûÁªì!|r")
    		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëËß£ÈîÅÂØπÂ§ñÁîüÂëΩËøûÁªì!|r")
    		call PolledWait(30)
			set BGongxiang[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
    		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëÊÅ¢Â§çÁîüÂëΩËøûÁªì!|r")
    		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cffff0000„ÄêÊ∂àÊÅØ„ÄëÊÅ¢Â§çÁîüÂëΩËøûÁªì!|r")
    	//ÂºÄÁÆ±Â≠ê
   elseif ( GetItemTypeId(GetManipulatedItem()) == 'I06N' ) then
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
    call RemoveItem(GetManipulatedItem())
    call GiveJianianhuaGift(GetOwningPlayer(GetTriggerUnit()))
    call CreateLoginDialog(GetOwningPlayer(GetTriggerUnit()))
		endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
	//Âçï‰Ωì
 function ItemSpell__ShenAttackEffectDan takes unit u1,unit u2,real damage,string eff,string name,integer red,integer yellow,integer blue returns nothing
        call UnitDamageTarget(u1, u2, damage, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        call DestroyEffect(AddSpecialEffect(eff, GetUnitX(u2), GetUnitY(u2)))
	    call CreateSpellTextTag(name , u1 , red , yellow , blue , 2)
	endfunction
	//Â§ö‰Ωì
 function ItemSpell__ShenAttackEffectDuo takes unit u1,unit u2,real damage,string eff,string name,integer red,integer yellow,integer blue returns nothing
		call DamageAreaEff(u1 , GetUnitX(u2) , GetUnitY(u2) , 400 , damage , eff)
	    call CreateSpellTextTag(name , u1 , red , yellow , blue , 2)
	endfunction
	//‰º§ÂÆ≥ÂºïÂØº
 function ItemSpell__ShenAttackEffect takes unit u1,unit u2,integer itemID,boolean dan,real damage,string eff,string name,integer red,integer yellow,integer blue returns boolean
		if ( UnitHasItemOfTypeBJ(u1, itemID) ) then
			if ( dan ) then
				call ItemSpell__ShenAttackEffectDan(u1 , u2 , damage , eff , name , red , yellow , blue)
			else
				if ( itemID == 'ICS1' ) then
					call DamageAreaPercent(u1 , GetUnitX(u2) , GetUnitY(u2) , 400 , 0.01)
				endif
				if ( itemID == 'I04W' ) then
					call ItemSpell__ShenAttackEffectDuo(u1 , u2 , damage * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(u1))] , eff , name , red , yellow , blue)
				else
					call ItemSpell__ShenAttackEffectDuo(u1 , u2 , damage , eff , name , red , yellow , blue)
				endif
			endif
			return true
		endif
		return false
	endfunction


//---------------------------------------------------------------------------------------------------
	
 function ItemSpell__TShenAttackCon takes nothing returns boolean
		 return ( ( GetRandomInt(1, 20) == 1 ) and ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_MAGIC_IMMUNE) != true ) and ( GetAttackedUnitBJ() != gg_unit_haro_0030 ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetPlayerController(GetOwningPlayer(GetAttacker())) == MAP_CONTROL_USER ) and ( IsUnitType(GetAttacker(), UNIT_TYPE_HERO) == true ) )
	endfunction
	
 function ItemSpell__TShenAttackAct takes nothing returns nothing

		 if ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'ICS1' , false , 500000000 , "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" , "ÂÖ≠ÂÖÉÂπΩÂÜ•-Ë¥Ø" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'I04W' , false , 400000000 , "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" , "ÂÖ≠ÂÖÉÂπΩÂÜ•-Ë¢≠" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'tlum' , false , 400000000 , "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" , "ÂÖ≠ÂÖÉÂπΩÂÜ•" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'tbar' , false , 110000000 , "Objects\\Spawnmodels\\Undead\\UDeathSmall\\UDeathSmall.mdl" , "ÁÇΩÁÑ±ÁàÜÂÜ∞" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'ccmd' , true , 80000000 , "Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl" , "Â§©Â§ñÈõ∑Êòü" , 100 , 0 , 100) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'iwbr' , false , 80000000 , "Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl" , "È©±ÊùÄ‰πãÂÖâ" , 100 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'shtm' , false , 35000000 , "Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" , "ÁÇΩÁÑ∞ÊÄíÁÅº" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'shcw' , false , 35000000 , "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" , "Êµ∑Ê¥ãÂî§ÁÅ≠" , 80 , 20 , 100) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'shhn' , false , 35000000 , "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl" , "Á•ûÁΩö‰πãÂÖâ" , 0 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'flag' , true , 35000000 , "Abilities\\Spells\\Items\\AIso\\AIsoTarget.mdl" , "È¨ºÈ≠Ç‰πãÊâã" , 0 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'srtl' , true , 35000000 , "war3mapImported\\OrbitalRay.mdl" , "Èõ∑ÈúÜ‰πãÊÄí" , 100 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'olig' , true , 35000000 , "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl" , "Èô®ËêΩÊòüÈõ®" , 100 , 20 , 30) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'kgal' , false , 25000000 , "Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" , "ÁÇΩÁÑ∞ÊÄíÁÅº" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'jdrn' , false , 25000000 , "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" , "Êµ∑Ê¥ãÂî§ÁÅ≠" , 80 , 20 , 100) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'cosl' , false , 25000000 , "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl" , "Á•ûÁΩö‰πãÂÖâ" , 0 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'grsl' , true , 25000000 , "Abilities\\Spells\\Items\\AIso\\AIsoTarget.mdl" , "È¨ºÈ≠Ç‰πãÊâã" , 0 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'arsh' , true , 25000000 , "war3mapImported\\OrbitalRay.mdl" , "Èõ∑ÈúÜ‰πãÊÄí" , 100 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'brag' , true , 25000000 , "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl" , "Èô®ËêΩÊòüÈõ®" , 100 , 20 , 30) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'shrs' , false , 15000000 , "Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" , "ÁÇΩÁÑ∞ÊÄíÁÅº" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'pams' , false , 15000000 , "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" , "Êµ∑Ê¥ãÂî§ÁÅ≠" , 80 , 20 , 100) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'blba' , false , 15000000 , "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl" , "Á•ûÁΩö‰πãÂÖâ" , 0 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'oslo' , true , 15000000 , "Abilities\\Spells\\Items\\AIso\\AIsoTarget.mdl" , "È¨ºÈ≠Ç‰πãÊâã" , 0 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'thdm' , true , 15000000 , "war3mapImported\\OrbitalRay.mdl" , "Èõ∑ÈúÜ‰πãÊÄí" , 100 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'tmmt' , true , 15000000 , "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl" , "Èô®ËêΩÊòüÈõ®" , 100 , 20 , 30) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'stre' , false , 8000000 , "Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" , "ÁÇΩÁÑ∞ÊÄíÁÅº" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'rat3' , false , 8000000 , "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" , "Êµ∑Ê¥ãÂî§ÁÅ≠" , 80 , 20 , 100) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'ocor' , false , 8000000 , "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl" , "Á•ûÁΩö‰πãÂÖâ" , 0 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'sksh' , true , 8000000 , "Abilities\\Spells\\Items\\AIso\\AIsoTarget.mdl" , "È¨ºÈ≠Ç‰πãÊâã" , 0 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'lure' , true , 8000000 , "war3mapImported\\OrbitalRay.mdl" , "Èõ∑ÈúÜ‰πãÊÄí" , 100 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'rots' , true , 8000000 , "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl" , "Èô®ËêΩÊòüÈõ®" , 100 , 20 , 30) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'ram3' , false , 5000000 , "Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" , "ÁÇΩÁÑ∞ÊÄíÁÅº" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'ram4' , false , 5000000 , "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" , "Êµ∑Ê¥ãÂî§ÁÅ≠" , 80 , 20 , 100) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'asbl' , false , 5000000 , "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl" , "Á•ûÁΩö‰πãÂÖâ" , 0 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'esaz' , true , 5000000 , "Abilities\\Spells\\Items\\AIso\\AIsoTarget.mdl" , "È¨ºÈ≠Ç‰πãÊâã" , 0 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'ram2' , true , 5000000 , "war3mapImported\\OrbitalRay.mdl" , "Èõ∑ÈúÜ‰πãÊÄí" , 100 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'ram1' , true , 5000000 , "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl" , "Èô®ËêΩÊòüÈõ®" , 100 , 20 , 30) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'uflg' , false , 2000000 , "Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" , "ÁÇΩÁÑ∞ÊÄíÁÅº" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'fwss' , false , 2000000 , "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" , "Êµ∑Ê¥ãÂî§ÁÅ≠" , 80 , 20 , 100) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'spre' , false , 2000000 , "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl" , "Á•ûÁΩö‰πãÂÖâ" , 0 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'nflg' , true , 2000000 , "Abilities\\Spells\\Items\\AIso\\AIsoTarget.mdl" , "È¨ºÈ≠Ç‰πãÊâã" , 0 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'tgxp' , true , 2000000 , "war3mapImported\\OrbitalRay.mdl" , "Èõ∑ÈúÜ‰πãÊÄí" , 100 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'dust' , true , 2000000 , "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl" , "Èô®ËêΩÊòüÈõ®" , 100 , 20 , 30) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'I050' , false , 300000 , "Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" , "ÁÇΩÁÑ∞ÊÄíÁÅº" , 100 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'I057' , false , 300000 , "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" , "Êµ∑Ê¥ãÂî§ÁÅ≠" , 80 , 20 , 100) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'I056' , false , 300000 , "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl" , "Á•ûÁΩö‰πãÂÖâ" , 0 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'I04Z' , true , 300000 , "Abilities\\Spells\\Items\\AIso\\AIsoTarget.mdl" , "È¨ºÈ≠Ç‰πãÊâã" , 0 , 0 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'I055' , true , 300000 , "war3mapImported\\OrbitalRay.mdl" , "Èõ∑ÈúÜ‰πãÊÄí" , 100 , 100 , 0) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'I03Y' , true , 300000 , "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl" , "Èô®ËêΩÊòüÈõ®" , 100 , 20 , 30) ) then
		 	return
		 elseif ( ItemSpell__ShenAttackEffect(GetAttacker() , GetAttackedUnitBJ() , 'I03E' , false , 100000 , "Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" , "ÁÇéÁàÜ" , 100 , 0 , 0) ) then
		 	return
		 endif
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function ItemSpell__TDengAttackCon takes nothing returns boolean
		return ( GetRandomInt(1, 20) == 1 ) and ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_MAGIC_IMMUNE) != true ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetPlayerController(GetOwningPlayer(GetAttacker())) == MAP_CONTROL_USER ) and IsUnitType(GetAttacker(), UNIT_TYPE_HERO) and GetDeng(GetAttacker()) >= 7
	endfunction

 function ItemSpell__TDengAttackAct takes nothing returns nothing
  local real x1= GetUnitX(GetAttacker())
  local real y1= GetUnitY(GetAttacker())
  local real x2= GetUnitX(GetAttackedUnitBJ())
  local real y2= GetUnitY(GetAttackedUnitBJ())
        local unit u= CreateUnit(GetOwningPlayer(GetAttacker()), 'h000', x1, y1, Atan2BJ(y2 - y1, x2 - x1))
        call UnitApplyTimedLifeBJ(3.00, 'BHwe', u)
        call UnitAddAbilityBJ('A0HP', u)
        call SetUnitAbilityLevel(u, 'A0HP', GetDeng(GetAttacker()) - 6)
        call IssuePointOrder(u, "carrionswarm", x2, y2)
	    call CreateSpellTextTag("Ë¥ØÂ§©ÁÖß‰∏ñÊû™" , GetAttacker() , 0 , 100 , 50 , 2)
	    set u=null
	endfunction
//---------------------------------------------------------------------------------------------------
	
 function SimulateDamageItem takes unit u returns boolean
		if ( GetUnitTypeId(u) == 'h01P' ) then
			call UnitDamageTarget(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], GetTriggerUnit(), 200000000, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		if ( GetUnitTypeId(u) == 'h01N' ) then
			call UnitDamageTarget(udg_H[GetConvertedPlayerId(GetOwningPlayer(u))], GetTriggerUnit(), 500000000, false, true, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			return true
		endif
		if ( GetUnitTypeId(u) == 'h01R' ) then
			call DisableTrigger(GetTriggeringTrigger())
			if ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_MAGIC_IMMUNE) ) then
				call UnitDamageTarget(u, GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * 2, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			else
				call UnitDamageTarget(u, GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * 0.1, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
			endif
			call EnableTrigger(GetTriggeringTrigger())
			return true
		endif

		return false
	endfunction
//---------------------------------------------------------------------------------------------------
 function ItemSpell__InitItemSpell takes nothing returns nothing
		//Áâ©ÂìÅÊäÄËÉΩËß¶Âèë
  local trigger t= CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
		call TriggerAddAction(t, function ItemSpell__ItemSpellJudge)

		//‰ΩøÁî®Áâ©ÂìÅ
		set t=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_USE_ITEM)
		call TriggerAddAction(t, function ItemSpell__ItemSpellUseJudge)

		//Ë∂ÖÁ•ûÂô®ÁöÑ
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(t, Condition(function ItemSpell__TShenAttackCon))
	    call TriggerAddAction(t, function ItemSpell__TShenAttackAct)

		//ÁÅØÁöÑÊîªÂáªË¢´Âä®
	    set t=CreateTrigger()
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	    call TriggerAddCondition(t, Condition(function ItemSpell__TDengAttackCon))
	    call TriggerAddAction(t, function ItemSpell__TDengAttackAct)

		set t=null
	endfunction


//library ItemSpell ends
//library Simulate:
	
//---------------------------------------------------------------------------------------------------
	
 function Simulate__SimulateDamageCon takes nothing returns boolean
		return ( GetEventDamage() > 0 ) and ( IsUnitIllusion(GetEventDamageSource()) == false )
	endfunction

 function SimulateAllDamage takes unit u returns nothing
		if ( SimulateDamageHeiyan(u) ) then
			return
		elseif ( SimulateDamageYanmie(u) ) then
			return
		elseif ( SimulateDamageHuanyi(u) ) then
			return
		elseif ( SimulateDamageMengji(u) ) then
			return
		elseif ( SimulateDamageCangling(u) ) then
			return
		elseif ( SimulateDamageSheyan(u) ) then
			return
		elseif ( SimulateDamageSoldier(u) ) then
			return
		elseif ( SimulateDamageItem(u) ) then
			return
		elseif ( SimulateDamageMiniGame(u) ) then
			return
		elseif ( SimulateDamageBoss(u) ) then
			return
		endif

	endfunction
//---------------------------------------------------------------------------------------------------
	
 function Simulate__SimulateAllDeath takes nothing returns nothing
		call SimulateDeathYanmie(GetDyingUnit())
		call SimulateDeathHeiyan(GetDyingUnit())
		call SimulateDeathHuanyi(GetDyingUnit())
		call SimulateDeathSichen(GetDyingUnit())
		call SimulateDeathXinglong(GetDyingUnit())
	endfunction
//---------------------------------------------------------------------------------------------------

 function Simulate__InitSimulate takes nothing returns nothing
		
     local trigger t= CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
		call TriggerAddAction(t, function Simulate__SimulateAllDeath)
		set t=null
	endfunction


//library Simulate ends
//===========================================================================
// 
// ËΩÆÂõû‰πãÁã± - v3.316ÂòâÂπ¥ÂçéÊ¥ªÂä®Áâà
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Tue Aug 08 04:13:48 2017
//   Map Author: Crainax(ÊóßÂêçLaser)
// 
//===========================================================================
//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************
function InitGlobals takes nothing returns nothing
    local integer i= 0
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_I_Jingyan[i]=1.00
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 10 )
        set udg_T1[i]=false
        set i=i + 1
    endloop
    set udg_RENSHU=0
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_Lianyu_Group[i]=CreateGroup()
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_I_Jinengjiacheng[i]=1.00
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 10 )
        set udg_T2[i]=false
        set i=i + 1
    endloop
    set udg_X_Nandu=DialogCreate()
    set i=0
    loop
        exitwhen ( i > 99 )
        set udg_Time_Start[i]=CreateTimer()
        set i=i + 1
    endloop
    set udg_Nandu=0
    set udg_Nandu_JJJ=0
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_I_Jinqianhuodelv[i]=1.00
        set i=i + 1
    endloop
    set udg_Group=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_Paihangbang[i]=0
        set i=i + 1
    endloop
    set udg_I_suijizhengshu=0
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_Z[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_I_Lianyu[i]=1
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_Lianyu_Unit[i]='nspr'
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_Zhandouli[i]=80
        set i=i + 1
    endloop
    set udg_Y=0
    set udg_Bo=0
    set i=0
    loop
        exitwhen ( i > 3 )
        set udg_Yeguai_I[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_I_Shanghai[i]=1.00
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_Yifu[i]=false
        set i=i + 1
    endloop
    set udg_HEla=""
    set udg_Jishi_Baihu=10
    set udg_Time_BOSS=CreateTimer()
    set i=0
    loop
        exitwhen ( i > 2 )
        set udg_Group_Meihuo[i]=CreateGroup()
        set i=i + 1
    endloop
    set udg_Zhishaodiaoyike=0
    set udg_I_Xuli=0
    set i=0
    loop
        exitwhen ( i > 2 )
        set udg_Double_M[i]=CreateTimer()
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 5 )
        set udg_I_Er_diansi[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_I_Lang[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 19 )
        set udg_I_Tan[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_Time_Tan[i]=CreateTimer()
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 36 )
        set udg_I_Xianglian[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 87 )
        set udg_Laser[i]=0
        set i=i + 1
    endloop
    set udg_I_Leitai=0
    set i=0
    loop
        exitwhen ( i > 2 )
        set udg_I_Leitai_Blood[i]=0
        set i=i + 1
    endloop
    set udg_I_Lianhuan_Shanghai=0
    set i=0
    loop
        exitwhen ( i > 2 )
        set udg_I_Lianhuan[i]=0
        set i=i + 1
    endloop
    set udg_J=0
    set udg_Jiansheng=3
    set udg_J_Po=0
    set i=0
    loop
        exitwhen ( i > 8 )
        set udg_Mi[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 7 )
        set udg_I_Qixing[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 2 )
        set udg_Second[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 80 )
        set udg_TianTing_Zengyi[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_gold[i]=0
        set i=i + 1
    endloop
    set udg_IWang=0
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_Lianyu_I[i]=1
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 6 )
        set udg_HuangZhiluanwu[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_IXianlu[i]=false
        set i=i + 1
    endloop
endfunction
//***************************************************************************
//*
//*  Unit Item Tables
//*
//***************************************************************************
function Unit000205_DropItems takes nothing returns nothing
    local widget trigWidget= null
    local unit trigUnit= null
    local integer itemID= 0
    local boolean canDrop= true
    set trigWidget=bj_lastDyingWidget
    if ( trigWidget == null ) then
        set trigUnit=GetTriggerUnit()
    endif
    if ( trigUnit != null ) then
        set canDrop=not IsUnitHidden(trigUnit)
        if ( canDrop and GetChangingUnit() != null ) then
            set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
        endif
    endif
    if ( canDrop ) then
        // Item set 0
        call RandomDistReset()
        call RandomDistAddItem('pomn', 100)
        set itemID=RandomDistChoose()
        if ( trigUnit != null ) then
            call UnitDropItem(trigUnit, itemID)
        else
            call WidgetDropItem(trigWidget, itemID)
        endif
    endif
    set bj_lastDyingWidget=null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction
//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************
function InitSounds takes nothing returns nothing
    set gg_snd_Renwu=CreateSound("Sound\\Interface\\QuestActivateWhat1.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_Renwu, "QuestLogModified")
    call SetSoundDuration(gg_snd_Renwu, 539)
    set gg_snd_GoodJob=CreateSound("Sound\\Interface\\GoodJob.wav", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(gg_snd_GoodJob, "GoodJob")
    call SetSoundDuration(gg_snd_GoodJob, 2548)
    set gg_snd_Shibai=CreateSound("Sound\\Interface\\CreepAggroWhat1.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_Shibai, "CreepAggro")
    call SetSoundDuration(gg_snd_Shibai, 1236)
    set gg_snd_Baodiao=CreateSound("Sound\\Interface\\BattleNetDoorsStereo2.wav", false, false, false, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(gg_snd_Baodiao, "GlueScreenBNetSlam")
    call SetSoundDuration(gg_snd_Baodiao, 2646)
    set gg_snd_Chenggong=CreateSound("war3mapImported\\v_baoshi.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Chenggong, 772)
    call SetSoundChannel(gg_snd_Chenggong, 0)
    call SetSoundVolume(gg_snd_Chenggong, 127)
    call SetSoundPitch(gg_snd_Chenggong, 1.0)
    set gg_snd_bajue_5=CreateSound("war3mapImported\\bajue_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_bajue_5, 743)
    call SetSoundChannel(gg_snd_bajue_5, 0)
    call SetSoundVolume(gg_snd_bajue_5, 127)
    call SetSoundPitch(gg_snd_bajue_5, 1.0)
    set gg_snd_boss_lai=CreateSound("war3mapImported\\boss_lai.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_boss_lai, 1160)
    call SetSoundChannel(gg_snd_boss_lai, 0)
    call SetSoundVolume(gg_snd_boss_lai, 127)
    call SetSoundPitch(gg_snd_boss_lai, 1.0)
    set gg_snd_cangling_5=CreateSound("war3mapImported\\cangling_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_cangling_5, 1772)
    call SetSoundChannel(gg_snd_cangling_5, 0)
    call SetSoundVolume(gg_snd_cangling_5, 127)
    call SetSoundPitch(gg_snd_cangling_5, 1.0)
    set gg_snd_chenji_max=CreateSound("war3mapImported\\chenji_max.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_chenji_max, 3429)
    call SetSoundChannel(gg_snd_chenji_max, 0)
    call SetSoundVolume(gg_snd_chenji_max, 127)
    call SetSoundPitch(gg_snd_chenji_max, 1.0)
    set gg_snd_f_baoshi=CreateSound("war3mapImported\\f_baoshi.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_f_baoshi, 698)
    call SetSoundChannel(gg_snd_f_baoshi, 0)
    call SetSoundVolume(gg_snd_f_baoshi, 127)
    call SetSoundPitch(gg_snd_f_baoshi, 1.0)
    set gg_snd_hanshang_5=CreateSound("war3mapImported\\hanshang_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_hanshang_5, 1534)
    call SetSoundChannel(gg_snd_hanshang_5, 0)
    call SetSoundVolume(gg_snd_hanshang_5, 127)
    call SetSoundPitch(gg_snd_hanshang_5, 1.0)
    set gg_snd_hecheng_shenqi=CreateSound("war3mapImported\\hecheng_shenqi.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_hecheng_shenqi, 1802)
    call SetSoundChannel(gg_snd_hecheng_shenqi, 0)
    call SetSoundVolume(gg_snd_hecheng_shenqi, 127)
    call SetSoundPitch(gg_snd_hecheng_shenqi, 1.0)
    set gg_snd_heiyan_5=CreateSound("war3mapImported\\heiyan_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_heiyan_5, 1205)
    call SetSoundChannel(gg_snd_heiyan_5, 0)
    call SetSoundVolume(gg_snd_heiyan_5, 127)
    call SetSoundPitch(gg_snd_heiyan_5, 1.0)
    set gg_snd_huanyi_5=CreateSound("war3mapImported\\huanyi_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_huanyi_5, 1772)
    call SetSoundChannel(gg_snd_huanyi_5, 0)
    call SetSoundVolume(gg_snd_huanyi_5, 127)
    call SetSoundPitch(gg_snd_huanyi_5, 1.0)
    set gg_snd_jidibeida=CreateSound("war3mapImported\\jidibeida.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_jidibeida, 1116)
    call SetSoundChannel(gg_snd_jidibeida, 0)
    call SetSoundVolume(gg_snd_jidibeida, 80)
    call SetSoundPitch(gg_snd_jidibeida, 1.0)
    set gg_snd_kaisa_5=CreateSound("war3mapImported\\kaisa_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_kaisa_5, 5250)
    call SetSoundChannel(gg_snd_kaisa_5, 0)
    call SetSoundVolume(gg_snd_kaisa_5, 127)
    call SetSoundPitch(gg_snd_kaisa_5, 1.0)
    set gg_snd_kill_boss=CreateSound("war3mapImported\\kill_boss.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_kill_boss, 2519)
    call SetSoundChannel(gg_snd_kill_boss, 0)
    call SetSoundVolume(gg_snd_kill_boss, 127)
    call SetSoundPitch(gg_snd_kill_boss, 1.0)
    set gg_snd_lingxue_4=CreateSound("war3mapImported\\lingxue_4.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_lingxue_4, 1758)
    call SetSoundChannel(gg_snd_lingxue_4, 0)
    call SetSoundVolume(gg_snd_lingxue_4, 127)
    call SetSoundPitch(gg_snd_lingxue_4, 1.0)
    set gg_snd_mengji_4=CreateSound("war3mapImported\\mengji_4.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_mengji_4, 1041)
    call SetSoundChannel(gg_snd_mengji_4, 0)
    call SetSoundVolume(gg_snd_mengji_4, 127)
    call SetSoundPitch(gg_snd_mengji_4, 1.0)
    set gg_snd_lingxue_5=CreateSound("war3mapImported\\lingxue_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_lingxue_5, 1981)
    call SetSoundChannel(gg_snd_lingxue_5, 0)
    call SetSoundVolume(gg_snd_lingxue_5, 127)
    call SetSoundPitch(gg_snd_lingxue_5, 1.0)
    set gg_snd_mengji_5=CreateSound("war3mapImported\\mengji_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_mengji_5, 1937)
    call SetSoundChannel(gg_snd_mengji_5, 0)
    call SetSoundVolume(gg_snd_mengji_5, 127)
    call SetSoundPitch(gg_snd_mengji_5, 1.0)
    set gg_snd_moqi_5=CreateSound("war3mapImported\\moqi_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_moqi_5, 638)
    call SetSoundChannel(gg_snd_moqi_5, 0)
    call SetSoundVolume(gg_snd_moqi_5, 127)
    call SetSoundPitch(gg_snd_moqi_5, 1.0)
    set gg_snd_seyu_4=CreateSound("war3mapImported\\seyu_4.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_seyu_4, 1026)
    call SetSoundChannel(gg_snd_seyu_4, 0)
    call SetSoundVolume(gg_snd_seyu_4, 50)
    call SetSoundPitch(gg_snd_seyu_4, 1.0)
    set gg_snd_seyu_5=CreateSound("war3mapImported\\seyu_5.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(gg_snd_seyu_5, 1414)
    call SetSoundChannel(gg_snd_seyu_5, 0)
    call SetSoundVolume(gg_snd_seyu_5, 50)
    call SetSoundPitch(gg_snd_seyu_5, 1.0)
    set gg_snd_sheyan_4=CreateSound("war3mapImported\\sheyan_4.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_sheyan_4, 1713)
    call SetSoundChannel(gg_snd_sheyan_4, 0)
    call SetSoundVolume(gg_snd_sheyan_4, 127)
    call SetSoundPitch(gg_snd_sheyan_4, 1.0)
    set gg_snd_sheyan_5=CreateSound("war3mapImported\\sheyan_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_sheyan_5, 2504)
    call SetSoundChannel(gg_snd_sheyan_5, 0)
    call SetSoundVolume(gg_snd_sheyan_5, 127)
    call SetSoundPitch(gg_snd_sheyan_5, 1.0)
    set gg_snd_sichen_4=CreateSound("war3mapImported\\sichen_4.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_sichen_4, 951)
    call SetSoundChannel(gg_snd_sichen_4, 0)
    call SetSoundVolume(gg_snd_sichen_4, 127)
    call SetSoundPitch(gg_snd_sichen_4, 1.0)
    set gg_snd_taiya_5=CreateSound("war3mapImported\\taiya_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_taiya_5, 2161)
    call SetSoundChannel(gg_snd_taiya_5, 0)
    call SetSoundVolume(gg_snd_taiya_5, 127)
    call SetSoundPitch(gg_snd_taiya_5, 1.0)
    set gg_snd_v_leitai=CreateSound("war3mapImported\\v_leitai.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_v_leitai, 1384)
    call SetSoundChannel(gg_snd_v_leitai, 0)
    call SetSoundVolume(gg_snd_v_leitai, 127)
    call SetSoundPitch(gg_snd_v_leitai, 1.0)
    set gg_snd_v_mijing=CreateSound("war3mapImported\\v_mijing.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_v_mijing, 1011)
    call SetSoundChannel(gg_snd_v_mijing, 0)
    call SetSoundVolume(gg_snd_v_mijing, 127)
    call SetSoundPitch(gg_snd_v_mijing, 1.0)
    set gg_snd_v_zhuansheng=CreateSound("war3mapImported\\v_zhuansheng.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_v_zhuansheng, 981)
    call SetSoundChannel(gg_snd_v_zhuansheng, 0)
    call SetSoundVolume(gg_snd_v_zhuansheng, 127)
    call SetSoundPitch(gg_snd_v_zhuansheng, 1.0)
    set gg_snd_xiaoyue_5=CreateSound("war3mapImported\\xiaoyue_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_xiaoyue_5, 1802)
    call SetSoundChannel(gg_snd_xiaoyue_5, 0)
    call SetSoundVolume(gg_snd_xiaoyue_5, 127)
    call SetSoundPitch(gg_snd_xiaoyue_5, 1.0)
    set gg_snd_xuanxue_5=CreateSound("war3mapImported\\xuanxue_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_xuanxue_5, 847)
    call SetSoundChannel(gg_snd_xuanxue_5, 0)
    call SetSoundVolume(gg_snd_xuanxue_5, 127)
    call SetSoundPitch(gg_snd_xuanxue_5, 1.0)
    set gg_snd_xinglong_4=CreateSound("war3mapImported\\xinglong_4.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_xinglong_4, 1817)
    call SetSoundChannel(gg_snd_xinglong_4, 0)
    call SetSoundVolume(gg_snd_xinglong_4, 127)
    call SetSoundPitch(gg_snd_xinglong_4, 1.0)
    set gg_snd_yanmie_5=CreateSound("war3mapImported\\yanmie_5.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_yanmie_5, 1295)
    call SetSoundChannel(gg_snd_yanmie_5, 0)
    call SetSoundVolume(gg_snd_yanmie_5, 127)
    call SetSoundPitch(gg_snd_yanmie_5, 1.0)
    set gg_snd_die=CreateSound("war3mapImported\\die.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_die, 2489)
    call SetSoundChannel(gg_snd_die, 0)
    call SetSoundVolume(gg_snd_die, 127)
    call SetSoundPitch(gg_snd_die, 1.0)
    set gg_snd_baoxiang=CreateSound("war3mapImported\\baoxiang.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(gg_snd_baoxiang, 728)
    call SetSoundChannel(gg_snd_baoxiang, 0)
    call SetSoundVolume(gg_snd_baoxiang, 127)
    call SetSoundPitch(gg_snd_baoxiang, 1.0)
    set gg_snd_Clock=CreateSound("Sound\\Interface\\BattleNetTick.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_Clock, "ChatroomTimerTick")
    call SetSoundDuration(gg_snd_Clock, 476)
endfunction
//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************
function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set gg_dest_ZTsg_0112=CreateDestructable('ZTsg', 5888.0, - 320.0, 180.000, 1.000, 0)
    set gg_dest_ZTsg_0114=CreateDestructable('ZTsg', 11904.0, - 320.0, 180.000, 1.000, 0)
    set gg_dest_ZTsg_0110=CreateDestructable('ZTsg', 10752.0, - 384.0, 180.000, 1.000, 0)
    set gg_dest_ZTsg_0111=CreateDestructable('ZTsg', 4416.0, - 448.0, 180.000, 1.000, 0)
endfunction
//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************
//===========================================================================
function CreateBuildingsForPlayer6 takes nothing returns nothing
    local player p= Player(6)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set gg_unit_ndrz_0019=CreateUnit(p, 'ndrz', 8192.0, 1408.0, 270.000)
    set gg_unit_haro_0030=CreateUnit(p, 'haro', 8192.0, - 448.0, 270.000)
    set u=CreateUnit(p, 'ngme', 7232.0, 0.0, 270.000)
    set u=CreateUnit(p, 'ngad', 9216.0, 0.0, 270.000)
    set gg_unit_n00W_0038=CreateUnit(p, 'n00W', 7232.0, - 384.0, 270.000)
    set gg_unit_n00P_0039=CreateUnit(p, 'n00P', 7232.0, - 768.0, 270.000)
    set u=CreateUnit(p, 'n00U', 6912.0, 0.0, 270.000)
    set u=CreateUnit(p, 'n001', 6912.0, - 384.0, 270.000)
    set gg_unit_n00M_0042=CreateUnit(p, 'n00M', 6912.0, - 768.0, 270.000)
    set u=CreateUnit(p, 'n00I', 9216.0, - 384.0, 270.000)
    set u=CreateUnit(p, 'n00L', 9536.0, - 384.0, 270.000)
    set u=CreateUnit(p, 'n00H', 9216.0, - 768.0, 270.000)
    set u=CreateUnit(p, 'n00T', 9536.0, 0.0, 270.000)
    set u=CreateUnit(p, 'n000', 9536.0, - 768.0, 270.000)
    set gg_unit_nnfm_0056=CreateUnit(p, 'nnfm', 10560.0, - 704.0, 270.000)
    set u=CreateUnit(p, 'n01A', 4288.0, 3264.0, 270.000)
    set u=CreateUnit(p, 'n01A', 2560.0, 3264.0, 270.000)
    set u=CreateUnit(p, 'n01A', 11904.0, 3328.0, 270.000)
    set u=CreateUnit(p, 'n01A', 14016.0, 3328.0, 270.000)
    set u=CreateUnit(p, 'n01A', 13952.0, - 3904.0, 270.000)
    set u=CreateUnit(p, 'n01A', 12032.0, - 3904.0, 270.000)
    set u=CreateUnit(p, 'n01B', 10560.0, - 128.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(0))
    set u=CreateUnit(p, 'ndro', 8192.0, - 2112.0, 270.000)
    set gg_unit_n01S_0258=CreateUnit(p, 'n01S', 8192.0, - 704.0, 270.000)
    set u=CreateUnit(p, 'n01A', 4224.0, - 3840.0, 270.000)
    set u=CreateUnit(p, 'n01A', 2688.0, - 3840.0, 270.000)
    set u=CreateUnit(p, 'n01A', 8192.0, - 4992.0, 270.000)
    set u=CreateUnit(p, 'n01A', 8192.0, 4480.0, 270.000)
endfunction
//===========================================================================
function CreateUnitsForPlayer6 takes nothing returns nothing
    local player p= Player(6)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set u=CreateUnit(p, 'nbt2', 8512.0, - 960.0, 270.000)
    set u=CreateUnit(p, 'net2', 7744.0, - 448.0, 270.000)
    set u=CreateUnit(p, 'nft2', 8192.0, 32.0, 270.000)
    set u=CreateUnit(p, 'ndt2', 7872.0, - 960.0, 270.000)
    set u=CreateUnit(p, 'ntx2', 8640.0, - 448.0, 270.000)
    set u=CreateUnit(p, 'nhem', 6861.4, 1448.9, 270.000)
    set u=CreateUnit(p, 'nhef', 9519.1, - 2091.7, 90.000)
    set gg_unit_nhea_0201=CreateUnit(p, 'nhea', 6853.8, - 2130.0, 90.000)
    set u=CreateUnit(p, 'nemi', 9562.2, 1523.3, 270.000)
    set gg_unit_h006_0252=CreateUnit(p, 'h006', 3667.6, - 488.7, 261.330)
    set gg_unit_h00K_0254=CreateUnit(p, 'h00K', 3721.4, - 384.6, 172.060)
endfunction
//===========================================================================
function CreateUnitsForPlayer10 takes nothing returns nothing
    local player p= Player(10)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set u=CreateUnit(p, 'nubr', 13156.7, - 2596.5, 46.221)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nspd', 10715.2, 3121.1, 42.343)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nnwa', 13266.6, 2114.2, 45.716)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 14214.3, 3175.8, 53.901)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubk', 10145.4, - 3243.3, 312.878)
    set u=CreateUnit(p, 'nubr', 12956.0, - 3608.5, 203.847)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 14820.3, - 2358.6, 18.567)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubk', 11473.2, - 3190.2, 320.294)
    set u=CreateUnit(p, 'nubk', 9501.3, - 3293.3, 305.001)
    set u=CreateUnit(p, 'nubk', 9802.4, - 2486.6, 225.128)
    set u=CreateUnit(p, 'nubk', 10475.7, - 2512.6, 22.676)
    set u=CreateUnit(p, 'nubk', 11493.0, - 2430.3, 278.589)
    set u=CreateUnit(p, 'nubk', 10827.6, - 3162.6, 118.392)
    set u=CreateUnit(p, 'nubk', 10690.1, - 3890.9, 355.243)
    set u=CreateUnit(p, 'nubk', 9904.4, - 3872.1, 137.850)
    set u=CreateUnit(p, 'nubr', 12279.1, - 3679.3, 305.166)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubr', 12547.2, - 2694.3, 46.221)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubr', 12835.0, - 2133.8, 272.568)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubr', 13374.6, - 2062.2, 339.301)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubr', 13392.6, - 3323.6, 46.221)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubr', 12261.4, - 2150.2, 356.440)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubr', 12879.3, - 2935.8, 77.456)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 14426.6, - 3120.7, 222.128)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 15221.2, - 1394.4, 129.752)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 15266.4, - 2813.7, 345.937)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 14522.4, - 2085.7, 195.354)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 14085.1, - 1873.1, 163.372)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 14123.1, - 3440.9, 298.486)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 14745.4, - 3747.9, 34.542)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 15437.7, - 3733.3, 331.006)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslm', 6115.5, 1743.1, 162.042)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslm', 5029.0, 1705.4, 157.516)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslm', 5323.0, 3058.5, 77.159)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslm', 4939.2, 2595.9, 332.918)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslm', 6281.4, 2140.7, 348.266)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslm', 6519.8, 3003.6, 60.646)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslm', 5782.5, 2080.9, 177.523)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslm', 6899.3, 2645.4, 222.029)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslm', 6988.2, 1972.0, 42.738)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslf', 3881.7, 2756.6, 22.303)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslf', 3641.4, 3020.3, 102.879)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslf', 3461.6, 2765.9, 94.925)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslf', 3655.0, 2274.2, 342.015)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslf', 4046.3, 1813.6, 349.925)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslf', 3304.9, 1608.2, 95.210)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslf', 3628.6, 1201.5, 224.490)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslf', 3239.2, 1046.4, 48.067)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslf', 3668.0, 1777.2, 2.483)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 1920.8, 2218.1, 221.920)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 1123.4, 2209.9, 322.173)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 1392.1, 3230.7, 280.270)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 1196.7, 917.7, 120.743)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 2051.0, 3040.7, 212.273)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 1532.5, 2860.8, 334.467)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 1892.9, 927.8, 42.024)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 1150.5, 1480.4, 19.831)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nltl', 5958.8, - 3701.1, 337.807)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nltl', 4924.3, - 2602.5, 55.812)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nltl', 4929.2, - 3294.2, 24.094)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nltl', 5569.3, - 3529.4, 53.055)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nltl', 5506.7, - 2778.9, 211.054)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nltl', 6777.3, - 3625.4, 243.300)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nltl', 5123.5, - 3835.1, 219.261)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nltl', 6027.7, - 2434.7, 357.308)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nltl', 6339.4, - 3439.5, 220.777)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nthl', 4248.9, - 1763.5, 101.319)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nthl', 3293.9, - 2282.5, 278.842)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nthl', 3859.5, - 3747.5, 84.092)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nthl', 3389.7, - 3704.1, 50.176)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nthl', 3379.0, - 2976.2, 98.440)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nthl', 4061.0, - 2311.5, 85.158)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nthl', 4205.3, - 2857.8, 44.386)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nthl', 3909.8, - 3221.9, 19.567)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 1865.8, - 1708.5, 163.218)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 2207.5, - 2674.3, 30.213)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 2442.1, - 2009.0, 302.507)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 1321.2, - 3319.1, 315.735)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 1943.1, - 3200.4, 101.099)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 1858.9, - 3859.9, 257.736)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 1100.2, - 3911.8, 242.540)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 1872.6, - 2298.7, 255.759)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 1459.7, - 2636.7, 192.058)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nspd', 10417.8, 1890.5, 355.408)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nspd', 11228.3, 2683.2, 278.237)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nspd', 10104.4, 3200.4, 124.402)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nspd', 10048.3, 2709.3, 124.787)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nspd', 9470.9, 2739.3, 143.321)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nspd', 9460.0, 2067.0, 159.790)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nspd', 11551.2, 1775.3, 200.891)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nspd', 10882.3, 1955.4, 135.751)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nnwa', 12194.9, 3035.6, 66.788)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwa', 12264.5, 2197.3, 100.869)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwa', 12872.0, 2118.7, 170.722)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwa', 12347.8, 1175.2, 156.000)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwa', 12816.6, 3224.0, 15.623)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwa', 13237.0, 1251.4, 5.098)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwa', 12739.7, 1347.1, 126.391)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwa', 13415.5, 3267.8, 215.317)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 14896.4, 1434.8, 21.622)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 15078.7, 3071.1, 183.334)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 14592.4, 3203.9, 254.187)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 14192.8, 1269.4, 290.927)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 14508.3, 2712.9, 197.683)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 14880.0, 922.8, 184.938)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 15255.6, 2647.2, 179.203)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 14518.3, 1878.7, 139.915)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwl', 15414.6, 2003.3, 115.668)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nnwa', 13260.2, 3052.8, 311.966)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nspd', 11410.3, 3217.7, 230.171)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nubk', 11468.4, - 3789.8, 34.245)
    set u=CreateUnit(p, 'nubr', 12287.8, - 2944.4, 67.118)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nubw', 15141.6, - 3440.5, 130.840)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nltl', 6525.8, - 2959.3, 159.889)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nthl', 3596.1, - 1677.9, 246.958)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nstw', 1318.9, - 1742.8, 281.665)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nslm', 5965.3, 3023.6, 322.019)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'nslf', 3925.0, 893.8, 146.738)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'nsln', 1893.7, 1447.4, 274.084)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    call SetUnitAcquireRange(u, 200.0)
    set u=CreateUnit(p, 'Naka', - 10432.9, - 10422.8, 180.000)
endfunction
//===========================================================================
function CreateBuildingsForPlayer11 takes nothing returns nothing
    local player p= Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set u=CreateUnit(p, 'ndmg', 1920.0, - 15488.0, 270.000)
    set u=CreateUnit(p, 'ndmg', 8192.0, - 15552.0, 270.000)
    set u=CreateUnit(p, 'ndmg', 14592.0, - 15552.0, 270.000)
    set u=CreateUnit(p, 'ndmg', 1920.0, 15104.0, 270.000)
    set gg_unit_ndmg_0052=CreateUnit(p, 'ndmg', 8192.0, 15040.0, 270.000)
    set u=CreateUnit(p, 'ndmg', 14592.0, 15040.0, 270.000)
endfunction
//===========================================================================
function CreateUnitsForPlayer11 takes nothing returns nothing
    local player p= Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set u=CreateUnit(p, 'uzg2', 2272.0, 12768.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 1568.0, 12768.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 8544.0, 12768.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 7840.0, 12768.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 14944.0, 12640.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 14240.0, 12640.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 14944.0, - 13408.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 14240.0, - 13408.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 8544.0, - 13472.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 7840.0, - 13472.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 2272.0, - 13408.0, 270.000)
    set u=CreateUnit(p, 'uzg2', 1568.0, - 13408.0, 270.000)
    set gg_unit_Nkjx_0241=CreateUnit(p, 'Nkjx', 8162.0, 14536.0, 270.000)
    set gg_unit_Uear_0242=CreateUnit(p, 'Uear', 8320.9, - 15070.5, 90.000)
    set gg_unit_Npld_0253=CreateUnit(p, 'Npld', 8050.1, - 15126.7, 90.000)
    set gg_unit_Uwar_0274=CreateUnit(p, 'Uwar', 8170.0, 14089.3, 270.000)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, gg_unit_Uwar_0274, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, gg_unit_Uwar_0274, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function Unit000205_DropItems)
    set gg_unit_Utic_0275=CreateUnit(p, 'Utic', 8341.3, - 14868.0, 90.000)
    call SetUnitState(gg_unit_Utic_0275, UNIT_STATE_MANA, 0)
    set gg_unit_Nman_0276=CreateUnit(p, 'Nman', 7990.0, - 14854.9, 90.000)
    call SetUnitState(gg_unit_Nman_0276, UNIT_STATE_MANA, 0)
endfunction
//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set u=CreateUnit(p, 'ncop', - 1984.0, 12480.0, 270.000)
    set u=CreateUnit(p, 'ncop', - 1984.0, 8128.0, 270.000)
    set u=CreateUnit(p, 'ncop', - 1984.0, 4032.0, 270.000)
    set u=CreateUnit(p, 'ncop', - 1984.0, - 448.0, 270.000)
    set gg_unit_ncop_0005=CreateUnit(p, 'ncop', - 1984.0, - 4544.0, 270.000)
    set gg_unit_ncop_0006=CreateUnit(p, 'ncop', - 1984.0, - 8768.0, 270.000)
    set gg_unit_n019_0054=CreateUnit(p, 'n019', - 6208.0, - 14912.0, 270.000)
    set u=CreateUnit(p, 'ncp3', - 7616.0, - 14912.0, 270.000)
    set gg_unit_ncp2_0057=CreateUnit(p, 'ncp2', - 13920.0, - 14752.0, 270.000)
    set gg_unit_n002_0058=CreateUnit(p, 'n002', - 6720.0, - 14912.0, 270.000)
    set gg_unit_n007_0059=CreateUnit(p, 'n007', - 5952.0, - 14912.0, 270.000)
    set gg_unit_n00A_0060=CreateUnit(p, 'n00A', - 6592.0, - 15232.0, 270.000)
    set gg_unit_n003_0061=CreateUnit(p, 'n003', - 6592.0, - 14592.0, 270.000)
    set gg_unit_n004_0062=CreateUnit(p, 'n004', - 6336.0, - 14592.0, 270.000)
    set gg_unit_n005_0063=CreateUnit(p, 'n005', - 6336.0, - 15232.0, 270.000)
    set gg_unit_n008_0064=CreateUnit(p, 'n008', - 6080.0, - 15232.0, 270.000)
    set gg_unit_n00B_0065=CreateUnit(p, 'n00B', - 6464.0, - 14912.0, 270.000)
    set gg_unit_n00C_0066=CreateUnit(p, 'n00C', - 6080.0, - 14592.0, 270.000)
    set gg_unit_ncp2_0067=CreateUnit(p, 'ncp2', - 15008.0, 4704.0, 270.000)
    set gg_unit_ncp2_0068=CreateUnit(p, 'ncp2', - 11104.0, 4832.0, 270.000)
    set gg_unit_ncp2_0069=CreateUnit(p, 'ncp2', - 7136.0, 4960.0, 270.000)
    set gg_unit_ncp2_0070=CreateUnit(p, 'ncp2', - 7136.0, 736.0, 270.000)
    set gg_unit_ncp2_0071=CreateUnit(p, 'ncp2', - 10912.0, 480.0, 270.000)
    set gg_unit_ncp2_0072=CreateUnit(p, 'ncp2', - 15200.0, 736.0, 270.000)
    set u=CreateUnit(p, 'n01D', - 6848.0, - 6720.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(12))
    set u=CreateUnit(p, 'n01C', - 7104.0, - 6720.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(10))
    set u=CreateUnit(p, 'uS01', - 9664.0, - 4992.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(0))
    set u=CreateUnit(p, 'nmer', - 1984.0, - 11968.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(0))
    set gg_unit_ncp3_0211=CreateUnit(p, 'ncp3', - 12608.0, - 14912.0, 270.000)
    set gg_unit_ncp3_0212=CreateUnit(p, 'ncp3', - 9984.0, - 14912.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 15072.0, - 15264.0, 270.000)
    set u=CreateUnit(p, 'ntav', - 9664.0, - 3584.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(0))
    set u=CreateUnit(p, 'ncp2', - 15072.0, - 14240.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 14688.0, - 15264.0, 270.000)
    set gg_unit_nmr5_0233=CreateUnit(p, 'nmr5', - 9792.0, - 4288.0, 270.000)
    call SetUnitColor(gg_unit_nmr5_0233, ConvertPlayerColor(10))
    set gg_unit_nmre_0234=CreateUnit(p, 'nmre', - 9536.0, - 4288.0, 270.000)
    call SetUnitColor(gg_unit_nmre_0234, ConvertPlayerColor(12))
    set u=CreateUnit(p, 'ncp2', - 14304.0, - 15264.0, 270.000)
    set gg_unit_ncp3_0238=CreateUnit(p, 'ncp3', - 5184.0, - 14912.0, 270.000)
    set gg_unit_ncp3_0238=CreateUnit(p, 'ncp3', - 5184.0, - 14912.0, 270.000)
    set u=CreateUnit(p, 'ncp3', - 12160.0, - 10432.0, 270.000)
    set u=CreateUnit(p, 'ncp3', - 10432.0, - 10432.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 13920.0, - 15264.0, 270.000)
    set u=CreateUnit(p, 'n01J', - 9792.0, - 7808.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(0))
    set u=CreateUnit(p, 'ncp2', - 15072.0, - 15008.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 14688.0, - 15008.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 14304.0, - 15008.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 13920.0, - 15008.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 15072.0, - 14752.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 14688.0, - 14752.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 14304.0, - 14752.0, 270.000)
    set u=CreateUnit(p, 'n01M', - 9792.0, - 6976.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(0))
    set u=CreateUnit(p, 'ncop', - 1664.0, - 14976.0, 270.000)
    set u=CreateUnit(p, 'ncop', - 2432.0, - 14976.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 15072.0, - 14496.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 14688.0, - 14496.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 14304.0, - 14496.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 13920.0, - 14496.0, 270.000)
    set u=CreateUnit(p, 'ncp2', - 14688.0, - 14240.0, 270.000)
    set gg_unit_n01Q_0273=CreateUnit(p, 'n01Q', - 14528.0, - 11904.0, 270.000)
    call SetUnitColor(gg_unit_n01Q_0273, ConvertPlayerColor(0))
    set u=CreateUnit(p, 'ncp2', - 14304.0, - 14240.0, 270.000)
    set u=CreateUnit(p, 'n01D', - 6848.0, - 4288.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(12))
    set u=CreateUnit(p, 'n01C', - 7104.0, - 4288.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(10))
endfunction
//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set gg_unit_Hjai_0014=CreateUnit(p, 'Hjai', - 13924.5, - 15013.3, 270.000)
    call UnitAddItemToSlotById(gg_unit_Hjai_0014, 'I006', 0)
    set gg_unit_Hvwd_0016=CreateUnit(p, 'Hvwd', - 14306.3, - 15266.4, 270.000)
    call UnitAddItemToSlotById(gg_unit_Hvwd_0016, 'I006', 0)
    set gg_unit_Etyr_0017=CreateUnit(p, 'Etyr', - 14302.9, - 14748.5, 270.000)
    call SetUnitState(gg_unit_Etyr_0017, UNIT_STATE_MANA, 0)
    call UnitAddItemToSlotById(gg_unit_Etyr_0017, 'I006', 0)
    set gg_unit_Uktl_0018=CreateUnit(p, 'Uktl', - 13925.8, - 15268.3, 270.000)
    call SetUnitState(gg_unit_Uktl_0018, UNIT_STATE_MANA, 0)
    call UnitAddItemToSlotById(gg_unit_Uktl_0018, 'I006', 0)
    set gg_unit_Eevi_0020=CreateUnit(p, 'Eevi', - 14686.5, - 15262.5, 270.000)
    call UnitAddItemToSlotById(gg_unit_Eevi_0020, 'I006', 0)
    set gg_unit_Hant_0205=CreateUnit(p, 'Hant', - 13918.5, - 14503.5, 270.000)
    call UnitAddItemToSlotById(gg_unit_Hant_0205, 'I006', 0)
    set gg_unit_H01W_0207=CreateUnit(p, 'H01W', 12869.5, - 401.2, 27.550)
    set gg_unit_Hkal_0208=CreateUnit(p, 'Hkal', - 14302.9, - 14497.1, 270.000)
    call UnitAddItemToSlotById(gg_unit_Hkal_0208, 'I049', 0)
    call UnitAddItemToSlotById(gg_unit_Hkal_0208, 'I006', 1)
    set gg_unit_Nsjs_0209=CreateUnit(p, 'Nsjs', - 14686.7, - 14238.9, 270.000)
    call UnitAddItemToSlotById(gg_unit_Nsjs_0209, 'I006', 0)
    set gg_unit_E00D_0210=CreateUnit(p, 'E00D', - 14682.8, - 15013.8, 270.000)
    call UnitAddItemToSlotById(gg_unit_E00D_0210, 'I006', 0)
    set gg_unit_Usyl_0215=CreateUnit(p, 'Usyl', - 14306.5, - 15005.2, 270.000)
    call SetUnitState(gg_unit_Usyl_0215, UNIT_STATE_MANA, 0)
    call UnitAddItemToSlotById(gg_unit_Usyl_0215, 'I006', 0)
    set gg_unit_E00C_0217=CreateUnit(p, 'E00C', - 14678.9, - 14755.6, 270.000)
    call UnitAddItemToSlotById(gg_unit_E00C_0217, 'I006', 0)
    set gg_unit_Hhkl_0218=CreateUnit(p, 'Hhkl', - 14684.5, - 14490.8, 270.000)
    call UnitAddItemToSlotById(gg_unit_Hhkl_0218, 'I006', 0)
    set gg_unit_Nbbc_0235=CreateUnit(p, 'Nbbc', - 15068.9, - 15013.5, 270.000)
    call UnitAddItemToSlotById(gg_unit_Nbbc_0235, 'I006', 0)
    set gg_unit_Ocbh_0251=CreateUnit(p, 'Ocbh', - 15072.4, - 15262.0, 270.000)
    call SetUnitState(gg_unit_Ocbh_0251, UNIT_STATE_MANA, 0)
    call UnitAddItemToSlotById(gg_unit_Ocbh_0251, 'I006', 0)
    set gg_unit_Hapm_0255=CreateUnit(p, 'Hapm', - 15064.1, - 14249.2, 270.000)
    call UnitAddItemToSlotById(gg_unit_Hapm_0255, 'I006', 0)
    set gg_unit_Othr_0256=CreateUnit(p, 'Othr', - 13921.4, - 14754.1, 271.104)
    call UnitAddItemToSlotById(gg_unit_Othr_0256, 'I006', 0)
    set gg_unit_Harf_0262=CreateUnit(p, 'Harf', - 15068.4, - 14752.5, 270.000)
    call UnitAddItemToSlotById(gg_unit_Harf_0262, 'stel', 0)
    call UnitAddItemToSlotById(gg_unit_Harf_0262, 'I006', 1)
    set u=CreateUnit(p, 'E00G', - 14405.7, - 14010.4, 270.000)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'E00E', - 14631.6, - 14022.5, 270.000)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'E00F', - 14737.9, - 14013.5, 270.000)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'U001', - 14311.9, - 14018.0, 270.000)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'H01V', - 14229.5, - 14013.7, 270.000)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'H01W', - 14847.9, - 14018.0, 270.000)
    call SetUnitState(u, UNIT_STATE_MANA, 0)
    set u=CreateUnit(p, 'H01X', - 14114.7, - 14017.0, 270.000)
    set gg_unit_Udea_0279=CreateUnit(p, 'Udea', - 15072.8, - 14497.2, 270.000)
    call UnitAddItemToSlotById(gg_unit_Udea_0279, 'I006', 0)
    set u=CreateUnit(p, 'O002', - 14963.4, - 14004.5, 270.000)
    set u=CreateUnit(p, 'H01Y', - 14301.9, - 14241.2, 270.000)
    call UnitAddItemToSlotById(u, 'I006', 0)
endfunction
//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer6()
    call CreateBuildingsForPlayer11()
endfunction
//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer6()
    call CreateUnitsForPlayer10()
    call CreateUnitsForPlayer11()
endfunction
//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings()
    call CreatePlayerBuildings()
    call CreateNeutralPassive()
    call CreatePlayerUnits()
endfunction
//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************
function CreateRegions takes nothing returns nothing
    local weathereffect we
    set gg_rct_____________01=Rect(- 12352.0, - 10656.0, - 11936.0, - 10240.0)
    set gg_rct____1=Rect(- 15264.0, 1568.0, - 11936.0, 5024.0)
    set we=AddWeatherEffect(gg_rct____1, 'WNcw')
    call EnableWeatherEffect(we, true)
    set gg_rct____2=Rect(- 11296.0, 1664.0, - 8032.0, 5152.0)
    set we=AddWeatherEffect(gg_rct____2, 'RAhr')
    call EnableWeatherEffect(we, true)
    set gg_rct____3=Rect(- 7360.0, 1568.0, - 3744.0, 5184.0)
    set we=AddWeatherEffect(gg_rct____3, 'SNbs')
    call EnableWeatherEffect(we, true)
    set gg_rct____4=Rect(- 7360.0, - 2624.0, - 3744.0, 992.0)
    set we=AddWeatherEffect(gg_rct____4, 'LRaa')
    call EnableWeatherEffect(we, true)
    set gg_rct____5=Rect(- 11136.0, - 2432.0, - 8192.0, 768.0)
    set we=AddWeatherEffect(gg_rct____5, 'LRma')
    call EnableWeatherEffect(we, true)
    set gg_rct____6=Rect(- 15456.0, - 2688.0, - 11936.0, 1024.0)
    set we=AddWeatherEffect(gg_rct____6, 'MEds')
    call EnableWeatherEffect(we, true)
    set gg_rct________a1=Rect(- 12800.0, - 15168.0, - 12448.0, - 14688.0)
    set gg_rct_______b1=Rect(- 7872.0, - 15136.0, - 7520.0, - 14688.0)
    set gg_rct_______b2=Rect(- 5376.0, - 15136.0, - 4960.0, - 14720.0)
    set gg_rct_______c1=Rect(- 15360.0, - 15584.0, - 13696.0, - 13728.0)
    set we=AddWeatherEffect(gg_rct_______c1, 'MEds')
    call EnableWeatherEffect(we, true)
    set gg_rct_______c2=Rect(- 2176.0, 14528.0, - 1856.0, 14848.0)
    set gg_rct_______c3=Rect(- 2464.0, 12768.0, - 1504.0, 13408.0)
    set gg_rct_______c4=Rect(- 2272.0, 12320.0, - 1696.0, 12576.0)
    set gg_rct_______c5=Rect(- 2144.0, 10176.0, - 1824.0, 10496.0)
    set gg_rct_______c6=Rect(- 2144.0, 5824.0, - 1824.0, 6144.0)
    set gg_rct_______c7=Rect(- 2144.0, 1600.0, - 1824.0, 1920.0)
    set gg_rct_______c8=Rect(- 2144.0, - 2496.0, - 1824.0, - 2176.0)
    set gg_rct_______c9=Rect(- 2144.0, - 6624.0, - 1824.0, - 6304.0)
    set gg_rct_______c10=Rect(- 2464.0, 8448.0, - 1504.0, 9088.0)
    set gg_rct_______c11=Rect(- 2464.0, 4352.0, - 1504.0, 4992.0)
    set gg_rct_______c12=Rect(- 2464.0, - 128.0, - 1504.0, 512.0)
    set gg_rct_______c13=Rect(- 2464.0, - 4256.0, - 1504.0, - 3616.0)
    set gg_rct_______c14=Rect(- 2464.0, - 8480.0, - 1504.0, - 7840.0)
    set gg_rct_______c15=Rect(- 2240.0, 8000.0, - 1728.0, 8256.0)
    set gg_rct_______c16=Rect(- 2240.0, 3904.0, - 1728.0, 4160.0)
    set gg_rct_______c17=Rect(- 2240.0, - 576.0, - 1760.0, - 320.0)
    set gg_rct_______c18=Rect(- 2208.0, - 4672.0, - 1760.0, - 4416.0)
    set gg_rct_______c19=Rect(- 2240.0, - 8896.0, - 1728.0, - 8640.0)
    set gg_rct________1=Rect(7616.0, - 1056.0, 8736.0, 128.0)
    set gg_rct________2=Rect(14272.0, 14240.0, 14880.0, 14720.0)
    set gg_rct________3=Rect(7872.0, 14208.0, 8480.0, 14688.0)
    set gg_rct________4=Rect(1632.0, 14272.0, 2240.0, 14752.0)
    set gg_rct________5=Rect(1600.0, - 15232.0, 2208.0, - 14752.0)
    set gg_rct________6=Rect(7968.0, - 15232.0, 8576.0, - 14752.0)
    set gg_rct________7=Rect(14240.0, - 15264.0, 14848.0, - 14784.0)
    set gg_rct________8=Rect(- 10528.0, - 5184.0, - 8800.0, - 3456.0)
    set gg_rct_____1=Rect(8544.0, - 544.0, 8736.0, - 352.0)
    set gg_rct_____2=Rect(8416.0, - 1056.0, 8608.0, - 864.0)
    set gg_rct_____3=Rect(7776.0, - 1056.0, 7968.0, - 864.0)
    set gg_rct_____4=Rect(7648.0, - 544.0, 7840.0, - 352.0)
    set gg_rct_____5=Rect(8096.0, - 64.0, 8288.0, 128.0)
    set gg_rct________9=Rect(704.0, - 4448.0, 15584.0, 3872.0)
    set gg_rct________10=Rect(9248.0, 1600.0, 11616.0, 3392.0)
    set gg_rct_________11=Rect(11872.0, 960.0, 13568.0, 3360.0)
    set gg_rct_________12=Rect(13824.0, 800.0, 15488.0, 3360.0)
    set gg_rct_________13=Rect(13824.0, - 3904.0, 15520.0, - 1312.0)
    set gg_rct_________14=Rect(11936.0, - 3936.0, 13568.0, - 1536.0)
    set gg_rct_________15=Rect(9248.0, - 4032.0, 11648.0, - 2304.0)
    set gg_rct_________16=Rect(4704.0, - 4000.0, 7136.0, - 2208.0)
    set gg_rct_________17=Rect(3072.0, - 3968.0, 4512.0, - 1440.0)
    set gg_rct_________18=Rect(1024.0, - 3968.0, 2816.0, - 1408.0)
    set gg_rct_________19=Rect(1024.0, 672.0, 2816.0, 3360.0)
    set gg_rct_________20=Rect(3072.0, 672.0, 4512.0, 3392.0)
    set gg_rct_________21=Rect(4736.0, 1536.0, 7200.0, 3456.0)
    set gg_rct________a2=Rect(- 10208.0, - 15136.0, - 9792.0, - 14720.0)
    set gg_rct_______a3=Rect(- 13408.0, - 16288.0, - 8704.0, - 13792.0)
    set gg_rct__________u=Rect(960.0, - 15840.0, 15584.0, 15328.0)
    set gg_rct______________096=Rect(1408.0, 4160.0, 2496.0, 4672.0)
    set gg_rct______________096_______u=Rect(14048.0, 4000.0, 15136.0, 4640.0)
    set gg_rct______________096________2=Rect(7680.0, 4064.0, 8768.0, 5120.0)
    set gg_rct______________096________3=Rect(7648.0, - 5568.0, 8736.0, - 4512.0)
    set gg_rct______________096________4=Rect(1408.0, - 5056.0, 2496.0, - 4480.0)
    set gg_rct______________096________5=Rect(14016.0, - 5088.0, 15104.0, - 4448.0)
    set gg_rct______________100=Rect(10080.0, - 704.0, 10688.0, - 64.0)
    set gg_rct______________001=Rect(- 9632.0, - 4608.0, - 9312.0, - 4320.0)
    set gg_rct______________001_______u=Rect(- 9632.0, - 4256.0, - 9312.0, - 3968.0)
    set gg_rct______________001________2=Rect(- 10048.0, - 4256.0, - 9728.0, - 3968.0)
    set gg_rct______________001________3=Rect(- 10048.0, - 4608.0, - 9728.0, - 4320.0)
    set gg_rct_Arena_all=Rect(- 2560.0, - 12096.0, - 1440.0, - 11040.0)
    set gg_rct_Arena_1=Rect(- 2528.0, - 12064.0, - 2304.0, - 11840.0)
    set gg_rct_Arena_2=Rect(- 1728.0, - 11328.0, - 1504.0, - 11072.0)
    set gg_rct______________023=Rect(- 2528.0, - 15072.0, - 2336.0, - 14912.0)
    set gg_rct______________024=Rect(- 1760.0, - 15072.0, - 1568.0, - 14912.0)
    set gg_rct______________025=Rect(- 12832.0, - 15392.0, - 9664.0, - 14432.0)
    set gg_rct_Arena_forbit=Rect(- 3616.0, - 13248.0, - 352.0, - 9824.0)
    set gg_rct______________084=Rect(- 2720.0, - 9024.0, - 1248.0, 15104.0)
    set gg_rct______________085=Rect(- 2592.0, - 15552.0, - 1472.0, - 14400.0)
    set we=AddWeatherEffect(gg_rct______________085, 'MEds')
    call EnableWeatherEffect(we, true)
    set gg_rct_______1=Rect(- 2656.0, 12192.0, - 1312.0, 15072.0)
    set gg_rct_______2=Rect(- 2656.0, 7808.0, - 1312.0, 10784.0)
    set gg_rct_______3=Rect(- 2688.0, 3712.0, - 1344.0, 6592.0)
    set gg_rct_______4=Rect(- 2656.0, - 736.0, - 1312.0, 2144.0)
    set gg_rct_______5=Rect(- 2656.0, - 4832.0, - 1312.0, - 1952.0)
    set gg_rct_______6=Rect(- 2656.0, - 9024.0, - 1312.0, - 6144.0)
    set gg_rct_QuitRegion=Rect(5184.0, - 1728.0, 5856.0, - 1344.0)
    set gg_rct_Diamond2=Rect(- 7840.0, - 5152.0, - 6112.0, - 3424.0)
    set gg_rct_Arena_Spell=Rect(- 2944.0, - 12512.0, - 1056.0, - 10656.0)
    set gg_rct_M6=Rect(- 7936.0, - 11648.0, - 4480.0, - 8512.0)
    set we=AddWeatherEffect(gg_rct_M6, 'MEds')
    call EnableWeatherEffect(we, true)
    set gg_rct_Diamond3=Rect(- 7840.0, - 7616.0, - 6080.0, - 5856.0)
    set gg_rct_Hundun=Rect(- 10752.0, - 7968.0, - 8800.0, - 5888.0)
    set gg_rct_Game1=Rect(- 15360.0, - 12704.0, - 13664.0, - 11008.0)
    set we=AddWeatherEffect(gg_rct_Game1, 'SNbs')
    call EnableWeatherEffect(we, true)
    set gg_rct_Chuancheng=Rect(- 15104.0, - 6144.0, - 13440.0, - 4512.0)
endfunction
//***************************************************************************
//*
//*  Custom Script Code
//*
//***************************************************************************
//TESH.scrollpos=84
//TESH.alwaysfold=0
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/LHBase.j


/////! import "Test.j"
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Constant.j

// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\JBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\JBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Constant.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\JBase.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/NetVersion.j


// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j


/////! import "Test.j"
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Constant.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\JBase.j

// redeclaration of library LHBase skipped

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huodong.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Achievement.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Achievement.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huodong.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Achievement.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huodong.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Continous.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\item.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\item.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huodong.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Achievement.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Continous.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/NetVersion.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/BaseVersion.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/BaseVersion.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/item.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// redeclaration of library ItemBase skipped


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/item.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Arena.j


// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

 
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Arena.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Boss.j


// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Juexing.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Moqi.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\NetVersion.j


// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Achievement.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huodong.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Continous.j
// redeclaration of library Version skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\NetVersion.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Moqi.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Seyu.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Seyu.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Mengji.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j




// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Mengji.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huanyi.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
/////! import "Diamond.j"

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huanyi.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Xinglong.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Xinglong.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Sheyan.j
//!import "LHBase.j"



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Sheyan.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Juexing.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Battle.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Battle.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\NetVersion.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Boss.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Revive.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
/////! import "Beast.j"
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Lingxue.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Lingxue.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Xinglong.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Revive.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Purgatory.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\item.j




// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Purgatory.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/UseItem.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j




// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/UseItem.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Juexing.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Moqi.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Seyu.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Mengji.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huanyi.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Xinglong.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Sheyan.j

// redeclaration of library Juexing skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Juexing.j
//Âü∫Á°Ä
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/LHOther.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/LHOther.j
//È´òÈöæÁ≥ªÊï∞
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Diffculty.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huodong.j
// redeclaration of library Diffculty skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Diffculty.j
//Ë£ÖÂ§áÂ±ûÊÄßÂàùÂßãÂåñ
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/ItemAttr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/ItemAttr.j
//VIP
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/PIV.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
/////! import "Beast.j"
/////! import "Netversion.j"
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/PIV.j
//Â§öÈù¢Êùø
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Multiboard.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Multiboard.j
//ËΩ¨Áîü
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Mirror.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Mirror.j
//ÈªëÂ∫ó
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/TouristTrap.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/TouristTrap.j
//ÂÆ†Áâ©ÊúâÂÖ≥
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Pet.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
/////! import "NetVersion.j"



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Pet.j
//ÂêàÊàêË£ÖÂ§á
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Combine.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Hundun.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Hundun.j
/////! import "Beast.j"



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Combine.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Hundun.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// redeclaration of library Hundun skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Hundun.j
//ÂÆùÁü≥ÂçáÁ∫ß
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Diamond.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Diamond.j
//Â±ûÊÄßÂä†Êàê
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Attr.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// redeclaration of library Attr skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Attr.j
//ÂØºÂÖ•Âü∫Âú∞ÊúâÂÖ≥
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/CenterBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/CenterBase.j
//Áâ©ÂìÅÊäÄËÉΩ
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/ItemSpell.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Juexing.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Boss.j


// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Juexing.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Battle.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\NetVersion.j
// redeclaration of library Boss skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Boss.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Continous.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Chenji.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j







// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Chenji.j

	


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/ItemSpell.j
//ÁøÖËÜÄ
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Wing.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Wing.j
//ÊàíÊåá
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Ring.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Ring.j
//ÁöÆËÇ§
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Spin.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\NetVersion.j
// redeclaration of library Spin skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Spin.j
//ÂØºÂÖ•Ëã±ÈõÑ
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/HeiYan.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/HeiYan.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Yanmie.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Yanmie.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Kaisa.j


// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Kaisa.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Lingxue.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// redeclaration of library Lingxue skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Lingxue.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Seyu.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j

// redeclaration of library Seyu skipped

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Seyu.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Moqi.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j

// redeclaration of library Moqi skipped

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Moqi.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Sheyan.j
//!import "LHBase.j"

// redeclaration of library Sheyan skipped


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Sheyan.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Hanshang.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j




// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Hanshang.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Huanyi.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
/////! import "Diamond.j"

// redeclaration of library Huanyi skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Huanyi.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Chenji.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j

// redeclaration of library Chenji skipped






// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Chenji.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Mengji.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j

// redeclaration of library Mengji skipped



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Mengji.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/CangLing.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j




// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/CangLing.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Xiaoyue.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Xiaoyue.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Sichen.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j
/////! import "Pet.j"




// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Sichen.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Xuanxue.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Xuanxue.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Taiya.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Taiya.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Xinglong.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j


// redeclaration of library Xinglong skipped

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Xinglong.j
//ÊàòÊñóË∞ÉÊï¥
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Battle.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// redeclaration of library Battle skipped

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Battle.j
//ÈáéÂå∫
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Jungle.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Jungle.j
//ÁßòÂ¢É
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/MiJing.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j




// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/MiJing.j
//‰º†ÊâøËØïÁªÉ
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Shilian.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Structs.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Structs.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Shilian.j
//È©¨Áî≤Ê®°Êãü
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Simulate.j


// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\HeiYan.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j

// redeclaration of library Heiyan skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\HeiYan.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Yanmie.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Spin.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j

// redeclaration of library Yanmie skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Yanmie.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huanyi.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\ItemSpell.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Juexing.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Boss.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Continous.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Chenji.j

// redeclaration of library ItemSpell skipped
	


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\ItemSpell.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\MiniGame.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\MiniGame.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Boss.j
/////! import "CenterCredit.j"

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Simulate.j
//ÂØºÂÖ•Êåá‰ª§
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/ChatCommand.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\PIV.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
/////! import "Beast.j"
/////! import "Netversion.j"
// redeclaration of library PIV skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\PIV.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Continous.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/ChatCommand.j
//Â≠¶‰π†ÊäÄËÉΩ
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/HeroSpellBase.j

// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Heiyan.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Printer.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Attr.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Aura.j

// redeclaration of library Heiyan skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Heiyan.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Seyu.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j


// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/HeroSpellBase.j
//ÈáëÂ∏ÅÁ≥ªÁªü
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/GoldSystem.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/GoldSystem.j
//ÊÄ™Áâ©ÊäÄËÉΩ
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/MonsterSpell.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SpellBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j
/////! import "Diamond.j"



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/MonsterSpell.j
//È≠îÂÖΩÊäÄËÉΩ
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Beast.j


// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Beast.j
//ÁªÉÁ∫ßÂú∫
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Exercise.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
	



// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Exercise.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/CenterCredit.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\PIV.j
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Multiboard.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// redeclaration of library Multiboard skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Multiboard.j
/////! import "Exercise.j"

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/CenterCredit.j
//Ëø∑‰Ω†Ê∏∏Êàè
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/MiniGame.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Diffculty.j

// redeclaration of library MiniGame skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/MiniGame.j
//ËøûÁª≠ÁôªÂΩï
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Continous.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\item.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Huodong.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Achievement.j

// redeclaration of library Continous skipped
// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Continous.j
//ÊµãËØïÊñá‰ª∂
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/Debug.j

// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\Boss.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\PIV.j
/////! import "Diamond.j"
/////! import "CenterCredit.j"

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/Debug.j
/////! import "/edit/NotPublic.j"
/////! import "/edit/DebugNet.j"
//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************
//===========================================================================
// Trigger: Ë£ÖÂ§áÁöÑÂ±ûÊÄßÂàùÂßãÂåña
//
// Ë£ÖÂ§áÁöÑÂ±ûÊÄß GJ ÊîªÂáª LLÂäõÈáè ZLÊô∫Âäõ MJÊïèÊç∑ JNÊäÄËÉΩÂä†Êàê FYÈò≤Âæ° HP- -‰∏çÁî®ËØ¥‰∫Ü XXÂê∏Ë°Ä WSÊó†ËßÜÈò≤Âæ°‰º§ÂÆ≥ÂÄº XS‰ºÅÂõæÂê∏Êî∂‰πã BXS‰ºÅÂõæÊâìÊàëÂ∞±Êâì‰Ω†
// Áê•ÁèÄ 2000 ,10WË°Ä
// ÁãÆÁéã 10000ÊÄª,10%,500Èò≤Âæ°
// Ëë´Ëä¶ 10000,10%
// Â¶ñÈ≠Ñ 13000,5%,5%,1500Èò≤Âæ°
// ÊÆãÊúà 50WHP,20000,10%,10%,10%
// ÂÜ∞Ëé≤ 4W,10%,10%
// Á¢éÁâá Èò≤10%,10W,20%,10%‰º§ÂÆ≥
// 1->6000  10%
// 2->10000
// 3->16000
// 4->28000 20%
// 5->38000
// 6->50000
// 4W 30%
//===========================================================================
function Trig_________________________aActions takes nothing returns nothing
    local integer ydul_i
    call SaveInteger(YDHT, 'I00H', 0x5039AFFB, 12000)
    call SaveInteger(YDHT, 'I00H', 0x8D205575, 6000)
    call SaveInteger(YDHT, 'I025', 0x5039AFFB, 9000)
    call SaveInteger(YDHT, 'I025', 0x384C9D86, 6000)
    call SaveInteger(YDHT, 'I025', 0xA6870C96, 150000)
    call SaveInteger(YDHT, 'I01P', 0x5039AFFB, 6000)
    call SaveInteger(YDHT, 'I01P', 0x384C9D86, 9000)
    call SaveInteger(YDHT, 'I01P', 0x1ADEDE7B, 900)
    call SaveInteger(YDHT, 'I03E', 0x1B5C932E, 12000)
    call SaveReal(YDHT, 'I03E', 0xF374F3BD, 0.15)
    call SaveInteger(YDHT, 'I015', 0x8D205575, 6000)
    call SaveInteger(YDHT, 'I015', 0x384C9D86, 6000)
    call SaveInteger(YDHT, 'I015', 0x1B5C932E, 6000)
    call SaveInteger(YDHT, 'I03Q', 0xFCD961C9, 240000)
    call SaveInteger(YDHT, 'I00T', 0x81FD3994, 1500)
    call SaveInteger(YDHT, 'I043', 0x8D205575, 3000)
    call SaveInteger(YDHT, 'I043', 0x384C9D86, 3000)
    call SaveInteger(YDHT, 'I043', 0x1B5C932E, 3000)
    call SaveInteger(YDHT, 'I043', 0xFCD961C9, 45000)
    call SaveInteger(YDHT, 'I043', 0x0F3DF677, 20000)
    call SaveInteger(YDHT, 'I04R', 0x8D205575, 90000)
    call SaveInteger(YDHT, 'I04R', 0x384C9D86, 90000)
    call SaveInteger(YDHT, 'I04R', 0x1B5C932E, 90000)
    call SaveInteger(YDHT, 'I04R', 0xFCD961C9, 600000)
    call SaveInteger(YDHT, 'I04R', 0x0F3DF677, 300000)
    call SaveReal(YDHT, 'I04R', 0xF374F3BD, 0.50)
    call SaveInteger(YDHT, 'I041', 0x8D205575, 30000)
    call SaveInteger(YDHT, 'I041', 0x384C9D86, 30000)
    call SaveInteger(YDHT, 'I041', 0x1B5C932E, 30000)
    call SaveInteger(YDHT, 'I041', 0x0F3DF677, 150000)
    call SaveInteger(YDHT, 'I041', 0xFCD961C9, 300000)
    call SaveReal(YDHT, 'I041', 0xF374F3BD, 0.30)
    call SaveInteger(YDHT, 'I045', 0x0F3DF677, 60000)
    call SaveInteger(YDHT, 'I043', 0xFCD961C9, 150000)
    call SaveInteger(YDHT, 'I045', 0x8D205575, 8000)
    call SaveInteger(YDHT, 'I045', 0x384C9D86, 8000)
    call SaveInteger(YDHT, 'I045', 0x1B5C932E, 8000)
    call SaveReal(YDHT, 'I045', 0xF374F3BD, 0.10)
    call SaveReal(YDHT, 'I05B', 0xF374F3BD, 0.60)
    call SaveInteger(YDHT, 'I05B', 0x8D205575, 170000)
    call SaveInteger(YDHT, 'I05B', 0x0F3DF677, 1000000)
    call SaveInteger(YDHT, 'I05B', 0x384C9D86, 170000)
    call SaveInteger(YDHT, 'I05B', 0x1B5C932E, 170000)
    call SaveInteger(YDHT, 'I05C', 0x1B5C932E, 250000)
    call SaveInteger(YDHT, 'I05C', 0x384C9D86, 250000)
    call SaveInteger(YDHT, 'I05C', 0x8D205575, 250000)
    call SaveInteger(YDHT, 'I05C', 0x0F3DF677, 2000000)
    call SaveReal(YDHT, 'I05C', 0xF374F3BD, 0.80)
    call SaveReal(YDHT, 'rde1', 0xF374F3BD, 0.10)
    call SaveReal(YDHT, 'ward', 0xF374F3BD, 0.20)
    call SaveReal(YDHT, 'rin1', 0xF374F3BD, 0.30)
    call SaveReal(YDHT, 'phea', 0xF374F3BD, 0.40)
    call SaveReal(YDHT, 'spro', 0xF374F3BD, 0.50)
    call SaveReal(YDHT, 'shas', 0xF374F3BD, 0.60)
    call SaveReal(YDHT, 'rnec', 0xF374F3BD, 0.70)
    call SaveInteger(YDHT, 'vamp', 0x5039AFFB, 2000)
    call SaveInteger(YDHT, 'skul', 0x5039AFFB, 8000)
    call SaveInteger(YDHT, 'tsct', 0x5039AFFB, 30000)
    call SaveInteger(YDHT, 'tcas', 0x5039AFFB, 50000)
    call SaveInteger(YDHT, 'plcl', 0x5039AFFB, 80000)
    call SaveInteger(YDHT, 'tgrh', 0x5039AFFB, 300000)
    call SaveInteger(YDHT, 'I04Z', 0x5039AFFB, 33000)
    call SaveInteger(YDHT, 'I04Z', 0x384C9D86, 12000)
    call SaveInteger(YDHT, 'I04Z', 0x8D205575, 9000)
    call SaveInteger(YDHT, 'I04Z', 0xA6870C96, 100000)
    call SaveInteger(YDHT, 'nflg', 0x5039AFFB, 66000)
    call SaveInteger(YDHT, 'nflg', 0x384C9D86, 21000)
    call SaveInteger(YDHT, 'nflg', 0x8D205575, 16500)
    call SaveInteger(YDHT, 'nflg', 0xA6870C96, 200000)
    call SaveInteger(YDHT, 'esaz', 0x5039AFFB, 99000)
    call SaveInteger(YDHT, 'esaz', 0x384C9D86, 29000)
    call SaveInteger(YDHT, 'esaz', 0x8D205575, 23000)
    call SaveInteger(YDHT, 'esaz', 0xA6870C96, 300000)
    call SaveInteger(YDHT, 'sksh', 0x8D205575, 25000)
    call SaveInteger(YDHT, 'sksh', 0x384C9D86, 30000)
    call SaveInteger(YDHT, 'sksh', 0x5039AFFB, 150000)
    call SaveInteger(YDHT, 'sksh', 0xA6870C96, 450000)
    call SaveInteger(YDHT, 'oslo', 0x8D205575, 46000)
    call SaveInteger(YDHT, 'oslo', 0x384C9D86, 54000)
    call SaveInteger(YDHT, 'oslo', 0x5039AFFB, 200500)
    call SaveInteger(YDHT, 'oslo', 0xA6870C96, 600000)
    call SaveInteger(YDHT, 'grsl', 0xA6870C96, 800000)
    call SaveInteger(YDHT, 'grsl', 0x5039AFFB, 305500)
    call SaveInteger(YDHT, 'grsl', 0x384C9D86, 74000)
    call SaveInteger(YDHT, 'grsl', 0x8D205575, 59000)
    call SaveInteger(YDHT, 'flag', 0x8D205575, 85000)
    call SaveInteger(YDHT, 'flag', 0x384C9D86, 100000)
    call SaveInteger(YDHT, 'flag', 0x5039AFFB, 475500)
    call SaveInteger(YDHT, 'flag', 0xA6870C96, 1500000)
    call SaveInteger(YDHT, 'I056', 0x8D205575, 9000)
    call SaveInteger(YDHT, 'I056', 0x1B5C932E, 18000)
    call SaveInteger(YDHT, 'I056', 0x5039AFFB, 18000)
    call SaveReal(YDHT, 'I056', 0xF374F3BD, 0.20)
    call SaveReal(YDHT, 'spre', 0xF374F3BD, 0.35)
    call SaveInteger(YDHT, 'spre', 0x8D205575, 16500)
    call SaveInteger(YDHT, 'spre', 0x1B5C932E, 30000)
    call SaveInteger(YDHT, 'spre', 0x5039AFFB, 36000)
    call SaveInteger(YDHT, 'asbl', 0x5039AFFB, 54000)
    call SaveInteger(YDHT, 'asbl', 0x1B5C932E, 41000)
    call SaveInteger(YDHT, 'asbl', 0x8D205575, 23000)
    call SaveReal(YDHT, 'asbl', 0xF374F3BD, 0.40)
    call SaveReal(YDHT, 'ocor', 0xF374F3BD, 0.45)
    call SaveInteger(YDHT, 'ocor', 0x1B5C932E, 58000)
    call SaveInteger(YDHT, 'ocor', 0x8D205575, 33000)
    call SaveInteger(YDHT, 'ocor', 0x5039AFFB, 80000)
    call SaveInteger(YDHT, 'blba', 0x5039AFFB, 110000)
    call SaveInteger(YDHT, 'blba', 0x1B5C932E, 78000)
    call SaveInteger(YDHT, 'blba', 0x8D205575, 46000)
    call SaveReal(YDHT, 'blba', 0xF374F3BD, 0.60)
    call SaveReal(YDHT, 'cosl', 0xF374F3BD, 0.65)
    call SaveInteger(YDHT, 'cosl', 0x8D205575, 59000)
    call SaveInteger(YDHT, 'cosl', 0x1B5C932E, 99000)
    call SaveInteger(YDHT, 'cosl', 0x5039AFFB, 170000)
    call SaveInteger(YDHT, 'shhn', 0x5039AFFB, 270000)
    call SaveInteger(YDHT, 'shhn', 0x1B5C932E, 145000)
    call SaveInteger(YDHT, 'shhn', 0x8D205575, 85000)
    call SaveReal(YDHT, 'shhn', 0xF374F3BD, 0.70)
    call SaveInteger(YDHT, 'I057', 0x384C9D86, 12000)
    call SaveInteger(YDHT, 'I057', 0x1B5C932E, 18000)
    call SaveInteger(YDHT, 'I057', 0x5039AFFB, 15000)
    call SaveInteger(YDHT, 'I057', 0xA6870C96, 100000)
    call SaveReal(YDHT, 'I057', 0xF374F3BD, 0.20)
    call SaveInteger(YDHT, 'fwss', 0x384C9D86, 21000)
    call SaveInteger(YDHT, 'fwss', 0x1B5C932E, 30000)
    call SaveInteger(YDHT, 'fwss', 0x5039AFFB, 30000)
    call SaveInteger(YDHT, 'fwss', 0x5039AFFB, 30000)
    call SaveInteger(YDHT, 'fwss', 0xA6870C96, 200000)
    call SaveReal(YDHT, 'fwss', 0xF374F3BD, 0.35)
    call SaveReal(YDHT, 'ram4', 0xF374F3BD, 0.40)
    call SaveInteger(YDHT, 'ram4', 0x384C9D86, 32000)
    call SaveInteger(YDHT, 'ram4', 0x1B5C932E, 44000)
    call SaveInteger(YDHT, 'ram4', 0x5039AFFB, 54000)
    call SaveInteger(YDHT, 'ram4', 0xA6870C96, 300000)
    call SaveInteger(YDHT, 'rat3', 0xA6870C96, 450000)
    call SaveInteger(YDHT, 'rat3', 0x5039AFFB, 70000)
    call SaveInteger(YDHT, 'rat3', 0x384C9D86, 38000)
    call SaveInteger(YDHT, 'rat3', 0x1B5C932E, 58000)
    call SaveReal(YDHT, 'rat3', 0xF374F3BD, 0.45)
    call SaveReal(YDHT, 'pams', 0xF374F3BD, 0.60)
    call SaveInteger(YDHT, 'pams', 0x1B5C932E, 78000)
    call SaveInteger(YDHT, 'pams', 0x384C9D86, 54000)
    call SaveInteger(YDHT, 'pams', 0x5039AFFB, 90000)
    call SaveInteger(YDHT, 'pams', 0xA6870C96, 600000)
    call SaveInteger(YDHT, 'jdrn', 0xA6870C96, 800000)
    call SaveInteger(YDHT, 'jdrn', 0x5039AFFB, 135000)
    call SaveInteger(YDHT, 'jdrn', 0x384C9D86, 69000)
    call SaveInteger(YDHT, 'jdrn', 0x1B5C932E, 99000)
    call SaveReal(YDHT, 'jdrn', 0xF374F3BD, 0.65)
    call SaveReal(YDHT, 'shcw', 0xF374F3BD, 0.70)
    call SaveInteger(YDHT, 'shcw', 0x384C9D86, 100000)
    call SaveInteger(YDHT, 'shcw', 0x1B5C932E, 145000)
    call SaveInteger(YDHT, 'shcw', 0x5039AFFB, 185000)
    call SaveInteger(YDHT, 'shcw', 0xA6870C96, 1500000)
    call SaveReal(YDHT, 'I050', 0xF374F3BD, 0.20)
    call SaveInteger(YDHT, 'I050', 0x384C9D86, 12000)
    call SaveInteger(YDHT, 'I050', 0x1B5C932E, 18000)
    call SaveInteger(YDHT, 'I050', 0x5039AFFB, 12000)
    call SaveInteger(YDHT, 'I050', 0x1ADEDE7B, 1500)
    call SaveReal(YDHT, 'uflg', 0xF374F3BD, 0.35)
    call SaveInteger(YDHT, 'uflg', 0x384C9D86, 21000)
    call SaveInteger(YDHT, 'uflg', 0x1B5C932E, 30000)
    call SaveInteger(YDHT, 'uflg', 0x5039AFFB, 24000)
    call SaveInteger(YDHT, 'uflg', 0x1ADEDE7B, 2500)
    call SaveReal(YDHT, 'ram3', 0xF374F3BD, 0.40)
    call SaveInteger(YDHT, 'ram3', 0x384C9D86, 29000)
    call SaveInteger(YDHT, 'ram3', 0x1B5C932E, 41000)
    call SaveInteger(YDHT, 'ram3', 0x5039AFFB, 36000)
    call SaveInteger(YDHT, 'ram3', 0x1ADEDE7B, 4000)
    call SaveInteger(YDHT, 'stre', 0x1ADEDE7B, 6000)
    call SaveInteger(YDHT, 'stre', 0x5039AFFB, 80000)
    call SaveInteger(YDHT, 'stre', 0x384C9D86, 38000)
    call SaveInteger(YDHT, 'stre', 0x1B5C932E, 58000)
    call SaveReal(YDHT, 'stre', 0xF374F3BD, 0.45)
    call SaveReal(YDHT, 'shrs', 0xF374F3BD, 0.60)
    call SaveInteger(YDHT, 'shrs', 0x1B5C932E, 78000)
    call SaveInteger(YDHT, 'shrs', 0x384C9D86, 54000)
    call SaveInteger(YDHT, 'shrs', 0x5039AFFB, 105000)
    call SaveInteger(YDHT, 'shrs', 0x1ADEDE7B, 8000)
    call SaveInteger(YDHT, 'kgal', 0x1ADEDE7B, 10000)
    call SaveInteger(YDHT, 'kgal', 0x384C9D86, 69000)
    call SaveInteger(YDHT, 'kgal', 0x1B5C932E, 99000)
    call SaveInteger(YDHT, 'kgal', 0x5039AFFB, 155000)
    call SaveReal(YDHT, 'kgal', 0xF374F3BD, 0.70)
    call SaveReal(YDHT, 'shtm', 0xF374F3BD, 0.80)
    call SaveInteger(YDHT, 'shtm', 0x5039AFFB, 235000)
    call SaveInteger(YDHT, 'shtm', 0x384C9D86, 100000)
    call SaveInteger(YDHT, 'shtm', 0x1B5C932E, 145000)
    call SaveInteger(YDHT, 'shtm', 0x1ADEDE7B, 15000)
    call SaveInteger(YDHT, 'I055', 0x5039AFFB, 30000)
    call SaveInteger(YDHT, 'I055', 0x8D205575, 9000)
    call SaveInteger(YDHT, 'I055', 0x384C9D86, 15000)
    call SaveInteger(YDHT, 'I055', 0x1ADEDE7B, 1500)
    call SaveInteger(YDHT, 'tgxp', 0x1ADEDE7B, 2500)
    call SaveInteger(YDHT, 'tgxp', 0x384C9D86, 21000)
    call SaveInteger(YDHT, 'tgxp', 0x8D205575, 16500)
    call SaveInteger(YDHT, 'tgxp', 0x5039AFFB, 60000)
    call SaveInteger(YDHT, 'ram2', 0x5039AFFB, 90000)
    call SaveInteger(YDHT, 'ram2', 0x8D205575, 23000)
    call SaveInteger(YDHT, 'ram2', 0x384C9D86, 29000)
    call SaveInteger(YDHT, 'ram2', 0x1ADEDE7B, 4000)
    call SaveInteger(YDHT, 'lure', 0x1ADEDE7B, 6000)
    call SaveInteger(YDHT, 'lure', 0x384C9D86, 35000)
    call SaveInteger(YDHT, 'lure', 0x8D205575, 30000)
    call SaveInteger(YDHT, 'lure', 0x5039AFFB, 160000)
    call SaveInteger(YDHT, 'thdm', 0x5039AFFB, 215000)
    call SaveInteger(YDHT, 'thdm', 0x8D205575, 46000)
    call SaveInteger(YDHT, 'thdm', 0x384C9D86, 54000)
    call SaveInteger(YDHT, 'thdm', 0x1ADEDE7B, 8000)
    call SaveInteger(YDHT, 'arsh', 0x1ADEDE7B, 10000)
    call SaveInteger(YDHT, 'arsh', 0x8D205575, 59000)
    call SaveInteger(YDHT, 'arsh', 0x384C9D86, 69000)
    call SaveInteger(YDHT, 'arsh', 0x5039AFFB, 325000)
    call SaveInteger(YDHT, 'srtl', 0x5039AFFB, 505000)
    call SaveInteger(YDHT, 'srtl', 0x8D205575, 85000)
    call SaveInteger(YDHT, 'srtl', 0x384C9D86, 100000)
    call SaveInteger(YDHT, 'srtl', 0x1ADEDE7B, 15000)
    call SaveInteger(YDHT, 'I03Y', 0x5039AFFB, 27000)
    call SaveInteger(YDHT, 'I03Y', 0x384C9D86, 21600)
    call SaveInteger(YDHT, 'I03Y', 0xA6870C96, 100000)
    call SaveInteger(YDHT, 'I03Y', 0x1ADEDE7B, 1500)
    call SaveInteger(YDHT, 'dust', 0x384C9D86, 42000)
    call SaveInteger(YDHT, 'dust', 0x5039AFFB, 54000)
    call SaveInteger(YDHT, 'dust', 0x1ADEDE7B, 2500)
    call SaveInteger(YDHT, 'dust', 0xA6870C96, 200000)
    call SaveInteger(YDHT, 'ram1', 0xA6870C96, 300000)
    call SaveInteger(YDHT, 'ram1', 0x1ADEDE7B, 4000)
    call SaveInteger(YDHT, 'ram1', 0x5039AFFB, 81000)
    call SaveInteger(YDHT, 'ram1', 0x384C9D86, 58000)
    call SaveInteger(YDHT, 'rots', 0x384C9D86, 76000)
    call SaveInteger(YDHT, 'rots', 0x5039AFFB, 150000)
    call SaveInteger(YDHT, 'rots', 0x1ADEDE7B, 6000)
    call SaveInteger(YDHT, 'rots', 0xA6870C96, 450000)
    call SaveInteger(YDHT, 'tmmt', 0xA6870C96, 600000)
    call SaveInteger(YDHT, 'tmmt', 0x1ADEDE7B, 8000)
    call SaveInteger(YDHT, 'tmmt', 0x5039AFFB, 195000)
    call SaveInteger(YDHT, 'tmmt', 0x384C9D86, 108000)
    call SaveInteger(YDHT, 'brag', 0x384C9D86, 138000)
    call SaveInteger(YDHT, 'brag', 0x5039AFFB, 275000)
    call SaveInteger(YDHT, 'brag', 0xA6870C96, 800000)
    call SaveInteger(YDHT, 'brag', 0x1ADEDE7B, 10000)
    call SaveInteger(YDHT, 'olig', 0x1ADEDE7B, 15000)
    call SaveInteger(YDHT, 'olig', 0x384C9D86, 200000)
    call SaveInteger(YDHT, 'olig', 0x5039AFFB, 425000)
    call SaveInteger(YDHT, 'olig', 0xA6870C96, 1200000)
    set ydul_i=1
    loop
        exitwhen ydul_i > 10
        call SaveInteger(YDHT, udg_F_Jian[ydul_i], 0x5039AFFB, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 200 ))
        call SaveInteger(YDHT, udg_F_Jian[ydul_i], 0x8D205575, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 100 ))
        call SaveInteger(YDHT, udg_F_Jia[ydul_i], 0x8D205575, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 100 ))
        call SaveInteger(YDHT, udg_F_Jia[ydul_i], 0x384C9D86, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 100 ))
        call SaveInteger(YDHT, udg_F_Jia[ydul_i], 0x1B5C932E, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 100 ))
        call SaveInteger(YDHT, udg_F_Dun[ydul_i], 0x81FD3994, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 25 ))
        call SaveInteger(YDHT, udg_F_Zhang[ydul_i], 0x1B5C932E, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 200 ))
        call SaveInteger(YDHT, udg_F_Kui[ydul_i], 0xFCD961C9, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 4000 ))
        call SaveInteger(YDHT, udg_F_gong[ydul_i], 0x5039AFFB, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 150 ))
        call SaveInteger(YDHT, udg_F_gong[ydul_i], 0xA6870C96, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 250 ))
        call SaveInteger(YDHT, udg_F_gong[ydul_i], 0x384C9D86, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 100 ))
        call SaveInteger(YDHT, udg_F_Bishou[ydul_i], 0x5039AFFB, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 100 ))
        call SaveInteger(YDHT, udg_F_Bishou[ydul_i], 0x384C9D86, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 150 ))
        call SaveInteger(YDHT, udg_F_Bishou[ydul_i], 0x1ADEDE7B, ( ( ( ( ydul_i * ( ydul_i + 1 ) ) / 2 ) - ( ydul_i - 1 ) ) * 15 ))
        if ( ( ydul_i <= 5 ) ) then
            call SaveReal(YDHT, udg_F_Zhang[ydul_i], 0xF374F3BD, 0.10)
        else
            call SaveReal(YDHT, udg_F_Zhang[ydul_i], 0xF374F3BD, 0.15)
        endif
        set ydul_i=ydul_i + 1
    endloop
endfunction
//===========================================================================
function InitTrig_________________________a takes nothing returns nothing
    set gg_trg_________________________a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventSingle(gg_trg_________________________a, 1.00)
    call TriggerAddAction(gg_trg_________________________a, function Trig_________________________aActions)
endfunction
//===========================================================================
// Trigger: Ë£ÖÂ§áÁöÑÂ±ûÊÄßÂàùÂßãÂåñc
//
// Èæô -10W,1000W
// Âá§Âá∞ -8W,600W
// Ê≤ßÂØí -3W,300W
// Ë£ÇÂ§© 2W,200W
// Á•∏Êñó 8000
//===========================================================================
function Trig_________________________cActions takes nothing returns nothing
    call SaveInteger(YDHT, 'tbar', 0x384C9D86, 210000)
    call SaveInteger(YDHT, 'tbar', 0x1B5C932E, 300000)
    call SaveInteger(YDHT, 'tbar', 0x5039AFFB, 420000)
    call SaveInteger(YDHT, 'tbar', 0x1ADEDE7B, 20000)
    call SaveInteger(YDHT, 'tbar', 0xA6870C96, 2500000)
    call SaveReal(YDHT, 'tbar', 0xF374F3BD, 1.10)
    call SaveInteger(YDHT, 'ccmd', 0x384C9D86, 300000)
    call SaveInteger(YDHT, 'ccmd', 0x8D205575, 160000)
    call SaveInteger(YDHT, 'ccmd', 0x5039AFFB, 930000)
    call SaveInteger(YDHT, 'ccmd', 0x1ADEDE7B, 20000)
    call SaveInteger(YDHT, 'ccmd', 0xA6870C96, 2500000)
    call SaveInteger(YDHT, 'iwbr', 0x8D205575, 240000)
    call SaveInteger(YDHT, 'iwbr', 0x1B5C932E, 140000)
    call SaveInteger(YDHT, 'iwbr', 0x384C9D86, 140000)
    call SaveInteger(YDHT, 'iwbr', 0x5039AFFB, 750000)
    call SaveInteger(YDHT, 'iwbr', 0xA6870C96, 2500000)
    call SaveReal(YDHT, 'iwbr', 0xF374F3BD, 0.80)
endfunction
//===========================================================================
function InitTrig_________________________c takes nothing returns nothing
    set gg_trg_________________________c=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_________________________c, function Trig_________________________cActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 027
//===========================================================================
function Trig____________________027Func049A takes nothing returns nothing
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect())
endfunction
function Trig____________________027Actions takes nothing returns nothing
    call SetTimeOfDay(12.00)
    call UseTimeOfDayBJ(false)
    set udg_F_Xie[1]='I02B'
    set udg_F_Xie[2]='I02C'
    set udg_F_Xie[3]='I02D'
    set udg_F_Xie[4]='I02E'
    set udg_F_Xie[5]='I02F'
    set udg_F_Xie[6]='I02G'
    set udg_F_Xie[7]='I02H'
    set udg_F_Xie[8]='I02I'
    set udg_F_Xie[9]='I02J'
    set udg_F_Xie[10]='I02K'
    set udg_F_Zhang[1]='I034'
    set udg_F_Zhang[2]='I035'
    set udg_F_Zhang[3]='I036'
    set udg_F_Zhang[4]='I037'
    set udg_F_Zhang[5]='I038'
    set udg_F_Zhang[6]='I039'
    set udg_F_Zhang[7]='I03A'
    set udg_F_Zhang[8]='I03B'
    set udg_F_Zhang[9]='I03C'
    set udg_F_Zhang[10]='I03D'
    set udg_F_Kui[1]='I03G'
    set udg_F_Kui[2]='I03H'
    set udg_F_Kui[3]='I03I'
    set udg_F_Kui[4]='I03J'
    set udg_F_Kui[5]='I03K'
    set udg_F_Kui[6]='I03L'
    set udg_F_Kui[7]='I03M'
    set udg_F_Kui[8]='I03N'
    set udg_F_Kui[9]='I03O'
    set udg_F_Kui[10]='I03P'
    set udg_Ju_Lianyu[1]=gg_rct_______c2
    set udg_Ju_Lianyu[2]=gg_rct_______c5
    set udg_Ju_Lianyu[3]=gg_rct_______c6
    set udg_Ju_Lianyu[4]=gg_rct_______c7
    set udg_Ju_Lianyu[5]=gg_rct_______c8
    set udg_Ju_Lianyu[6]=gg_rct_______c9
    set udg_Ju_Lianyu[7]=gg_rct_______c3
    set udg_Ju_Lianyu[8]=gg_rct_______c10
    set udg_Ju_Lianyu[9]=gg_rct_______c11
    set udg_Ju_Lianyu[10]=gg_rct_______c12
    set udg_Ju_Lianyu[11]=gg_rct_______c13
    set udg_Ju_Lianyu[12]=gg_rct_______c14
    set udg_I_Er_diansi[1]=1
    set udg_I_Er_diansi[2]=0
    set udg_I_Er_diansi[3]=150
    call ShareEverythingWithTeam(Player(6))
    call ForForce(GetPlayersAll(), function Trig____________________027Func049A)
    call SetUnitUserData(gg_unit_ndrz_0019, 3)
    call SetUnitInvulnerable(gg_unit_Uwar_0274, true)
    call PauseUnitBJ(true, gg_unit_Uwar_0274)
    call SetUnitInvulnerable(gg_unit_Nkjx_0241, true)
    call SetUnitInvulnerable(UCrainax, true)
    call PauseUnitBJ(true, UCrainax)
    call PauseUnitBJ(true, gg_unit_Nkjx_0241)
    call ShowUnitHide(gg_unit_Nkjx_0241)
    call ShowUnit(gg_unit_Nman_0276, false)
    call ShowUnit(gg_unit_Utic_0275, false)
    call ShowUnit(gg_unit_Uwar_0274, false)
    call ShowUnit(gg_unit_Uear_0242, false)
    call ShowUnit(gg_unit_Npld_0253, false)
    call ShowUnit(gg_unit_h00K_0254, false)
endfunction
//===========================================================================
function InitTrig____________________027 takes nothing returns nothing
    set gg_trg____________________027=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________027, function Trig____________________027Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 008
//===========================================================================
function Trig____________________008Func052A takes nothing returns nothing
    call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY, true, GetEnumPlayer())
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct________9)
    set udg_I_Jingyan[GetConvertedPlayerId(GetEnumPlayer())]=1.00
endfunction
function Trig____________________008Func056Func001Func002A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig____________________008Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_F_gong[1]='I01V'
    set udg_F_gong[2]='I01W'
    set udg_F_gong[3]='I01X'
    set udg_F_gong[4]='I01Y'
    set udg_F_gong[5]='I01Z'
    set udg_F_gong[6]='I020'
    set udg_F_gong[7]='I021'
    set udg_F_gong[8]='I022'
    set udg_F_gong[9]='I023'
    set udg_F_gong[10]='I024'
    set udg_F_Jian[1]='I007'
    set udg_F_Jian[2]='I008'
    set udg_F_Jian[3]='I009'
    set udg_F_Jian[4]='I00A'
    set udg_F_Jian[5]='I00B'
    set udg_F_Jian[6]='I00C'
    set udg_F_Jian[7]='I00D'
    set udg_F_Jian[8]='I00E'
    set udg_F_Jian[9]='I00F'
    set udg_F_Jian[10]='I00G'
    set udg_F_Dun[1]='I00J'
    set udg_F_Dun[2]='I00K'
    set udg_F_Dun[3]='I00L'
    set udg_F_Dun[4]='I00M'
    set udg_F_Dun[5]='I00N'
    set udg_F_Dun[6]='I00O'
    set udg_F_Dun[7]='I00P'
    set udg_F_Dun[8]='I00Q'
    set udg_F_Dun[9]='I00R'
    set udg_F_Dun[10]='I00S'
    set udg_F_Bishou[1]='I01F'
    set udg_F_Bishou[2]='I01G'
    set udg_F_Bishou[3]='I01H'
    set udg_F_Bishou[4]='I01I'
    set udg_F_Bishou[5]='I01J'
    set udg_F_Bishou[6]='I01K'
    set udg_F_Bishou[7]='I01L'
    set udg_F_Bishou[8]='I01N'
    set udg_F_Bishou[9]='I01M'
    set udg_F_Bishou[10]='I01O'
    set udg_F_Jia[1]='I00V'
    set udg_F_Jia[2]='I00W'
    set udg_F_Jia[3]='I00X'
    set udg_F_Jia[4]='I00Y'
    set udg_F_Jia[5]='I00Z'
    set udg_F_Jia[6]='I010'
    set udg_F_Jia[7]='I011'
    set udg_F_Jia[8]='I012'
    set udg_F_Jia[9]='I013'
    set udg_F_Jia[10]='I014'
    set udg_Point_Fuhuo=GetRectCenter(gg_rct________1)
    call ForForce(GetPlayersAll(), function Trig____________________008Func052A)
    call YDWESaveUnitByString("Â§©Â∫≠" , "ÂΩìÂâç" , null)
    call YDWESaveIntegerByString("Â§©Â∫≠" , "Êï∞Èáè" , 0)
    call ShowUnitHide(gg_unit_h006_0252)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) ) then
        else
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfPlayerAllNull(ConvertedPlayer(GetForLoopIndexA())))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig____________________008Func056Func001Func002A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call PauseUnitBJ(true, gg_unit_Utic_0275)
    call PauseUnitBJ(true, gg_unit_Nman_0276)
    call SetUnitInvulnerable(gg_unit_Utic_0275, true)
    call SetUnitInvulnerable(gg_unit_Nman_0276, true)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________008 takes nothing returns nothing
    set gg_trg____________________008=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________008, function Trig____________________008Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 004
//===========================================================================
function Trig____________________004Actions takes nothing returns nothing
    call YDWESetAttackDamageWeaponType(ATTACK_TYPE_NORMAL , DAMAGE_TYPE_MAGIC , WEAPON_TYPE_WHOKNOWS)
endfunction
//===========================================================================
function InitTrig____________________004 takes nothing returns nothing
    set gg_trg____________________004=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________004, function Trig____________________004Actions)
endfunction
//===========================================================================
// Trigger: aa6
//===========================================================================
function Trig_aa6Func005A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, ( "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÁ≠âÂæÖÁé©ÂÆ∂1ÈÄâÊã©ÈöæÂ∫¶" ))
    call SetPlayerStateBJ(GetEnumPlayer(), PLAYER_STATE_RESOURCE_GOLD, 2000)
    call SetCameraFieldForPlayer(GetEnumPlayer(), CAMERA_FIELD_ZOFFSET, ( GetCameraTargetPositionZ() + 400.00 ), 0)
endfunction
function Trig_aa6Func011A takes nothing returns nothing
    call SetUnitInvulnerable(GetEnumUnit(), true)
endfunction
function Trig_aa6Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    call CameraSetSmoothingFactor(2.00)
     call InitAllAchievement()
    call InitMiJing()
    call CinematicModeBJ(true, YDWEGetPlayersByMapControlNull(MAP_CONTROL_USER))
    call ForForce(GetPlayersAll(), function Trig_aa6Func005A)
    call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_H01W_0207, "|cffff00ffÈ¶ñ‰ªªÂÖ≠ÁïåÁéã|r", null, "ÂØ∞ÂÆá‰πã‰∫âÔºåÊ∑∑Ê≤åÂàùÂºÄ„ÄÇÊòîÊó•Á•ûÈ≠î‰πã‰∫âÔºåÂ¶Ç‰ªäÂÜ•Áïå‰æµËöÄ„ÄÇÂú£ÂÖâÂÆùÁü≥ÊòØ‰∫îÁïå‰πãÊ†∏ÂøÉÔºåÊàë‰ª¨Ë¶ÅÂäøÂøÖË¶ÅÈòªÊ≠¢ËßäËßéÂú£ÂÖâÂÆùÁü≥ÁöÑÈ≠î‰∏éÂÜ•ÁöÑ‰æµÁï•„ÄÇ(ÂòâÂπ¥ÂçéÊ¥ªÂä®ÂÖ∑‰ΩìÂÜÖÂÆπÂèØÊåâ‰∏ãF9Êù•Êü•Áúã)
ËØ∑ËÆ§ÂáÜËΩÆÂõû‰πãÁã±ÂîØ‰∏ÄÂÆòÊñπÁæ§413359254,Ë∞®Èò≤‰∏äÂΩìÂèóÈ™ó.", bj_TIMETYPE_ADD, 5.00, true)
    call TriggerSleepAction(2.00)
    call CinematicModeBJ(false, bj_FORCE_PLAYER[0])
    call ChooseGameMode()
    set udg_Group=YDWEGetUnitsInRectAllNull(gg_rct_______c1)
    call ForGroupBJ(udg_Group, function Trig_aa6Func011A)
    call DestroyGroup(udg_Group)
    call ShowUnitHide(gg_unit_H01W_0207)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_aa6 takes nothing returns nothing
    set gg_trg_aa6=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventSingle(gg_trg_aa6, 0.00)
    call TriggerAddAction(gg_trg_aa6, function Trig_aa6Actions)
endfunction
//===========================================================================
// Trigger: ÈÄâÊã©ÈöæÂ∫¶ab
//===========================================================================
function Trig_____________abFunc001Func002A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫Â§©ÂõΩ„ÄÇ")
endfunction
function Trig_____________abFunc002Func003A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫Â§™Âπ≥„ÄÇ")
endfunction
function Trig_____________abFunc003Func003A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫ÂíåË∞ê„ÄÇ")
endfunction
function Trig_____________abFunc004Func003A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫Êàò‰∫âÔºåÈáëÈí±Ëé∑ÂæóÁéá‰∏∫80%ÔºåÊØèÂ§ö‰∏ÄÂêçÁé©ÂÆ∂Ëé∑ÂæóÁéá+10%Ôºå‰∏äÈôê100%„ÄÇ")
endfunction
function Trig_____________abFunc005Func003A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫ÁÇºÁã±ÔºåÈáëÈí±Ëé∑ÂæóÁéá‰∏∫70%ÔºåÊØèÂ§ö‰∏ÄÂêçÁé©ÂÆ∂Ëé∑ÂæóÁéá+10%Ôºå‰∏äÈôê100%„ÄÇ")
endfunction
function Trig_____________abFunc006Func004A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫Âú∞Áã±ÔºåÈáëÈí±Ëé∑ÂæóÁéá‰∏∫60%ÔºåÊØèÂ§ö‰∏ÄÂêçÁé©ÂÆ∂Ëé∑ÂæóÁéá+10%Ôºå‰∏äÈôê100%„ÄÇ")
endfunction
function Trig_____________abFunc007Func005A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫|cFFFF0000Êú´Êó•|rÔºåÈáëÈí±Ëé∑ÂæóÁéá‰∏∫50%ÔºåÊØèÂ§ö‰∏ÄÂêçÁé©ÂÆ∂Ëé∑ÂæóÁéá+10%Ôºå‰∏äÈôê100%„ÄÇ")
endfunction
function Trig_____________abFunc008Func005A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫|cffff00ffËΩÆÂõû|rÔºåÈáëÈí±Ëé∑ÂæóÁéá‰∏∫50%ÔºåÊØèÂ§ö‰∏ÄÂêçÁé©ÂÆ∂Ëé∑ÂæóÁéá+10%Ôºå‰∏äÈôê100%„ÄÇ")
endfunction
function Trig_____________abFunc009Func005A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫|cff008000‰∏áÂä´|rÔºåÈáëÈí±Ëé∑ÂæóÁéá‰∏∫50%ÔºåÊØèÂ§ö‰∏ÄÂêçÁé©ÂÆ∂Ëé∑ÂæóÁéá+10%Ôºå‰∏äÈôê100%„ÄÇ")
endfunction
function Trig_____________abFunc010Func006A takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, "|cFF99FF00„ÄêÊ∂àÊÅØ„Äë|rÂΩìÂâçÈöæÂ∫¶‰∏∫|cff993366Â§©È≠á|rÔºåÈáëÈí±Ëé∑ÂæóÁéá‰∏∫20%ÔºåÊØèÂ§ö‰∏ÄÂêçÁé©ÂÆ∂Ëé∑ÂæóÁéá+10%Ôºå‰∏äÈôê100%„ÄÇ")
endfunction
function Trig_____________abFunc014Func001A takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R00I', ( NanDiff + 1 ), GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R00S', NanDiff, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R001', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R005', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R00Q', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R004', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R003', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R000', udg_Nandu, GetEnumPlayer())
endfunction
function Trig_____________abFunc014Func003A takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R00I', ( NanDiff + 1 ), GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R00S', NanDiff, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R001', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R005', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R00Q', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R004', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R003', udg_Nandu, GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R000', udg_Nandu, GetEnumPlayer())
endfunction
function Trig_____________abFunc015A takes nothing returns nothing
    set playerName[GetConvertedPlayerId(GetEnumPlayer())]=GetPlayerName(GetEnumPlayer())
     call PrintCurrentPlatformLevel(GetEnumPlayer())
endfunction
function Trig_____________abActions takes nothing returns nothing
    local integer ydul_g
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[1] ) ) then
        set udg_Nandu=1
        call ForForce(GetPlayersAll(), function Trig_____________abFunc001Func002A)
        set udg_Nandu_JJJ=1
        set diffculty="Â§©ÂõΩ"
        set udg_IWang=2
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[2] ) ) then
        set udg_Nandu=2
        set udg_Nandu_JJJ=2
        call ForForce(GetPlayersAll(), function Trig_____________abFunc002Func003A)
        set udg_IWang=4
        set diffculty="Â§™Âπ≥"
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[3] ) ) then
        set udg_Nandu=4
        set udg_Nandu_JJJ=3
        call ForForce(GetPlayersAll(), function Trig_____________abFunc003Func003A)
        set udg_IWang=7
        set diffculty="ÂíåË∞ê"
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[4] ) ) then
        set udg_Nandu=6
        set udg_Nandu_JJJ=4
        call ForForce(GetPlayersAll(), function Trig_____________abFunc004Func003A)
        set udg_IWang=8
        set ydul_g=1
        loop
            exitwhen ydul_g > 6
            set udg_I_Jinqianhuodelv[ydul_g]=0.80
            set ydul_g=ydul_g + 1
        endloop
        set diffculty="Êàò‰∫â"
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[5] ) ) then
        set udg_Nandu=8
        set udg_Nandu_JJJ=5
        call ForForce(GetPlayersAll(), function Trig_____________abFunc005Func003A)
        set udg_IWang=10
        set ydul_g=1
        loop
            exitwhen ydul_g > 6
            set udg_I_Jinqianhuodelv[ydul_g]=0.70
            set ydul_g=ydul_g + 1
        endloop
        set diffculty="ÁÇºÁã±"
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[6] ) ) then
        set udg_Nandu=10
        set udg_Nandu_JJJ=6
        set NanDiff=1
        call ForForce(GetPlayersAll(), function Trig_____________abFunc006Func004A)
        set udg_IWang=12
        set ydul_g=1
        loop
            exitwhen ydul_g > 6
            set udg_I_Jinqianhuodelv[ydul_g]=0.60
            set ydul_g=ydul_g + 1
        endloop
        set diffculty="Âú∞Áã±"
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[7] ) ) then
        set udg_Nandu=20
        set udg_Nandu_JJJ=7
        set udg_Nandu_JJJ=7
        set NanDiff=2
        call ForForce(GetPlayersAll(), function Trig_____________abFunc007Func005A)
        set udg_IWang=16
        set ydul_g=1
        loop
            exitwhen ydul_g > 6
            set udg_I_Jinqianhuodelv[ydul_g]=0.50
            set ydul_g=ydul_g + 1
        endloop
        set diffculty="|cFFFF0000Êú´Êó•|r"
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[8] ) ) then
        set udg_Nandu=40
        set udg_Nandu_JJJ=7
        set udg_IWang=32
        set NanDiff=3
        call ForForce(GetPlayersAll(), function Trig_____________abFunc008Func005A)
        set ydul_g=1
        loop
            exitwhen ydul_g > 6
            set udg_I_Jinqianhuodelv[ydul_g]=0.50
            set ydul_g=ydul_g + 1
        endloop
        set diffculty="|cffff00ffËΩÆÂõû|r"
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[9] ) ) then
        set udg_Nandu=40
        set udg_Nandu_JJJ=8
        set udg_IWang=32
        set NanDiff=3
        call ForForce(GetPlayersAll(), function Trig_____________abFunc009Func005A)
        set ydul_g=1
        loop
            exitwhen ydul_g > 6
            set udg_I_Jinqianhuodelv[ydul_g]=0.50
            set ydul_g=ydul_g + 1
        endloop
        set diffculty="|cff008000‰∏áÂä´|r"
        call InitWanjie()
    else
    endif
    if ( ( GetClickedButtonBJ() == udg_X_Nandu_Chuangkou[10] ) ) then
        set udg_Nandu=40
        set udg_Nandu_JJJ=8
        set udg_IWang=32
        set NanDiff=3
        set IsTianyan=true
        call ForForce(GetPlayersAll(), function Trig_____________abFunc010Func006A)
        set ydul_g=1
        loop
            exitwhen ydul_g > 6
            set udg_I_Jinqianhuodelv[ydul_g]=0.00
            set ydul_g=ydul_g + 1
        endloop
        set diffculty="|cff993366Â§©È≠á|r"
        call InitWanjie()
        call InitTianyan()
    else
    endif
    call CinematicModeBJ(false, GetPlayersAll())
    call PrintDifficulty()
    call InitAllPIV()
    if ( ( IsTianyan ) ) then
        call ForForce(YDWEGetPlayersByMapControlNull(MAP_CONTROL_COMPUTER), function Trig_____________abFunc014Func001A)
    else
        call ForForce(GetPlayersAll(), function Trig_____________abFunc014Func003A)
    endif
    call ForForce(GetPlayersAll(), function Trig_____________abFunc015A)
    call TriggerExecute(gg_trg_D4)
    call StartTimerBJ(udg_Time_Start[1], false, 60.00)
    call CreateTimerDialogBJ(udg_Time_Start[1], "ÂáÜÂ§áÊó∂Èó¥")
    set udg_Time_Monster_C[1]=GetLastCreatedTimerDialogBJ()
    call TimerDialogDisplayBJ(true, udg_Time_Monster_C[1])
    call InitJungle()
    call CameraSetSmoothingFactor(2.00)
endfunction
//===========================================================================
function InitTrig_____________ab takes nothing returns nothing
    set gg_trg_____________ab=CreateTrigger()
    call DoNothing()
    call TriggerRegisterDialogEvent(gg_trg_____________ab, udg_X_Nandu)
    call TriggerAddAction(gg_trg_____________ab, function Trig_____________abActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 002
//===========================================================================
function Trig____________________002Actions takes nothing returns nothing
    call SetUnitPositionLoc(udg_H[GetConvertedPlayerId(GetTriggerPlayer())], udg_Point_Fuhuo)
    call PanCameraToTimedLocForPlayer(GetTriggerPlayer(), udg_Point_Fuhuo, 0.20)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]), GetUnitY(udg_H[GetConvertedPlayerId(GetTriggerPlayer())])))
endfunction
//===========================================================================
function InitTrig____________________002 takes nothing returns nothing
    set gg_trg____________________002=CreateTrigger()
    call DoNothing()

        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(0), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(1), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(2), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(3), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(4), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(5), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(6), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(7), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(8), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(9), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(10), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(11), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(12), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(13), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(14), "HG", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________002, Player(15), "HG", true)
    call TriggerAddAction(gg_trg____________________002, function Trig____________________002Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 030
//===========================================================================
function Trig____________________030Actions takes nothing returns nothing
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I003' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        call SetHeroStr(udg_Unit, ( GetHeroStr(udg_Unit, false) + 10 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I01A' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        call SetHeroStr(udg_Unit, ( GetHeroStr(udg_Unit, false) + 100 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I02Y' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        call SetHeroStr(udg_Unit, ( GetHeroStr(udg_Unit, false) + 500 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'sand' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        call SetHeroStr(udg_Unit, ( GetHeroStr(udg_Unit, false) + 10000 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05G' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, 10000)
            return
        else
        endif
        call SetHeroAgi(udg_Unit, ( GetHeroAgi(udg_Unit, false) + 10000 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I070' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, 10000)
            return
        else
        endif
        call SetHeroInt(udg_Unit, ( GetHeroInt(udg_Unit, false) + 10000 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'shar' ) ) then
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.10 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÂΩìÂâçÁöÑÊäÄËÉΩ‰º§ÂÆ≥Âä†Êàê‰∏∫" + ( I2S(R2I(( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I004' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, 10)
            return
        else
        endif
        call SetHeroAgi(udg_Unit, ( GetHeroAgi(udg_Unit, false) + 10 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I018' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, 100)
            return
        else
        endif
        call SetHeroAgi(udg_Unit, ( GetHeroAgi(udg_Unit, false) + 100 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I02Z' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, 500)
            return
        else
        endif
        call SetHeroAgi(udg_Unit, ( GetHeroAgi(udg_Unit, false) + 500 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I005' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, 10)
            return
        else
        endif
        call SetHeroInt(udg_Unit, ( GetHeroInt(udg_Unit, false) + 10 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I019' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, 100)
            return
        else
        endif
        call SetHeroInt(udg_Unit, ( GetHeroInt(udg_Unit, false) + 100 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I030' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, 500)
            return
        else
        endif
        call SetHeroInt(udg_Unit, ( GetHeroInt(udg_Unit, false) + 500 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'tkno' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        if ( ( GetPlayerState(GetOwningPlayer(GetManipulatingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= GetHeroLevel(udg_Unit) ) ) then
            call AdjustPlayerStateBJ(( - 1 * GetHeroLevel(udg_Unit) ), GetOwningPlayer(GetManipulatingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call SetHeroLevelBJ(udg_Unit, ( GetHeroLevel(udg_Unit) + 1 ), true)
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF9900„ÄêÊ∂àÊÅØ„Äë|rÊú®Â§¥‰∏çÂ§ü„ÄÇ")
        endif
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'rspl' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        call UnitAddItemByIdSwapped('manh', udg_Unit)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'tst2' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]
        call UnitAddItemByIdSwapped('tstr', udg_Unit)
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________030 takes nothing returns nothing
    set gg_trg____________________030=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________030, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddAction(gg_trg____________________030, function Trig____________________030Actions)
endfunction
//===========================================================================
// Trigger: ÈÄâÊã©Ëã±ÈõÑ„ÄÄ„ÄÄ„ÄÄ
//===========================================================================
function Trig______________________uConditions takes nothing returns boolean
    return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) ) and ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true ) and ( udg_T1[GetConvertedPlayerId(GetTriggerPlayer())] == false ) )
endfunction
function Trig______________________uFunc003Func027Func003T takes nothing returns nothing
    if ( ( GetUnitUserData(gg_unit_nmre_0234) != 1 ) ) then
        call DisplayTimedTextToPlayer(GetOwningPlayer(gg_unit_Eevi_0020), 0, 0, 30, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰Ω†ÈÄâÁöÑËã±ÈõÑ|cFFFFCC66ÊπÆÁÅ≠|rÊã•ÊúâÂÖ®ÂõæÈó™ÁÉÅÁöÑÊäÄËÉΩÔºå‰ΩøÁî®|cffffff00M|rÈîÆÊù•‰ΩøÁî®ËØ•ÊäÄËÉΩ„ÄÇ")
    else
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig______________________uFunc003Func038Func005T takes nothing returns nothing
    if ( ( GetUnitUserData(gg_unit_ncp3_0238) != 1 ) ) then
        call DisplayTimedTextToPlayer(GetOwningPlayer(gg_unit_Etyr_0017), 0, 0, 30, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰Ω†ÈÄâÁöÑËã±ÈõÑ|cFFFF3399Ê≥∞ÈõÖ|rÊã•ÊúâÊúàÁ•û‰πãÁÆ≠ÁöÑÊäÄËÉΩÔºå‰ΩøÁî®|cffffff00D|rÈîÆÊù•‰ΩøÁî®ËØ•ÊäÄËÉΩ„ÄÇ")
    else
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig______________________uActions takes nothing returns nothing
    local integer ydul_g
    local timer ydl_timer
    if ( ( udg_T2[GetConvertedPlayerId(GetTriggerPlayer())] == true ) and ( ( GetTriggerUnit() != gg_unit_Hapm_0255 ) or ( IsPIV(GetTriggerPlayer()) ) or ( GetXinglongSelectedCon(GetTriggerPlayer()) ) ) and ( ( GetTriggerUnit() != gg_unit_Hant_0205 ) or ( IsPIV(GetTriggerPlayer()) ) or ( GetHuanyiSelectedCon(GetTriggerPlayer()) ) ) and ( ( GetTriggerUnit() != gg_unit_Hkal_0208 ) or ( IsPIV(GetTriggerPlayer()) ) or ( GetMengjiSelectedCon(GetTriggerPlayer()) ) ) and ( ( GetTriggerUnit() != gg_unit_Nsjs_0209 ) or ( IsPIV(GetTriggerPlayer()) ) or ( GetCanglingSelectedCon(GetTriggerPlayer()) ) ) ) then
        if ( ( IsUnitIsSpin(GetTriggerUnit()) ) ) then
                call ChooseSpinHero(GetTriggerPlayer() , GetTriggerUnit())
            set ydl_timer=null
            return
        else
        endif
        if ( ( IChooseAura != 0 and udg_H[GetConvertedPlayerId(GetTriggerPlayer())] == xinglong ) ) then
            call ChooseAura(GetTriggerUnit())
            set ydl_timer=null
            return
        else
        endif
        set udg_T1[GetConvertedPlayerId(GetTriggerPlayer())]=true
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call SetUnitPositionLoc(GetTriggerUnit(), udg_Point)
        call SetUnitOwner(GetTriggerUnit(), GetTriggerPlayer(), true)
        call PanCameraToTimedLocForPlayer(GetTriggerPlayer(), udg_Point, 0.20)
        call RemoveLocation(udg_Point)
        set udg_RENSHU=( udg_RENSHU + 1 )
        set udg_H[GetConvertedPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
        call SetPlayerStateBJ(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_FOOD_CAP, 1)
        call YDWEMultiboardSetItemValueBJNull(udg_D , 1 , ( GetConvertedPlayerId(GetTriggerPlayer()) + 1 ) , GetUnitName(GetTriggerUnit()))
        call YDWEMultiboardSetItemValueBJNull(udg_D , 7 , ( GetConvertedPlayerId(GetTriggerPlayer()) + 1 ) , "Â≠òÊ¥ª")
        call YDWEMultiboardSetItemValueBJNull(udg_D , 6 , ( GetConvertedPlayerId(GetTriggerPlayer()) + 1 ) , "1")
        if ( ( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetTriggerPlayer())] < 1.00 ) ) then
            set ydul_g=1
            loop
                exitwhen ydul_g > 6
                set udg_I_Jinqianhuodelv[ydul_g]=( udg_I_Jinqianhuodelv[ydul_g] + 0.10 )
                set ydul_g=ydul_g + 1
            endloop
        else
        endif
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâçÈáëÈí±Ëé∑ÂæóÁéá‰∏∫" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetTriggerPlayer())] * 100.00 ))) + "%„ÄÇ" ) ))
        set udg_Point=GetRectCenter(udg_Ju_Lianyu[GetConvertedPlayerId(GetTriggerPlayer())])
        call CreateTextTagLocBJ("Á¨¨1Â±Ç", udg_Point, 0, 25.00, 100.00, 100, 0.00, 25.00)
        set udg_Piaofu_Lianyu[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedTextTag()
        call RemoveLocation(udg_Point)
        call LeaderboardSetLabel(udg_Paihang[GetConvertedPlayerId(GetTriggerPlayer())], ( GetUnitName(GetTriggerUnit()) + "Â±ûÊÄßÔºàËæìÂÖ•\"-yc\"ÈöêËóèÔºâ" ))
        call PlayerSetLeaderboard(GetTriggerPlayer(), udg_Paihang[GetConvertedPlayerId(GetTriggerPlayer())])
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=10
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetTriggerPlayer()) + 6 )])
            call CreateNUnitsAtLoc(1, 'nspr', Player(11), udg_Point, GetRandomDirectionDeg())
            call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
            call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
            call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetTriggerPlayer())])
            call RemoveLocation(udg_Point)
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
         call InitAchievementName(GetTriggerUnit())
        if ( ( GetTriggerUnit() == gg_unit_Hvwd_0016 ) ) then
            call InitMoqi(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp")
            set udg_Unit_Qixing[1]=CreateUnit(GetTriggerPlayer(), 'ewsp', YDWECoordinateX(( GetUnitX(moqi) + 400.00 )), YDWECoordinateY(GetUnitY(moqi)), 90.00)
            set udg_Unit_Qixing[2]=CreateUnit(GetTriggerPlayer(), 'e006', YDWECoordinateX(( GetUnitX(moqi) + 249.39 )), YDWECoordinateY(( GetUnitY(moqi) + 312.73 )), 141.42)
            set udg_Unit_Qixing[3]=CreateUnit(GetTriggerPlayer(), 'e008', YDWECoordinateX(( GetUnitX(moqi) - 89.00 )), YDWECoordinateY(( GetUnitY(moqi) + 389.97 )), 192.84)
            set udg_Unit_Qixing[4]=CreateUnit(GetTriggerPlayer(), 'e009', YDWECoordinateX(( GetUnitX(moqi) - 360.38 )), YDWECoordinateY(( GetUnitY(moqi) + 173.55 )), 244.27)
            set udg_Unit_Qixing[5]=CreateUnit(GetTriggerPlayer(), 'e00A', YDWECoordinateX(( GetUnitX(moqi) - 360.38 )), YDWECoordinateY(( GetUnitY(moqi) - 173.55 )), 295.71)
            set udg_Unit_Qixing[6]=CreateUnit(GetTriggerPlayer(), 'e007', YDWECoordinateX(( GetUnitX(moqi) - 89.00 )), YDWECoordinateY(( GetUnitY(moqi) - 389.97 )), 347.14)
            set udg_Unit_Qixing[7]=CreateUnit(GetTriggerPlayer(), 'e005', YDWECoordinateX(( GetUnitX(moqi) + 249.39 )), YDWECoordinateY(( GetUnitY(moqi) - 312.73 )), 398.57)
            call UnitAddAbilityBJ('A066', gg_unit_Hvwd_0016)
            call EnableTrigger(gg_trg_______13)
            call EnableTrigger(gg_trg_______17)
            set udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 6 )] + 0.20 )
            set udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 12 )] + 0.20 )
            set udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 0 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 0 )] + 0.20 )
            set udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 24 )] + 0.50 )
            set udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 30 )] + 0.20 )
            set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetTriggerPlayer())]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetTriggerPlayer())] + 0.20 )
            call TriggerExecute(gg_trg_papa10____________u)
            call TriggerExecute(gg_trg_papa9____________u)
            call TriggerExecute(gg_trg_papa8____________u)
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Hjai_0014 ) ) then
            call InitLingxue(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNJaina.blp")
            call EnableTrigger(gg_trg_____________11)
            call EnableTrigger(gg_trg_____________23)
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Eevi_0020 ) ) then
            call InitYanmie(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp")
            set ydl_timer=CreateTimer()
            call TimerStart(ydl_timer, 5.00, true, function Trig______________________uFunc003Func027Func003T)
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Ocbh_0251 ) ) then
            call InitKaisa(GetTriggerUnit())
            call EnableTrigger(gg_trg_____________7)
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Udea_0279 ) ) then
            call InitHeiyan(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Hant_0205 ) ) then
            call InitHuanyi(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNMedivh.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Hkal_0208 ) ) then
            call InitMengji(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNwenlei.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Usyl_0215 ) ) then
            call InitXiaoyue(GetTriggerUnit())
            call EnableTrigger(gg_trg_____________65)
            call EnableTrigger(gg_trg_____________66)
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_E00D_0210 ) ) then
            call InitSeyu(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNWarden2.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Uktl_0018 ) ) then
            call InitXuanxue(GetTriggerUnit())
            call EnableTrigger(gg_trg_____________35)
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp")
            if ( ( GetUnitUserData(gg_unit_n00W_0038) != 1 ) ) then
                call DisplayTimedTextToPlayer(GetOwningPlayer(gg_unit_Uktl_0018), 0, 0, 30, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰Ω†ÈÄâÁöÑËã±ÈõÑ|cFF33FF33ÁéÑÈõ™|rÊã•ÊúâÁÅµÈ≠Ç‰æµÂÖ•ÁöÑÊäÄËÉΩÔºå‰ΩøÁî®|cffffff00D|rÈîÆÊù•‰ΩøÁî®ËØ•ÊäÄËÉΩ„ÄÇ")
            else
                call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
                call DestroyTimer(GetExpiredTimer())
            endif
        else
        endif
        call ShowUnitHide(gg_unit_h006_0252)
        if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
            call InitChenji(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNArthas.blp")
            call EnableTrigger(gg_trg_____________122)
            call EnableTrigger(gg_trg_____________128)
            call EnableTrigger(gg_trg_____________132)
            call SetPlayerAbilityAvailableBJ(false, 'A0FJ', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0FQ', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0FP', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0FL', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0FM', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0FK', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0FI', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0FO', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0FN', GetTriggerPlayer())
            call SetPlayerAbilityAvailableBJ(false, 'A0G4', GetTriggerPlayer())
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Othr_0256 ) ) then
            call InitSheyan(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNThrall.blp")
            call EnableTrigger(gg_trg_____________108)
            call EnableTrigger(gg_trg_____________116)
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Etyr_0017 ) ) then
            call InitTaiya(GetTriggerUnit())
            call SetUnitUserData(gg_unit_h006_0252, 0)
            call EnableTrigger(gg_trg_______CD)
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp")
            set ydl_timer=CreateTimer()
            call TimerStart(ydl_timer, 5.00, true, function Trig______________________uFunc003Func038Func005T)
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Nbbc_0235 ) ) then
            set bajue=GetTriggerUnit()
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp")
            set udg_Jiansheng=3
            call EnableTrigger(gg_trg_______62)
            call EnableTrigger(gg_trg_______134)
            call EnableTrigger(gg_trg_______133)
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_E00C_0217 ) ) then
            call InitHanshang(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNHeroAlchemist.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Hhkl_0218 ) ) then
            call InitSichen(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNKnightOfTheEbonBlade.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Hapm_0255 ) ) then
            call InitXinglong(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNXinglong.blp")
        else
        endif
        if ( ( GetTriggerUnit() == gg_unit_Nsjs_0209 ) ) then
            call InitCangling(GetTriggerUnit())
            call MultiboardSetItemIcon(MultiboardGetItem(udg_D, GetConvertedPlayerId(GetTriggerPlayer()), 0), "ReplaceableTextures\\CommandButtons\\BTNEarthBrewmaster.blp")
        else
        endif
        call TriggerExecute(gg_trg_D7)
        call SetUnitInvulnerable(( udg_H[GetConvertedPlayerId(GetTriggerPlayer())] ), false)
        call UnitAddItemByIdSwapped('spsh', udg_H[GetConvertedPlayerId(GetTriggerPlayer())])
        call InitPIVHero(udg_H[GetConvertedPlayerId(GetTriggerPlayer())])
         call SetDenglu(GetTriggerPlayer())
         if ( IsJianianhua() ) then
          call UnitAddItemByIdSwapped('I06N', udg_H[GetConvertedPlayerId(GetTriggerPlayer())])
         call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetTriggerPlayer()))
         endif
    else
        set udg_T2[GetConvertedPlayerId(GetTriggerPlayer())]=true
        call TriggerSleepAction(0.30)
        set udg_T2[GetConvertedPlayerId(GetTriggerPlayer())]=false
    endif
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig______________________u takes nothing returns nothing
    set gg_trg______________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(0), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(1), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(2), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(3), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(4), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(5), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(6), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(7), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(8), true)
    call TriggerRegisterPlayerSelectionEventBJ(gg_trg______________________u, Player(9), true)
    call TriggerAddCondition(gg_trg______________________u, Condition(function Trig______________________uConditions))
    call TriggerAddAction(gg_trg______________________u, function Trig______________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 011
//===========================================================================
function Trig____________________011Conditions takes nothing returns boolean
    return ( ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true ) and ( GetPlayerController(GetOwningPlayer(GetDyingUnit())) == MAP_CONTROL_USER ) and ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetDyingUnit()) > 2.00 ) and ( GetUnitTypeId(GetDyingUnit()) != 'O001' ) and ( GetUnitTypeId(GetDyingUnit()) != 'O001' ) and ( GetUnitTypeId(GetDyingUnit()) != 'O000' ) )
endfunction
function Trig____________________011Func002Func003A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig____________________011Func009Func002Func004T takes nothing returns nothing
    if ( ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) - 1 ) != 1 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) - 1 ))
        call YDWEMultiboardSetItemValueBJNull(udg_D , 7 , ( GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + 1 ) , I2S(( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) - 1 )))
    else
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, GetRectCenter(gg_rct______________100))
        call ReviveHeroLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F), true)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
        set udg_Unit=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)
        if ( ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'ICX1') == true ) ) then
            			call ImmuteDamageInterval(udg_Unit , 3)
        else
        endif
        if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'rnec')) == 'rnec' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'rst1')) == 'rst1' ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'ICX1') == true ) ) ) then
            call SetUnitManaBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), 1000.00)
        else
            if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'shas')) == 'shas' ) ) then
                call SetUnitManaBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), 600.00)
            else
                if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'tcas')) == 'spro' ) ) then
                    call SetUnitManaBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), 500.00)
                else
                    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'phea')) == 'phea' ) ) then
                        call SetUnitManaBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), 400.00)
                    else
                        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'rin1')) == 'rin1' ) ) then
                            call SetUnitManaBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), 300.00)
                        else
                            if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'ward')) == 'ward' ) ) then
                                call SetUnitManaBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), 200.00)
                            else
                                if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'rde1')) == 'rde1' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'I027')) == 'I027' ) ) ) then
                                    call SetUnitManaBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), 100.00)
                                else
                                endif
                            endif
                        endif
                    endif
                endif
            endif
        endif
        call YDWEMultiboardSetItemValueBJNull(udg_D , 7 , ( GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + 1 ) , "Â≠òÊ¥ª")
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig____________________011Func009Func002Func014002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(xiaoyue)) == true ) ) )
endfunction
function Trig____________________011Func009Func002Func016A takes nothing returns nothing
    call UnitDamageTargetBJ(xiaoyue, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig____________________011Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call PlaySoundBJ(gg_snd_die)
    if ( ( BJuexing1[GetConvertedPlayerId(GetOwningPlayer(chenji))] == false ) and ( GetDyingUnit() == gg_unit_Harf_0262 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfTypeIdAllNull('n017'))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig____________________011Func002Func003A)
        call GroupClear(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    else
    endif
    if ( ( GetUnitTypeId(GetTriggerUnit()) == 'N018' ) ) then
        call RemoveUnit(GetTriggerUnit())
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
        call TLeaveDiamondRegion1Act()
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_group=null
        set ydl_unit=null
        set ydl_timer=null
        return
    else
    endif
    // È≠îÂÖΩ
    call RemoveBeast(GetDyingUnit())
     call SaveDeathAchievement(GetOwningPlayer(GetDyingUnit()))
    if ( ( TLifeConnect != null ) ) then
        call DieTogether()
    else
    endif
    	call ZheBeidong(GetTriggerUnit())
    if ( ( IsGuangyinRevive() == false ) ) then
        if ( ( IsUnitInRange(GetDyingUnit(), gg_unit_h00K_0254, RJ3(xiaoyue , 99999 , 900)) == true ) and ( GetUnitUserData(gg_unit_h00K_0254) > 0 ) ) then
            call DestroyEffect(AddSpecialEffect("war3mapImported\\DarkNova.mdx", GetUnitX(gg_unit_h00K_0254), GetUnitY(gg_unit_h00K_0254)))
            call SetUnitUserData(gg_unit_h00K_0254, ( GetUnitUserData(gg_unit_h00K_0254) - 1 ))
            call SetTextTagTextBJ(udg_Piaofu_Shazhen, ( I2S(GetUnitUserData(gg_unit_h00K_0254)) + "Êª¥Ë°Ä" ), 25.00)
            if ( ( GetUnitUserData(gg_unit_h00K_0254) <= 0 ) ) then
                call UnitRemoveAbilityBJ('A0DT', gg_unit_h00K_0254)
                call UnitRemoveAbilityBJ('A0DU', gg_unit_h00K_0254)
                call UnitRemoveAbilityBJ('A0AF', gg_unit_h00K_0254)
                call ShowUnitHide(gg_unit_h00K_0254)
                call DestroyTextTag(udg_Piaofu_Shazhen)
            else
            endif
            set udg_Unit=xiaoyue
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * ( RJ2(xiaoyue , 1.5 , 0.75) ) ))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_h00K_0254))
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(900.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig____________________011Func009Func002Func014002003))
            call DisplayTextToPlayer(GetOwningPlayer(xiaoyue), 0, 0, ( "|cFFFF66CC„Äê|r" + ( "|cffff00ffÈªØÈªëÊùÄÈòµ|r" + ( "|cFFFF66CC„Äë|r‰º§ÂÆ≥Âä†Êàê" + ( I2S(R2I(( ( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(xiaoyue))] * 100.00 ) - 99.00 ))) + ( "%Ôºå‰º§ÂÆ≥ÂÄº" + ( I2S(R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))) + "„ÄÇ" ) ) ) ) ) ))
            call ForGroupBJ(udg_Group, function Trig____________________011Func009Func002Func016A)
            call DestroyGroup(udg_Group)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetDyingUnit())) + ( "Ë¢´" + ( GetUnitName(GetKillingUnitBJ()) + ( "Âπ≤Êéâ‰∫ÜÔºåÁ≠âÂæÖ" + ( "3ÁßíÂ§çÊ¥ª„ÄÇ" ) ) ) ) ) ))
            call YDWEPolledWaitNull(3.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_h00K_0254))
            call ReviveHeroLoc(GetDyingUnit(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), true)
            call SetUnitManaBJ(GetDyingUnit(), ( SquareRoot(I2R(GetHeroLevel(xiaoyue))) * 33.00 ))
            if ( ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(xiaoyue))] ) ) then
                call ImmuteDamageInterval(GetDyingUnit() , 2)
            else
            endif
            call IncreaseZhenfuhuo()
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        else
            if ( ( YDWEUnitHasItemOfTypeBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'rst1') or YDWEUnitHasItemOfTypeBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'ICX1') ) ) then
                call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 3.00)
            else
                if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'tgrh')) == 'tgrh' ) ) then
                    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 4.00)
                else
                    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'plcl')) == 'plcl' ) ) then
                        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 8.00)
                    else
                        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'tcas')) == 'tcas' ) ) then
                            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 10.00)
                        else
                            if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'tsct')) == 'tsct' ) ) then
                                call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 12.00)
                            else
                                if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'skul')) == 'skul' ) ) then
                                    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 14.00)
                                else
                                    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'vamp')) == 'vamp' ) ) then
                                        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 16.00)
                                    else
                                        if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'I01U')) == 'I01U' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] , 'rde2')) == 'rde2' ) ) ) then
                                            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 18.00)
                                        else
                                            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 20.00)
                                        endif
                                    endif
                                endif
                            endif
                        endif
                    endif
                endif
            endif
            call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetDyingUnit())) + ( "Ë¢´" + ( GetUnitName(GetKillingUnitBJ()) + ( "Âπ≤Êéâ‰∫ÜÔºåÁ≠âÂæÖ" + ( I2S(R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))) + "ÁßíÂ§çÊ¥ª„ÄÇ" ) ) ) ) ) ))
            call YDWEMultiboardSetItemValueBJNull(udg_D , 7 , ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1 ) , "Ê≠ª‰∫°")
            set ydl_timer=CreateTimer()
            call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, GetDyingUnit())
            call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xDD66C616, R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)))
            call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            call TimerStart(ydl_timer, 1.00, true, function Trig____________________011Func009Func002Func004T)
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig____________________011 takes nothing returns nothing
    set gg_trg____________________011=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________011, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg____________________011, Condition(function Trig____________________011Conditions))
    call TriggerAddAction(gg_trg____________________011, function Trig____________________011Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 012
//===========================================================================
function Trig____________________012Func008003002 takes nothing returns boolean
    return ( ( GetFilterUnit() != udg_H[GetConvertedPlayerId(GetTriggerPlayer())] ) )
endfunction
function Trig____________________012Func009A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig____________________012Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SetUnitPathing(GetTriggerUnit(), false)
    call PlaySoundBJ(gg_snd_f_baoshi)
    call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF9900„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetTriggerPlayer()) + "ÈÄÄÂá∫‰∫ÜÊ∏∏Êàè„ÄÇ" ) ))
    call SetUnitPositionLoc(udg_H[GetConvertedPlayerId(GetTriggerPlayer())], udg_Point_Fuhuo)
    call YDWEMultiboardSetItemValueBJNull(udg_D , 2 , ( GetConvertedPlayerId(GetTriggerPlayer()) + 1 ) , "Á¶ªÂºÄ")
    call DestroyTextTag(udg_Piaofu_Zhandouli[GetConvertedPlayerId(GetTriggerPlayer())])
    call DestroyTextTag(udg_Piaofu_Lianyu[GetConvertedPlayerId(GetTriggerPlayer())])
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfPlayerMatchingNull(GetTriggerPlayer() , Condition(function Trig____________________012Func008003002)))
    call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig____________________012Func009A)
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call SetUnitPosition(udg_H[GetConvertedPlayerId(GetTriggerPlayer())], GetRectCenterX(gg_rct_QuitRegion), GetRectCenterY(gg_rct_QuitRegion))
    call SetUnitInvulnerable(udg_H[GetConvertedPlayerId(GetTriggerPlayer())], true)
    call PauseUnitBJ(true, udg_H[GetConvertedPlayerId(GetTriggerPlayer())])
    call ShowUnitHide(udg_H[GetConvertedPlayerId(GetTriggerPlayer())])
    set udg_RENSHU=( udg_RENSHU - 1 )
    if ( ( udg_H[GetConvertedPlayerId(GetTriggerPlayer())] == seyu ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfTypeIdAllNull('ndgt'))
        call RemoveUnit(GetEnumUnit())
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    else
    endif
    call CloseExerciseTimer(GetTriggerPlayer())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________012 takes nothing returns nothing
    set gg_trg____________________012=CreateTrigger()
    call DoNothing()
    call TriggerRegisterPlayerEventLeave(gg_trg____________________012, Player(0))
    call TriggerRegisterPlayerEventLeave(gg_trg____________________012, Player(1))
    call TriggerRegisterPlayerEventLeave(gg_trg____________________012, Player(2))
    call TriggerRegisterPlayerEventLeave(gg_trg____________________012, Player(3))
    call TriggerRegisterPlayerEventLeave(gg_trg____________________012, Player(4))
    call TriggerRegisterPlayerEventLeave(gg_trg____________________012, Player(5))
    call TriggerAddAction(gg_trg____________________012, function Trig____________________012Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 035
//===========================================================================
function Trig____________________035Conditions takes nothing returns boolean
    return ( ( GetEventDamage() > 2.00 ) )
endfunction
function Trig____________________035Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
     set BBaseDamage=true
    call PlaySoundBJ(gg_snd_jidibeida)
    call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂü∫Âú∞ÂèóÂà∞ÊîªÂáªÔºÅËøòÂâ©‰∏ã" + ( I2S(R2I(( ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_haro_0030) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_haro_0030) ) * 100.00 ))) + "%|rÁöÑË°ÄÈáèÔºåËØ∑ÈÄüÂõûÈò≤ÔºÅ" ) ))
    call YDWEPolledWaitNull(1.00)
    call EnableTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________035 takes nothing returns nothing
    set gg_trg____________________035=CreateTrigger()
    call DoNothing()
    call TriggerRegisterUnitEvent(gg_trg____________________035, gg_unit_haro_0030, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(gg_trg____________________035, Condition(function Trig____________________035Conditions))
    call TriggerAddAction(gg_trg____________________035, function Trig____________________035Actions)
endfunction
//===========================================================================
// Trigger: ÊäÄËÉΩHPÁöÑÂàùÂßãÂåñ
//===========================================================================
function Trig_______HP____________uActions takes nothing returns nothing
    set udg_HP_Jineng[11]='A00T'
    set udg_HP_Jineng[12]='A00S'
    set udg_HP_Jineng[13]='A00V'
    set udg_HP_Jineng[14]='A00W'
    set udg_HP_Jineng[15]='A00X'
    set udg_HP_Jineng[16]='A00Y'
    set udg_HP_Jineng[17]='A00Z'
    set udg_HP_Jineng[18]='A010'
    set udg_HP_Jineng[19]='A011'
    set udg_HP_Jineng[21]='A012'
    set udg_HP_Jineng[22]='A017'
    set udg_HP_Jineng[23]='A01H'
    set udg_HP_Jineng[24]='A01I'
    set udg_HP_Jineng[25]='A01J'
    set udg_HP_Jineng[26]='A01K'
    set udg_HP_Jineng[27]='A01L'
    set udg_HP_Jineng[28]='A01O'
    set udg_HP_Jineng[29]='A01P'
    set udg_HP_Jineng[31]='A01Q'
    set udg_HP_Jineng[32]='A01R'
    set udg_HP_Jineng[33]='A01T'
    set udg_HP_Jineng[34]='A01U'
    set udg_HP_Jineng[35]='A01V'
    set udg_HP_Jineng[36]='A01W'
    set udg_HP_Jineng[37]='A01X'
    set udg_HP_Jineng[38]='A01Y'
    set udg_HP_Jineng[39]='A01Z'
    set udg_HP_Jineng[41]='A020'
    set udg_HP_Jineng[42]='A021'
    set udg_HP_Jineng[43]='A022'
    set udg_HP_Jineng[44]='A023'
    set udg_HP_Jineng[45]='A024'
    set udg_HP_Jineng[46]='A025'
    set udg_HP_Jineng[47]='A026'
    set udg_HP_Jineng[48]='A027'
    set udg_HP_Jineng[49]='A028'
    set udg_HP_Jineng[51]='A029'
    set udg_HP_Jineng[52]='A02A'
    set udg_HP_Jineng[53]='A02B'
    set udg_HP_Jineng[54]='A02C'
    set udg_HP_Jineng[55]='A02D'
    set udg_HP_Jineng[56]='A02E'
    set udg_HP_Jineng[57]='A02F'
    set udg_HP_Jineng[58]='A02G'
    set udg_HP_Jineng[59]='A02H'
    set udg_HP_Jineng[61]='A02I'
    set udg_HP_Jineng[62]='A02J'
    set udg_HP_Jineng[63]='A02K'
    set udg_HP_Jineng[64]='A02L'
    set udg_HP_Jineng[65]='A02M'
    set udg_HP_Jineng[66]='A02N'
    set udg_HP_Jineng[67]='A02O'
    set udg_HP_Jineng[68]='A02P'
    set udg_HP_Jineng[69]='A02Q'
    set udg_HP_Jineng[71]='A02R'
    set udg_HP_Jineng[72]='A02S'
    set udg_HP_Jineng[73]='A02T'
    set udg_HP_Jineng[74]='A02U'
    set udg_HP_Jineng[75]='A02V'
    set udg_HP_Jineng[76]='A02W'
    set udg_HP_Jineng[77]='A02X'
    set udg_HP_Jineng[78]='A02Y'
    set udg_HP_Jineng[79]='A033'
    set udg_HP_Jineng[81]='A034'
    set udg_HP_Jineng[82]='A035'
    set udg_HP_Jineng[83]='A037'
    set udg_HP_Jineng[84]='A038'
    set udg_HP_Jineng[85]='A039'
    set udg_HP_Jineng[86]='A03B'
    set udg_HP_Jineng[87]='A03C'
    set udg_HP_Jineng[88]='A03D'
    set udg_HP_Jineng[89]='A03E'
    set udg_HP_Jineng[91]='A03F'
    set udg_HP_Jineng[92]='A03G'
    set udg_HP_Jineng[93]='A03H'
    set udg_HP_Jineng[94]='A03I'
    set udg_HP_Jineng[95]='A03J'
    set udg_HP_Jineng[96]='A03L'
    set udg_HP_Jineng[97]='A03P'
    set udg_HP_Jineng[98]='A03R'
    set udg_HP_Jineng[99]='A03U'
endfunction
//===========================================================================
function InitTrig_______HP____________u takes nothing returns nothing
    set gg_trg_______HP____________u=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_______HP____________u, function Trig_______HP____________uActions)
endfunction
//===========================================================================
// Trigger: Ë£ÖÂ§áËé∑ÂæóÂ±ûÊÄßÁ±ªb
//
// Ë£ÖÂ§áÁöÑÂ±ûÊÄß GJ ÊîªÂáª LLÂäõÈáè ZLÊô∫Âäõ MJÊïèÊç∑ JNÊäÄËÉΩÂä†Êàê FYÈò≤Âæ° HP- -‰∏çÁî®ËØ¥‰∫Ü LLJÂäõÈáèÂä†Êàê   MJJÊïèÊç∑Âä†Êàê   ZLJ Êô∫ÂäõÂä†Êàê  HPJÁîüÂëΩÂä†Êàê  GJJÊîªÂáªÂä†Êàê   FYJÈò≤Âæ°Âä†Êàê   SHJ ‰º§ÂÆ≥Âä†Êàê
// 3W‰∏âÂõ¥
//===========================================================================
function Trig______________________bConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) and ( GetManipulatedItem() != null ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( UDepot[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] != GetTriggerUnit() ) and ( IsSwitchItemCangling(GetTriggerUnit() , GetManipulatedItem()) ) and ( GetOtherLiutao(GetTriggerUnit() , GetManipulatedItem()) ) )
endfunction
function Trig______________________bActions takes nothing returns nothing
    if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5039AFFB) == true ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x5039AFFB) + LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5039AFFB) ))
        set udg_Unit=GetTriggerUnit()
        call TriggerExecute(gg_trg_____________800W)
        call TriggerExecute(gg_trg_papa12____________u)
    else
    endif
    if ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true ) ) then
        if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D) == true ) ) then
            if ( ( IsDeng(GetManipulatedItem()) ) ) then
                if ( ( IsStrHero(GetTriggerUnit()) ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                else
                endif
                if ( ( IsAgiHero(GetTriggerUnit()) ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                else
                endif
                if ( ( IsIntHero(GetTriggerUnit()) ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                else
                endif
            else
            endif
            if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D) * 3 ))
                call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
            else
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
                call FlashHeroAgi(GetOwningPlayer(GetTriggerUnit()))
                call FlashHeroInt(GetOwningPlayer(GetTriggerUnit()))
            endif
        else
            if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x8D205575) == true ) ) then
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x8D205575))
                call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
            else
            endif
            if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x384C9D86) == true ) ) then
                if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x384C9D86))
                    call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
                else
                    call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x384C9D86))
                    call FlashHeroAgi(GetOwningPlayer(GetTriggerUnit()))
                endif
            else
            endif
            if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x1B5C932E) == true ) ) then
                if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x1B5C932E))
                    call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
                else
                    call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x1B5C932E))
                    call FlashHeroInt(GetOwningPlayer(GetTriggerUnit()))
                endif
            else
            endif
        endif
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xF374F3BD) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xF374F3BD) )
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x06C64278) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x06C64278) )
        call TriggerExecute(gg_trg_D7)
        call TriggerExecute(gg_trg_papa8____________u)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x6FFF4132) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x6FFF4132) )
        call TriggerExecute(gg_trg_D7)
        call TriggerExecute(gg_trg_papa9____________u)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xC0C6918C) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xC0C6918C) )
        call TriggerExecute(gg_trg_D7)
        call TriggerExecute(gg_trg_papa10____________u)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xFAA305CD) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 18 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 18 )] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xFAA305CD) )
        call TriggerExecute(gg_trg_D7)
        call TriggerExecute(gg_trg_papa11__________________u)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x4C0507D9) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 24 )] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x4C0507D9) )
        call TriggerExecute(gg_trg_D7)
        call TriggerExecute(gg_trg_papa12____________u)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x0B6FB20F) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 30 )] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x0B6FB20F) )
        call TriggerExecute(gg_trg_D7)
        call TriggerExecute(gg_trg_papa13____________u)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xA3BA0D94) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Shanghai[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Shanghai[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xA3BA0D94) )
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x81FD3994) == true ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x81FD3994) + LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x81FD3994) ))
        set udg_Unit=GetTriggerUnit()
        call TriggerExecute(gg_trg___________________4000______u)
        call TriggerExecute(gg_trg_papa13____________u)
    else
    endif
    if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0xFCD961C9) == true ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggerUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetTriggerUnit()), 0xFCD961C9) + LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0xFCD961C9) ))
        set udg_Unit=GetTriggerUnit()
        call TriggerExecute(gg_trg_HP_____________________u)
        call TriggerExecute(gg_trg_papa11__________________u)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x3EBF688A) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]=( udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] + LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x3EBF688A) )
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05O' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.10 )
        set udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + 10 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâç‰Ω†ÁöÑÈáëÈí±Ëé∑ÂæóÁéá‰∏∫|cffffcc00" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%|r„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05P' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.50 )
        set udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + 20 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâç‰Ω†ÁöÑÈáëÈí±Ëé∑ÂæóÁéá‰∏∫|cffffcc00" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%|r„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05Q' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.75 )
        set udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + 30 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâç‰Ω†ÁöÑÈáëÈí±Ëé∑ÂæóÁéá‰∏∫|cffffcc00" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%|r„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05R' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 1.00 )
        set udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + 50 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâç‰Ω†ÁöÑÈáëÈí±Ëé∑ÂæóÁéá‰∏∫|cffffcc00" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%|r„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
endfunction
//===========================================================================
function InitTrig______________________b takes nothing returns nothing
    set gg_trg______________________b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg______________________b, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg______________________b, Condition(function Trig______________________bConditions))
    call TriggerAddAction(gg_trg______________________b, function Trig______________________bActions)
endfunction
//===========================================================================
// Trigger: Ë£ÖÂ§áÂ§±ÂéªÂ±ûÊÄßÁ±ªc
//
// Ë£ÖÂ§áÁöÑÂ±ûÊÄß GJ ÊîªÂáª LLÂäõÈáè ZLÊô∫Âäõ MJÊïèÊç∑ JNÊäÄËÉΩÂä†Êàê FYÈò≤Âæ° HP- -‰∏çÁî®ËØ¥‰∫Ü
//===========================================================================
function Trig______________________cConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetManipulatedItem() != null ) and ( UDepot[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] != GetTriggerUnit() ) and ( IsSwitchItemCangling(GetTriggerUnit() , GetManipulatedItem()) ) and ( GetOtherLiutao(GetTriggerUnit() , GetManipulatedItem()) ) )
endfunction
function Trig______________________cActions takes nothing returns nothing
    if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5039AFFB) == true ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x5039AFFB) - LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5039AFFB) ))
        set udg_Unit=GetTriggerUnit()
        call TriggerExecute(gg_trg_____________800W)
        call TriggerExecute(gg_trg_papa12____________u)
    else
    endif
    if ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true ) ) then
        if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D) == true ) ) then
            if ( ( IsDeng(GetManipulatedItem()) ) ) then
                if ( ( IsStrHero(GetTriggerUnit()) ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                else
                endif
                if ( ( IsAgiHero(GetTriggerUnit()) ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                else
                endif
                if ( ( IsIntHero(GetTriggerUnit()) ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                else
                endif
            else
            endif
            if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, ( LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D) * 3 ))
                call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
            else
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x5BAE281D))
                call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
                call FlashHeroAgi(GetOwningPlayer(GetTriggerUnit()))
                call FlashHeroInt(GetOwningPlayer(GetTriggerUnit()))
            endif
        else
            if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x8D205575) == true ) ) then
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x8D205575))
                call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
            else
            endif
            if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x384C9D86) == true ) ) then
                if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x384C9D86))
                    call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
                else
                    call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x384C9D86))
                    call FlashHeroAgi(GetOwningPlayer(GetTriggerUnit()))
                endif
            else
            endif
            if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x1B5C932E) == true ) ) then
                if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x1B5C932E))
                    call FlashHeroStr(GetOwningPlayer(GetTriggerUnit()))
                else
                    call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x1B5C932E))
                    call FlashHeroInt(GetOwningPlayer(GetTriggerUnit()))
                endif
            else
            endif
        endif
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xF374F3BD) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xF374F3BD) )
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x06C64278) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x06C64278) )
        call TriggerExecute(gg_trg_papa8____________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x81FD3994) == true ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x81FD3994) - LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0x81FD3994) ))
        set udg_Unit=GetTriggerUnit()
        call TriggerExecute(gg_trg___________________4000______u)
        call TriggerExecute(gg_trg_papa13____________u)
    else
    endif
    if ( ( HaveSavedInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0xFCD961C9) == true ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggerUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetTriggerUnit()), 0xFCD961C9) - LoadInteger(YDHT, GetItemTypeId(GetManipulatedItem()), 0xFCD961C9) ))
        set udg_Unit=GetTriggerUnit()
        call TriggerExecute(gg_trg_HP_____________________u)
        call TriggerExecute(gg_trg_papa11__________________u)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05O' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 0.10 )
        set udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] - 10 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâç‰Ω†ÁöÑÈáëÈí±Ëé∑ÂæóÁéá‰∏∫|cffffcc00" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%|r„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05P' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 0.50 )
        set udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] - 20 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâç‰Ω†ÁöÑÈáëÈí±Ëé∑ÂæóÁéá‰∏∫|cffffcc00" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%|r„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05Q' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 0.75 )
        set udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] - 30 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâç‰Ω†ÁöÑÈáëÈí±Ëé∑ÂæóÁéá‰∏∫|cffffcc00" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%|r„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I05R' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 1.00 )
        set udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_gold[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] - 50 )
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÂΩìÂâç‰Ω†ÁöÑÈáëÈí±Ëé∑ÂæóÁéá‰∏∫|cffffcc00" + ( I2S(R2I(( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100.00 ))) + "%|r„ÄÇ" ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x6FFF4132) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x6FFF4132) )
        call TriggerExecute(gg_trg_papa9____________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xC0C6918C) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xC0C6918C) )
        call TriggerExecute(gg_trg_papa10____________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xFAA305CD) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 18 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 18 )] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xFAA305CD) )
        call TriggerExecute(gg_trg_papa11__________________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x4C0507D9) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 24 )] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x4C0507D9) )
        call TriggerExecute(gg_trg_papa12____________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x0B6FB20F) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 30 )] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x0B6FB20F) )
        call TriggerExecute(gg_trg_papa13____________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xA3BA0D94) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Shanghai[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Shanghai[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0xA3BA0D94) )
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( HaveSavedReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x3EBF688A) == true ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        set udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]=( udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] - LoadReal(YDHT, GetItemTypeId(GetManipulatedItem()), 0x3EBF688A) )
        call TriggerExecute(gg_trg_D7)
    else
    endif
endfunction
//===========================================================================
function InitTrig______________________c takes nothing returns nothing
    set gg_trg______________________c=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg______________________c, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(gg_trg______________________c, Condition(function Trig______________________cConditions))
    call TriggerAddAction(gg_trg______________________c, function Trig______________________cActions)
endfunction
//===========================================================================
// Trigger: Èò≤Âæ°ÈôÑÂä†Ë∂ÖËøá4000ÁöÑÂì¶
//===========================================================================
function Trig___________________4000______uActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, StringLength(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994))))
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 1 ) ) then
        call UnitAddAbilityBJ('A00C', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994)), LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00C', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00C', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 2 ) ) then
        call UnitAddAbilityBJ('A00E', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 1 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 1 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00E', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00E', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 3 ) ) then
        call UnitAddAbilityBJ('A002', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 2 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 2 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A002', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A002', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 4 ) ) then
        call UnitAddAbilityBJ('A00F', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 3 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 3 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00F', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00F', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 5 ) ) then
        call UnitAddAbilityBJ('A00G', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 4 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 4 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00G', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00G', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 6 ) ) then
        call UnitAddAbilityBJ('A00H', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 5 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 5 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00H', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00H', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 7 ) ) then
        call UnitAddAbilityBJ('A00I', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 6 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 6 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00I', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00I', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 1 ) ) then
        call UnitRemoveAbilityBJ('A00E', udg_Unit)
        call UnitRemoveAbilityBJ('A002', udg_Unit)
        call UnitRemoveAbilityBJ('A00F', udg_Unit)
        call UnitRemoveAbilityBJ('A00G', udg_Unit)
        call UnitRemoveAbilityBJ('A00H', udg_Unit)
        call UnitRemoveAbilityBJ('A00I', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 2 ) ) then
        call UnitRemoveAbilityBJ('A002', udg_Unit)
        call UnitRemoveAbilityBJ('A00F', udg_Unit)
        call UnitRemoveAbilityBJ('A00G', udg_Unit)
        call UnitRemoveAbilityBJ('A00H', udg_Unit)
        call UnitRemoveAbilityBJ('A00I', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 3 ) ) then
        call UnitRemoveAbilityBJ('A00F', udg_Unit)
        call UnitRemoveAbilityBJ('A00G', udg_Unit)
        call UnitRemoveAbilityBJ('A00H', udg_Unit)
        call UnitRemoveAbilityBJ('A00I', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 4 ) ) then
        call UnitRemoveAbilityBJ('A00G', udg_Unit)
        call UnitRemoveAbilityBJ('A00H', udg_Unit)
        call UnitRemoveAbilityBJ('A00I', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 5 ) ) then
        call UnitRemoveAbilityBJ('A00H', udg_Unit)
        call UnitRemoveAbilityBJ('A00I', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 6 ) ) then
        call UnitRemoveAbilityBJ('A00I', udg_Unit)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig___________________4000______u takes nothing returns nothing
    set gg_trg___________________4000______u=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg___________________4000______u, function Trig___________________4000______uActions)
endfunction
//===========================================================================
// Trigger: ÊîªÂáªË∂ÖËøá800W
//===========================================================================
function Trig_____________800WActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, StringLength(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB))))
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 1 ) ) then
        call UnitAddAbilityBJ('A00J', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00J', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00J', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 2 ) ) then
        call UnitAddAbilityBJ('A00K', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 1 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 1 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00K', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00K', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 3 ) ) then
        call UnitAddAbilityBJ('A00L', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 2 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 2 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00L', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00L', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 4 ) ) then
        call UnitAddAbilityBJ('A00M', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 3 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 3 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00M', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00M', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 5 ) ) then
        call UnitAddAbilityBJ('A00N', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 4 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 4 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00N', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00N', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 6 ) ) then
        call UnitAddAbilityBJ('A00O', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 5 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 5 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00O', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00O', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 7 ) ) then
        call UnitAddAbilityBJ('A00P', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 6 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 6 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00P', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00P', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 8 ) ) then
        call UnitAddAbilityBJ('A00Q', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 7 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 7 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00Q', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00Q', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 9 ) ) then
        call UnitAddAbilityBJ('A00R', udg_Unit)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 8 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 8 ))))
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) == 0 ) ) then
            call UnitRemoveAbilityBJ('A00R', udg_Unit)
        else
            call SetUnitAbilityLevelSwapped('A00R', udg_Unit, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        endif
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 1 ) ) then
        call UnitRemoveAbilityBJ('A00K', udg_Unit)
        call UnitRemoveAbilityBJ('A00L', udg_Unit)
        call UnitRemoveAbilityBJ('A00M', udg_Unit)
        call UnitRemoveAbilityBJ('A00N', udg_Unit)
        call UnitRemoveAbilityBJ('A00O', udg_Unit)
        call UnitRemoveAbilityBJ('A00P', udg_Unit)
        call UnitRemoveAbilityBJ('A00Q', udg_Unit)
        call UnitRemoveAbilityBJ('A00R', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 2 ) ) then
        call UnitRemoveAbilityBJ('A00L', udg_Unit)
        call UnitRemoveAbilityBJ('A00M', udg_Unit)
        call UnitRemoveAbilityBJ('A00N', udg_Unit)
        call UnitRemoveAbilityBJ('A00O', udg_Unit)
        call UnitRemoveAbilityBJ('A00P', udg_Unit)
        call UnitRemoveAbilityBJ('A00Q', udg_Unit)
        call UnitRemoveAbilityBJ('A00R', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 3 ) ) then
        call UnitRemoveAbilityBJ('A00M', udg_Unit)
        call UnitRemoveAbilityBJ('A00N', udg_Unit)
        call UnitRemoveAbilityBJ('A00O', udg_Unit)
        call UnitRemoveAbilityBJ('A00P', udg_Unit)
        call UnitRemoveAbilityBJ('A00Q', udg_Unit)
        call UnitRemoveAbilityBJ('A00R', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 4 ) ) then
        call UnitRemoveAbilityBJ('A00N', udg_Unit)
        call UnitRemoveAbilityBJ('A00O', udg_Unit)
        call UnitRemoveAbilityBJ('A00P', udg_Unit)
        call UnitRemoveAbilityBJ('A00Q', udg_Unit)
        call UnitRemoveAbilityBJ('A00R', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 5 ) ) then
        call UnitRemoveAbilityBJ('A00O', udg_Unit)
        call UnitRemoveAbilityBJ('A00P', udg_Unit)
        call UnitRemoveAbilityBJ('A00Q', udg_Unit)
        call UnitRemoveAbilityBJ('A00R', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 6 ) ) then
        call UnitRemoveAbilityBJ('A00P', udg_Unit)
        call UnitRemoveAbilityBJ('A00Q', udg_Unit)
        call UnitRemoveAbilityBJ('A00R', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 7 ) ) then
        call UnitRemoveAbilityBJ('A00Q', udg_Unit)
        call UnitRemoveAbilityBJ('A00R', udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 8 ) ) then
        call UnitRemoveAbilityBJ('A00R', udg_Unit)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________800W takes nothing returns nothing
    set gg_trg_____________800W=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_____________800W, function Trig_____________800WActions)
endfunction
//===========================================================================
// Trigger: HPË¶ÅÊéåÊè°Âú®ÊâãÈáåÁöÑ
//===========================================================================
function Trig_HP_____________________uActions takes nothing returns nothing
    local integer ydul_i_hp
    local integer ydul_i_hp2
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_i_hp=1
    loop
        exitwhen ydul_i_hp > 9
        set ydul_i_hp2=1
        loop
            exitwhen ydul_i_hp2 > 9
            call UnitRemoveAbilityBJ(udg_HP_Jineng[S2I(( I2S(ydul_i_hp) + I2S(ydul_i_hp2) ))], udg_Unit)
            set ydul_i_hp2=ydul_i_hp2 + 1
        endloop
        set ydul_i_hp=ydul_i_hp + 1
    endloop
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, StringLength(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9))))
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 1 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 10 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 2 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 1 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 1 ))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 20 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 3 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 2 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 2 ))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 30 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 4 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 3 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 3 ))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 40 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 5 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 4 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 4 ))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 50 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 6 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 5 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 5 ))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 60 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 7 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 6 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 6 ))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 70 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 8 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 7 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 7 ))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 80 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 9 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, S2I(SubStringBJ(I2S(LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9)), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 8 ), ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 8 ))))
        call UnitAddAbilityBJ(udg_HP_Jineng[( 90 + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) )], udg_Unit)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_HP_____________________u takes nothing returns nothing
    set gg_trg_HP_____________________u=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_HP_____________________u, function Trig_HP_____________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 017
//===========================================================================
function Trig____________________017Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'ndt2' ) ) then
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( "|cff7fff00Á•ûÁïåÂÜ∞Â∞Å‰πãÂ°î|r" + ( "Ë¢´" + ( GetUnitName(GetKillingUnitBJ()) + ( "ÊâìÁàÜ‰∫ÜÔºåÁ≠âÂæÖ" + ( I2S(udg_I_Er_diansi[3]) + "ÁßíÈáçÂª∫„ÄÇ" ) ) ) ) ) ))
        call TriggerSleepAction(I2R(udg_I_Er_diansi[3]))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff7fff00Á•ûÁïåÂÜ∞Â∞Å‰πãÂ°î|rÈáçÂª∫ÂÆåÊØïÔºÅ")
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct_____3))
        call CreateNUnitsAtLoc(1, 'ndt2', Player(6), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call PingMinimapLocForForce(GetPlayersAll(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 3.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'ntx2' ) ) then
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( "|cff7fff00È¨ºÁïåÊ≠ª‰∫°‰πãÂ°î|r" + ( "Ë¢´" + ( GetUnitName(GetKillingUnitBJ()) + ( "ÊâìÁàÜ‰∫ÜÔºåÁ≠âÂæÖ" + ( I2S(udg_I_Er_diansi[3]) + "ÁßíÈáçÂª∫„ÄÇ" ) ) ) ) ) ))
        call TriggerSleepAction(I2R(udg_I_Er_diansi[3]))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff7fff00È¨ºÁïåÊ≠ª‰∫°‰πãÂ°î|rÈáçÂª∫ÂÆåÊØïÔºÅ")
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct_____1))
        call CreateNUnitsAtLoc(1, 'ntx2', Player(6), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call PingMinimapLocForForce(GetPlayersAll(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 3.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nft2' ) ) then
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( "|cff7fff00Â¶ñÁïåÁÅ´ÁÑ∞‰πãÂ°î|r" + ( "Ë¢´" + ( GetUnitName(GetKillingUnitBJ()) + ( "ÊâìÁàÜ‰∫ÜÔºåÁ≠âÂæÖ" + ( I2S(udg_I_Er_diansi[3]) + "ÁßíÈáçÂª∫„ÄÇ" ) ) ) ) ) ))
        call TriggerSleepAction(I2R(udg_I_Er_diansi[3]))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff7fff00Â¶ñÁïåÁÅ´ÁÑ∞‰πãÂ°î|rÈáçÂª∫ÂÆåÊØïÔºÅ")
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct_____5))
        call CreateNUnitsAtLoc(1, 'nft2', Player(6), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call PingMinimapLocForForce(GetPlayersAll(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 3.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'net2' ) ) then
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( "|cff7fff00‰ªôÁïåËÉΩÈáè‰πãÂ°î|r" + ( "Ë¢´" + ( GetUnitName(GetKillingUnitBJ()) + ( "ÊâìÁàÜ‰∫ÜÔºåÁ≠âÂæÖ" + ( I2S(udg_I_Er_diansi[3]) + "ÁßíÈáçÂª∫„ÄÇ" ) ) ) ) ) ))
        call TriggerSleepAction(I2R(udg_I_Er_diansi[3]))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff7fff00‰ªôÁïåËÉΩÈáè‰πãÂ°î|rÈáçÂª∫ÂÆåÊØïÔºÅ")
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct_____4))
        call CreateNUnitsAtLoc(1, 'net2', Player(6), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call PingMinimapLocForForce(GetPlayersAll(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 3.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nbt2' ) ) then
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( "|cff7fff00‰∫∫ÁïåÂ∑®Áü≥‰πãÂ°î|r" + ( "Ë¢´" + ( GetUnitName(GetKillingUnitBJ()) + ( "ÊâìÁàÜ‰∫ÜÔºåÁ≠âÂæÖ" + ( I2S(udg_I_Er_diansi[3]) + "ÁßíÈáçÂª∫„ÄÇ" ) ) ) ) ) ))
        call TriggerSleepAction(I2R(udg_I_Er_diansi[3]))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff7fff00‰∫∫ÁïåÂ∑®Áü≥‰πãÂ°î|rÈáçÂª∫ÂÆåÊØïÔºÅ")
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct_____2))
        call CreateNUnitsAtLoc(1, 'nbt2', Player(6), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call PingMinimapLocForForce(GetPlayersAll(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 3.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________017 takes nothing returns nothing
    set gg_trg____________________017=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________017, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(gg_trg____________________017, function Trig____________________017Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 028
//===========================================================================
function Trig____________________028Func001A takes nothing returns nothing
    call CustomDefeatBJ(GetEnumPlayer(), "‰Ω†‰ª¨Ê≤°Âú®ÈôêÂÆöÊó∂Èó¥ÂÜÖÂáªË¥•BOSSÔºÅ")
endfunction
function Trig____________________028Actions takes nothing returns nothing
    call ForForce(GetPlayersAll(), function Trig____________________028Func001A)
endfunction
//===========================================================================
function InitTrig____________________028 takes nothing returns nothing
    set gg_trg____________________028=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerExpireEvent(gg_trg____________________028, udg_Time_BOSS)
    call TriggerAddAction(gg_trg____________________028, function Trig____________________028Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 003
//===========================================================================
function Trig____________________003Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0D7' ) )
endfunction
function Trig____________________003Actions takes nothing returns nothing
    set udg_Point=GetSpellTargetLoc()
    if ( ( ( RectContainsLoc(gg_rct_______a3, udg_Point) == true ) or ( RectContainsLoc(gg_rct_Arena_forbit, udg_Point) == true ) ) and ( GetTriggerUnit() != udg_Unit_Linghun ) ) then
        call IssueImmediateOrder(GetTriggerUnit(), "stop")
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢Èó™ÁÉÅ„ÄÇ")
    else
    endif
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig____________________003 takes nothing returns nothing
    set gg_trg____________________003=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________003, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg____________________003, Condition(function Trig____________________003Conditions))
    call TriggerAddAction(gg_trg____________________003, function Trig____________________003Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 003 Â§çÂà∂ 2
//===========================================================================
function Trig____________________003________2Conditions takes nothing returns boolean
    return ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("massteleport") ) )
endfunction
function Trig____________________003________2Actions takes nothing returns nothing
    set udg_Point=GetOrderPointLoc()
    if ( ( ( RectContainsLoc(gg_rct_______a3, udg_Point) == true ) or ( RectContainsLoc(gg_rct_Arena_forbit, udg_Point) == true ) ) and ( GetTriggerUnit() != udg_Unit_Linghun ) ) then
        call IssueImmediateOrder(GetTriggerUnit(), "stop")
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢‰º†ÈÄÅ„ÄÇ")
    else
    endif
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig____________________003________2 takes nothing returns nothing
    set gg_trg____________________003________2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________003________2, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerAddCondition(gg_trg____________________003________2, Condition(function Trig____________________003________2Conditions))
    call TriggerAddAction(gg_trg____________________003________2, function Trig____________________003________2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 005
//===========================================================================
function Trig____________________005Conditions takes nothing returns boolean
    return ( ( ( GetItemTypeId(GetManipulatedItem()) == 'I01T' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rat9' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rlif' ) or ( GetItemTypeId(GetManipulatedItem()) == 'lgdh' ) or ( GetItemTypeId(GetManipulatedItem()) == 'clfm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'bgst' ) or ( GetItemTypeId(GetManipulatedItem()) == 'belv' ) or ( GetItemTypeId(GetManipulatedItem()) == 'hcun' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rag1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'penr' ) or ( GetItemTypeId(GetManipulatedItem()) == 'brac' ) or ( GetItemTypeId(GetManipulatedItem()) == 'lhst' ) ) and ( ( RectContainsUnit(gg_rct_______a3, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_Arena_forbit, GetTriggerUnit()) == true ) ) )
endfunction
function Trig____________________005Actions takes nothing returns nothing
    call SetUnitPositionLoc(GetTriggerUnit(), udg_Point_Fuhuo)
    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢‰º†ÈÄÅ„ÄÇ")
endfunction
//===========================================================================
function InitTrig____________________005 takes nothing returns nothing
    set gg_trg____________________005=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________005, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddCondition(gg_trg____________________005, Condition(function Trig____________________005Conditions))
    call TriggerAddAction(gg_trg____________________005, function Trig____________________005Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 071
//===========================================================================
function Trig____________________071Conditions takes nothing returns boolean
    return ( ( RectContainsUnit(gg_rct_______a3, GetTriggerUnit()) == true ) and ( GetItemType(GetManipulatedItem()) != ITEM_TYPE_POWERUP ) )
endfunction
function Trig____________________071Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetManipulatedItem())
    call YDWEPolledWaitNull(0.05)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call UnitAddItemSwapped(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), GetTriggerUnit())
    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢‰∏¢ÂºÉÁâ©ÂìÅ„ÄÇ")
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________071 takes nothing returns nothing
    set gg_trg____________________071=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________071, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(gg_trg____________________071, Condition(function Trig____________________071Conditions))
    call TriggerAddAction(gg_trg____________________071, function Trig____________________071Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 074
//===========================================================================
function Trig____________________074Conditions takes nothing returns boolean
    return ( ( ( GetSpellAbilityId() == 'A08M' ) or ( GetSpellAbilityId() == 'AImt' ) ) )
endfunction
function Trig____________________074Actions takes nothing returns nothing
    if ( ( ( RectContainsUnit(gg_rct_______a3, GetSpellTargetUnit()) == true ) or ( RectContainsUnit(gg_rct_Arena_forbit, GetSpellTargetUnit()) == true ) ) and ( GetTriggerUnit() != udg_Unit_Linghun ) ) then
        call YDWEPolledWaitNull(0.05)
        call SetUnitPositionLoc(GetTriggerUnit(), udg_Point_Fuhuo)
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•Âå∫ÂüüÁ¶ÅÊ≠¢‰º†ÈÄÅ„ÄÇ")
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________074 takes nothing returns nothing
    set gg_trg____________________074=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________074, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg____________________074, Condition(function Trig____________________074Conditions))
    call TriggerAddAction(gg_trg____________________074, function Trig____________________074Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 085
//===========================================================================
function Trig____________________085Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I05O' ) )
endfunction
function Trig____________________085Actions takes nothing returns nothing
    if ( ( udg_RENSHU == 1 ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 25 ) ) then
            call AdjustPlayerStateBJ(- 25, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        else
            call RemoveItem(GetSoldItem())
            call AdjustPlayerStateBJ(5, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçï‰∫∫Ê®°ÂºèÔºåÈúÄË¶ÅÈ¢ùÂ§ñÊîØ‰ªò25Êú®Â§¥„ÄÇ")
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________085 takes nothing returns nothing
    set gg_trg____________________085=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________085, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________085, Condition(function Trig____________________085Conditions))
    call TriggerAddAction(gg_trg____________________085, function Trig____________________085Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 090
//===========================================================================
function Trig____________________090Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________090Actions takes nothing returns nothing
    if ( ( GetItemTypeId(GetSoldItem()) == 'I05M' ) ) then
        call RemoveItem(GetSoldItem())
        call UnitAddItemByIdSwapped('I075', GetBuyingUnit())
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I05L' ) ) then
        call RemoveItem(GetSoldItem())
        call UnitAddItemByIdSwapped('I074', GetBuyingUnit())
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I05I' ) ) then
        call RemoveItem(GetSoldItem())
        call UnitAddItemByIdSwapped('I073', GetBuyingUnit())
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I05N' ) ) then
        call RemoveItem(GetSoldItem())
        call UnitAddItemByIdSwapped('I072', GetBuyingUnit())
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________090 takes nothing returns nothing
    set gg_trg____________________090=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________090, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________090, Condition(function Trig____________________090Conditions))
    call TriggerAddAction(gg_trg____________________090, function Trig____________________090Actions)
endfunction
//===========================================================================
// Trigger: D4
//===========================================================================
function Trig_D4Func002T takes nothing returns nothing
    if ( ( udg_Second[1] >= 59 ) ) then
        set udg_Second[1]=0
        set udg_Second[2]=( udg_Second[2] + 1 )
        call Yitian()
    else
        set udg_Second[1]=( udg_Second[1] + 1 )
    endif
    call MultiboardSetTitleText(udg_D, ( "ËΩÆÂõû‰πãÁã± v " + GetVersion() + "(" + I2S(udg_Second[2]) + "ÂàÜ" + I2S(udg_Second[1]) + "Áßí)(" + SgameMode + diffculty + "ÈöæÂ∫¶)" ))
endfunction
function Trig_D4Actions takes nothing returns nothing
    local timer ydl_timer
    call CreateMultiboardBJ(9, 7, ( "ËΩÆÂõû‰πãÁã± v " + GetVersion() + "Ê≠£ÂºèÁâà(0ÂàÜ0Áßí)(ÈöæÂ∫¶)" ))
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 1.00, true, function Trig_D4Func002T)
    set udg_D=GetLastCreatedMultiboard()
    call MultiboardSetItemsStyle(udg_D, true, false)
    call YDWEMultiboardSetItemValueBJNull(udg_D , 1 , 1 , "|cFFCC6699ÂêçÂ≠ó|r")
    call YDWEMultiboardSetItemValueBJNull(udg_D , 2 , 1 , "|cFFCC6699Áä∂ÊÄÅ|r")
    call YDWEMultiboardSetItemValueBJNull(udg_D , 3 , 1 , "|cFFCC6699ÈáëÂ∏Å|r")
    call YDWEMultiboardSetItemValueBJNull(udg_D , 4 , 1 , "|cFFCC6699Êú®Êùê|r")
    call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , 1 , "|cFFCC6699ÊùÄÊïå|r")
    call YDWEMultiboardSetItemValueBJNull(udg_D , 6 , 1 , "|cFFCC6699Á≠âÁ∫ß|r")
    call YDWEMultiboardSetItemValueBJNull(udg_D , 7 , 1 , "|cFFCC6699Ëã±ÈõÑÁä∂ÊÄÅ|r")
    call YDWEMultiboardSetItemValueBJNull(udg_D , 8 , 1 , "|cFFCC6699ËΩ¨Áîü|r")
    call YDWEMultiboardSetItemValueBJNull(udg_D , 9 , 1 , "|cFFCC6699ÂÆàÂÆ∂ÁßØÂàÜ|r")
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreateLeaderboardBJ(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)), "Â±ûÊÄß")
        call LeaderboardAddItemBJ(Player(0), GetLastCreatedLeaderboard(), "ÂäõÈáèÂä†Êàê%", 0)
        call LeaderboardAddItemBJ(Player(1), GetLastCreatedLeaderboard(), "ÊïèÊç∑Âä†Êàê%", 0)
        call LeaderboardAddItemBJ(Player(2), GetLastCreatedLeaderboard(), "Êô∫ÂäõÂä†Êàê%", 0)
        call LeaderboardAddItemBJ(Player(3), GetLastCreatedLeaderboard(), "ÊîªÂáªÂä†Êàê%", 0)
        call LeaderboardAddItemBJ(Player(4), GetLastCreatedLeaderboard(), "Èò≤Âæ°Âä†Êàê%", 0)
        call LeaderboardAddItemBJ(Player(5), GetLastCreatedLeaderboard(), "ÁîüÂëΩÂä†Êàê%", 0)
        call LeaderboardAddItemBJ(Player(6), GetLastCreatedLeaderboard(), "ÊäÄËÉΩ‰º§ÂÆ≥Âä†Êàê%", 0)
        call LeaderboardAddItemBJ(Player(7), GetLastCreatedLeaderboard(), "ÈÄ†Êàê‰º§ÂÆ≥Âä†Êàê%", 0)
        call LeaderboardAddItemBJ(Player(8), GetLastCreatedLeaderboard(), "ÈáëÈí±Ëé∑ÂæóÁéá%", 0)
        call LeaderboardAddItemBJ(Player(9), GetLastCreatedLeaderboard(), "ÁªèÈ™åËé∑ÂæóÁéá%", 100)
        call LeaderboardAddItemBJ(Player(10), GetLastCreatedLeaderboard(), "ÊàòÊñóÂäõ", 80)
        call LeaderboardAddItemBJ(Player(11), GetLastCreatedLeaderboard(), "ÊÄª‰º§ÂÆ≥(0‰∫ø)", 0)
        set udg_Paihang[bj_forLoopAIndex]=GetLastCreatedLeaderboard()
        call YDWEMultiboardSetItemValueBJNull(udg_D , 1 , ( GetForLoopIndexA() + 1 ) , ( "Áé©ÂÆ∂" + I2S(GetForLoopIndexA()) ))
        call MultiboardSetItemStyle(MultiboardGetItem(udg_D, GetForLoopIndexA(), 0), true, true)
        if ( ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) ) then
            call YDWEMultiboardSetItemValueBJNull(udg_D , 2 , ( GetForLoopIndexA() + 1 ) , "Âú®Á∫ø")
        else
            call YDWEMultiboardSetItemValueBJNull(udg_D , 2 , ( GetForLoopIndexA() + 1 ) , "Ê≤°‰∫∫")
        endif
        call YDWEMultiboardSetItemValueBJNull(udg_D , 3 , ( GetForLoopIndexA() + 1 ) , "2000")
        call YDWEMultiboardSetItemValueBJNull(udg_D , 4 , ( GetForLoopIndexA() + 1 ) , "0")
        call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , ( GetForLoopIndexA() + 1 ) , "0")
        call YDWEMultiboardSetItemValueBJNull(udg_D , 6 , ( GetForLoopIndexA() + 1 ) , "/")
        call YDWEMultiboardSetItemValueBJNull(udg_D , 7 , ( GetForLoopIndexA() + 1 ) , "Êú™ÈÄâ")
        call YDWEMultiboardSetItemValueBJNull(udg_D , 8 , ( GetForLoopIndexA() + 1 ) , "0ËΩ¨")
        call YDWEMultiboardSetItemValueBJNull(udg_D , 9 , ( GetForLoopIndexA() + 1 ) , "0")
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call MultiboardMinimize(udg_D, false)
    call MultiboardDisplayBJ(true, udg_D)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_D4 takes nothing returns nothing
    set gg_trg_D4=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_D4, function Trig_D4Actions)
endfunction
//===========================================================================
// Trigger: D3
//===========================================================================
function Trig_D3Conditions takes nothing returns boolean
    return ( ( IsUnitAlly(GetDyingUnit(), Player(0)) != true ) and ( IsUnitEnemy(GetKillingUnitBJ(), Player(0)) != true ) )
endfunction
function Trig_D3Actions takes nothing returns nothing
    set udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] + GetKillCount(GetDyingUnit()) )
    call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , ( GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ())) + 1 ) , I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
    if ( ( GetOwningPlayer(GetKillingUnitBJ()) == GetOwningPlayer(gg_unit_Harf_0262) ) ) then
        set udg_J=( udg_J + GetKillCount(GetDyingUnit()) * IJ3(chenji , 2 , 1) )
        call TriggerExecute(gg_trg_____________127)
    else
    endif
     call SaveAchievement5(GetOwningPlayer(GetKillingUnitBJ()) , GetKillCount(GetDyingUnit()))
endfunction
//===========================================================================
function InitTrig_D3 takes nothing returns nothing
    set gg_trg_D3=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_D3, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_D3, Condition(function Trig_D3Conditions))
    call TriggerAddAction(gg_trg_D3, function Trig_D3Actions)
endfunction
//===========================================================================
// Trigger: D1
//===========================================================================
function Trig_D1Conditions takes nothing returns boolean
    return ( ( GetTriggerPlayer() != Player(10) ) and ( GetTriggerPlayer() != Player(6) ) and ( GetTriggerPlayer() != Player(11) ) and ( GetTriggerPlayer() != Player(PLAYER_NEUTRAL_AGGRESSIVE) ) )
endfunction
function Trig_D1Actions takes nothing returns nothing
    call YDWEMultiboardSetItemValueBJNull(udg_D , 3 , ( GetConvertedPlayerId(GetTriggerPlayer()) + 1 ) , I2S(GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)))
endfunction
//===========================================================================
function InitTrig_D1 takes nothing returns nothing
    set gg_trg_D1=CreateTrigger()
    call DoNothing()
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(0), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(1), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(2), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(3), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(4), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(5), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(6), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(7), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(8), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(9), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(10), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(11), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(12), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(13), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(14), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D1, Player(15), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 0.00)
    call TriggerAddCondition(gg_trg_D1, Condition(function Trig_D1Conditions))
    call TriggerAddAction(gg_trg_D1, function Trig_D1Actions)
endfunction
//===========================================================================
// Trigger: D6
//===========================================================================
function Trig_D6Conditions takes nothing returns boolean
    return ( ( GetTriggerPlayer() != Player(10) ) and ( GetTriggerPlayer() != Player(6) ) and ( GetTriggerPlayer() != Player(11) ) and ( GetTriggerPlayer() != Player(PLAYER_NEUTRAL_AGGRESSIVE) ) )
endfunction
function Trig_D6Actions takes nothing returns nothing
    call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetTriggerPlayer()) + "Èì∂Ë°åÁàÜ‰∫ÜÔºåÁ≥ªÁªüËá™Âä®Â∏Æ‰Ω†Â∞Ü50WÈáëÂ∏ÅÊç¢Êàê‰∫Ü500Êú®Â§¥„ÄÇ" ) ))
    call AdjustPlayerStateBJ(- 500000, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
    call AdjustPlayerStateBJ(500, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER)
endfunction
//===========================================================================
function InitTrig_D6 takes nothing returns nothing
    set gg_trg_D6=CreateTrigger()
    call DoNothing()
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(0), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(1), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(2), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(3), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(4), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(5), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(6), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(7), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(8), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(9), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(10), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(11), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(12), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(13), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(14), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D6, Player(15), PLAYER_STATE_RESOURCE_GOLD, GREATER_THAN_OR_EQUAL, 800000.00)
    call TriggerAddCondition(gg_trg_D6, Condition(function Trig_D6Conditions))
    call TriggerAddAction(gg_trg_D6, function Trig_D6Actions)
endfunction
//===========================================================================
// Trigger: D2
//===========================================================================
function Trig_D2Conditions takes nothing returns boolean
    return ( ( GetTriggerPlayer() != Player(6) ) and ( GetTriggerPlayer() != Player(10) ) and ( GetTriggerPlayer() != Player(11) ) and ( GetTriggerPlayer() != Player(PLAYER_NEUTRAL_AGGRESSIVE) ) )
endfunction
function Trig_D2Actions takes nothing returns nothing
    call YDWEMultiboardSetItemValueBJNull(udg_D , 4 , ( GetConvertedPlayerId(GetTriggerPlayer()) + 1 ) , I2S(GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER)))
endfunction
//===========================================================================
function InitTrig_D2 takes nothing returns nothing
    set gg_trg_D2=CreateTrigger()
    call DoNothing()
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(0), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(1), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(2), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(3), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(4), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(5), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(6), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(7), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(8), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(9), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(10), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(11), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(12), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(13), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(14), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
        call TriggerRegisterPlayerStateEvent(gg_trg_D2, Player(15), PLAYER_STATE_RESOURCE_LUMBER, GREATER_THAN_OR_EQUAL, 0.00)
    call TriggerAddCondition(gg_trg_D2, Condition(function Trig_D2Conditions))
    call TriggerAddAction(gg_trg_D2, function Trig_D2Actions)
endfunction
//===========================================================================
// Trigger: D5
//===========================================================================
function Trig_D5Conditions takes nothing returns boolean
    return ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) )
endfunction
function Trig_D5Actions takes nothing returns nothing
    call YDWEMultiboardSetItemValueBJNull(udg_D , 6 , ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1 ) , I2S(GetHeroLevel(GetTriggerUnit())))
endfunction
//===========================================================================
function InitTrig_D5 takes nothing returns nothing
    set gg_trg_D5=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_D5, EVENT_PLAYER_HERO_LEVEL)
    call TriggerAddCondition(gg_trg_D5, Condition(function Trig_D5Conditions))
    call TriggerAddAction(gg_trg_D5, function Trig_D5Actions)
endfunction
//===========================================================================
// Trigger: D7
//===========================================================================
function Trig_D7Actions takes nothing returns nothing
    local integer ydul_aaa
    set ydul_aaa=1
    loop
        exitwhen ydul_aaa > 6
        call LeaderboardSetPlayerItemValueBJ(Player(0), udg_Paihang[ydul_aaa], R2I(( udg_I_Xianglian[ydul_aaa] * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(1), udg_Paihang[ydul_aaa], R2I(( udg_I_Xianglian[( ydul_aaa + 6 )] * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(2), udg_Paihang[ydul_aaa], R2I(( udg_I_Xianglian[( ydul_aaa + 12 )] * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(3), udg_Paihang[ydul_aaa], R2I(( udg_I_Xianglian[( ydul_aaa + 24 )] * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(4), udg_Paihang[ydul_aaa], R2I(( udg_I_Xianglian[( ydul_aaa + 30 )] * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(5), udg_Paihang[ydul_aaa], R2I(( udg_I_Xianglian[( ydul_aaa + 18 )] * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(6), udg_Paihang[ydul_aaa], R2I(( ( udg_I_Jinengjiacheng[ydul_aaa] - 1 ) * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(7), udg_Paihang[ydul_aaa], R2I(( ( udg_I_Shanghai[ydul_aaa] - 1 ) * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(8), udg_Paihang[ydul_aaa], R2I(( udg_I_Jinqianhuodelv[ydul_aaa] * 100.00 )))
        call LeaderboardSetPlayerItemValueBJ(Player(9), udg_Paihang[ydul_aaa], R2I(( udg_I_Jingyan[ydul_aaa] * 100.00 )))
        set ydul_aaa=ydul_aaa + 1
    endloop
endfunction
//===========================================================================
function InitTrig_D7 takes nothing returns nothing
    set gg_trg_D7=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_D7, function Trig_D7Actions)
endfunction
//===========================================================================
// Trigger: _fh
//===========================================================================
function Trig__fhFunc003T takes nothing returns nothing
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) == 21 ) ) then
        call ReviveHeroLoc(udg_H[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)], udg_Point_Fuhuo, true)
        call ShowUnitShow(udg_H[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)])
        call DisplayTextToPlayer(ConvertedPlayer(LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ§çÊ¥ªÊàêÂäüÔºÅ")
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
    endif
endfunction
function Trig__fhActions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠£Âú®Ê£ÄÊµãËã±ÈõÑÁä∂ÊÄÅ,‰Ω†ÁöÑËã±ÈõÑÂ∞ÜÂú®21ÁßíÂêéÂ§çÊ¥ª...")
    call KillSelf(udg_H[GetConvertedPlayerId(GetTriggerPlayer())])
    set ydl_timer=CreateTimer()
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x32A9E4C8, GetConvertedPlayerId(GetTriggerPlayer()))
    call TimerStart(ydl_timer, 1.00, true, function Trig__fhFunc003T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig__fh takes nothing returns nothing
    set gg_trg__fh=CreateTrigger()
    call DoNothing()
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(0), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(1), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(2), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(3), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(4), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(5), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(6), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(7), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(8), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(9), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(10), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(11), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(12), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(13), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(14), "-fh", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__fh, Player(15), "-fh", true)
    call TriggerAddAction(gg_trg__fh, function Trig__fhActions)
endfunction
//===========================================================================
// Trigger: _ym
//===========================================================================
function Trig__ymFunc002A takes nothing returns nothing
    if ( ( ( GetItemTypeId(GetEnumItem()) == 'I042' ) or ( GetItemTypeId(GetEnumItem()) == 'I05D' ) or ( GetItemTypeId(GetEnumItem()) == 'I06L' ) or ( GetItemTypeId(GetEnumItem()) == 'I044' ) or ( GetItemTypeId(GetEnumItem()) == 'I03W' ) or ( GetItemTypeId(GetEnumItem()) == 'I03V' ) ) ) then
        call RemoveItem(GetEnumItem())
    else
    endif
endfunction
function Trig__ymActions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÈô§ÊàêÂäüÔºÅ")
    call EnumItemsInRectBJ(GetPlayableMapRect(), function Trig__ymFunc002A)
endfunction
//===========================================================================
function InitTrig__ym takes nothing returns nothing
    set gg_trg__ym=CreateTrigger()
    call DoNothing()
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(0), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(1), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(2), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(3), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(4), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(5), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(6), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(7), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(8), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(9), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(10), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(11), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(12), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(13), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(14), "-ym", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__ym, Player(15), "-ym", true)
    call TriggerAddAction(gg_trg__ym, function Trig__ymActions)
endfunction
//===========================================================================
// Trigger: _cx
//===========================================================================
function Trig__cxActions takes nothing returns nothing
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetPlayerName(GetTriggerPlayer()))
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, ( "ÂäõÈáèÂä†ÊàêÔºö" + ( I2S(R2I(( udg_I_Xianglian[GetConvertedPlayerId(GetTriggerPlayer())] * 100.00 ))) + ( "%ÔºåÊïèÊç∑Âä†ÊàêÔºö" + ( I2S(R2I(( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 6 )] * 100.00 ))) + ( "%ÔºåÊô∫ÂäõÂä†ÊàêÔºö" + ( I2S(R2I(( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 12 )] * 100.00 ))) + "%„ÄÇ" ) ) ) ) ) ))
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, ( "ÁîüÂëΩ‰∏äÈôêÂä†ÊàêÔºö" + ( I2S(R2I(( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 18 )] * 100.00 ))) + ( "%ÔºåÊîªÂáªÂä†ÊàêÔºö" + ( I2S(R2I(( udg_I_Xianglian[( GetConvertedPlayerId(GetTriggerPlayer()) + 24 )] * 100.00 ))) + ( "%ÔºåÈò≤Âæ°Âä†ÊàêÔºö" + ( I2S(R2I(( udg_I_Xianglian[( 30 + GetConvertedPlayerId(GetTriggerPlayer()) )] * 100.00 ))) + "%„ÄÇ" ) ) ) ) ) ))
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, ( "ÊäÄËÉΩ‰º§ÂÆ≥Âä†ÊàêÔºö" + ( I2S(R2I(( ( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetTriggerPlayer())] - 1 ) * 100.00 ))) + ( "%ÔºåÈÄ†Êàê‰º§ÂÆ≥Âä†ÊàêÔºö" + ( I2S(R2I(( ( udg_I_Shanghai[GetConvertedPlayerId(GetTriggerPlayer())] - 1.00 ) * 100.00 ))) + "%„ÄÇ" ) ) ) ))
endfunction
//===========================================================================
function InitTrig__cx takes nothing returns nothing
    set gg_trg__cx=CreateTrigger()
    call DoNothing()
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(0), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(1), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(2), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(3), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(4), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(5), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(6), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(7), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(8), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(9), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(10), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(11), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(12), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(13), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(14), "-cx", true)
        call TriggerRegisterPlayerChatEvent(gg_trg__cx, Player(15), "-cx", true)
    call TriggerAddAction(gg_trg__cx, function Trig__cxActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 029
//===========================================================================
function Trig____________________029Conditions takes nothing returns boolean
    return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) ) )
endfunction
function Trig____________________029Actions takes nothing returns nothing
    if ( ( GetTriggerUnit() == gg_unit_Hjai_0014 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF3399ÂáåÈõ™|rÂá∫Áîü‰∫éË¥µÊóèÂÆ∂Â∫≠ÔºåËâØÂ•ΩÁöÑÁéØÂ¢É‰ª§Â•πÁöÑÈ≠îÊ≥ïÊâçÂçéÂÖÖÂàÜÂæóÂà∞Ë°®Áé∞Ôºå‰ΩÜ‰πüÂõ†Ê≠§ÂæóÁΩ™‰∫é‰∏çÂ∞ëÈ≠îÁïåÁöÑÂ∑®Â§¥ÔºåËÄåÂêéÁöÑÂÆ∂ÊóèÁ†¥ÁÅ≠‰ΩøÂ•π‰πâÊó†ÂèçÈ°æÁöÑËµ∞‰∏ä‰∫ÜÊ∏ÖÈô§È≠îÁâ©ÁöÑÈÅìË∑Ø‚Ä¶‚Ä¶")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÂπªÊ≠•Ëø∑Ë∏™")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÂπªÁÅµÂÜ∞È≠Ñ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÂπªÂÜ•ÈÜâÊúà")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÂπªÁºà‰ªôÂ∞ò")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÂπªÂÜ∞ÂÇ≤‰∏ñ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÂπªÂ∞ÅÂÜ∞Ê£∫")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Uktl_0018 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFF33FF33ÁéÑÈõ™|rÂú®È¨ºÁïå‰∏≠ÊòØ‰∏Ä‰ª£ÂÖÉÁ¥†‰ΩøËÄÖÔºå‰πüÊòØ‰∏ç‰∏∫‰∫∫Áü•ÁöÑÁÅµÈ≠ÇÊìçÊéßÂ∏àÔºåÂº∫Â§ßÁöÑÁÅµÈ≠ÇÂäõÈáè‰Ωø‰ªñ‰∫éÈ¨ºÁïå‰∏≠ÂßãÁªàË¢´Â•â‰∏∫Á•ûÁÅµÁöÑÂ≠òÂú®ÔºåËÄåÂ¶Ç‰ªäÈ≠îÁïåÁöÑÁß∞Èú∏‰ª§‰ªñ‰∏∫‰∫ÜÊõ¥Âº∫Â§ßÁöÑÂäõÈáèÊâÄËøΩÊ±ÇÂéª‰∫Ü‚Ä¶‚Ä¶")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÁÅµÈ≠Ç‰æµÂÖ•")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÂÜ∞‰πãÂáãÈõ∂")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÁªöÁÉÇÂ¶ñÈ≠Ç")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºö‰∏áÂè§ÁéÑÈúú")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÁÅµÈ≠ÇÂàªÂç∞")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÂπΩÂÜ•ÂÜ∞È≠Ñ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Nbbc_0235 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFCCFF66Èú∏Áªù|rÊú¨ÊòØÂâëÈÅì‰∏ñÂÆ∂ÁöÑÊéåÈó®‰∫∫ÔºåÂç¥Ë¢´‰∏ñÂÆ∂ÂØπÂ§¥ËÅîÂêàÈ≠îÁâ©ÊÆãÂÆ≥ÂÆ∂ÊóèÔºåÊ≠£Â∑ß‰ªñÊ≠£Âú®‰∏Ä‰∏™ÂâëÂô®ÂêçÂÆ∂ÈÇ£Ëµ∂ÈÄ†Áªù‰∏ñÊ≠¶Âô®ÔºåÂΩì‰ªñÂõûÂà∞ÂÆ∂‰∏≠ËßÅÂà∞Êª°Â±ãÂ∞∏‰ΩìÊó∂ÔºåÊÇ≤ÁóõÊ¨≤ÁªùÔºåÊùÄÂÖâ‰∫ÜÊâÄÊúâÂä†ÂÆ≥‰ªñÂÆ∂ÊóèÁöÑÊïå‰∫∫ÔºåÂπ∂ÂèëË™ìÂ±†Â∞ΩÊâÄÊúâÈ≠îÁïåËµ∞ÁãóÔºÅÔºÅ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÂâëÊ≥ïIÂºè - ÂàÜË∫´")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÂâëÊ≥ïIIÂºè - ÈöêÂàÄ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÂâëÊ≥ïIIIÂºè - Âä≤È≠Ñ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÂâëÊ≥ïIVÂºè - Ê∞∏ÊÅí")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÂâëÊ≥ïVÂºè - ‰∫îË°å")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÂâëÊ≥ïVIÂºè - ÂâëËàû")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_E00D_0210 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFCCFF33ÁëüÈõ®|rÊòØÊï¥‰∏™‰∫∫Áïå‰∏≠Âá∫‰∫ÜÂêçÁöÑÈöêÂΩ¢ÊùÄÊâãÔºåÂè™Ë¶ÅÁªô‰∫ÜË∂≥Â§üÂ§öÁöÑÈí±ÔºåÈÉΩËÉΩËØ∑Ëøô‰ΩçÂÜ∑Ë°ÄÊùÄÊâãÂáªÊùÄËá™Ë∫´‰ªá‰∫∫Ôºå‰ΩÜÂΩìÈ≠îÁïåÂ±†ÂüéÊó∂Ôºå‰ΩøÂ•πÊúÄÂêé‰∏ÄÁÇπ‰∫∫ÊÄßË¢´ÊøÄÂèëÔºå‰∏çÂÜçÂà∫ÊùÄÂêåÊóèÔºåË∏è‰∏ä‰∫ÜÊäπÊùÄÈ≠îÊóèÁöÑÈÅìË∑Ø‚Ä¶‚Ä¶")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÁ©∫Èó¥Ëô´Ê¥û")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÊõºÈôÄÁΩó‰πãÂà∫")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÂºÇÁïåËÉΩÈáè")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÁ©∫Èó¥Â∞ÅÂÜª")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÁ©∫Èó¥ÊùÄÊâã")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÊöóÊùÄ‰πãËàû")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Etyr_0017 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF3399Ê≥∞ÈõÖ|rÂú®Á•ûÊóè‰∏≠Â∑≤ÊãÖÂΩìÁ≤æÁÅµÊóèÊóèÈïøÈöêÂåø‰∏ñÈó¥ÂçÉÂπ¥ÔºåÂΩìÂê¨ËØ¥È≠îÊóèËÅîÂêàÂÖ≠Áïå‰πãÂ§ñÁöÑÁîüÁâ©ÂáªÊùÄÈ≠îÁïåÁöÑÊó∂ÂÄôÔºåÂ•π‰πüÂùêÈïá‰∏ç‰ΩèÔºåÁéáÈ¢ÜÊóè‰∫∫ÔºåÊù•ÈòªÊ≠¢È≠îÁïåËøô‰∏ÄÊÅêÊÄñËÆ°Âàí‚Ä¶‚Ä¶")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÊúàÁ•û‰πãÁÆ≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÊòüÂΩ±ÊÆãÂáª")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÁ•ùÁ¶è‰πãÊúà")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÊÅíÊòüÂ∫á‰Ωë")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöËá™ÁÑ∂‰πãÊÅØ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÂ§úËé∫‰πãËàû")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Ocbh_0251 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000ÂáØÊíí|rÂú®Âá†ÁôæÂπ¥ÂâçÂ•âÊóè‰∫∫‰πãÂëΩÂâçÂæÄ‰ªôÂ¢ÉÊé¢ÂØªÊàòÈ≠ÇÁöÑÂäõÈáèÔºåÂ¶Ç‰ªäÊâæÂà∞ÂäõÈáèÁöÑ‰ªñÂõûÂà∞ÂÖ≠ÁïåÔºåÁ´üÂèëÁé∞È≠îÁïåÂíåÂÖ≠Áïå‰πãÂ§ñÁîüÁâ©Â∑≤ÈÅçÂ∏ÉÂ§ßËåÉÂõ¥Âú∞ÂüüÔºå‰æøÂÜ≥ÂÆöËÅîÂêà‰∫îÁïåÔºåÈì≤Èô§È≠îÁâ©‚Ä¶‚Ä¶")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÊàòÈ≠Ç‰πã‰ΩìÔºà‰∏çÊ≠ª‰πãË∫´Ôºâ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÊÜæÁÉàÂ§©Âú∞")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÁÇºË°Ä‰∏ÄÂáª")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÂø†ËØö‰πãË∫Ø")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÊàòÊ†óÁÅµÈ≠Ç")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÊ≤ôËë¨È£éÊö¥")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Udea_0279 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff6800ÈªëÈòé|rÊòØÈ¨ºÁïåÊéåÊéßÁîüÊ≠ªÁöÑËΩÆÂõûÂà§ÂÆò,‰∏é‰∏áÁâ©ÁîüÁÅµÁ≠æÂÆöÁîüÊ≠ªÂ•ëÁ∫¶ÁöÑ‰ªñ‰ªé‰∏ç‰∏Ä‰∏™‰∫∫ÊàòÊñó,Êó†Á©∑Êó†Â∞ΩÁöÑÁ•≠ÂìÅÊïàÂø†‰∫é‰ªñ,ËÄå‰ªñ‰πüÂ∞ÜÁî®ËøôÂ§©ÁΩ™‰πãÂäõ,ÈòªÊ≠¢È≠îÁïåÁöÑË°åÂä®...")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÂ§úÁ•ûÁ•≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÂçÉÈ¨ºÈÇ™")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÈòéÁΩóÊÆø")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöËµ¶È≠ÇËØÄ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÊ≥£ÁΩóÂàπ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöËë¨‰πùÂ§©")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Eevi_0020 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "Êù•Êó†ÂΩ±ÂéªÊó†Ë∏™ÁöÑ|cFFFFCC66ÊπÆÁÅ≠|rÊú¨Â±û‰∫éÈ≠îÁïåÔºå‰ΩÜÂΩìÂÖ∂ÂèëÁé∞È≠îÁïåÁöÑÈò¥Ë∞ãÂêéÔºåÊØÖÁÑ∂ÂºÉÈ≠îÁïåËÄåÂéªÔºåÂä†ÂÖ•Á•ûÁïåÈõ∑ÈúÜÊóèÔºåË™ìË¶ÅÈòªÊ≠¢È≠îÁïåÁöÑÈò¥Ë∞ã‚Ä¶‚Ä¶")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÈõ∑Á•ûÂî§ÂΩ±")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÈõ∑Á•ûÂÖâÁ∫ø")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÈõ∑Á•û‰πãÈÄü")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÈõ∑Á•ûÂØÇÁÅ≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÈõ∑Á•ûÂπªÁÅ≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÈõ∑Á•ûËΩ∞È∏£")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Hvwd_0016 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "Âú®‰ªôÂ¢É‰∏≠‰ºëÂÖªÁîüÊÅØÁöÑ|cFF999900Ëé´Áê™|rËøáÁùÄ‰∏é‰∏ñÊó†‰∫âÁöÑÁîüÊ¥ªÔºå‰ΩÜÈ≠îÁïåÊâìÁ†¥‰∫ÜËøô‰∏™Âπ≥ÈùôÔºåÂ∞ÜËøôÁâáÂÆÅÈùôÁöÑÊ£ÆÊûóÁÑöÊØÅÔºåËé´Áê™ÂèëË™ìÔºå‰∏çÂ∞ÜÈ≠îÁïåÁÅ≠ÊóèË™ì‰∏çÁΩ¢‰ºëÔºÅ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºö‰∏ÉÊòü")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÁÆ≠Èõ®")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºö‰ΩøÂëΩ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÁéÑÁÆ≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÊòüËæ∞")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöË£ÅÂÜ≥")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_E00C_0217 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "‰∏Ä‰ΩçË¥™Ë¥¢ÈìÅÂå†|cFF33FF33ÂØíÊÆá|rÊÑèÂ§ñÂæóÂà∞ÈÄöÂ§©Á•ûÁâôÂåïÈ¶ñÁöÑ‰º†ÊâøÔºåËÉΩÂ∞ÜËÉΩÈáè‰∏éÊüêÁßçÁâπÊÆäÈáëÂ±ûÁªìÂêà‰∫§Êç¢‰∫ßÁîüÂ∑®Â§ßÁöÑÂäõÈáèÔºÅÂΩì‰ªñÂèëÁé∞È≠îÊóè‰ΩìÂÜÖËÉΩ‰∫ßÁîüÂ§ßÈáèÂºÇÁßçËÉΩÈáèÂêéÔºåÂèëË™ìË¶ÅÊàê‰∏∫Â§ßÈôÜ‰∏äÊúÄÊúâÈí±ÁöÑ‰∫∫„ÄÇ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÈ¨ºÊñßÁ•ûÂ∑•")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÊ≠ªÁ•ûÁÇ∏Âºπ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÊó†Á©∑ÂêûÂô¨")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÁÇºÈáë‰πãÊúØ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöËøûÁéØÁÇ∏Âºπ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÊØíÈõæËø∑Èòµ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Usyl_0215 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff00ffÊôìÊúà|r‰ªéÂ∞è‰æøÂú®ÈªëÊöóÊ†ºÊñóÂú∫‰∏≠Â§ú‰ª•ÁªßÊó•ÁöÑÂ∫¶ËøáÔºåÂÜ∑Êº†ÈªëÊöóÁöÑÁéØÂ¢ÉËÆ©‰ªñ‰πüÈì∏Â∞±‰∫Ü‰∏ÄË∫´Á≤æÊπõÁöÑÁÆ≠ÊúØÔºå‰ªéÊ≤°Êúâ‰∫∫ËÉΩ‰ªéÂ•πÈÇ£ÈªëÊöóÁöÑÁÆ≠‰∏≠ÊâÄË∫≤ÈÅøÔºåÁõ¥Âà∞Â•πÂèëÁé∞ÂÖ≠Áïå‰πãÂ§ñÁöÑÂäõÈáèÔºåÂ•π‰πüÊ≠£‰∏çÊñ≠Á£®Á†∫ÁùÄËá™Â∑±ÁöÑÂäõÈáè„ÄÇ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÈªØÈªëÊùÄÈòµ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöËìÑÂäõÁÆ≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÁ¶ÅË®ÄÈ¢ÜÂüü")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÊÅêÊÄñÂéãÂà∂")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÁÅµÈ≠ÇÂõöÁ¨º")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÁÆ≠Á•ûÊâ´Â∞Ñ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Othr_0256 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff00ccffÊëÑÁÑ±|rÂú®ÁúüÊ≠£ÁöÑÂ¶ñÊóè‰∏≠ÊàêÈïøÔºåÂáùËÅö‰∫ÜÂº∫Â§ßÁöÑÂè¨Âî§Âäõ‰∏éÈ¢ÑË®ÄÂäõÔºåË™ìÁî®Âº∫Â§ßÁöÑÁÅ´ÁÑ∞Â∞Ü‰∏ÄÂàáÈ≠îÁâ©ÁÑöÂ∞ΩÔºÅ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöË°ÄÁÖû‰πãÁãº")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÂºπÂ∞ÑÁÅ´ÁÑ∞")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÁ©∫Èó¥Ë∑≥Ë∑É")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÁÅµÈ≠ÇÁõ∏‰æù")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÁãºÁéãÈôç‰∏ñ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÁ•ûÂú£Ê≥ïÈòµ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFCCFF00Ëæ∞ÂØÇ|rÊ≠•‰∏äÂ±†È≠î‰πãË∑Ø,ÊòØÂú®‰∏ÄÊ¨°Â§±Ë¥•‰πãÂêéÁ´ã‰∏ãÁöÑË™ìË®ÄÔºåËøôÊ¨°Â§±Ë¥•ËÆ©‰ªñÂèóÂà∞‰∫ÜÂ∞ä‰∏•ÈÅ≠Âà∞‰∫Ü‰∏•ÈáçÁöÑË∑µË∏èÔºå‰∏ç‰∏∫‰∫∫,‰∏ç‰∏∫Â∑±,Âè™‰∏∫ÈÇ£ÂØÇÁÅ≠Â§©ÈôÖÁöÑÁ∫¢ËΩÆ.")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÂ§ú‰πãÂìÄ‰º§")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÂÖÉËΩÆÂ§©Êñ©")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÂΩ±Èáç‰∏áÁîü")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÂ§©ÁΩ°Êàò‰Ωì")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÈªëÊõúËØÖÂíí")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÊòüÂΩ±ÊåΩÊ≠å")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Hant_0205 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff00ccffÂπªÈÄ∏|rËµÑË¥®Ë∂ÖÂá°Ôºå‰ªéÂ∞è‰æøÈòÖÂç∑Áôæ‰∏áÔºåËôΩÊúâÈ≠îÁïåÊé®ÂºïÈ≠îÂåñÁ¶ÅÂøå‰πãÊúØÔºå‰ΩÜÂÖ∂‰∏ç‰ºöÊÇñÂºÉÂ§©ÈÅì‰πãÂøÉ„ÄÇ‰ªñ‰ª•ÂÖ∂ÂõõÁõ∏‰πãÂäõÔºå‰∏áÂçÉÁ•ûÁïå‰πãÊ≥ïÔºåÂåñÈ≠îÁïå‰∏∫ÊπÆÁÅ≠ÔºÅ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÂêà")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÁÅ´")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÊ∞¥")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÊú®")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÈ£é")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÂ§çËãè")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHuanyiHint())
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHuanyiHint())
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Hkal_0208 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff99ccÊ¢¶ÈúÅ|r‰∏¥‰∫é‰ªôÁïå,ÊâãÊâßÂú£Âºì‚Äî‚ÄîÂÖ≠Ê∂õÂ§©Ëôπ,‰∏ÄÂº¶‰∏ÄÂ§©Ê∂Ø,‰∏ÄÁÆ≠‰∏ÄÊñ≠ËÇ†.ÂΩìÂÖ∂‰∫é‰∏áÈáåÂ§ñËìÑÂäõÂº†ÂºìÊó∂,ÁõÆÊ†áÁªàÂ∞ÜÁû¨ÊùÄ‰∏ÄÁÅ≠.ÂÖ∂‰∫éË∏èÂ∏ù‰πãË∑ØË∂äÊù•Ë∂äËøë,Âí´Â∞∫‰πãË∑ù,‰πüÊòØÂÖ∂ËØõÈ≠î‰πãË∑Ø‰πãÂßã,ËøΩÁæø‰πãÈÄî‰πãÊú´...")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÊµÆÁîüËã•ÂπªÊ¢¶")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöËãçÈæôÊé¢ÂπΩÁÆ≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÁéÑÈü≥ÈïáÈ≠ÇÈîÅ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÈò¥Èò≥‰∏âÂ∑ùÁÆ≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºö‰∏áÁïåÁû¨‰ºêÂøÉ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÊµ£Êµ∑Áé≤ÁèëËàû")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetMengjiHint())
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetMengjiHint())
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Nsjs_0209 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff80ff80ËãçÂáå|rÊòØÁÜäÁå´Êóè‰πãÂ§©ËµãÂºÇÁ¶ÄÁöÑÂ•áÊâç,ÂØπ‰∫éÈ¢ÜÊÇüÁÅ´ÁÑ∞ÁúüË∞õÁöÑ‰ªñÊù•ËØ¥,‰∏çÁÅ≠ÁöÑ‰∏ç‰ªÖÊòØ‰ªñÈÇ£Èò≥ÊûÅ‰πãÁÇé,Êõ¥ÊòØ‰ªñÁöÑËé´Ë¥ü‰πãÂøÉ...")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÁ¢ßÊ≥¢ÂÆùÈïØ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºö‰∏çÁÅ≠ÁúüÁÇé")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöËÅîÁªìË∞õÁõü")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÂÖâÈò¥Êó†Ê¢≠")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºö‰∏ÄÊ∞î‰∏âÂåñ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöË¥™ÁãºËäíÊõú")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetCanglingHint())
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetCanglingHint())
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Hhkl_0218 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff993366Âè∏ÂÆ∏|rÂú®Âª∫Á≠ëÊñπÈù¢ÁöÑÈÄ†ËØ£ÊòØ‰∏æ‰∏ñÊó†ÂèåÁöÑÂ•áÊâçÔºåÂÖ∂ÁôªÈ°∂ÊúÄÁªà‰∫∫Áïå‰πãÊûÅÔºåÂç¥‰ªçÁÑ∂Êó†Ê≥ïÁ†¥Èô§ÂøÉ‰∏≠ÁöÑÈ≠îÈöúÔºåÂè™Âõ†ÂÖ∂‰πüÂÆåÊàê‰∏ç‰∫Ü‰∏áÂè§‰ª•Êù•Êó†‰∫∫ËÉΩÂÆåÊàêÊúÄÁªàÁöÑÂ¢ÉÁïå-Ê¢µÂ§©Âú£ÊÆøÔºåÂ¶Ç‰ªäÈó≠ÂÖ≥Â§öÂπ¥ÁöÑ‰ªñÂÄºÊ¨°‰πãÈôÖÂá∫ÂÖ≥ÔºåÂè™ÈóªÈ≠îÁïåÊõ¥ÊúâËÉúÂÖ∂‰∏ÄÂ±ÇÊ•ºÁöÑÂ≠òÂú®„ÄÇ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÂ§©Âå†‰πã‰Ωú")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÈô®ËêΩÁ°´ÁÇé")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºö‰∫òÊúàÂ§©Âú∞")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÊ∂ÖÊßÉÂåñÂá∞")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÂú£ÁöáËµêÂäõ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÁÅ´ÁÆ≠Êè¥Êä§")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99ccffÂèåÂáªÈÄâÂèñËØ•Ëã±ÈõÑ|r")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
    if ( ( GetTriggerUnit() == gg_unit_Hapm_0255 ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff99cc00ÊòüËÉß|rÊòØÂú£ÈæôÈÅóÂºÉ‰∫é‰ªôÁïåÁöÑÂÖ¨‰∏ª,Âú®‰ªôÁïåÊàêÈïøÁöÑÂ•πÂ∞ÜÂú£Èæô‰πãÈ≠Ç‰∏é‰ªôÊ≥ï‰πãÈ≠ÑËûçÂêàÂú®‰∫Ü‰∏ÄËµ∑,Âπ∂Áî®ËøôÁßçÈ≠ÇÈ≠Ñ‰πãÂäõ,‰ª§‰∏áÁâ©Â∞òÂüÉ.")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00Â§©ËµãÊäÄËÉΩ|rÔºöÈæôÁöáÈôÑ‰Ωì")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff002Á∫ßÊäÄËÉΩ|rÔºöÈæôÁöáÂêêÊÅØ")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0010Á∫ßÊäÄËÉΩ|rÔºöÈæôÁöáÂÖ±È∏£")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0020Á∫ßÊäÄËÉΩ|rÔºöÈæôÁöáÂáùÊÄß")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff0040Á∫ßÊäÄËÉΩ|rÔºöÈæôÁöáËΩÆÂõû")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffffff00100Á∫ßÊäÄËÉΩ|rÔºöÈæôÁöáÂú£ËÉé")
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetXinglongHint())
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetXinglongHint())
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, GetHeroDifficulty(GetTriggerUnit()))
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________029 takes nothing returns nothing
    set gg_trg____________________029=CreateTrigger()
    call DoNothing()
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(0), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(1), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(2), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(3), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(4), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(5), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(6), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(7), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(8), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(9), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(10), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(11), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(12), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(13), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(14), true)
        call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________029, Player(15), true)
    call TriggerAddCondition(gg_trg____________________029, Condition(function Trig____________________029Conditions))
    call TriggerAddAction(gg_trg____________________029, function Trig____________________029Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 055
//===========================================================================
function Trig____________________055Func011T takes nothing returns nothing
    call PlaySoundBJ(gg_snd_Renwu)
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "ËΩ¨Áîü", "‰Ω†Áé∞Âú®ÂèØ‰ª•Âú®Âü∫Âú∞Â∑¶ËæπËøõË°åËΩ¨Áîü‰∫ÜÔºÅ‰ªª‰ΩïÊàòÊñóÂäõÈÉΩÂèØ‰ª•ËøõÂéªÔºÅÊé®ËçêËøõÂéªÂâçËÑ±‰∏ãÂº∫Â§ßÁöÑË£ÖÂ§áÔºÅ", "ReplaceableTextures\\CommandButtons\\BTNPossession.blp")
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00ËΩ¨Áîü|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call ClosePIV()
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________055Func012T takes nothing returns nothing
    call PlaySoundBJ(gg_snd_Renwu)
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "ÁÇºÁã±", "‰Ω†Áé∞Âú®ÂèØ‰ª•Âú®Âü∫Âú∞Â∑¶ËæπËøõË°åÁÇºÁã±ËÆ≠ÁªÉÔºÅÊé®ËçêÊàòÊñóÂäõ500‰ª•‰∏äËøõÂéªÔºÅËøõÂéªÂêéÂèØ‰ª•Ëé∑ÂæóÂ§ßÈáèÈáëÂ∏ÅÁªèÈ™åÂ•ñÂä±ÔºÅ", "ReplaceableTextures\\CommandButtons\\BTNMetamorphosis.blp")
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00ÁÇºÁã±|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________055Func013T takes nothing returns nothing
    call PlaySoundBJ(gg_snd_Renwu)
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "ÊåëÊàòÊìÇÂè∞", "‰Ω†Áé∞Âú®ÂèØ‰ª•Âú®Âü∫Âú∞Â∑¶ËæπËøõË°åÊåëÊàòÊìÇÂè∞ÔºÅ‰∏ÄÂÖ±9‰∏™ÊìÇÂè∞Âì¶ÔºÅ", "ReplaceableTextures\\CommandButtons\\BTNUnsummonBuilding.blp")
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00ÊåëÊàòÊìÇÂè∞|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________055Func014T takes nothing returns nothing
    call PlaySoundBJ(gg_snd_Renwu)
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "ÁøÖËÜÄ", "‰Ω†Áé∞Âú®ÂèØ‰ª•Âú®Âü∫Âú∞Â∑¶ËæπËøõÂÖ•ÁæΩÊØõ‰∏ìÂå∫„ÄÇ
ÁÑ∂ÂêéÂèØ‰ª•Êâì‰∏ÄÂèåÂä†ÊàêÂæàÂ§öÂ±ûÊÄßÁöÑÁøÖËÜÄÂì¶ÔºÅ", "ReplaceableTextures\\CommandButtons\\BTNyumao1.blp")
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00ÁøÖËÜÄ|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________055Func015T takes nothing returns nothing
    call PlaySoundBJ(gg_snd_Renwu)
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "|cffffff00ÊåëÊàòCrainax|r", "Êé®ËçêÂéªÂü∫Âú∞Âè≥ËæπËøõÂÖ•|cffffff00ÊåëÊàòCrainax|rÁöÑÂàÜË∫´ÔºåÊåëÊàòÊàêÂäüÂèØ‰ª•Ëé∑ÂæóÈ°πÈìæÂì¶ÔºÅ", "ReplaceableTextures\\CommandButtons\\BTNyumao1.blp")
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cffffff00ÊåëÊàòCrainax|rÁöÑÂàÜË∫´
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________055Func016T takes nothing returns nothing
    call PlaySoundBJ(gg_snd_Renwu)
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "Â§©Â∫≠", "‰Ω†Áé∞Âú®ÂèØ‰ª•Âú®Âü∫Âú∞Â∑¶ËæπËøõË°åÂ§©Â∫≠ÔºÅÊé®ËçêÊàòÊñóÂäõ2000‰ª•‰∏äËøõÂéªÔºÅËøõÂéªÂêéÂèØ‰ª•Ëé∑ÂæóÂêÑÁ±ªÂ±ûÊÄßÂ¢ûÁõäÔºÅ", "ReplaceableTextures\\CommandButtons\\BTNAltarOfKings.blp")
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00Â§©Â∫≠|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________055Func017T takes nothing returns nothing
    call PlaySoundBJ(gg_snd_Renwu)
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "ÂçÉÂπ¥Â≠§È≠Ç", "‰Ω†Áé∞Âú®ÂèØ‰ª•Âú®Âü∫Âú∞Â∑¶ËæπËøõË°åÂçÉÂπ¥Â≠§È≠ÇÔºÅÊé®ËçêÊàòÊñóÂäõ12000‰ª•‰∏äËøõÂéªÔºÅËøõÂéªÂêéÂèØ‰ª•Ëé∑ÂæóÈ¨ºÂô®ÔºÅ", "ReplaceableTextures\\CommandButtons\\BTNUnsummonBuilding.blp")
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00ÂçÉÂπ¥Â≠§È≠Ç|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________055Func018T takes nothing returns nothing
    call PlaySoundBJ(gg_snd_Renwu)
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "ÂÆùÁü≥‰∏ìÂå∫", "‰Ω†Áé∞Âú®ÂèØ‰ª•Âú®Âü∫Âú∞Â∑¶ËæπÊâìÂÆùÁü≥‰∫ÜÔºÅÊé®ËçêÊàòÊñóÂäõ25000‰ª•‰∏äËøõÂéªÔºÅËøõÂéªÂêéÂèØ‰ª•Ëé∑ÂæóÂÆùÁü≥ÂçáÁ∫ß‰∏Ä‰∫õË£ÖÂ§áÔºÅ", "ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp")
    call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00ÂÆùÁü≥‰∏ìÂå∫|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________055Actions takes nothing returns nothing
    local timer ydl_timer
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "ËΩÆÂõû‰πãÁã±", "ÂÆà‰Ωè24Ê≥¢È≠îÁïåÊîªÂáªÔºÅÊé•‰∏ãÊù•ÂÆà‰ΩèÊâÄÊúâÂÜ•ÁïåÊîªÂáªÔºÅÂÜ•Áïå‰πãÂêéËøòÊúâÂÖ≠ÁïåÂÇÄÂÑ°„ÄÇ

ÂØªÊâæÊàòÂèã„ÄÅÊèê‰∫§BUG„ÄÅÂØªÊâæÊîªÁï•ËØ∑Âä†ËΩÆÂõû‰πãÁã±QQÁæ§148199145(ËøëÊª°),2Áæ§413359254.", "ReplaceableTextures\\CommandButtons\\BTNDisenchant.blp")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "Â∏∏ËßÅÊåá‰ª§", "hg ÂõûÂüé
-h Âè¨Âî§‰ªìÂ∫ì
-sh ÈöêËóè‰º§ÂÆ≥
-fh Ëã•Âá∫Áé∞‰∏çËÉΩÂ§çÊ¥ªÁöÑBUGÔºåËæìÂÖ•ËØ•Êåá‰ª§ËøõË°åÂ§çÊ¥ª
-ym Ê∏ÖÈô§Âú∞‰∏äÁöÑÁæΩÊØõÔºå‰∏ç‰ºöËÆ©Ê∏∏ÊàèËøáÂç°
-cx Êü•ËØ¢Ëã±ÈõÑÊâÄÂä†ÊàêÁöÑÂ±ûÊÄßÁä∂ÊÄÅ
-yc ÈöêËóèÈù¢Êùø
-kill Ëá™ÊùÄ
-+ ÊèêÈ´òËßÜÈáé
-- Èôç‰ΩéËßÜÈ¢ë
-cj (ÂÆòÊñπÂØπÊàòÂπ≥Âè∞)Êü•ÁúãÊâÄÊúâÊàêÂ∞±/ÂàáÊç¢ÊàêÂ∞±
-ms ‰ª§È≠îÂÖΩÊó†Ê≥ïË¢´ÈÄâ‰∏≠
-bs Ê∏ÖÈô§Âú∞‰∏äÊâÄÊúâÂÆùÁü≥
-qc ÂèñÊ∂à‰∏ÉÂΩ©ÁöÆËÇ§
-ph ÂÖ≥Èó≠Âπ≥ÊªëÈïúÂ§¥ÊïàÊûú.", "ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "ÂòâÂπ¥ÂçéÊ¥ªÂä®ÊúüÈó¥", "ÂòâÂπ¥ÂçéÊ¥ªÂä®ÊúüÈó¥,ÂºÄÂ±ÄÂç≥ÈÄÅÂòâÂπ¥ÂçéÁ§ºÂåÖ,ËøûÁª≠ÁôªÂΩïÊ∏∏ÊàèÁöÑËØù,Â•ñÂä±Êõ¥Â§ö,ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÊØèÂ§©ÁôªÂΩïË¶ÅÊª°10ÂàÜÈíüÂΩìÂ§©ÊâçÁÆóÁ≠æÂà∞ÂÆåÊàê„ÄÇ

ÊûÅÈôêÊåëÊàòÂÜ†ÂêçÊ¥ªÂä®:
1.Â¶ÇÊûú‰Ω†ËÉΩËøûÁª≠ÁôªÂΩï26Â§©(ÊúÄÂ§öÂèñ2‰∫∫),ÈÇ£‰πà‰Ω†Â∞ÜËé∑Âæó‰∏Ä‰∏™Âçï‰Ωç/Êñ∞Ëã±ÈõÑÁöÑÂÜ†ÂêçÊùÉ„ÄÇ(ËæìÂÖ•-jnÊü•ËØ¢Á≠æÂà∞ÊåáÊï∞)
2.Âú®Ëø∑‰Ω†ÊåëÊàò-È™∑È´ÖÊµ∑‰∏≠,Âè™Âá≠‰∏™‰∫∫ÁöÑËµ∞‰Ωç(‰∏çËÉΩÂÄüÂä©ÊäÄËÉΩ‰∏éÈòüÂèãÊàñÂÖ∂‰ªñÈÅìÂÖ∑ÁöÑÂ∏ÆÂä©‰∏ã)ËææÂà∞45Áßí‰ª•‰∏ä(ÊúÄÂ§öÂèñ2‰∫∫),ÈÇ£‰πà‰Ω†Â∞ÜËé∑Âæó‰∏Ä‰∏™Âçï‰Ωç/Êñ∞Ëã±ÈõÑÁöÑÂÜ†ÂêçÊùÉ[ÈúÄË¶ÅÊèê‰æõÂΩïÂÉè]„ÄÇ

ÂΩì‰Ω†ÂÆåÊàêÂπ∂ËææÂà∞ÁõÆÊ†áÂêé,‰Ω†ÂèØ‰ª•Âä†ÂÖ•ËΩÆÂõû‰πãÁã±‰∏ªÁæ§413359254ËÅîÁ≥ªÂπ∂ÂÜ†Âêç‰Ω†ÈúÄË¶ÅÁöÑÂçï‰Ωç!", "ReplaceableTextures\\CommandButtons\\BTNlibao2.blp")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "ÂÖ≥‰∫éÂú∞ÂõæÂçï‰ΩçÂÜ†Âêç", "Â¶ÇÊûú‰Ω†Âú®ÂÆòÊñπÂπ≥Âè∞ÁöÑËΩÆÂõû‰πãÁã±‰∏ìÂå∫ÊéíË°åÊ¶úÂâç10ÂêçÂÜÖ,ÈÇ£‰πà‰Ω†ÂèØ‰ª•Âú®Âú∞Âõæ‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂçï‰ΩçÂêéÈù¢Âä†‰∏ä‰Ω†ÁöÑÂêçÂ≠ó!", "ReplaceableTextures\\CommandButtons\\BTNTransmute.blp")
    call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
    call ShowZanzhuHint()
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 300.00, false, function Trig____________________055Func011T)
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 600.00, false, function Trig____________________055Func012T)
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 900.00, false, function Trig____________________055Func013T)
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 1200.00, false, function Trig____________________055Func014T)
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 1500.00, false, function Trig____________________055Func015T)
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 1800.00, false, function Trig____________________055Func016T)
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 2400.00, false, function Trig____________________055Func017T)
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 3600.00, false, function Trig____________________055Func018T)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig____________________055 takes nothing returns nothing
    set gg_trg____________________055=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventSingle(gg_trg____________________055, 0.00)
    call TriggerAddAction(gg_trg____________________055, function Trig____________________055Actions)
endfunction
//===========================================================================
// Trigger: zhandouli2
//===========================================================================
function Trig_zhandouli2Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetForLoopIndexA()], true) / 10 ))
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetForLoopIndexA()], true) / 10 ))
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetForLoopIndexA()], true) / 10 ))
            if ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetForLoopIndexA()]) <= 1000000000.00 ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427, ( R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetForLoopIndexA()])) / 100 ))
            else
            endif
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8, ( LoadInteger(YDHT, GetHandleId(udg_H[GetForLoopIndexA()]), 0x5039AFFB) / 10 ))
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5C50ED35, ( LoadInteger(YDHT, GetHandleId(udg_H[GetForLoopIndexA()]), 0x81FD3994) / 2 ))
            set udg_Zhandouli[GetForLoopIndexA()]=( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8) + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5C50ED35) ) ) ) ) )
            call LeaderboardSetPlayerItemValueBJ(Player(10), udg_Paihang[bj_forLoopAIndex], udg_Zhandouli[bj_forLoopAIndex])
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_zhandouli2 takes nothing returns nothing
    set gg_trg_zhandouli2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_zhandouli2, 9.90)
    call TriggerAddAction(gg_trg_zhandouli2, function Trig_zhandouli2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 019
//===========================================================================
function Trig____________________019Actions takes nothing returns nothing
    if ( ( RectContainsUnit(gg_rct_______a3, udg_H[GetConvertedPlayerId(GetTriggerPlayer())]) ) ) then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰ªìÂ∫ì‰∏çËÉΩÂÖ•ËØ•Âå∫Âüü„ÄÇ")
    else
        call SetUnitX(UDepot[GetConvertedPlayerId(GetTriggerPlayer())], GetUnitX(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]))
        call SetUnitY(UDepot[GetConvertedPlayerId(GetTriggerPlayer())], GetUnitY(udg_H[GetConvertedPlayerId(GetTriggerPlayer())]))
    endif
endfunction
//===========================================================================
function InitTrig____________________019 takes nothing returns nothing
    set gg_trg____________________019=CreateTrigger()
    call DoNothing()
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(0), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(1), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(2), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(3), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(4), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(5), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(6), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(7), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(8), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(9), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(10), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(11), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(12), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(13), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(14), "-H", true)
        call TriggerRegisterPlayerChatEvent(gg_trg____________________019, Player(15), "-H", true)
    call TriggerAddAction(gg_trg____________________019, function Trig____________________019Actions)
endfunction
//===========================================================================
// Trigger: ‰∏¢‰∫Ü‰πãÂêé_12b
//===========================================================================
function Trig______________12bConditions takes nothing returns boolean
    return ( ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'lgdh' ) or ( GetItemTypeId(GetManipulatedItem()) == 'clfm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'bgst' ) or ( GetItemTypeId(GetManipulatedItem()) == 'belv' ) or ( GetItemTypeId(GetManipulatedItem()) == 'hcun' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rag1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'penr' ) or ( GetItemTypeId(GetManipulatedItem()) == 'brac' ) or ( GetItemTypeId(GetManipulatedItem()) == 'lhst' or GetItemTypeId(GetManipulatedItem()) == 'I05W' or GetItemTypeId(GetManipulatedItem()) == 'I05V' ) ) and ( ( GetManipulatingUnit() == gg_unit_Uktl_0018 ) or ( GetManipulatingUnit() == xiaoyue ) or ( GetManipulatingUnit() == gg_unit_Udea_0279 ) ) )
endfunction
function Trig______________12bActions takes nothing returns nothing
    call UnitRemoveAbilityBJ('ANcs', GetManipulatingUnit())
endfunction
//===========================================================================
function InitTrig______________12b takes nothing returns nothing
    set gg_trg______________12b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg______________12b, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(gg_trg______________12b, Condition(function Trig______________12bConditions))
    call TriggerAddAction(gg_trg______________12b, function Trig______________12bActions)
endfunction
//===========================================================================
// Trigger: ‰∏çÂæóÂ§öÊãø_11b
//===========================================================================
function Trig______________11bConditions takes nothing returns boolean
    return ( ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig______________11bActions takes nothing returns nothing
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'rat9' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'rlif' ) ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
        else
            call DoNothing()
        endif
        set ydul_i=ydul_i + 1
    endloop
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'lgdh' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'clfm' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'bgst' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'belv' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'hcun' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'rag1' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'penr' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'brac' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'brac' ) ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 100 ))
        else
            call DoNothing()
        endif
        set ydul_i=ydul_i + 1
    endloop
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'lhst' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'I05W' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'I05V' ) ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1000 ))
        else
            call DoNothing()
        endif
        set ydul_i=ydul_i + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) != 1 ) and ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) != 100 ) and ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) != 1000 ) and ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) != 0 ) ) then
        call UnitRemoveItemSwapped(GetManipulatedItem(), GetManipulatingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂè™ËÉΩË£ÖÂ§á‰∏Ä‰∏™È¨ºÂô®„ÄÇ")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
    endif
    if ( ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 100 ) or ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 1000 ) ) and ( ( GetManipulatingUnit() == gg_unit_Uktl_0018 ) or ( GetManipulatingUnit() == xiaoyue ) or ( GetManipulatingUnit() == gg_unit_Udea_0279 ) ) and ( GetUnitAbilityLevelSwapped('Aap4', GetManipulatingUnit()) == 0 ) ) then
        call UnitAddAbilityBJ('ANcs', GetManipulatingUnit())
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 1000 ) ) then
            call SetUnitAbilityLevelSwapped('ANcs', GetManipulatingUnit(), 2)
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig______________11b takes nothing returns nothing
    set gg_trg______________11b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg______________11b, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg______________11b, Condition(function Trig______________11bConditions))
    call TriggerAddAction(gg_trg______________11b, function Trig______________11bActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 070
//===========================================================================
function Trig____________________070Conditions takes nothing returns boolean
    return ( ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( ( ( GetItemTypeId(GetManipulatedItem()) == 'sksh' ) or ( GetItemTypeId(GetManipulatedItem()) == 'oslo' ) or ( GetItemTypeId(GetManipulatedItem()) == 'grsl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'flag' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ocor' ) or ( GetItemTypeId(GetManipulatedItem()) == 'blba' ) or ( GetItemTypeId(GetManipulatedItem()) == 'cosl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shhn' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rat3' ) or ( GetItemTypeId(GetManipulatedItem()) == 'pams' ) or ( GetItemTypeId(GetManipulatedItem()) == 'jdrn' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shcw' ) or ( GetItemTypeId(GetManipulatedItem()) == 'stre' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shrs' ) or ( GetItemTypeId(GetManipulatedItem()) == 'kgal' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shtm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'lure' ) or ( GetItemTypeId(GetManipulatedItem()) == 'thdm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'arsh' ) or ( GetItemTypeId(GetManipulatedItem()) == 'srtl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rots' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tmmt' ) or ( GetItemTypeId(GetManipulatedItem()) == 'brag' ) or ( GetItemTypeId(GetManipulatedItem()) == 'olig' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tbar' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ccmd' ) or ( GetItemTypeId(GetManipulatedItem()) == 'iwbr' ) or ( ( ( GetItemTypeId(GetManipulatedItem()) == 'tlum' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICS1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I04W' ) ) ) ) ) and ( ( GetManipulatingUnit() == gg_unit_Eevi_0020 ) or ( GetManipulatingUnit() == gg_unit_Etyr_0017 ) or ( GetManipulatingUnit() == gg_unit_Hant_0205 ) ) )
endfunction
function Trig____________________070Actions takes nothing returns nothing
    if ( ( GetUnitAbilityLevelSwapped('AUls', GetManipulatingUnit()) == 0 ) ) then
        call UnitAddAbilityBJ('AUls', GetManipulatingUnit())
    else
    endif
    if ( ( ( ( GetItemTypeId(GetManipulatedItem()) == 'tlum' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICS1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I04W' ) ) ) ) then
        call SetUnitAbilityLevelSwapped('AUls', GetManipulatingUnit(), 2)
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________070 takes nothing returns nothing
    set gg_trg____________________070=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________070, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg____________________070, Condition(function Trig____________________070Conditions))
    call TriggerAddAction(gg_trg____________________070, function Trig____________________070Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 070 Â§çÂà∂
//===========================================================================
function Trig____________________070_______uConditions takes nothing returns boolean
    return ( ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'sksh' ) or ( GetItemTypeId(GetManipulatedItem()) == 'oslo' ) or ( GetItemTypeId(GetManipulatedItem()) == 'grsl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'flag' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ocor' ) or ( GetItemTypeId(GetManipulatedItem()) == 'blba' ) or ( GetItemTypeId(GetManipulatedItem()) == 'cosl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shhn' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rat3' ) or ( GetItemTypeId(GetManipulatedItem()) == 'pams' ) or ( GetItemTypeId(GetManipulatedItem()) == 'jdrn' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shcw' ) or ( GetItemTypeId(GetManipulatedItem()) == 'stre' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shrs' ) or ( GetItemTypeId(GetManipulatedItem()) == 'kgal' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shtm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'lure' ) or ( GetItemTypeId(GetManipulatedItem()) == 'thdm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'arsh' ) or ( GetItemTypeId(GetManipulatedItem()) == 'srtl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rots' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tmmt' ) or ( GetItemTypeId(GetManipulatedItem()) == 'brag' ) or ( GetItemTypeId(GetManipulatedItem()) == 'olig' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tbar' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ccmd' ) or ( GetItemTypeId(GetManipulatedItem()) == 'iwbr' ) or ( ( ( GetItemTypeId(GetManipulatedItem()) == 'tlum' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICS1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I04W' ) ) ) ) and ( ( GetManipulatingUnit() == gg_unit_Eevi_0020 ) or ( GetManipulatingUnit() == gg_unit_Etyr_0017 ) or ( GetManipulatingUnit() == gg_unit_Hant_0205 ) ) )
endfunction
function Trig____________________070_______uActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( ( ( GetItemTypeId(GetManipulatedItem()) == 'tlum' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICS1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I04W' ) ) ) and ( udg_HuangZhiluanwu[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] == 0 ) ) then
        call SetUnitAbilityLevelSwapped('AUls', GetManipulatingUnit(), 1)
    else
    endif
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, 0)
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'sksh')) == 'sksh' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'oslo')) == 'oslo' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'grsl')) == 'grsl' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'flag')) == 'flag' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'ocor')) == 'ocor' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'blba')) == 'blba' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'cosl')) == 'cosl' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'shhn')) == 'shhn' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'rat3')) == 'rat3' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'pams')) == 'pams' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'jdrn')) == 'jdrn' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'shcw')) == 'shcw' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'stre')) == 'stre' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'shrs')) == 'shrs' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'kgal')) == 'kgal' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'shtm')) == 'shtm' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'lure')) == 'lure' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'thdm')) == 'thdm' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'arsh')) == 'arsh' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'srtl')) == 'srtl' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'rots')) == 'rots' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'tmmt')) == 'tmmt' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'brag')) == 'brag' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'olig')) == 'olig' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'iwbr')) == 'iwbr' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'ccmd')) == 'ccmd' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'tbar')) == 'tbar' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'tlum')) == 'tlum' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'ICS1')) == 'ICS1' ) ) ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'I04W')) == 'I04W' ) ) ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) <= 1 ) ) then
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    if ( ( udg_HuangZhiluanwu[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] == 0 ) ) then
        call UnitRemoveAbility(GetManipulatingUnit(), 'AUls')
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________070_______u takes nothing returns nothing
    set gg_trg____________________070_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________070_______u, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(gg_trg____________________070_______u, Condition(function Trig____________________070_______uConditions))
    call TriggerAddAction(gg_trg____________________070_______u, function Trig____________________070_______uActions)
endfunction
//===========================================================================
// Trigger: Xian
//===========================================================================
function Trig_XianConditions takes nothing returns boolean
    return ( ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'spro' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tcas' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shas' ) or ( GetItemTypeId(GetManipulatedItem()) == 'plcl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rnec' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tgrh' ) or ( GetItemTypeId(GetManipulatedItem()) == 'phea' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tsct' ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'rst1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICX1' ) ) ) and ( ( GetManipulatingUnit() == gg_unit_Hjai_0014 ) or ( GetManipulatingUnit() == gg_unit_Hvwd_0016 ) or ( GetManipulatingUnit() == gg_unit_Hkal_0208 ) or ( GetManipulatingUnit() == xinglong ) ) and ( GetUnitAbilityLevelSwapped('Aap4', GetManipulatingUnit()) != 1 ) )
endfunction
function Trig_XianActions takes nothing returns nothing
    if ( ( GetUnitAbilityLevelSwapped('A07L', GetManipulatingUnit()) != 1 ) ) then
        call UnitAddAbilityBJ('A07L', GetManipulatingUnit())
        call UnitMakeAbilityPermanent(GetManipulatingUnit(), true, 'A07L')
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A07L', GetManipulatingUnit()) != 2 ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'rst1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICX1' ) ) ) then
        call UnitAddAbilityBJ('A07L', GetManipulatingUnit())
        call SetUnitAbilityLevelSwapped('A07L', GetManipulatingUnit(), 2)
        call UnitMakeAbilityPermanent(GetManipulatingUnit(), true, 'A07L')
    else
    endif
endfunction
//===========================================================================
function InitTrig_Xian takes nothing returns nothing
    set gg_trg_Xian=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Xian, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg_Xian, Condition(function Trig_XianConditions))
    call TriggerAddAction(gg_trg_Xian, function Trig_XianActions)
endfunction
//===========================================================================
// Trigger: Xian2
//===========================================================================
function Trig_Xian2Conditions takes nothing returns boolean
    return ( ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'spro' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tcas' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shas' ) or ( GetItemTypeId(GetManipulatedItem()) == 'plcl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rnec' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tgrh' ) or ( GetItemTypeId(GetManipulatedItem()) == 'phea' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tsct' ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'rst1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICX1' ) ) ) and ( ( GetManipulatingUnit() == gg_unit_Hjai_0014 ) or ( GetManipulatingUnit() == gg_unit_Hvwd_0016 ) or ( GetManipulatingUnit() == gg_unit_Hkal_0208 ) or ( GetManipulatingUnit() == xinglong ) ) and ( GetUnitAbilityLevelSwapped('Aap4', GetManipulatingUnit()) != 1 ) )
endfunction
function Trig_Xian2Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( ( GetItemTypeId(GetManipulatedItem()) == 'rst1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICX1' ) ) ) then
        call SetUnitAbilityLevelSwapped('A07L', GetManipulatingUnit(), 1)
    else
    endif
    if ( ( YDWEUnitHasItemOfTypeBJNull(GetManipulatingUnit() , 'ICX1') ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'rst1')) == 'rst1' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'tgrh')) == 'tgrh' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'rnec')) == 'rnec' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'plcl')) == 'plcl' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'shas')) == 'shas' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'tcas')) == 'tcas' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'spro')) == 'spro' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'phea')) == 'phea' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'tsct')) == 'tsct' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) <= 1 ) ) then
        call UnitRemoveAbilityBJ('A07L', GetManipulatingUnit())
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Xian2 takes nothing returns nothing
    set gg_trg_Xian2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Xian2, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(gg_trg_Xian2, Condition(function Trig_Xian2Conditions))
    call TriggerAddAction(gg_trg_Xian2, function Trig_Xian2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 070 Â§çÂà∂ 2 Â§çÂà∂
//===========================================================================
function Trig____________________070________2_______uConditions takes nothing returns boolean
    return ( ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'frhg' ) or ( GetItemTypeId(GetManipulatedItem()) == 'mlst' ) or ( GetItemTypeId(GetManipulatedItem()) == 'nspi' ) or ( GetItemTypeId(GetManipulatedItem()) == 'oli2' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rump' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shen' ) or ( GetItemTypeId(GetManipulatedItem()) == 'stpg' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ofir' ) or ( GetItemTypeId(GetManipulatedItem()) == 'soul' ) or ( GetItemTypeId(GetManipulatedItem()) == 'sbok' ) or ( GetItemTypeId(GetManipulatedItem()) == 'arsc' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rde0' ) or ( GetItemTypeId(GetManipulatedItem()) == 'oflg' ) or ( GetItemTypeId(GetManipulatedItem()) == 'frgd' ) or ( GetItemTypeId(GetManipulatedItem()) == 'gldo' ) or ( GetItemTypeId(GetManipulatedItem()) == 'gsou' ) or ( GetItemTypeId(GetManipulatedItem()) == 'envl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rugt' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shdt' ) or ( GetItemTypeId(GetManipulatedItem()) == 'crdt' ) or ( GetItemTypeId(GetManipulatedItem()) == 'pspd' ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'tbsm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tfar' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tbak' ) ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'I05Y' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05Z' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I060' ) ) ) and ( ( GetManipulatingUnit() == hanshang ) or ( GetManipulatingUnit() == sichen ) or ( GetManipulatingUnit() == seyu ) or ( GetManipulatingUnit() == gg_unit_Harf_0262 ) ) and ( GetUnitAbilityLevelSwapped('Aap4', GetManipulatingUnit()) != 1 ) )
endfunction
function Trig____________________070________2_______uActions takes nothing returns nothing
    if ( ( GetUnitAbilityLevelSwapped('A008', GetManipulatingUnit()) != 1 ) ) then
        call UnitAddAbilityBJ('A008', GetManipulatingUnit())
    else
    endif
    if ( ( ( ( GetItemTypeId(GetManipulatedItem()) == 'tbsm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tfar' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tbak' ) ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'I05Y' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05Z' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I060' ) ) ) and ( GetUnitAbilityLevelSwapped('A008', GetManipulatingUnit()) != 2 ) ) then
        call UnitAddAbilityBJ('A008', GetManipulatingUnit())
        call SetUnitAbilityLevelSwapped('A008', GetManipulatingUnit(), 2)
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________070________2_______u takes nothing returns nothing
    set gg_trg____________________070________2_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________070________2_______u, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg____________________070________2_______u, Condition(function Trig____________________070________2_______uConditions))
    call TriggerAddAction(gg_trg____________________070________2_______u, function Trig____________________070________2_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 070 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________070_____________________uConditions takes nothing returns boolean
    return ( ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'frhg' ) or ( GetItemTypeId(GetManipulatedItem()) == 'mlst' ) or ( GetItemTypeId(GetManipulatedItem()) == 'nspi' ) or ( GetItemTypeId(GetManipulatedItem()) == 'oli2' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ofir' ) or ( GetItemTypeId(GetManipulatedItem()) == 'soul' ) or ( GetItemTypeId(GetManipulatedItem()) == 'sbok' ) or ( GetItemTypeId(GetManipulatedItem()) == 'arsc' ) or ( GetItemTypeId(GetManipulatedItem()) == 'gldo' ) or ( GetItemTypeId(GetManipulatedItem()) == 'gsou' ) or ( GetItemTypeId(GetManipulatedItem()) == 'envl' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rugt' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rump' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shen' ) or ( GetItemTypeId(GetManipulatedItem()) == 'stpg' ) or ( GetItemTypeId(GetManipulatedItem()) == 'rde0' ) or ( GetItemTypeId(GetManipulatedItem()) == 'oflg' ) or ( GetItemTypeId(GetManipulatedItem()) == 'frgd' ) or ( GetItemTypeId(GetManipulatedItem()) == 'shdt' ) or ( GetItemTypeId(GetManipulatedItem()) == 'crdt' ) or ( GetItemTypeId(GetManipulatedItem()) == 'pspd' ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'tbsm' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tfar' ) or ( GetItemTypeId(GetManipulatedItem()) == 'tbak' ) ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'I05Y' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05Z' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I060' ) ) ) and ( ( GetManipulatingUnit() == hanshang ) or ( GetManipulatingUnit() == seyu ) or ( GetManipulatingUnit() == sichen ) or ( GetManipulatingUnit() == gg_unit_Harf_0262 ) ) and ( GetUnitAbilityLevelSwapped('Aap4', GetManipulatingUnit()) != 1 ) )
endfunction
function Trig____________________070_____________________uActions takes nothing returns nothing
    call UnitRemoveAbilityBJ('A008', GetManipulatingUnit())
endfunction
//===========================================================================
function InitTrig____________________070_____________________u takes nothing returns nothing
    set gg_trg____________________070_____________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________070_____________________u, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(gg_trg____________________070_____________________u, Condition(function Trig____________________070_____________________uConditions))
    call TriggerAddAction(gg_trg____________________070_____________________u, function Trig____________________070_____________________uActions)
endfunction
//===========================================================================
// Trigger: Z5
//===========================================================================
function Trig_Z5Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig_Z5Func002Func002003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) ) )
endfunction
function Trig_Z5Func002Func003Func003003002 takes nothing returns boolean
    return ( ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_Z5Func003Func002003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) ) )
endfunction
function Trig_Z5Func003Func003Func003003002 takes nothing returns boolean
    return ( ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_Z5Func004Func002003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) ) )
endfunction
function Trig_Z5Func004Func003Func003003002 takes nothing returns boolean
    return ( ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_Z5Func005Func004003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) ) )
endfunction
function Trig_Z5Func005Func005Func003003002 takes nothing returns boolean
    return ( ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_Z5Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetItemTypeId(GetSoldItem()) == 'desc' ) ) then
         set BJiulun=true
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(gg_rct________8 , Condition(function Trig_Z5Func002Func002003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct________8 , Condition(function Trig_Z5Func002Func003Func003003002)))
            if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) != 0 ) ) then
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê")
                set udg_Point=GetRandomLocInRect(gg_rct________8)
                call CreateNUnitsAtLoc(1, 'Nbrn', Player(10), udg_Point, GetRandomDirectionDeg())
                call EnableTrigger(TSpellQianfa)
                call EnableTrigger(TSpellDart)
                if ( ( IsTianyan ) ) then
                    call s__SuperShield_create(GetLastCreatedUnit() , 5)
                else
                endif
                call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", udg_Point))
                call RemoveLocation(udg_Point)
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑~")
                call AdjustPlayerStateBJ(200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            endif
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞~")
            call AdjustPlayerStateBJ(200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'rde4' ) ) then
         set BJiulun=true
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(gg_rct________8 , Condition(function Trig_Z5Func003Func002003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct________8 , Condition(function Trig_Z5Func003Func003Func003003002)))
            if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) != 0 ) ) then
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê")
                set udg_Point=GetRandomLocInRect(gg_rct________8)
                call CreateNUnitsAtLoc(1, 'Nngs', Player(10), udg_Point, GetRandomDirectionDeg())
                call EnableTrigger(TSpellQianfa)
                call EnableTrigger(TSpellDart)
                if ( ( IsTianyan ) ) then
                    call s__SuperShield_create(GetLastCreatedUnit() , 5)
                else
                endif
                call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", udg_Point))
                call RemoveLocation(udg_Point)
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑~")
                call AdjustPlayerStateBJ(200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            endif
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞~")
            call AdjustPlayerStateBJ(200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'ofro' ) ) then
         set BJiulun=true
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(gg_rct________8 , Condition(function Trig_Z5Func004Func002003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct________8 , Condition(function Trig_Z5Func004Func003Func003003002)))
            if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) != 0 ) ) then
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê")
                set udg_Point=GetRandomLocInRect(gg_rct________8)
                call CreateNUnitsAtLoc(1, 'N00Q', Player(10), udg_Point, GetRandomDirectionDeg())
                set udg_Juneng[1]=GetLastCreatedUnit()
                call EnableTrigger(gg_trg_Z8)
                call EnableTrigger(gg_trg_Z9)
                call EnableTrigger(TSpellQianfa)
                call EnableTrigger(TSpellDart)
                call SetPlayerTechResearchedSwap(GetJunengTech(), level_juneng, Player(10))
                set JunengID=GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))
                call StartJudgeTransmit(udg_Juneng[1])
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct______________001))
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetRectCenter(gg_rct________8))
                set udg_Juneng[2]=CreateUnitAtLoc(Player(10), 'h00L', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 135.00)
                call UnitAddAbilityBJ('A0DY', udg_Juneng[2])
                call SetUnitAbilityLevelSwapped('A0DY', udg_Juneng[2], udg_Nandu_JJJ)
                call IssuePointOrderLoc(udg_Juneng[2], "stampede", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
                call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", udg_Point))
                call RemoveLocation(udg_Point)
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑~")
                call AdjustPlayerStateBJ(1300, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            endif
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞~")
            call AdjustPlayerStateBJ(1300, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I061' ) ) then
        if ( ( false == true ) and ( udg_Nandu_JJJ <= 4 ) and ( hasPIV() == false ) ) then
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ•Âå∫ÂüüÁöÑÊåëÊàòÂè™ËÉΩÂú®\"ÁÇºÁã±\"Êàñ‰ª•‰∏äÁöÑÈöæÂ∫¶ÊâçÂºÄÊîæ.")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
        endif
        if ( ( BSkipKuilei ) ) then
        else
            call ChooseKuileiDialog(GetOwningPlayer(GetBuyingUnit()))
            call AdjustPlayerStateBJ(500, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        endif
         set BJiulun=true
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(gg_rct_Hundun , Condition(function Trig_Z5Func005Func004003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_Hundun , Condition(function Trig_Z5Func005Func005Func003003002)))
            if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) != 0 ) ) then
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ•ù‰Ω†Â•ΩËøê")
                set udg_Point=GetRandomLocInRect(gg_rct_Hundun)
                call CreateNUnitsAtLoc(1, 'N01N', Player(10), udg_Point, GetRandomDirectionDeg())
                call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", udg_Point))
                call InitHundun1(GetLastCreatedUnit())
                call RemoveLocation(udg_Point)
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≤°Ëã±ÈõÑ‰∏çÂºÄÂà∑~")
                call AdjustPlayerStateBJ(500, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            endif
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ∏ÖÂÆåËøôÊ≥¢‰∏úË•øÂÜçÊù•‰π∞~")
            call AdjustPlayerStateBJ(500, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Z5 takes nothing returns nothing
    set gg_trg_Z5=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Z5, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_Z5, Condition(function Trig_Z5Conditions))
    call TriggerAddAction(gg_trg_Z5, function Trig_Z5Actions)
endfunction
//===========================================================================
// Trigger: Z6
//===========================================================================
function Trig_Z6Conditions takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetDyingUnit()) == Player(10) or GetOwningPlayer(GetDyingUnit()) == Player(11) ) and not ( IsUnitIllusion(GetDyingUnit()) ) ) )
endfunction
function Trig_Z6Func001Func006A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Z6Func002Func006A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Z6Func003Func009A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Z6Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'Nbrn' ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        call CreateItemLoc('sclp', udg_Point)
        call DisableTrigger(TSpellQianfa)
        call DisableTrigger(TSpellDart)
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfTypeIdAllNull('hs00'))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_Z6Func001Func006A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'Nngs' ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        call CreateItemLoc('engs', udg_Point)
        call DisableTrigger(TSpellQianfa)
        call DisableTrigger(TSpellDart)
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfTypeIdAllNull('hs00'))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_Z6Func002Func006A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'N00Q' ) ) then
        set level_juneng=level_juneng + I3(IsTianyan , 3 , 1)
        set udg_Point=GetUnitLoc(GetDyingUnit())
        call DisableTrigger(TSpellQianfa)
        call DisableTrigger(TSpellDart)
         call SaveJunengAchievement()
        if ( ( JunengID != 0 ) ) then
            call UnitAddItemByIdSwapped('mgtk', UDepot[JunengID])
            call SetUnitPositionLoc(UDepot[JunengID], udg_Point)
        else
            call CreateItemLoc('mgtk', udg_Point)
        endif
        set JunengID=0
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfTypeIdAllNull('hs00'))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_Z6Func003Func009A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'N01N' ) ) then
        call HundunDeath()
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_Z6 takes nothing returns nothing
    set gg_trg_Z6=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Z6, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Z6, Condition(function Trig_Z6Conditions))
    call TriggerAddAction(gg_trg_Z6, function Trig_Z6Actions)
endfunction
//===========================================================================
// Trigger: Z8
//===========================================================================
function Trig_Z8Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitAliveBJ(udg_Juneng[1]) == true ) ) then
        if ( ( IsUnitAliveBJ(udg_Juneng[3]) != true ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_Juneng[1]) <= ( 0.75 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_Juneng[1]) ) ) ) then
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct______________001_______u))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetRectCenter(gg_rct________8))
            set udg_Juneng[3]=CreateUnitAtLoc(Player(10), 'h00L', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 225.00)
            call UnitAddAbilityBJ('A0DY', udg_Juneng[3])
            call SetUnitAbilityLevelSwapped('A0DY', udg_Juneng[3], udg_Nandu_JJJ)
            call IssuePointOrderLoc(udg_Juneng[3], "stampede", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        else
        endif
        if ( ( IsUnitAliveBJ(udg_Juneng[4]) != true ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_Juneng[1]) <= ( 0.50 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_Juneng[1]) ) ) ) then
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct______________001________2))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetRectCenter(gg_rct________8))
            set udg_Juneng[4]=CreateUnitAtLoc(Player(10), 'h00L', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 315.00)
            call UnitAddAbilityBJ('A0DY', udg_Juneng[4])
            call SetUnitAbilityLevelSwapped('A0DY', udg_Juneng[4], udg_Nandu_JJJ)
            call IssuePointOrderLoc(udg_Juneng[4], "stampede", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        else
        endif
        if ( ( IsUnitAliveBJ(udg_Juneng[5]) != true ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_Juneng[1]) <= ( 0.25 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_Juneng[1]) ) ) ) then
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRectCenter(gg_rct______________001________3))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetRectCenter(gg_rct________8))
            set udg_Juneng[5]=CreateUnitAtLoc(Player(10), 'h00L', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 315.00)
            call UnitAddAbilityBJ('A0DY', udg_Juneng[5])
            call SetUnitAbilityLevelSwapped('A0DY', udg_Juneng[5], udg_Nandu_JJJ)
            call IssuePointOrderLoc(udg_Juneng[5], "stampede", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        else
        endif
    else
        call RemoveUnit(udg_Juneng[2])
        call RemoveUnit(udg_Juneng[3])
        call RemoveUnit(udg_Juneng[4])
        call RemoveUnit(udg_Juneng[5])
        set udg_Juneng[2]=null
        set udg_Juneng[3]=null
        set udg_Juneng[4]=null
        set udg_Juneng[5]=null
        call DisableTrigger(GetTriggeringTrigger())
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Z8 takes nothing returns nothing
    set gg_trg_Z8=CreateTrigger()
    call DisableTrigger(gg_trg_Z8)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Z8, 1.00)
    call TriggerAddAction(gg_trg_Z8, function Trig_Z8Actions)
endfunction
//===========================================================================
// Trigger: Z9
//===========================================================================
function Trig_Z9Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitAliveBJ(udg_Juneng[1]) == true ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetRectCenter(gg_rct________8))
        call IssuePointOrderLoc(udg_Juneng[2], "stampede", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetRectCenter(gg_rct________8))
        call IssuePointOrderLoc(udg_Juneng[3], "stampede", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetRectCenter(gg_rct________8))
        call IssuePointOrderLoc(udg_Juneng[4], "stampede", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetRectCenter(gg_rct________8))
        call IssuePointOrderLoc(udg_Juneng[5], "stampede", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
    else
        call DisableTrigger(GetTriggeringTrigger())
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Z9 takes nothing returns nothing
    set gg_trg_Z9=CreateTrigger()
    call DisableTrigger(gg_trg_Z9)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_Z9, 10.00)
    call TriggerAddAction(gg_trg_Z9, function Trig_Z9Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 033
//===========================================================================
function Trig____________________033Func001Func005Func001002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig____________________033Func001Func005Func003002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig____________________033Func001Func006Func001A takes nothing returns nothing
    call UnitDamageTarget(GetDyingUnit(), GetEnumUnit(), ( 2000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig____________________033Func001Func006Func002A takes nothing returns nothing
    call UnitDamageTarget(GetDyingUnit(), GetEnumUnit(), ( 2000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig____________________033Func002Func005Func001002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig____________________033Func002Func005Func003002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig____________________033Func002Func006Func001A takes nothing returns nothing
    call UnitDamageTarget(GetDyingUnit(), GetEnumUnit(), ( 500000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig____________________033Func002Func006Func002A takes nothing returns nothing
    call UnitDamageTarget(GetDyingUnit(), GetEnumUnit(), ( 500000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig____________________033Func003Func005Func001002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig____________________033Func003Func005Func003002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig____________________033Func003Func006Func001A takes nothing returns nothing
    call UnitDamageTarget(GetDyingUnit(), GetEnumUnit(), ( 200000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig____________________033Func003Func006Func002A takes nothing returns nothing
    call UnitDamageTarget(GetDyingUnit(), GetEnumUnit(), ( 200000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig____________________033Func004Func005Func001002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig____________________033Func004Func005Func003002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig____________________033Func004Func006Func001A takes nothing returns nothing
    call UnitDamageTarget(GetDyingUnit(), GetEnumUnit(), ( 1000000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig____________________033Func004Func006Func002A takes nothing returns nothing
    call UnitDamageTarget(GetDyingUnit(), GetEnumUnit(), ( 1000000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig____________________033Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'hspt' ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        call AddSpecialEffectLocBJ(udg_Point, "Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
        call DestroyEffect(GetLastCreatedEffectBJ())
        if ( ( udg_Nandu_JJJ >= 7 ) ) then
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(2000.00 , udg_Point , Condition(function Trig____________________033Func001Func005Func003002003))
        else
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig____________________033Func001Func005Func001002003))
        endif
        if ( ( IsWanjie() ) ) then
            call ForGroupBJ(udg_Group, function Trig____________________033Func001Func006Func001A)
        else
            call ForGroupBJ(udg_Group, function Trig____________________033Func001Func006Func002A)
        endif
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nfgb' ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        call AddSpecialEffectLocBJ(udg_Point, "Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
        call DestroyEffect(GetLastCreatedEffectBJ())
        if ( ( udg_Nandu_JJJ >= 7 ) ) then
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(2000.00 , udg_Point , Condition(function Trig____________________033Func002Func005Func003002003))
        else
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig____________________033Func002Func005Func001002003))
        endif
        if ( ( IsWanjie() ) ) then
            call ForGroupBJ(udg_Group, function Trig____________________033Func002Func006Func001A)
        else
            call ForGroupBJ(udg_Group, function Trig____________________033Func002Func006Func002A)
        endif
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'ebal' ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        call AddSpecialEffectLocBJ(udg_Point, "Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
        call DestroyEffect(GetLastCreatedEffectBJ())
        if ( ( udg_Nandu_JJJ >= 7 ) ) then
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(2000.00 , udg_Point , Condition(function Trig____________________033Func003Func005Func003002003))
        else
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig____________________033Func003Func005Func001002003))
        endif
        if ( ( IsWanjie() ) ) then
            call ForGroupBJ(udg_Group, function Trig____________________033Func003Func006Func001A)
        else
            call ForGroupBJ(udg_Group, function Trig____________________033Func003Func006Func002A)
        endif
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nvdg' ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        call AddSpecialEffectLocBJ(udg_Point, "Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
        call DestroyEffect(GetLastCreatedEffectBJ())
        if ( ( udg_Nandu_JJJ >= 7 ) ) then
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(2000.00 , udg_Point , Condition(function Trig____________________033Func004Func005Func003002003))
        else
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig____________________033Func004Func005Func001002003))
        endif
        if ( ( IsWanjie() ) ) then
            call ForGroupBJ(udg_Group, function Trig____________________033Func004Func006Func001A)
        else
            call ForGroupBJ(udg_Group, function Trig____________________033Func004Func006Func002A)
        endif
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________033 takes nothing returns nothing
    set gg_trg____________________033=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________033, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(gg_trg____________________033, function Trig____________________033Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 038
//===========================================================================
function Trig____________________038Conditions takes nothing returns boolean
    return ( ( UnitHasBuffBJ(GetAttackedUnitBJ(), 'B015') == false ) )
endfunction
function Trig____________________038Actions takes nothing returns nothing
    if ( ( ( GetUnitAbilityLevel(GetAttacker(), 'A05V') > 0 ) or ( GetUnitTypeId(GetAttacker()) == 'unec' ) or ( GetUnitTypeId(GetAttacker()) == 'odoc' ) or ( GetUnitTypeId(GetAttacker()) == 'nlkl' ) or ( GetUnitTypeId(GetAttacker()) == 'nltc' ) or ( GetUnitTypeId(GetAttacker()) == 'Hlgr' ) or ( GetUnitTypeId(GetAttacker()) == 'ninc' ) or ( GetUnitTypeId(GetAttacker()) == 'Orkn' ) ) ) then
        call SetUnitManaBJ(GetAttackedUnitBJ(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) - ( 20.00 * I2R(udg_RENSHU) ) ))
        call SetUnitManaBJ(GetAttacker(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) + ( 20.00 * I2R(udg_RENSHU) ) ))
    else
    endif
    if ( ( ( GetUnitTypeId(GetAttacker()) == 'nsrn' ) or ( GetUnitTypeId(GetAttacker()) == 'nsrh' ) ) ) then
        call SetUnitLifePercentBJ(GetAttackedUnitBJ(), ( GetUnitLifePercent(GetAttackedUnitBJ()) - 2.00 ))
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________038 takes nothing returns nothing
    set gg_trg____________________038=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________038, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________038, Condition(function Trig____________________038Conditions))
    call TriggerAddAction(gg_trg____________________038, function Trig____________________038Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 022 Â§çÂà∂
//===========================================================================
function Trig____________________022_______uConditions takes nothing returns boolean
    return ( ( GetEventDamage() >= 10 ) and ( GetPlayerController(GetOwningPlayer(GetEventDamageSource())) == MAP_CONTROL_COMPUTER ) )
endfunction
function Trig____________________022_______uActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitAbilityLevelSwapped('A00A', GetEventDamageSource()) != 0 ) and ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_MECHANICAL) != true ) ) then
        if ( ( GetUnitAbilityLevelSwapped('A00A', GetEventDamageSource()) <= 7 ) ) then
            call DisableTrigger(GetTriggeringTrigger())
            call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), ( I2R(udg_Nandu) * 100.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
            call EnableTrigger(GetTriggeringTrigger())
        else
            call DisableTrigger(GetTriggeringTrigger())
            call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), ( I2R(udg_Nandu) * 100.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
            call EnableTrigger(GetTriggeringTrigger())
        endif
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A05I', GetEventDamageSource()) != 0 ) ) then
        call DisableTrigger(GetTriggeringTrigger())
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( 30.00 * I2R(GetUnitAbilityLevelSwapped('A05I', GetEventDamageSource())) ) * GetUnitStateSwap(UNIT_STATE_MANA, GetEventDamageSource()) ))
        call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
        call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call EnableTrigger(GetTriggeringTrigger())
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('ANt2', GetEventDamageSource()) != 0 ) and ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_MECHANICAL) == true ) or ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == true ) ) ) then
        if ( ( GetUnitAbilityLevelSwapped('ANt2', GetEventDamageSource()) <= 7 ) ) then
            call DisableTrigger(GetTriggeringTrigger())
            call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), ( I2R(udg_Nandu) * 100.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
            call EnableTrigger(GetTriggeringTrigger())
        else
            call DisableTrigger(GetTriggeringTrigger())
            call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), ( I2R(udg_Nandu) * 100000.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
            call EnableTrigger(GetTriggeringTrigger())
        endif
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Awar', GetEventDamageSource()) != 0 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetEventDamageSource()) >= 200.00 ) ) then
        if ( ( GetUnitAbilityLevelSwapped('Awar', GetEventDamageSource()) <= 7 ) ) then
            call DisableTrigger(GetTriggeringTrigger())
            call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), ( I2R(udg_Nandu) * 2000.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
            call EnableTrigger(GetTriggeringTrigger())
        else
            call DisableTrigger(GetTriggeringTrigger())
            call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), ( I2R(udg_Nandu) * 333333.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
            call EnableTrigger(GetTriggeringTrigger())
        endif
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('ACua', GetEventDamageSource()) != 0 ) ) then
        call DisableTrigger(GetTriggeringTrigger())
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetEventDamage() * ( YDWEDistanceBetweenUnits(GetTriggerUnit() , GetEventDamageSource()) / 1000.00 ) ))
        call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
        call EnableTrigger(GetTriggeringTrigger())
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Ansk', GetEventDamageSource()) != 0 ) ) then
        call DisableTrigger(GetTriggeringTrigger())
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetEventDamage() * ( 5.00 * ( 1.00 - ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) ) ) ) ))
        call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
        call EnableTrigger(GetTriggeringTrigger())
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Aesn', GetEventDamageSource()) != 0 ) and ( GetUnitStateSwap(UNIT_STATE_MAX_MANA, GetTriggerUnit()) > 100.00 ) ) then
        call DisableTrigger(GetTriggeringTrigger())
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetEventDamage() * ( 5.00 * ( 1.00 - ( GetUnitStateSwap(UNIT_STATE_MANA, GetTriggerUnit()) / GetUnitStateSwap(UNIT_STATE_MAX_MANA, GetTriggerUnit()) ) ) ) ))
        call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
        call EnableTrigger(GetTriggeringTrigger())
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________022_______u takes nothing returns nothing
    set gg_trg____________________022_______u=CreateTrigger()
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________022_______u)
    call TriggerAddCondition(gg_trg____________________022_______u, Condition(function Trig____________________022_______uConditions))
    call TriggerAddAction(gg_trg____________________022_______u, function Trig____________________022_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 036
//===========================================================================
function Trig____________________036Conditions takes nothing returns boolean
    return ( ( GetOwningPlayer(GetDyingUnit()) == Player(11) ) and ( GetUnitPointValue(GetDyingUnit()) != 123 ) and ( GetUnitPointValue(GetDyingUnit()) != 0 ) and ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) != true ) )
endfunction
function Trig____________________036Actions takes nothing returns nothing
    if ( ( RectContainsUnit(gg_rct__________u, GetDyingUnit()) == true ) ) then
        call AddCenterCredit(GetKillingUnitBJ())
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=CModeH(1 , 2)
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            if ( ( udg_Bo <= 4 ) ) then
                if ( ( GetRandomInt(1, 60) == 1 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('hlst', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
            else
            endif
            if ( ( udg_Bo > 4 ) and ( udg_Bo <= 8 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1, 120)
                if ( ( udg_I_suijizhengshu == 1 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('hlst', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
                if ( ( udg_I_suijizhengshu == 2 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('wshs', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
            else
            endif
            if ( ( udg_Bo > 8 ) and ( udg_Bo <= 12 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1, 60)
                if ( ( udg_I_suijizhengshu == 2 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('wshs', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
            else
            endif
            if ( ( udg_Bo > 12 ) and ( udg_Bo <= 16 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1, 120)
                if ( ( udg_I_suijizhengshu == 1 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('wild', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
                if ( ( udg_I_suijizhengshu == 2 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('wshs', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
            else
            endif
            if ( ( udg_Bo > 16 ) and ( udg_Bo <= 20 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1, 60)
                if ( ( udg_I_suijizhengshu == 2 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('wild', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
            else
            endif
            if ( ( udg_Bo > 20 ) and ( udg_Bo <= 24 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1, 120)
                if ( ( udg_I_suijizhengshu == 1 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('wild', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
                if ( ( udg_I_suijizhengshu == 2 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('totw', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
            else
            endif
            if ( ( udg_Bo > 24 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1, 45)
                if ( ( udg_I_suijizhengshu == 2 ) ) then
                    set udg_Point=GetUnitLoc(GetDyingUnit())
                    call CreateItemLoc('totw', udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
            else
            endif
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________036 takes nothing returns nothing
    set gg_trg____________________036=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________036, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg____________________036, Condition(function Trig____________________036Conditions))
    call TriggerAddAction(gg_trg____________________036, function Trig____________________036Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 044
//===========================================================================
function Trig____________________044Conditions takes nothing returns boolean
    return ( ( GetUnitAbilityLevelSwapped('Aimp', GetTriggerUnit()) != 0 ) and ( GetEventDamage() > 10.00 ) )
endfunction
function Trig____________________044Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, GetEventDamage())
    if ( ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) < 100000.00 ) ) then
        call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) ))
    else
        call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + 100000.00 ))
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________044 takes nothing returns nothing
    set gg_trg____________________044=CreateTrigger()
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________044)
    call TriggerAddCondition(gg_trg____________________044, Condition(function Trig____________________044Conditions))
    call TriggerAddAction(gg_trg____________________044, function Trig____________________044Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 065
//===========================================================================
function Trig____________________065Conditions takes nothing returns boolean
    return ( ( GetUnitAbilityLevelSwapped('Aimp', GetDyingUnit()) != 0 ) )
endfunction
function Trig____________________065Func002A takes nothing returns nothing
    call SetUnitLifePercentBJ(GetEnumUnit(), 100)
endfunction
function Trig____________________065Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfTypeIdAllNull('hphx'))
    call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig____________________065Func002A)
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________065 takes nothing returns nothing
    set gg_trg____________________065=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________065, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg____________________065, Condition(function Trig____________________065Conditions))
    call TriggerAddAction(gg_trg____________________065, function Trig____________________065Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 047
//===========================================================================
function Trig____________________047Conditions takes nothing returns boolean
    return ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) != GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) )
endfunction
function Trig____________________047Actions takes nothing returns nothing
    if ( ( GetUnitAbilityLevelSwapped('Amgl', GetAttacker()) == 1 ) ) then
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 1333.00 ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 4000.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Amgl', GetAttacker()) == 2 ) ) then
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 667.00 ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 2000.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Amgl', GetAttacker()) == 3 ) ) then
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 444.00 ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 1333.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Amgl', GetAttacker()) == 4 ) ) then
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 333.00 ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 1000.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Amgl', GetAttacker()) == 5 ) ) then
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 267.00 ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) / 800.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________047 takes nothing returns nothing
    set gg_trg____________________047=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________047, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________047, Condition(function Trig____________________047Conditions))
    call TriggerAddAction(gg_trg____________________047, function Trig____________________047Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 048
//===========================================================================
function Trig____________________048Actions takes nothing returns nothing
    if ( ( GetUnitAbilityLevelSwapped('Arsk', GetAttacker()) != 0 ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) <= ( 0.25 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) ) ) then
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) * 0.02 ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Agyv', GetAttacker()) != 0 ) and ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) ) > ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) ) ) then
        call SetUnitLifePercentBJ(GetTriggerUnit(), ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) * 100.00 ))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________048 takes nothing returns nothing
    set gg_trg____________________048=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________048, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddAction(gg_trg____________________048, function Trig____________________048Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 058
//===========================================================================
function Trig____________________058Actions takes nothing returns nothing
    if ( ( GetUnitAbilityLevel(GetAttacker(), 'A0LH') > 0 ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 20) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) >= 100.00 ) and ( GetPlayerController(GetOwningPlayer(GetAttacker())) == MAP_CONTROL_COMPUTER ) ) then
        set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A0B2', GetLastCreatedUnit())
        call SetUnitAbilityLevelSwapped('A0B2', GetLastCreatedUnit(), udg_Nandu_JJJ)
        call IssueTargetOrderById(GetLastCreatedUnit(), 852274, GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetAttacker()) == 'Uear' ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetRandomInt(1, 20) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) >= 100.00 ) ) then
        call DisableTrigger(GetTriggeringTrigger())
        set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A0DX', GetLastCreatedUnit())
        call SetUnitAbilityLevelSwapped('A0DX', GetLastCreatedUnit(), udg_Nandu_JJJ)
        call IssueTargetOrderById(GetLastCreatedUnit(), 852274, GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        call YDWEPolledWaitNull(5.00)
        call EnableTrigger(GetTriggeringTrigger())
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________058 takes nothing returns nothing
    set gg_trg____________________058=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________058, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddAction(gg_trg____________________058, function Trig____________________058Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 060
//===========================================================================
function Trig____________________060Conditions takes nothing returns boolean
    return ( ( GetUnitAbilityLevel(GetDyingUnit(), 'A0LI') > 0 ) and ( IsUnitEnemy(GetDyingUnit(), Player(0)) == true ) )
endfunction
function Trig____________________060Func002002003 takes nothing returns boolean
    return ( ( GetUnitTypeId(GetFilterUnit()) == 'edoc' ) )
endfunction
function Trig____________________060Func003A takes nothing returns nothing
    call UnitResetCooldown(GetEnumUnit())
endfunction
function Trig____________________060Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    set udg_Point=GetUnitLoc(GetDyingUnit())
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , udg_Point , Condition(function Trig____________________060Func002002003))
    call ForGroupBJ(udg_Group, function Trig____________________060Func003A)
    call DestroyGroup(udg_Group)
    call RemoveLocation(udg_Point)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________060 takes nothing returns nothing
    set gg_trg____________________060=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________060, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg____________________060, Condition(function Trig____________________060Conditions))
    call TriggerAddAction(gg_trg____________________060, function Trig____________________060Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 062
//===========================================================================
function Trig____________________062Conditions takes nothing returns boolean
    return ( ( GetRandomInt(1, 5) == 1 ) )
endfunction
function Trig____________________062Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitAbilityLevelSwapped('A0B8', GetAttacker()) != 0 ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) <= ( ( 0.10 + ( 0.03 * I2R(GetUnitAbilityLevelSwapped('A0B8', GetAttacker())) ) ) * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) >= 200.00 ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", YDWECoordinateX(GetUnitX(GetAttacker())), YDWECoordinateY(GetUnitY(GetAttacker()))))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", YDWECoordinateX(GetUnitX(GetAttackedUnitBJ())), YDWECoordinateY(GetUnitY(GetAttackedUnitBJ()))))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) * 100.00 ))
        call SetUnitLifePercentBJ(GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) * 100.00 ))
        call SetUnitLifePercentBJ(GetAttacker(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A0B8', GetAttackedUnitBJ()) != 0 ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) <= ( ( 0.10 + ( 0.03 * I2R(GetUnitAbilityLevelSwapped('A0B8', GetAttackedUnitBJ())) ) ) * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) >= 200.00 ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", YDWECoordinateX(GetUnitX(GetAttacker())), YDWECoordinateY(GetUnitY(GetAttacker()))))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", YDWECoordinateX(GetUnitX(GetAttackedUnitBJ())), YDWECoordinateY(GetUnitY(GetAttackedUnitBJ()))))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) * 100.00 ))
        call SetUnitLifePercentBJ(GetAttackedUnitBJ(), ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) * 100.00 ))
        call SetUnitLifePercentBJ(GetAttacker(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________062 takes nothing returns nothing
    set gg_trg____________________062=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________062, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________062, Condition(function Trig____________________062Conditions))
    call TriggerAddAction(gg_trg____________________062, function Trig____________________062Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 063
//===========================================================================
function Trig____________________063Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetAttackedUnitBJ()) == false ) and ( GetUnitTypeId(GetAttackedUnitBJ()) != 'N018' ) )
endfunction
function Trig____________________063Actions takes nothing returns nothing
    local integer ydul_o
    if ( ( ( GetUnitAbilityLevelSwapped('Agyb', GetAttacker()) != 0 ) or ( GetUnitAbilityLevelSwapped('Asth', GetAttacker()) != 0 ) ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) >= 1000.00 ) and ( GetRandomInt(1, 50) == 1 ) ) then
        if ( ( GetUnitAbilityLevelSwapped('Agyb', GetAttacker()) != 0 ) ) then
            set ydul_o=1
            loop
                exitwhen ydul_o > 6
                if ( ( UnitItemInSlotBJ(GetAttackedUnitBJ(), ydul_o) != null ) and ( IsItemPawnable(UnitItemInSlotBJ(GetAttackedUnitBJ(), ydul_o)) == true ) ) then
                    call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())), ( "|cffff8000„ÄêÊ≥®ÊÑè„Äë‰Ω†ÁöÑ|r" + ( GetItemName(UnitItemInSlotBJ(GetAttackedUnitBJ(), ydul_o)) + "|cffff8000Ë¢´ÊÄ™Áâ©Áî®ÊäÄËÉΩÂáªËêΩÂú®Âú∞‰∏äÔºÅÔºÅÔºÅÔºÅÔºÅ|r" ) ))
                    call UnitRemoveItemSwapped(UnitItemInSlotBJ(GetAttackedUnitBJ(), ydul_o), GetAttackedUnitBJ())
                    call DoNothing()
 exitwhen true //(  )
                else
                endif
                set ydul_o=ydul_o + 1
            endloop
        else
            set ydul_o=1
            loop
                exitwhen ydul_o > 6
                if ( ( UnitItemInSlotBJ(GetAttackedUnitBJ(), ydul_o) != null ) and ( IsItemPawnable(UnitItemInSlotBJ(GetAttackedUnitBJ(), ydul_o)) == true ) ) then
                    call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())), ( "|cffff8000„ÄêÊ≥®ÊÑè„Äë‰Ω†ÁöÑ|r" + ( GetItemName(UnitItemInSlotBJ(GetAttackedUnitBJ(), ydul_o)) + "|cffff8000Ë¢´ÊÄ™Áâ©Áî®ÊäÄËÉΩÂáªËêΩÂú®Âú∞‰∏äÔºÅÔºÅÔºÅÔºÅÔºÅ|r" ) ))
                    call UnitRemoveItemSwapped(UnitItemInSlotBJ(GetAttackedUnitBJ(), ydul_o), GetAttackedUnitBJ())
                else
                endif
                set ydul_o=ydul_o + 1
            endloop
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________063 takes nothing returns nothing
    set gg_trg____________________063=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________063, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________063, Condition(function Trig____________________063Conditions))
    call TriggerAddAction(gg_trg____________________063, function Trig____________________063Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 031
//===========================================================================
function Trig____________________031Conditions takes nothing returns boolean
    return ( ( IsUnitAliveBJ(GetEventDamageSource()) == true ) and ( GetPlayerController(GetOwningPlayer(GetEventDamageSource())) != MAP_CONTROL_USER ) and ( GetUnitPointValue(GetTriggerUnit()) != 0 ) and ( GetEventDamage() >= 10.00 ) and ( IsUnitIllusionBJ(GetEventDamageSource()) != true ) )
endfunction
function Trig____________________031Actions takes nothing returns nothing
    if ( ( GetUnitAbilityLevelSwapped('Adts', GetEventDamageSource()) != 0 ) and ( ( GetTriggerUnit() != udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) ) then
        call DisableTrigger(GetTriggeringTrigger())
        call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), ( ( 0.01 * I2R(udg_Nandu_JJJ) ) * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_FIRE)
        call EnableTrigger(GetTriggeringTrigger())
    else
    endif
    if ( ( GetTriggerUnit() != udg_Unit_Leitai[1] ) and ( GetUnitAbilityLevelSwapped('A0ES', GetEventDamageSource()) != 0 ) ) then
        call DisableTrigger(GetTriggeringTrigger())
        call UnitDamageTargetBJ(GetEventDamageSource(), GetTriggerUnit(), ( 0.03 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
        call EnableTrigger(GetTriggeringTrigger())
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________031 takes nothing returns nothing
    set gg_trg____________________031=CreateTrigger()
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________031)
    call TriggerAddCondition(gg_trg____________________031, Condition(function Trig____________________031Conditions))
    call TriggerAddAction(gg_trg____________________031, function Trig____________________031Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 077
//===========================================================================
function Trig____________________077Conditions takes nothing returns boolean
    return ( ( GetUnitAbilityLevelSwapped('Aimp', GetAttacker()) != 0 ) and ( GetUnitAbilityLevelSwapped('Amim', GetTriggerUnit()) == 1 ) )
endfunction
function Trig____________________077Actions takes nothing returns nothing
    call UnitDamageTarget(GetAttacker(), GetTriggerUnit(), 100000.00, false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
endfunction
//===========================================================================
function InitTrig____________________077 takes nothing returns nothing
    set gg_trg____________________077=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________077, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________077, Condition(function Trig____________________077Conditions))
    call TriggerAddAction(gg_trg____________________077, function Trig____________________077Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 082
//===========================================================================
function Trig____________________082Conditions takes nothing returns boolean
    return ( ( GetUnitAbilityLevelSwapped('Amgr', GetAttacker()) != 0 ) )
endfunction
function Trig____________________082Actions takes nothing returns nothing
    if ( ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_HERO) == true ) ) then
        if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) < ( 0.50 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) ) and ( GetRandomInt(1, 25) <= 2 ) ) then
            call PauseUnitBJ(true, GetAttackedUnitBJ())
            call YDWEPolledWaitNull(1.00)
            call PauseUnitBJ(false, GetAttackedUnitBJ())
        else
        endif
    else
        if ( ( GetOwningPlayer(GetAttacker()) == Player(10) ) ) then
            call SetUnitOwner(GetAttackedUnitBJ(), Player(10), true)
        else
        endif
    endif
endfunction
//===========================================================================
function InitTrig____________________082 takes nothing returns nothing
    set gg_trg____________________082=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________082, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________082, Condition(function Trig____________________082Conditions))
    call TriggerAddAction(gg_trg____________________082, function Trig____________________082Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 024
//===========================================================================
function Trig____________________024Conditions takes nothing returns boolean
    return ( ( GetOwningPlayer(GetAttacker()) == Player(11) ) and ( RectContainsUnit(gg_rct________1, GetAttackedUnitBJ()) != true ) )
endfunction
function Trig____________________024Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitTypeId(GetAttacker()) == 'oswy' ) ) then
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( 200000.00 * I2R(udg_Nandu) ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct________1))
        call SetUnitPositionLoc(GetAttackedUnitBJ(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    if ( ( GetUnitTypeId(GetAttacker()) == 'nvdg' ) ) then
        call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), ( 1000000.00 * I2R(udg_Nandu) ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct________1))
        call SetUnitPositionLoc(GetAttackedUnitBJ(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________024 takes nothing returns nothing
    set gg_trg____________________024=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________024, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________024, Condition(function Trig____________________024Conditions))
    call TriggerAddAction(gg_trg____________________024, function Trig____________________024Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 032
//===========================================================================
function Trig____________________032Func013Func011T takes nothing returns nothing
    local integer ydul_aj
    if ( ( IsUnitDeadBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C)) == true ) ) then
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C))
        set ydul_aj=1
        loop
            exitwhen ydul_aj > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_aj)) == PLAYER_SLOT_STATE_PLAYING ) ) then
                call CreateItemLoc('wshs', udg_Point)
                call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, ydul_aj)
            else
            endif
            set ydul_aj=ydul_aj + 1
        endloop
        call RemoveLocation(udg_Point)
        call PauseTimer(udg_Time_BOSS)
        call DestroyTimerDialog(udg_Timer_BOSS)
        set udg_Bo=( udg_Bo + 1 )
        call ReflashCrainaxAttr()
        call StartTimerBJ(udg_Time_Start[( udg_Bo + 1 )], false, GetMonsterSpeed())
        call TriggerExecute(gg_trg____________________020)
        call StartTimerBJ(udg_Time_Start[1], false, GetBoSpeed())
        call TimerDialogSetTitle(udg_Time_Monster_C[1], ( "Á¨¨" + ( I2S(( udg_Bo + 1 )) + "Ê≥¢" ) ))
        call DestroyTrigger(gg_trg____________________052)
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call IssuePointOrderLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C), "attack", udg_Point)
        call RemoveLocation(udg_Point)
    endif
endfunction
function Trig____________________032Func014Func012T takes nothing returns nothing
    local integer ydul_aj
    if ( ( IsUnitDeadBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C)) == true ) ) then
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C))
        set ydul_aj=1
        loop
            exitwhen ydul_aj > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_aj)) == PLAYER_SLOT_STATE_PLAYING ) ) then
                call CreateItemLoc('wild', udg_Point)
                call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, ydul_aj)
            else
            endif
            set ydul_aj=ydul_aj + 1
        endloop
        call RemoveLocation(udg_Point)
        call PauseTimer(udg_Time_BOSS)
        call DestroyTimerDialog(udg_Timer_BOSS)
        set udg_Bo=( udg_Bo + 1 )
        call ReflashCrainaxAttr()
        call StartTimerBJ(udg_Time_Start[( udg_Bo + 1 )], false, GetMonsterSpeed())
        call TriggerExecute(gg_trg____________________020)
        call StartTimerBJ(udg_Time_Start[1], false, GetBoSpeed())
        call TimerDialogSetTitle(udg_Time_Monster_C[1], ( "Á¨¨" + ( I2S(( udg_Bo + 1 )) + "Ê≥¢" ) ))
        call DestroyTrigger(gg_trg____________________052_______u)
        call DestroyTrigger(gg_trg____________________001)
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call IssuePointOrderLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C), "attack", udg_Point)
        call RemoveLocation(udg_Point)
    endif
endfunction
function Trig____________________032Func015Func013T takes nothing returns nothing
    local integer ydul_aj
    if ( ( IsUnitDeadBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C)) == true ) ) then
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C))
        set ydul_aj=1
        loop
            exitwhen ydul_aj > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_aj)) == PLAYER_SLOT_STATE_PLAYING ) ) then
                call CreateItemLoc('totw', udg_Point)
                call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, ydul_aj)
            else
            endif
            set ydul_aj=ydul_aj + 1
        endloop
        call RemoveLocation(udg_Point)
        call PauseTimer(udg_Time_BOSS)
        call DestroyTimerDialog(udg_Timer_BOSS)
        set udg_Bo=( udg_Bo + 1 )
        call ReflashCrainaxAttr()
        call StartTimerBJ(udg_Time_Start[( udg_Bo + 1 )], false, GetMonsterSpeed())
        call TriggerExecute(gg_trg____________________020)
        call DestroyTrigger(gg_trg____________________001_______u)
        call DestroyTrigger(gg_trg____________________052______________u)
        call StartTimerBJ(udg_Time_Start[1], false, GetBoSpeed())
        call TimerDialogSetTitle(udg_Time_Monster_C[1], ( "Á¨¨" + ( I2S(( udg_Bo + 1 )) + "Ê≥¢" ) ))
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call IssuePointOrderLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C), "attack", udg_Point)
        call RemoveLocation(udg_Point)
    endif
endfunction
function Trig____________________032Func016Func014T takes nothing returns nothing
    local integer ydul_aj
    if ( ( IsUnitDeadBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C)) == true ) ) then
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C))
        set ydul_aj=1
        loop
            exitwhen ydul_aj > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_aj)) == PLAYER_SLOT_STATE_PLAYING ) ) then
                call CreateItemLoc('totw', udg_Point)
                call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, ydul_aj)
                call CreateItemLoc('totw', udg_Point)
                call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, ydul_aj)
            else
            endif
            set ydul_aj=ydul_aj + 1
        endloop
        call RemoveLocation(udg_Point)
        call PauseTimer(udg_Time_BOSS)
        call DestroyTimerDialog(udg_Timer_BOSS)
        set udg_Bo=( udg_Bo + 1 )
        call ReflashCrainaxAttr()
        call StartTimerBJ(udg_Time_Start[( udg_Bo + 1 )], false, GetMonsterSpeed())
        call TriggerExecute(gg_trg____________________020)
        call StartTimerBJ(udg_Time_Start[1], false, GetBoSpeed())
        call TimerDialogSetTitle(udg_Time_Monster_C[1], ( "Á¨¨" + ( I2S(( udg_Bo + 1 )) + "Ê≥¢" ) ))
        call DestroyTrigger(gg_trg____________________052_____________________u)
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call IssuePointOrderLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C), "attack", udg_Point)
        call RemoveLocation(udg_Point)
    endif
endfunction
function Trig____________________032Func017Func016T takes nothing returns nothing
    local integer ydul_aj
    if ( ( IsUnitDeadBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C)) == true ) ) then
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C))
        set ydul_aj=1
        loop
            exitwhen ydul_aj > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_aj)) == PLAYER_SLOT_STATE_PLAYING ) ) then
                call CreateItemLoc('sror', udg_Point)
                call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, ydul_aj)
            else
            endif
            set ydul_aj=ydul_aj + 1
        endloop
        call RemoveLocation(udg_Point)
        call PauseTimer(udg_Time_BOSS)
        call DestroyTimerDialog(udg_Timer_BOSS)
        set udg_Bo=( udg_Bo + 1 )
        call ReflashCrainaxAttr()
        call StartTimerBJ(udg_Time_Start[( udg_Bo + 1 )], false, GetMonsterSpeed())
        call TriggerExecute(gg_trg____________________020)
        call StartTimerBJ(udg_Time_Start[1], false, GetBoSpeed())
        call TimerDialogSetTitle(udg_Time_Monster_C[1], ( "Á¨¨" + ( I2S(( udg_Bo + 1 )) + "Ê≥¢" ) ))
        call DestroyTrigger(gg_trg____________________052_______________2)
        call DestroyTrigger(gg_trg____________________001________2)
        call DestroyTrigger(gg_trg____________________001________2_______u)
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call IssuePointOrderLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2EE2B56C), "attack", udg_Point)
        call RemoveLocation(udg_Point)
    endif
endfunction
function Trig____________________032Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS„Äë|rÈÄüÂ∫¶ÂõûÈò≤ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
    call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS„Äë|rÈÄüÂ∫¶ÂõûÈò≤ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
    call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS„Äë|rÈÄüÂ∫¶ÂõûÈò≤ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
    call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS„Äë|rÈÄüÂ∫¶ÂõûÈò≤ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
    call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS„Äë|rÈÄüÂ∫¶ÂõûÈò≤ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
    call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS„Äë|rÈÄüÂ∫¶ÂõûÈò≤ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
    call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS„Äë|rÈÄüÂ∫¶ÂõûÈò≤ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
    call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS„Äë|rÈÄüÂ∫¶ÂõûÈò≤ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
    call StartTimerBJ(udg_Time_BOSS, false, ( I2R(300 / ( NanDiff + 1 )) ))
    call CreateTimerDialogBJ(udg_Time_BOSS, "ÂáªÊùÄBOSSÊó∂Èó¥")
    set udg_Timer_BOSS=GetLastCreatedTimerDialogBJ()
    call TimerDialogDisplayBJ(true, udg_Timer_BOSS)
    if ( ( udg_Bo == 3 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS1„Äë|r|cff7cfc00‰∫öÂ∞îÊñØÔºàÊó†Êïå„ÄÅÂÜ≤ÂáªÊ≥¢„ÄÅÁ©øÂà∫Ôºâ|rÂâçÊù•ËøõÊîªÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        set udg_Point=GetRectCenter(gg_rct______________096________2)
        call PingMinimapLocForForce(GetPlayersAll(), udg_Point, 3.00)
        call CreateNUnitsAtLoc(1, 'Nbst', Player(11), udg_Point, bj_UNIT_FACING)
        call TriggerRegisterUnitEvent(gg_trg____________________052, GetLastCreatedUnit(), EVENT_UNIT_ATTACKED)
        call EnableTrigger(gg_trg____________________052)
        set udg_Unit=GetLastCreatedUnit()
        call StartFangKa(udg_Unit)
        call TriggerExecute(gg_trg____________________034)
        call RemoveLocation(udg_Point)
        set ydl_timer=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x2EE2B56C, GetLastCreatedUnit())
        call TimerStart(ydl_timer, 1.00, true, function Trig____________________032Func013Func011T)
    else
    endif
    if ( ( udg_Bo == 7 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS2„Äë|r|cff7cfc00Ë¥πÂ∞îÂßÜÔºàÂê∏Ë°Ä„ÄÅÈ£éÊö¥‰πãÁÑ∞„ÄÅÁ†¥È≠îÂÖâÁéØ„ÄÅÂ§öÈáçÊîªÂáªÔºâ|rÂâçÊù•ËøõÊîªÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        set udg_Point=GetRectCenter(gg_rct______________096________2)
        call PingMinimapLocForForce(GetPlayersAll(), udg_Point, 3.00)
        call CreateNUnitsAtLoc(1, 'Hblm', Player(11), udg_Point, bj_UNIT_FACING)
        set udg_Unit=GetLastCreatedUnit()
        call StartFangKa(udg_Unit)
        call TriggerRegisterUnitEvent(gg_trg____________________052_______u, GetLastCreatedUnit(), EVENT_UNIT_ATTACKED)
        call EnableTrigger(gg_trg____________________052_______u)
        call EnableTrigger(gg_trg____________________001)
        call TriggerExecute(gg_trg____________________034)
        call RemoveLocation(udg_Point)
        set ydl_timer=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x2EE2B56C, GetLastCreatedUnit())
        call TimerStart(ydl_timer, 1.00, true, function Trig____________________032Func014Func012T)
    else
    endif
    if ( ( udg_Bo == 11 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS3„Äë|r|cff7cfc00Âç¢Ê≥ïÊñØÔºàÊØíÊ≠¶Âô®„ÄÅÂâëËàû„ÄÅÂàÜË∫´Ôºâ|rÂâçÊù•ËøõÊîªÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        set udg_Point=GetRectCenter(gg_rct______________096________2)
        call PingMinimapLocForForce(GetPlayersAll(), udg_Point, 3.00)
        call CreateNUnitsAtLoc(1, 'Obla', Player(11), udg_Point, bj_UNIT_FACING)
        set udg_Unit=GetLastCreatedUnit()
        call StartFangKa(udg_Unit)
        call AddTianyanmokang(udg_Unit)
        call TriggerRegisterUnitEvent(gg_trg____________________052______________u, GetLastCreatedUnit(), EVENT_UNIT_ATTACKED)
        call EnableTrigger(gg_trg____________________052______________u)
        call EnableTrigger(gg_trg____________________001_______u)
        call TriggerExecute(gg_trg____________________034)
        call RemoveLocation(udg_Point)
        set ydl_timer=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x2EE2B56C, GetLastCreatedUnit())
        call TimerStart(ydl_timer, 1.00, true, function Trig____________________032Func015Func013T)
    else
    endif
    if ( ( udg_Bo == 15 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS4„Äë|r|cff7cfc00Â°ûÊñØÂà©Â∞îÔºà‰∏áÊúâÂºïÂäõ„ÄÅÂàÜË£ÇÊîªÂáª„ÄÅÂáèÂ∞ëÈ≠îÊ≥ï‰º§ÂÆ≥80%„ÄÅÊ∞∏‰πÖÁöÑÁåÆÁ•≠Ôºâ|rÂâçÊù•ËøõÊîªÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        set udg_Point=GetRectCenter(gg_rct______________096________2)
        call PingMinimapLocForForce(GetPlayersAll(), udg_Point, 3.00)
        call CreateNUnitsAtLoc(1, 'Npbm', Player(11), udg_Point, bj_UNIT_FACING)
        set udg_Unit=GetLastCreatedUnit()
        call StartFangKa(udg_Unit)
        call EnhanceWanjieAttack(udg_Unit)
        call AddTianyanmokang(udg_Unit)
        call TriggerRegisterUnitEvent(gg_trg____________________052_____________________u, GetLastCreatedUnit(), EVENT_UNIT_ATTACKED)
        call EnableTrigger(gg_trg____________________052_____________________u)
        call TriggerExecute(gg_trg____________________034)
        call RemoveLocation(udg_Point)
        call InitSaisilier(GetLastCreatedUnit())
        set ydl_timer=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x2EE2B56C, GetLastCreatedUnit())
        call TimerStart(ydl_timer, 1.00, true, function Trig____________________032Func016Func014T)
    else
    endif
    if ( ( udg_Bo == 19 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêBOSS5„Äë|r|cff7cfc00Á©ÜÊñØÁâπÔºàÊö¥Èõ™ÊîªÂáª„ÄÅÁªùÂØπÊ≤âÈªò„ÄÅÁû¨Èó™ÁîüÂëΩ„ÄÅÊîªÂáªÂéãÂà∂Ôºâ|rÂâçÊù•ËøõÊîªÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        set udg_Point=GetRectCenter(gg_rct______________096________2)
        call PingMinimapLocForForce(GetPlayersAll(), udg_Point, 3.00)
        call CreateNUnitsAtLoc(1, 'Hamg', Player(11), udg_Point, bj_UNIT_FACING)
        set udg_Unit=GetLastCreatedUnit()
        call StartFangKa(udg_Unit)
        call EnhanceWanjieAttack(udg_Unit)
        call AddTianyanmokang(udg_Unit)
        if ( ( IsTianyan ) ) then
            call UnlimitSlienceTianyan(udg_Unit)
        else
        endif
        call TriggerRegisterUnitEvent(gg_trg____________________052_______________2, GetLastCreatedUnit(), EVENT_UNIT_ATTACKED)
        call EnableTrigger(gg_trg____________________052_______________2)
        call EnableTrigger(gg_trg____________________001________2)
        call EnableTrigger(gg_trg____________________001________2_______u)
        call TriggerExecute(gg_trg____________________034)
        call RemoveLocation(udg_Point)
        set ydl_timer=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x2EE2B56C, GetLastCreatedUnit())
        call TimerStart(ydl_timer, 1.00, true, function Trig____________________032Func017Func016T)
    else
    endif
    call UnitAddAbilityBJ('A0P1', GetLastCreatedUnit())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig____________________032 takes nothing returns nothing
    set gg_trg____________________032=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________032, function Trig____________________032Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 034
//===========================================================================
function Trig____________________034Actions takes nothing returns nothing
    if ( ( udg_Bo == 3 ) ) then
        call SetUnitAbilityLevelSwapped('ACcv', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('ACmp', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('ACds', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( udg_Bo == 7 ) ) then
        call SetUnitAbilityLevelSwapped('A032', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( udg_Bo == 11 ) ) then
        call SetUnitAbilityLevelSwapped('A013', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A06H', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( udg_Bo == 15 ) ) then
        call SetUnitAbilityLevelSwapped('A015', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( udg_Bo == 19 ) ) then
        call SetUnitAbilityLevelSwapped('A019', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('ACsi', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    call IssuePointOrderLoc(udg_Unit, "attack", udg_Point_Fuhuo)
    set udg_Unit=null
endfunction
//===========================================================================
function InitTrig____________________034 takes nothing returns nothing
    set gg_trg____________________034=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________034, function Trig____________________034Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 052
//===========================================================================
function Trig____________________052Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Nbst' ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) <= ( 0.30 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) )
endfunction
function Trig____________________052Actions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„Äê‰∫öÂ∞îÊñØ„Äë|rÔºöÊòØ‰Ω†‰ª¨ÈÄºÊàëÁöÑÔºÅ")
    if ( ( udg_Nandu_JJJ >= 5 ) ) then
        call UnitAddAbilityBJ('A0DF', GetAttackedUnitBJ())
    else
    endif
    call UnitAddAbilityBJ('A0B9', GetAttackedUnitBJ())
    call UnitAddAbilityBJ('A0DE', GetAttackedUnitBJ())
    if ( ( udg_Nandu_JJJ >= 6 ) ) then
        call UnitAddAbilityBJ('A09G', GetAttackedUnitBJ())
    else
        call UnitAddAbilityBJ('A052', GetAttackedUnitBJ())
    endif
    call DestroyTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________052 takes nothing returns nothing
    set gg_trg____________________052=CreateTrigger()
    call DisableTrigger(gg_trg____________________052)
    call DoNothing()
    call TriggerAddCondition(gg_trg____________________052, Condition(function Trig____________________052Conditions))
    call TriggerAddAction(gg_trg____________________052, function Trig____________________052Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 052 Â§çÂà∂
//===========================================================================
function Trig____________________052_______uConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Hblm' ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) <= ( 0.30 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) )
endfunction
function Trig____________________052_______uActions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêË¥πÂ∞îÂßÜ„Äë|rÔºöËøô‰∫õÂπ¥Êù•‰Ω†‰ª¨ËøòÊòØÁ¨¨‰∏Ä‰∏™Ê¨£ËµèÊàëËøôÊãõÁöÑ‰∫∫ÔºÅ")
    if ( ( udg_Nandu_JJJ >= 5 ) ) then
        call UnitAddAbilityBJ('A0DF', GetAttackedUnitBJ())
    else
    endif
    call UnitAddAbilityBJ('A0DE', GetAttackedUnitBJ())
    if ( ( GetUnitAbilityLevel(gg_unit_haro_0030, 'A0FY') != 1 ) ) then
        call SetUnitAbilityLevelSwapped('A03M', GetAttackedUnitBJ(), 2)
    else
    endif
    call SetUnitAbilityLevelSwapped('A031', GetAttackedUnitBJ(), 2)
    call SetUnitAbilityLevelSwapped('A032', GetAttackedUnitBJ(), ( udg_Nandu_JJJ + 8 ))
    if ( ( udg_Nandu_JJJ >= 6 ) ) then
        call UnitAddAbilityBJ('A09G', GetAttackedUnitBJ())
    else
        call UnitAddAbilityBJ('A052', GetAttackedUnitBJ())
    endif
    call DestroyTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________052_______u takes nothing returns nothing
    set gg_trg____________________052_______u=CreateTrigger()
    call DisableTrigger(gg_trg____________________052_______u)
    call DoNothing()
    call TriggerAddCondition(gg_trg____________________052_______u, Condition(function Trig____________________052_______uConditions))
    call TriggerAddAction(gg_trg____________________052_______u, function Trig____________________052_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 001
//===========================================================================
function Trig____________________001Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttacker()) == 'Hblm' ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 10) == 1 ) )
endfunction
function Trig____________________001Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
    call IssuePointOrderLoc(GetAttacker(), "flamestrike", udg_Point)
    call RemoveLocation(udg_Point)
    call YDWEPolledWaitNull(10.00)
    call EnableTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________001 takes nothing returns nothing
    set gg_trg____________________001=CreateTrigger()
    call DisableTrigger(gg_trg____________________001)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________001, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________001, Condition(function Trig____________________001Conditions))
    call TriggerAddAction(gg_trg____________________001, function Trig____________________001Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 052 Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________052______________uConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Obla' ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) <= ( 0.30 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) )
endfunction
function Trig____________________052______________uActions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÂç¢Ê≥ïÊñØ„Äë|rÔºöÂìºÔºÅ")
    if ( ( udg_Nandu_JJJ >= 5 ) ) then
        call UnitAddAbilityBJ('A0DF', GetAttackedUnitBJ())
    else
    endif
    call UnitAddAbilityBJ('A0DE', GetAttackedUnitBJ())
    call SetUnitAbilityLevelSwapped('A06H', GetAttackedUnitBJ(), ( udg_Nandu_JJJ + 8 ))
    if ( ( udg_Nandu_JJJ >= 6 ) ) then
        call UnitAddAbilityBJ('A09G', GetAttackedUnitBJ())
    else
        call UnitAddAbilityBJ('A052', GetAttackedUnitBJ())
    endif
    call DestroyTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________052______________u takes nothing returns nothing
    set gg_trg____________________052______________u=CreateTrigger()
    call DisableTrigger(gg_trg____________________052______________u)
    call DoNothing()
    call TriggerAddCondition(gg_trg____________________052______________u, Condition(function Trig____________________052______________uConditions))
    call TriggerAddAction(gg_trg____________________052______________u, function Trig____________________052______________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 001 Â§çÂà∂
//===========================================================================
function Trig____________________001_______uConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttacker()) == 'Obla' ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 10) == 1 ) )
endfunction
function Trig____________________001_______uActions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call IssueImmediateOrder(GetAttacker(), "whirlwind")
    call YDWEPolledWaitNull(10.00)
    call EnableTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________001_______u takes nothing returns nothing
    set gg_trg____________________001_______u=CreateTrigger()
    call DisableTrigger(gg_trg____________________001_______u)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________001_______u, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________001_______u, Condition(function Trig____________________001_______uConditions))
    call TriggerAddAction(gg_trg____________________001_______u, function Trig____________________001_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 052 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________052_____________________uConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Npbm' ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) <= ( 0.30 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) )
endfunction
function Trig____________________052_____________________uActions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÂ°ûÊñØÂà©Â∞î„Äë|rÔºö‰ª•‰∏∫ËøôÊ†∑Â∞±ËÉΩÈòªÊ≠¢ÊàëÁöÑËÑöÊ≠•Ôºü")
    if ( ( udg_Nandu_JJJ >= 5 ) and ( IsTianyan == false ) ) then
        call UnitAddAbilityBJ('A0DF', GetAttackedUnitBJ())
    else
    endif
    call UnitAddAbilityBJ('A0DE', GetAttackedUnitBJ())
    call SetUnitAbilityLevelSwapped('A015', GetAttackedUnitBJ(), ( udg_Nandu_JJJ + 8 ))
    call SetUnitAbilityLevelSwapped('A016', GetAttackedUnitBJ(), 2)
    if ( ( udg_Nandu_JJJ >= 6 ) ) then
        call UnitAddAbilityBJ('A09G', GetAttackedUnitBJ())
    else
        call UnitAddAbilityBJ('A052', GetAttackedUnitBJ())
    endif
    call DestroyTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________052_____________________u takes nothing returns nothing
    set gg_trg____________________052_____________________u=CreateTrigger()
    call DisableTrigger(gg_trg____________________052_____________________u)
    call DoNothing()
    call TriggerAddCondition(gg_trg____________________052_____________________u, Condition(function Trig____________________052_____________________uConditions))
    call TriggerAddAction(gg_trg____________________052_____________________u, function Trig____________________052_____________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 052 Â§çÂà∂ Â§çÂà∂ 2
//===========================================================================
function Trig____________________052_______________2Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Hamg' ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) <= ( 0.30 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) )
endfunction
function Trig____________________052_______________2Actions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÁ©ÜÊñØÁâπ„Äë|rÔºöÊº´Â§©È£ûÈõ™ÔºåÊπÆÊ≤°‰∏ñÈó¥„ÄÇ")
    if ( ( udg_Nandu_JJJ >= 5 ) and ( IsTianyan == false ) ) then
        call UnitAddAbilityBJ('A0DF', GetAttackedUnitBJ())
    else
    endif
    call SetUnitAbilityLevelSwapped('A030', GetAttackedUnitBJ(), 2)
    call SetUnitAbilityLevelSwapped('A019', GetAttackedUnitBJ(), ( udg_Nandu_JJJ + 8 ))
    if ( ( udg_Nandu_JJJ >= 6 ) ) then
        call UnitAddAbilityBJ('A09G', GetAttackedUnitBJ())
    else
        call UnitAddAbilityBJ('A052', GetAttackedUnitBJ())
    endif
    call DestroyTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________052_______________2 takes nothing returns nothing
    set gg_trg____________________052_______________2=CreateTrigger()
    call DisableTrigger(gg_trg____________________052_______________2)
    call DoNothing()
    call TriggerAddCondition(gg_trg____________________052_______________2, Condition(function Trig____________________052_______________2Conditions))
    call TriggerAddAction(gg_trg____________________052_______________2, function Trig____________________052_______________2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 001 Â§çÂà∂ 2
//===========================================================================
function Trig____________________001________2Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttacker()) == 'Hamg' ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 10) == 1 ) )
endfunction
function Trig____________________001________2Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
    call IssuePointOrderLoc(GetAttacker(), "silence", udg_Point)
    call RemoveLocation(udg_Point)
    call YDWEPolledWaitNull(10.00)
    call EnableTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig____________________001________2 takes nothing returns nothing
    set gg_trg____________________001________2=CreateTrigger()
    call DisableTrigger(gg_trg____________________001________2)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________001________2, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________001________2, Condition(function Trig____________________001________2Conditions))
    call TriggerAddAction(gg_trg____________________001________2, function Trig____________________001________2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 001 Â§çÂà∂ 2 Â§çÂà∂
//===========================================================================
function Trig____________________001________2_______uConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetAttacker()) == 'Hamg' ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 10) == 1 ) )
endfunction
function Trig____________________001________2_______uFunc004002003 takes nothing returns boolean
    return ( ( IsEnemy(GetEnumUnit() , GetAttacker()) == true ) )
endfunction
function Trig____________________001________2_______uFunc005A takes nothing returns nothing
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
    call SetUnitLifePercentBJ(GetEnumUnit(), GetWanjieReal(40. , 0.25))
    call SetUnitManaPercentBJ(GetEnumUnit(), GetWanjieReal(40. , 2.25))
endfunction
function Trig____________________001________2_______uActions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Point=GetUnitLoc(GetAttacker())
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", GetUnitX(GetAttacker()), GetUnitY(GetAttacker())))
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , udg_Point , Condition(function Trig____________________001________2_______uFunc004002003))
    call ForGroupBJ(udg_Group, function Trig____________________001________2_______uFunc005A)
    call CreateSpellTextTag("‰∏áÁâ©ÂáãÈõ∂ÔºÅ" , GetAttacker() , 51 , 51 , 51 , 2)
    call DestroyGroup(udg_Group)
    call RemoveLocation(udg_Point)
    call YDWEPolledWaitNull(15.00)
    call EnableTrigger(GetTriggeringTrigger())
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________001________2_______u takes nothing returns nothing
    set gg_trg____________________001________2_______u=CreateTrigger()
    call DisableTrigger(gg_trg____________________001________2_______u)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________001________2_______u, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________001________2_______u, Condition(function Trig____________________001________2_______uConditions))
    call TriggerAddAction(gg_trg____________________001________2_______u, function Trig____________________001________2_______uActions)
endfunction
//===========================================================================
// Trigger: maidongxi
//===========================================================================
function Trig_maidongxiActions takes nothing returns nothing
    call EnterExerciseRegion()
    call EnterDiamond()
    call EnterMijing()
    call EnterHundun()
    call EnterMiniGame()
    call EnterShilian()
    if ( ( GetItemTypeId(GetSoldItem()) == 'I01B' ) ) then
        call CreateWingDialog(GetBuyingUnit())
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04U' ) ) then
         call CreateHeroChallenagerDialog(GetOwningPlayer(GetBuyingUnit()))
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04V' ) ) then
         call CreateSuperAchievementDialog(GetOwningPlayer(GetBuyingUnit()))
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I05E' ) ) then
        set udg_Point=GetRectCenter(udg_Ju_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
        call SetUnitPositionLoc(GetBuyingUnit(), udg_Point)
        call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()), udg_Point, 0.20)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", YDWECoordinateX(GetUnitX(GetBuyingUnit())), YDWECoordinateY(GetUnitY(GetBuyingUnit()))))
        call RemoveLocation(udg_Point)
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I05H' ) ) then
        set udg_Point=GetRectCenter(gg_rct_______b1)
        call SetUnitPositionLoc(GetBuyingUnit(), udg_Point)
        call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()), udg_Point, 0.20)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", YDWECoordinateX(GetUnitX(GetBuyingUnit())), YDWECoordinateY(GetUnitY(GetBuyingUnit()))))
        call RemoveLocation(udg_Point)
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I054' ) ) then
        set udg_Point=GetRandomLocInRect(gg_rct_____________01)
        call SetUnitPositionLoc(GetBuyingUnit(), udg_Point)
        call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()), udg_Point, 0.20)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", YDWECoordinateX(GetUnitX(GetBuyingUnit())), YDWECoordinateY(GetUnitY(GetBuyingUnit()))))
        call RemoveLocation(udg_Point)
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04H' ) ) then
        set udg_Point=GetRandomLocInRect(gg_rct______________023)
        call SetUnitPositionLoc(GetBuyingUnit(), udg_Point)
        call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()), udg_Point, 0.20)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", YDWECoordinateX(GetUnitX(GetBuyingUnit())), YDWECoordinateY(GetUnitY(GetBuyingUnit()))))
        call RemoveLocation(udg_Point)
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂõûÂéªËæìÂÖ•‚ÄúHG‚Äù„ÄÇ")
    else
    endif
endfunction
//===========================================================================
function InitTrig_maidongxi takes nothing returns nothing
    set gg_trg_maidongxi=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_maidongxi, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddAction(gg_trg_maidongxi, function Trig_maidongxiActions)
endfunction
//===========================================================================
// Trigger: Ê≠ª‰∫°ÊâçÊéâËêΩÂì¶_3B
//===========================================================================
function Trig____________________3BConditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) )
endfunction
function Trig____________________3BActions takes nothing returns nothing
    local integer ydul_i
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nhrq' ) and ( IsUnitEnemy(GetKillingUnitBJ(), Player(11)) == true ) and ( IsUnitAlly(GetDyingUnit(), Player(11)) == true ) and ( GetRandomInt(1, 3) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set ydul_i=1
        loop
            exitwhen ydul_i > CModeH(1 , 2)
            call CreateItemLoc('I042', udg_Point)
            set ydul_i=ydul_i + 1
        endloop
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", udg_Point))
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nndr' ) and ( IsUnitEnemy(GetKillingUnitBJ(), Player(11)) == true ) and ( IsUnitAlly(GetDyingUnit(), Player(11)) == true ) and ( GetRandomInt(1, 4) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set ydul_i=1
        loop
            exitwhen ydul_i > CModeH(1 , 2)
            call CreateItemLoc('I044', udg_Point)
            set ydul_i=ydul_i + 1
        endloop
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", udg_Point))
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'ufro' ) and ( IsUnitEnemy(GetKillingUnitBJ(), Player(11)) == true ) and ( IsUnitAlly(GetDyingUnit(), Player(11)) == true ) and ( GetRandomInt(1, 5) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set ydul_i=1
        loop
            exitwhen ydul_i > CModeH(1 , 2)
            call CreateItemLoc('I05D', udg_Point)
            set ydul_i=ydul_i + 1
        endloop
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", udg_Point))
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'hphx' ) and ( IsUnitEnemy(GetKillingUnitBJ(), Player(11)) == true ) and ( IsUnitAlly(GetDyingUnit(), Player(11)) == true ) and ( GetRandomInt(1, 6) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set ydul_i=1
        loop
            exitwhen ydul_i > CModeH(1 , 2)
            call CreateItemLoc('I06L', udg_Point)
            set ydul_i=ydul_i + 1
        endloop
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", udg_Point))
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nwgs' ) and ( IsUnitEnemy(GetKillingUnitBJ(), Player(11)) == true ) and ( IsUnitAlly(GetDyingUnit(), Player(11)) == true ) and ( GetRandomInt(1, 7) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set ydul_i=1
        loop
            exitwhen ydul_i > CModeH(1 , 2)
            call CreateItemLoc('I03V', udg_Point)
            set ydul_i=ydul_i + 1
        endloop
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", udg_Point))
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'echm' ) and ( IsUnitEnemy(GetKillingUnitBJ(), Player(11)) == true ) and ( IsUnitAlly(GetDyingUnit(), Player(11)) == true ) and ( GetRandomInt(1, 8) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set ydul_i=1
        loop
            exitwhen ydul_i > CModeH(1 , 2)
            call CreateItemLoc('I03W', udg_Point)
            set ydul_i=ydul_i + 1
        endloop
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", udg_Point))
        call RemoveLocation(udg_Point)
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________3B takes nothing returns nothing
    set gg_trg____________________3B=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________3B, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg____________________3B, Condition(function Trig____________________3BConditions))
    call TriggerAddAction(gg_trg____________________3B, function Trig____________________3BActions)
endfunction
//===========================================================================
// Trigger: ÂêàÊàêÁøÖËÜÄÂì¶‰∫≤_4b
//===========================================================================
function Trig____________________4bConditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig____________________4bActions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I042' ) ) then
            call DoNothing()
        else
            return
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=6
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call RemoveItem(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexB()))
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
    call UnitAddItemByIdSwapped('I043', GetManipulatingUnit())
    call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÁøÖËÜÄ‰∫ÜÂì¶ÔºÅ")
     set BJiulun=true
endfunction
//===========================================================================
function InitTrig____________________4b takes nothing returns nothing
    set gg_trg____________________4b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________4b, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg____________________4b, Condition(function Trig____________________4bConditions))
    call TriggerAddAction(gg_trg____________________4b, function Trig____________________4bActions)
endfunction
//===========================================================================
// Trigger: ÂêàÊàêÁøÖËÜÄÂì¶‰∫≤_5b
//===========================================================================
function Trig____________________5bConditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig____________________5bActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I044' ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
        else
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I043' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 6 ))
            else
                call DoNothing()
            endif
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 11 ) ) then
        call DoNothing()
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=6
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call RemoveItem(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexB()))
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
    call UnitAddItemByIdSwapped('I045', GetManipulatingUnit())
    call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÁøÖËÜÄ‰∫ÜÂì¶ÔºÅ")
     set BJiulun=true
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________5b takes nothing returns nothing
    set gg_trg____________________5b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________5b, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg____________________5b, Condition(function Trig____________________5bConditions))
    call TriggerAddAction(gg_trg____________________5b, function Trig____________________5bActions)
endfunction
//===========================================================================
// Trigger: ÂêàÊàêÁøÖËÜÄÂì¶‰∫≤_7b
//===========================================================================
function Trig____________________7bConditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig____________________7bActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I05D' ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
        else
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I045' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 6 ))
            else
                call DoNothing()
            endif
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 11 ) ) then
        call DoNothing()
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=6
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call RemoveItem(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexB()))
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
    call UnitAddItemByIdSwapped('I041', GetManipulatingUnit())
    call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÁøÖËÜÄ‰∫ÜÂì¶ÔºÅ")
     set BJiulun=true
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________7b takes nothing returns nothing
    set gg_trg____________________7b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________7b, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg____________________7b, Condition(function Trig____________________7bConditions))
    call TriggerAddAction(gg_trg____________________7b, function Trig____________________7bActions)
endfunction
//===========================================================================
// Trigger: ÂêàÊàêÁøÖËÜÄÂì¶‰∫≤_8b
//===========================================================================
function Trig____________________8bConditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig____________________8bActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I06L' ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
        else
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I041' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 6 ))
            else
                call DoNothing()
            endif
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 11 ) ) then
        call DoNothing()
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=6
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call RemoveItem(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexB()))
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
    call UnitAddItemByIdSwapped('I04R', GetManipulatingUnit())
    call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÁøÖËÜÄ‰∫ÜÂì¶ÔºÅ")
     set BJiulun=true
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________8b takes nothing returns nothing
    set gg_trg____________________8b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________8b, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg____________________8b, Condition(function Trig____________________8bConditions))
    call TriggerAddAction(gg_trg____________________8b, function Trig____________________8bActions)
endfunction
//===========================================================================
// Trigger: ÂêàÊàêÁøÖËÜÄÂì¶‰∫≤_8b Â§çÂà∂
//===========================================================================
function Trig____________________8b_______uConditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig____________________8b_______uActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I03V' ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
        else
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I04R' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 6 ))
            else
                call DoNothing()
            endif
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 11 ) ) then
        call DoNothing()
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=6
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call RemoveItem(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexB()))
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
    call UnitAddItemByIdSwapped('I05B', GetManipulatingUnit())
    call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÁøÖËÜÄ‰∫ÜÂì¶ÔºÅ")
     set BJiulun=true
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________8b_______u takes nothing returns nothing
    set gg_trg____________________8b_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________8b_______u, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg____________________8b_______u, Condition(function Trig____________________8b_______uConditions))
    call TriggerAddAction(gg_trg____________________8b_______u, function Trig____________________8b_______uActions)
endfunction
//===========================================================================
// Trigger: ÂêàÊàêÁøÖËÜÄÂì¶‰∫≤_8b Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________8b______________uConditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig____________________8b______________uActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I03W' ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
        else
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexA())) == 'I05B' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 6 ))
            else
                call DoNothing()
            endif
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) == 11 ) ) then
        call DoNothing()
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=6
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call RemoveItem(UnitItemInSlotBJ(GetManipulatingUnit(), GetForLoopIndexB()))
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
    call UnitAddItemByIdSwapped('I05C', GetManipulatingUnit())
    call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÁøÖËÜÄ‰∫ÜÂì¶ÔºÅ")
     set BJiulun=true
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________8b______________u takes nothing returns nothing
    set gg_trg____________________8b______________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________8b______________u, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg____________________8b______________u, Condition(function Trig____________________8b______________uConditions))
    call TriggerAddAction(gg_trg____________________8b______________u, function Trig____________________8b______________uActions)
endfunction
//===========================================================================
// Trigger: Only_One_Wing_And_Spell
//===========================================================================
function Trig_Only_One_Wing_And_SpellConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) and ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_ARTIFACT ) and ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig_Only_One_Wing_And_SpellActions takes nothing returns nothing
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        if ( ( GetItemType(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == ITEM_TYPE_ARTIFACT ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
        else
            call DoNothing()
        endif
        set ydul_i=ydul_i + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 2 ) ) then
        call UnitRemoveItemSwapped(GetManipulatedItem(), GetManipulatingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂè™ËÉΩË£ÖÂ§á‰∏ÄÂèåÁøÖËÜÄÔºÅ")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('Aap4', GetManipulatingUnit()) != 1 ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'I041' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I04R' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05C' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05B' ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'ICY1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05X' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05F' ) ) ) and ( ( GetManipulatingUnit() == gg_unit_Ocbh_0251 ) or ( GetManipulatingUnit() == gg_unit_Nbbc_0235 ) or ( GetManipulatingUnit() == gg_unit_Othr_0256 ) or ( GetManipulatingUnit() == gg_unit_Nsjs_0209 ) ) ) then
        call UnitAddAbilityBJ('A03V', GetManipulatingUnit())
        if ( ( ( GetItemTypeId(GetManipulatedItem()) == 'ICY1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05X' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05F' ) ) ) then
            call SetUnitAbilityLevelSwapped('A03V', GetManipulatingUnit(), 2)
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Only_One_Wing_And_Spell takes nothing returns nothing
    set gg_trg_Only_One_Wing_And_Spell=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Only_One_Wing_And_Spell, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg_Only_One_Wing_And_Spell, Condition(function Trig_Only_One_Wing_And_SpellConditions))
    call TriggerAddAction(gg_trg_Only_One_Wing_And_Spell, function Trig_Only_One_Wing_And_SpellActions)
endfunction
//===========================================================================
// Trigger: ‰∏¢ÂºÉÁøÖËÜÄ_9b
//===========================================================================
function Trig______________9bConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) and ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_ARTIFACT ) and ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) and ( ( GetManipulatingUnit() == gg_unit_Ocbh_0251 ) or ( GetManipulatingUnit() == gg_unit_Othr_0256 ) or ( GetManipulatingUnit() == gg_unit_Nbbc_0235 ) or ( GetManipulatingUnit() == gg_unit_Nsjs_0209 ) ) and ( ( GetItemTypeId(GetManipulatedItem()) == 'I041' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I04R' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05C' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05B' ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'ICY1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05X' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I05F' ) ) ) and ( GetUnitAbilityLevelSwapped('Aap4', GetManipulatingUnit()) != 1 ) )
endfunction
function Trig______________9bActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, 0)
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'I041')) == 'I041' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'I04R')) == 'I04R' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'I05B')) == 'I05B' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'I05C')) == 'I05C' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetManipulatingUnit() , 'I05F')) == 'I05F' ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( YDWEUnitHasItemOfTypeBJNull(GetManipulatingUnit() , 'ICY1') ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( YDWEUnitHasItemOfTypeBJNull(GetManipulatingUnit() , 'I05X') ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) + 1 ))
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDFB448FB) <= 1 ) ) then
        call UnitRemoveAbilityBJ('A03V', GetManipulatingUnit())
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig______________9b takes nothing returns nothing
    set gg_trg______________9b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg______________9b, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(gg_trg______________9b, Condition(function Trig______________9bConditions))
    call TriggerAddAction(gg_trg______________9b, function Trig______________9bActions)
endfunction
//===========================================================================
// Trigger: Z1
//===========================================================================
function Trig_Z1Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I04N' ) )
endfunction
function Trig_Z1Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetBuyingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= CModeH(1 , 2) * udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] ) ) then
            if ( ( udg_U_Zhuansheng_Dantiao[1] == null ) ) then
                call AdjustPlayerStateBJ(( ( - 1 * CModeH(1 , 2) ) * udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                set udg_Point=GetUnitLoc(gg_unit_ncp3_0211)
                call SetUnitPositionLoc(GetBuyingUnit(), udg_Point)
                call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", udg_Point))
                call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()), udg_Point, 0.20)
                set udg_U_Zhuansheng_Dantiao[1]=GetBuyingUnit()
                call RemoveLocation(udg_Point)
                set udg_Point=GetUnitLoc(gg_unit_ncp3_0212)
                set udg_U_Zhuansheng_Dantiao[2]=CreateUnitAtLoc(Player(11), GetUnitTypeId(GetBuyingUnit()), udg_Point, 180.00)
                call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)), udg_U_Zhuansheng_Dantiao[2])
                call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)), udg_U_Zhuansheng_Dantiao[2])
                call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 3)), udg_U_Zhuansheng_Dantiao[2])
                call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 4)), udg_U_Zhuansheng_Dantiao[2])
                call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 5)), udg_U_Zhuansheng_Dantiao[2])
                call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 6)), udg_U_Zhuansheng_Dantiao[2])
                call RemoveLocation(udg_Point)
                if ( ( udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] >= 10 ) ) then
                    set udg_Point=GetUnitLoc(gg_unit_ncp3_0211)
                    call IssuePointOrderLoc(udg_U_Zhuansheng_Dantiao[2], "attack", udg_Point)
                    call RemoveLocation(udg_Point)
                else
                endif
                set udg_I_suijizhengshu=udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]
                call SetHeroStr(udg_U_Zhuansheng_Dantiao[2], GetLimit(GetHeroStr(GetBuyingUnit(), true) * ( udg_I_suijizhengshu + 1 )), true)
                call SetHeroAgi(udg_U_Zhuansheng_Dantiao[2], GetLimit(GetHeroAgi(GetBuyingUnit(), true) * ( udg_I_suijizhengshu + 1 )), true)
                call SetHeroInt(udg_U_Zhuansheng_Dantiao[2], GetLimit(GetHeroInt(GetBuyingUnit(), true) * ( udg_I_suijizhengshu + 1 )), true)
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, LoadInteger(YDHT, GetHandleId(GetBuyingUnit()), 0x81FD3994))
                call SaveInteger(YDHT, GetHandleId(udg_U_Zhuansheng_Dantiao[2]), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_U_Zhuansheng_Dantiao[2]), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_suijizhengshu ) ))
                set udg_Unit=udg_U_Zhuansheng_Dantiao[2]
                call TriggerExecute(gg_trg___________________4000______u)
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, LoadInteger(YDHT, GetHandleId(GetBuyingUnit()), 0x5039AFFB))
                call SaveInteger(YDHT, GetHandleId(udg_U_Zhuansheng_Dantiao[2]), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_U_Zhuansheng_Dantiao[2]), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_suijizhengshu ) ))
                call TriggerExecute(gg_trg_____________800W)
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetBuyingUnit())))
                call SaveInteger(YDHT, GetHandleId(udg_U_Zhuansheng_Dantiao[2]), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_U_Zhuansheng_Dantiao[2]), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * ( udg_I_suijizhengshu + 0 ) ) ))
                call TriggerExecute(gg_trg_HP_____________________u)
                if ( ( GetUnitTypeId(udg_U_Zhuansheng_Dantiao[2]) == GetUnitTypeId(kaisa) ) ) then
                    call UnitRemoveAbilityBJ('AOre', udg_U_Zhuansheng_Dantiao[2])
                else
                endif
                if ( ( udg_U_Zhuansheng_Dantiao[1] == taiya ) ) then
                    call SetUnitAcquireRange(udg_U_Zhuansheng_Dantiao[2], 600.00)
                else
                endif
                set udg_I_suijizhengshu=0
                set udg_Unit=null
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≠£Âú®ËøõË°å" + ( I2S(( udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] + 1 )) + "ËΩ¨„ÄÇ" ) ))
                call CreateMirrorTimer()
                call AddMirrorSpell()
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈáåÈù¢Êúâ‰∫∫Ê≠£Âú®ËΩ¨ÁîüÔºÅ")
            endif
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(CModeH(1 , 2) * udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]) + "ÁöÑÊú®Â§¥„ÄÇ" ) ))
        endif
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑ËÆ©Ëã±ÈõÑÊù•Ë¥≠‰π∞„ÄÇ")
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Z1 takes nothing returns nothing
    set gg_trg_Z1=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Z1, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_Z1, Condition(function Trig_Z1Conditions))
    call TriggerAddAction(gg_trg_Z1, function Trig_Z1Actions)
endfunction
//===========================================================================
// Trigger: Z2
//===========================================================================
function Trig_Z2Conditions takes nothing returns boolean
    return ( ( ( GetDyingUnit() == udg_U_Zhuansheng_Dantiao[1] ) or ( GetDyingUnit() == udg_U_Zhuansheng_Dantiao[2] ) ) )
endfunction
function Trig_Z2Func003Func002A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( ( GetUnitName(udg_U_Zhuansheng_Dantiao[1]) + ( "Âú®" + I2S(( udg_Z[GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))] + 1 )) ) ) + "Ê¨°ËΩ¨ÁîüÊó∂Â§±Ë¥•ÔºÅ" ) ))
endfunction
function Trig_Z2Func003Func006002002 takes nothing returns boolean
    return ( ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) ) ) and ( GetUnitPointValue(GetFilterUnit()) != 0 ) ) )
endfunction
function Trig_Z2Func003Func008A takes nothing returns nothing
    if ( ( IsUnitEnemy(GetEnumUnit(), Player(0)) == true ) ) then
        call RemoveUnit(GetEnumUnit())
    else
        call SetUnitPositionLoc(GetEnumUnit(), udg_Point_Fuhuo)
    endif
endfunction
function Trig_Z2Func004Func002Func008002002 takes nothing returns boolean
    return ( ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) ) ) and ( GetUnitPointValue(GetFilterUnit()) != 0 ) ) )
endfunction
function Trig_Z2Func004Func002Func011A takes nothing returns nothing
    if ( ( ( IsUnitEnemy(GetEnumUnit(), Player(0)) == true ) and ( GetUnitTypeId(GetEnumUnit()) != 'h012' ) ) ) then
        call RemoveUnit(GetEnumUnit())
    else
        call SetUnitPosition(GetEnumUnit(), GetUnitX(gg_unit_n00P_0039), GetUnitY(gg_unit_n00P_0039))
    endif
endfunction
function Trig_Z2Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    call YDWEPolledWaitNull(0.10)
    if ( ( GetDyingUnit() == udg_U_Zhuansheng_Dantiao[1] ) and ( udg_U_Zhuansheng_Dantiao[1] != null ) ) then
        call PlaySoundBJ(gg_snd_Renwu)
        call ForForce(GetPlayersAll(), function Trig_Z2Func003Func002A)
        call RemoveUnit(udg_U_Zhuansheng_Dantiao[2])
        set udg_U_Zhuansheng_Dantiao[1]=null
        set udg_U_Zhuansheng_Dantiao[2]=null
        set udg_Group=YDWEGetUnitsInRectMatchingNull(gg_rct_______a3 , Condition(function Trig_Z2Func003Func006002002))
        call DestroyMirrorTimer()
        call ForGroupBJ(udg_Group, function Trig_Z2Func003Func008A)
        call DestroyGroup(udg_Group)
    else
    endif
    if ( ( GetDyingUnit() == udg_U_Zhuansheng_Dantiao[2] ) and ( udg_U_Zhuansheng_Dantiao[2] != null ) ) then
        call PlaySoundBJ(gg_snd_v_zhuansheng)
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=CModeH(1 , 2)
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_Z[GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))]=( udg_Z[GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))] + 1 )
            set udg_I_suijizhengshu=udg_Z[GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))]
            call DisplayTextToPlayer(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( ( GetUnitName(udg_U_Zhuansheng_Dantiao[1]) + ( "ÊàêÂäüÁöÑÂÆåÊàê‰∫ÜÁ¨¨" + I2S(udg_I_suijizhengshu) ) ) + ( "Ê¨°ËΩ¨ÁîüÔºÅËé∑Âæó‰∫Ü" + ( I2S(( udg_I_suijizhengshu * 100 )) + ( "ÁÇπÂ±ûÊÄßÂ•ñÂä±Âíå" + ( I2S(( udg_I_suijizhengshu * 10 )) + "ÁÇπÊàêÈïøÂ±ûÊÄßÂ•ñÂä±„ÄÇ" ) ) ) ) ) ))
            call YDWEMultiboardSetItemValueBJNull(udg_D , 8 , ( GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1])) + 1 ) , ( I2S(udg_I_suijizhengshu) + "ËΩ¨" ))
            if ( ( udg_I_suijizhengshu == 1 ) ) then
                call SetPlayerTechResearchedSwap('R006', 1, GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))
                if ( ( GetUnitAbilityLevelSwapped('A005', udg_U_Zhuansheng_Dantiao[1]) == 1 ) ) then
                    call AddSpecialEffectTargetUnitBJ("origin", udg_U_Zhuansheng_Dantiao[1], "war3mapImported\\frostnova.mdx")
                    call InitLingxueAura()
                else
                endif
                call DisplayTextToPlayer(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÊäÄËÉΩËß£ÈîÅ„ÄÇ")
                if ( ( GetUnitAbilityLevelSwapped('AHad', gg_unit_Uktl_0018) == 1 ) and ( udg_U_Zhuansheng_Dantiao[1] == gg_unit_Uktl_0018 ) ) then
                    call EnableTrigger(gg_trg_____________39)
                    call InitXuanxueAura()
                else
                endif
                call TriggerAllHeroLearn(GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1])) , 2)
            else
            endif
            if ( ( udg_I_suijizhengshu == 11 ) ) then
                call SetPlayerTechResearchedSwap('R009', 1, GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))
                call DisplayTextToPlayer(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÊäÄËÉΩËß£ÈîÅ‰∏âÂàÜ‰πã‰∏Ä„ÄÇ")
                call TriggerAllHeroLearn(GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1])) , 5)
            else
            endif
            if ( ( udg_U_Zhuansheng_Dantiao[1] == gg_unit_Harf_0262 ) ) then
                call ModifyHeroStat(bj_HEROSTAT_STR, udg_U_Zhuansheng_Dantiao[1], bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 300 ))
            else
                call ModifyHeroStat(bj_HEROSTAT_STR, udg_U_Zhuansheng_Dantiao[1], bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 100 ))
                call ModifyHeroStat(bj_HEROSTAT_INT, udg_U_Zhuansheng_Dantiao[1], bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 100 ))
                call ModifyHeroStat(bj_HEROSTAT_AGI, udg_U_Zhuansheng_Dantiao[1], bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 100 ))
            endif
            set udg_Group=YDWEGetUnitsInRectMatchingNull(gg_rct_______a3 , Condition(function Trig_Z2Func004Func002Func008002002))
            call RemoveUnit(udg_U_Zhuansheng_Dantiao[2])
            call DestroyMirrorTimer()
            call ForGroupBJ(udg_Group, function Trig_Z2Func004Func002Func011A)
            call SelectUnitForPlayerSingle(gg_unit_n00P_0039, GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))
            if ( ( udg_I_suijizhengshu == 42 ) ) then
                call UnitAddItemByIdSwapped('IXU1', udg_U_Zhuansheng_Dantiao[1])
                call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1])))
                call DisplayTextToPlayer(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|Â•ñÂä±|cffff00ff„ÄêËôö„ÄëÁêâÁíÉÁíûÁéâ|r.")
            else
            endif
             call SaveAchievement3(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]) , udg_I_suijizhengshu)
            call ShowLiuliProcess()
            call DestroyGroup(udg_Group)
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        set udg_I_suijizhengshu=0
        set udg_U_Zhuansheng_Dantiao[1]=null
        set udg_U_Zhuansheng_Dantiao[2]=null
    else
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_Z2 takes nothing returns nothing
    set gg_trg_Z2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Z2, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Z2, Condition(function Trig_Z2Conditions))
    call TriggerAddAction(gg_trg_Z2, function Trig_Z2Actions)
endfunction
//===========================================================================
// Trigger: Z3
//===========================================================================
function Trig_Z3Conditions takes nothing returns boolean
    return ( ( GetTriggerUnit() == udg_U_Zhuansheng_Dantiao[1] ) )
endfunction
function Trig_Z3Func002A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( ( GetUnitName(udg_U_Zhuansheng_Dantiao[1]) + ( "Âú®" + I2S(( udg_Z[GetConvertedPlayerId(GetOwningPlayer(udg_U_Zhuansheng_Dantiao[1]))] + 1 )) ) ) + "Ê¨°ËΩ¨ÁîüÊó∂‰∏¥ÈòµËÑ±ÈÄÉÔºåÂ§±Ë¥•ÔºÅ" ) ))
endfunction
function Trig_Z3Func006002002 takes nothing returns boolean
    return ( ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) ) ) and ( GetUnitPointValue(GetFilterUnit()) != 0 ) ) )
endfunction
function Trig_Z3Func008A takes nothing returns nothing
    if ( ( IsUnitEnemy(GetEnumUnit(), Player(0)) == true ) ) then
        call RemoveUnit(GetEnumUnit())
    else
        call SetUnitPositionLoc(GetEnumUnit(), udg_Point_Fuhuo)
    endif
endfunction
function Trig_Z3Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    call PlaySoundBJ(gg_snd_die)
    call ForForce(GetPlayersAll(), function Trig_Z3Func002A)
    call RemoveUnit(udg_U_Zhuansheng_Dantiao[2])
    set udg_U_Zhuansheng_Dantiao[1]=null
    set udg_U_Zhuansheng_Dantiao[2]=null
    set udg_Group=YDWEGetUnitsInRectMatchingNull(gg_rct_______a3 , Condition(function Trig_Z3Func006002002))
    call DestroyMirrorTimer()
    call ForGroupBJ(udg_Group, function Trig_Z3Func008A)
    call DestroyGroup(udg_Group)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_Z3 takes nothing returns nothing
    set gg_trg_Z3=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_Z3 , gg_rct_______a3)
    call TriggerAddCondition(gg_trg_Z3, Condition(function Trig_Z3Conditions))
    call TriggerAddAction(gg_trg_Z3, function Trig_Z3Actions)
endfunction
//===========================================================================
// Trigger: Z4
//===========================================================================
function Trig_Z4Conditions takes nothing returns boolean
    return ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] != 0 ) )
endfunction
function Trig_Z4Actions takes nothing returns nothing
    if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) ) then
        call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, ( 30 * udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ))
    else
        call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, ( I3(GetTriggerUnit() == xinglong , 1 , 10) * udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ))
        call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, ( I3(GetTriggerUnit() == xinglong , 1 , 10) * udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ))
        call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, ( I3(GetTriggerUnit() == xinglong , 1 , 10) * udg_Z[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ))
    endif
    if ( ( GetTriggerUnit() == gg_unit_Nbbc_0235 ) ) then
        if ( ( GetHeroLevel(GetTriggerUnit()) < 100 ) ) then
            set udg_Jiansheng=3
        else
            if ( ( GetHeroLevel(GetTriggerUnit()) < 200 ) ) then
                set udg_Jiansheng=4
            else
                if ( ( GetHeroLevel(GetTriggerUnit()) < 300 ) ) then
                    set udg_Jiansheng=5
                else
                    set udg_Jiansheng=6
                endif
            endif
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_Z4 takes nothing returns nothing
    set gg_trg_Z4=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Z4, EVENT_PLAYER_HERO_LEVEL)
    call TriggerAddCondition(gg_trg_Z4, Condition(function Trig_Z4Conditions))
    call TriggerAddAction(gg_trg_Z4, function Trig_Z4Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 076
//===========================================================================
function Trig____________________076Actions takes nothing returns nothing
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nhrq' ) ) then
        call SetUnitUserData(gg_unit_ncp2_0067, 1)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nndr' ) ) then
        call SetUnitUserData(gg_unit_ncp2_0068, 1)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'ufro' ) ) then
        call SetUnitUserData(gg_unit_ncp2_0069, 1)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'hphx' ) ) then
        call SetUnitUserData(gg_unit_ncp2_0070, 1)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'nwgs' ) ) then
        call SetUnitUserData(gg_unit_ncp2_0071, 1)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'echm' ) ) then
        call SetUnitUserData(gg_unit_ncp2_0072, 1)
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________076 takes nothing returns nothing
    set gg_trg____________________076=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________076, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(gg_trg____________________076, function Trig____________________076Actions)
endfunction
//===========================================================================
// Trigger: j37
//===========================================================================
function Trig_j37Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j37Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j38)
endfunction
//===========================================================================
function InitTrig_j37 takes nothing returns nothing
    set gg_trg_j37=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j37 , gg_rct____1)
    call TriggerAddCondition(gg_trg_j37, Condition(function Trig_j37Conditions))
    call TriggerAddAction(gg_trg_j37, function Trig_j37Actions)
endfunction
//===========================================================================
// Trigger: j38
//===========================================================================
function Trig_j38Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nhrq' ) ) )
endfunction
function Trig_j38Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j38Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > 20
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct____1))
            call CreateNUnitsAtLoc(1, 'nhrq', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call EnhanceDiffAttack(GetLastCreatedUnit())
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j38 takes nothing returns nothing
    set gg_trg_j38=CreateTrigger()
    call DisableTrigger(gg_trg_j38)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j38, 8.00)
    call TriggerAddAction(gg_trg_j38, function Trig_j38Actions)
endfunction
//===========================================================================
// Trigger: j39
//===========================================================================
function Trig_j39Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j39Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j39Func003Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nhrq' ) ) )
endfunction
function Trig_j39Func003Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j39Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____1 , Condition(function Trig_j39Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j39Func003Func001003002)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j39Func003Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call DisableTrigger(gg_trg_j38)
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_j39 takes nothing returns nothing
    set gg_trg_j39=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j39 , gg_rct____1)
    call TriggerAddCondition(gg_trg_j39, Condition(function Trig_j39Conditions))
    call TriggerAddAction(gg_trg_j39, function Trig_j39Actions)
endfunction
//===========================================================================
// Trigger: j40
//===========================================================================
function Trig_j40Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j40Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j41)
endfunction
//===========================================================================
function InitTrig_j40 takes nothing returns nothing
    set gg_trg_j40=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j40 , gg_rct____2)
    call TriggerAddCondition(gg_trg_j40, Condition(function Trig_j40Conditions))
    call TriggerAddAction(gg_trg_j40, function Trig_j40Actions)
endfunction
//===========================================================================
// Trigger: j41
//===========================================================================
function Trig_j41Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nndr' ) ) )
endfunction
function Trig_j41Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j41Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > 20
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct____2))
            call CreateNUnitsAtLoc(1, 'nndr', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call EnhanceDiffAttack(GetLastCreatedUnit())
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j41 takes nothing returns nothing
    set gg_trg_j41=CreateTrigger()
    call DisableTrigger(gg_trg_j41)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j41, 8.00)
    call TriggerAddAction(gg_trg_j41, function Trig_j41Actions)
endfunction
//===========================================================================
// Trigger: j42
//===========================================================================
function Trig_j42Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j42Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j42Func003Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nndr' ) ) )
endfunction
function Trig_j42Func003Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j42Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____2 , Condition(function Trig_j42Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j42Func003Func001003002)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j42Func003Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call DisableTrigger(gg_trg_j41)
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_j42 takes nothing returns nothing
    set gg_trg_j42=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j42 , gg_rct____2)
    call TriggerAddCondition(gg_trg_j42, Condition(function Trig_j42Conditions))
    call TriggerAddAction(gg_trg_j42, function Trig_j42Actions)
endfunction
//===========================================================================
// Trigger: j43
//===========================================================================
function Trig_j43Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j43Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j44)
endfunction
//===========================================================================
function InitTrig_j43 takes nothing returns nothing
    set gg_trg_j43=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j43 , gg_rct____3)
    call TriggerAddCondition(gg_trg_j43, Condition(function Trig_j43Conditions))
    call TriggerAddAction(gg_trg_j43, function Trig_j43Actions)
endfunction
//===========================================================================
// Trigger: j44
//===========================================================================
function Trig_j44Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'ufro' ) ) )
endfunction
function Trig_j44Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j44Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > 20
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct____3))
            call CreateNUnitsAtLoc(1, 'ufro', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call EnhanceDiffAttack(GetLastCreatedUnit())
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j44 takes nothing returns nothing
    set gg_trg_j44=CreateTrigger()
    call DisableTrigger(gg_trg_j44)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j44, 8.00)
    call TriggerAddAction(gg_trg_j44, function Trig_j44Actions)
endfunction
//===========================================================================
// Trigger: j45
//===========================================================================
function Trig_j45Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j45Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j45Func003Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'ufro' ) ) )
endfunction
function Trig_j45Func003Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j45Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____3 , Condition(function Trig_j45Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j45Func003Func001003002)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j45Func003Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call DisableTrigger(gg_trg_j44)
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_j45 takes nothing returns nothing
    set gg_trg_j45=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j45 , gg_rct____3)
    call TriggerAddCondition(gg_trg_j45, Condition(function Trig_j45Conditions))
    call TriggerAddAction(gg_trg_j45, function Trig_j45Actions)
endfunction
//===========================================================================
// Trigger: j46
//===========================================================================
function Trig_j46Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j46Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j47)
endfunction
//===========================================================================
function InitTrig_j46 takes nothing returns nothing
    set gg_trg_j46=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j46 , gg_rct____4)
    call TriggerAddCondition(gg_trg_j46, Condition(function Trig_j46Conditions))
    call TriggerAddAction(gg_trg_j46, function Trig_j46Actions)
endfunction
//===========================================================================
// Trigger: j47
//===========================================================================
function Trig_j47Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'hphx' ) ) )
endfunction
function Trig_j47Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j47Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > 20
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct____4))
            call CreateNUnitsAtLoc(1, 'hphx', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call EnhanceDiffAttack(GetLastCreatedUnit())
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j47 takes nothing returns nothing
    set gg_trg_j47=CreateTrigger()
    call DisableTrigger(gg_trg_j47)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j47, 8.00)
    call TriggerAddAction(gg_trg_j47, function Trig_j47Actions)
endfunction
//===========================================================================
// Trigger: j48
//===========================================================================
function Trig_j48Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j48Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j48Func003Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'hphx' ) ) )
endfunction
function Trig_j48Func003Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j48Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____4 , Condition(function Trig_j48Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j48Func003Func001003002)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j48Func003Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call DisableTrigger(gg_trg_j47)
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_j48 takes nothing returns nothing
    set gg_trg_j48=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j48 , gg_rct____4)
    call TriggerAddCondition(gg_trg_j48, Condition(function Trig_j48Conditions))
    call TriggerAddAction(gg_trg_j48, function Trig_j48Actions)
endfunction
//===========================================================================
// Trigger: j49
//===========================================================================
function Trig_j49Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j49Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j50)
endfunction
//===========================================================================
function InitTrig_j49 takes nothing returns nothing
    set gg_trg_j49=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j49 , gg_rct____5)
    call TriggerAddCondition(gg_trg_j49, Condition(function Trig_j49Conditions))
    call TriggerAddAction(gg_trg_j49, function Trig_j49Actions)
endfunction
//===========================================================================
// Trigger: j50
//===========================================================================
function Trig_j50Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nwgs' ) ) )
endfunction
function Trig_j50Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j50Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > 20
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct____5))
            call CreateNUnitsAtLoc(1, 'nwgs', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call EnhanceDiffAttack(GetLastCreatedUnit())
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j50 takes nothing returns nothing
    set gg_trg_j50=CreateTrigger()
    call DisableTrigger(gg_trg_j50)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j50, 8.00)
    call TriggerAddAction(gg_trg_j50, function Trig_j50Actions)
endfunction
//===========================================================================
// Trigger: j51
//===========================================================================
function Trig_j51Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j51Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j51Func003Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nwgs' ) ) )
endfunction
function Trig_j51Func003Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j51Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____5 , Condition(function Trig_j51Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j51Func003Func001003002)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j51Func003Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call DisableTrigger(gg_trg_j50)
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_j51 takes nothing returns nothing
    set gg_trg_j51=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j51 , gg_rct____5)
    call TriggerAddCondition(gg_trg_j51, Condition(function Trig_j51Conditions))
    call TriggerAddAction(gg_trg_j51, function Trig_j51Actions)
endfunction
//===========================================================================
// Trigger: j52
//===========================================================================
function Trig_j52Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j52Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j53)
endfunction
//===========================================================================
function InitTrig_j52 takes nothing returns nothing
    set gg_trg_j52=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j52 , gg_rct____6)
    call TriggerAddCondition(gg_trg_j52, Condition(function Trig_j52Conditions))
    call TriggerAddAction(gg_trg_j52, function Trig_j52Actions)
endfunction
//===========================================================================
// Trigger: j53
//===========================================================================
function Trig_j53Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'echm' ) ) )
endfunction
function Trig_j53Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j53Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > 20
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct____6))
            call CreateNUnitsAtLoc(1, 'echm', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call EnhanceDiffAttack(GetLastCreatedUnit())
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j53 takes nothing returns nothing
    set gg_trg_j53=CreateTrigger()
    call DisableTrigger(gg_trg_j53)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j53, 8.00)
    call TriggerAddAction(gg_trg_j53, function Trig_j53Actions)
endfunction
//===========================================================================
// Trigger: j54
//===========================================================================
function Trig_j54Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j54Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j54Func003Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'echm' ) ) )
endfunction
function Trig_j54Func003Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j54Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____6 , Condition(function Trig_j54Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j54Func003Func001003002)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j54Func003Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call DisableTrigger(gg_trg_j53)
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_j54 takes nothing returns nothing
    set gg_trg_j54=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j54 , gg_rct____6)
    call TriggerAddCondition(gg_trg_j54, Condition(function Trig_j54Conditions))
    call TriggerAddAction(gg_trg_j54, function Trig_j54Actions)
endfunction
//===========================================================================
// Trigger: j56
//===========================================================================
function Trig_j56Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j56Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j57)
endfunction
//===========================================================================
function InitTrig_j56 takes nothing returns nothing
    set gg_trg_j56=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j56 , gg_rct_________16)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j56 , gg_rct_________21)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j56 , gg_rct________10)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j56 , gg_rct_________15)
    call TriggerAddCondition(gg_trg_j56, Condition(function Trig_j56Conditions))
    call TriggerAddAction(gg_trg_j56, function Trig_j56Actions)
endfunction
//===========================================================================
// Trigger: j57
//===========================================================================
function Trig_j57Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nltl' ) ) )
endfunction
function Trig_j57Func004003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nspd' ) ) )
endfunction
function Trig_j57Func007003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nubk' ) ) )
endfunction
function Trig_j57Func010003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nslm' ) ) )
endfunction
function Trig_j57Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j57Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________16))
            call CreateNUnitsAtLoc(1, 'nltl', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j57Func004003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct________10))
            call CreateNUnitsAtLoc(1, 'nspd', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j57Func007003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________15))
            call CreateNUnitsAtLoc(1, 'nubk', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j57Func010003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________21))
            call CreateNUnitsAtLoc(1, 'nslm', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j57 takes nothing returns nothing
    set gg_trg_j57=CreateTrigger()
    call DisableTrigger(gg_trg_j57)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j57, 10.00)
    call TriggerAddAction(gg_trg_j57, function Trig_j57Actions)
endfunction
//===========================================================================
// Trigger: j58
//===========================================================================
function Trig_j58Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j58Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j58Func005003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j58Func008003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j58Func011003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j58Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________16 , Condition(function Trig_j58Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________15 , Condition(function Trig_j58Func005003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct________10 , Condition(function Trig_j58Func008003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________21 , Condition(function Trig_j58Func011003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call DisableTrigger(gg_trg_j57)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j58 takes nothing returns nothing
    set gg_trg_j58=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j58 , gg_rct_________16)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j58 , gg_rct_________21)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j58 , gg_rct________10)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j58 , gg_rct_________15)
    call TriggerAddCondition(gg_trg_j58, Condition(function Trig_j58Conditions))
    call TriggerAddAction(gg_trg_j58, function Trig_j58Actions)
endfunction
//===========================================================================
// Trigger: j55
//===========================================================================
function Trig_j55Conditions takes nothing returns boolean
    return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) != true ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j55Func001Func001003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func001Func002Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nhrq' ) ) )
endfunction
function Trig_j55Func001Func002Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j55Func002Func001003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func002Func002Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nndr' ) ) )
endfunction
function Trig_j55Func002Func002Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j55Func003Func001003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func003Func002Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'ufro' ) ) )
endfunction
function Trig_j55Func003Func002Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j55Func004Func001003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func004Func002Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'hphx' ) ) )
endfunction
function Trig_j55Func004Func002Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j55Func005Func001003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func005Func002Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nwgs' ) ) )
endfunction
function Trig_j55Func005Func002Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j55Func006Func001003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func006Func002Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'echm' ) ) )
endfunction
function Trig_j55Func006Func002Func002A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_j55Func007Func002003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func007Func005003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func007Func008003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func007Func011003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func008Func002003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func008Func005003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func008Func008003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func008Func011003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func009Func002003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func009Func005003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func009Func008003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Func009Func011003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) ) )
endfunction
function Trig_j55Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( RectContainsUnit(gg_rct____1, GetTriggerUnit()) == true ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____1 , Condition(function Trig_j55Func001Func001003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j55Func001Func002Func001003002)))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j55Func001Func002Func002A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
            call DisableTrigger(gg_trg_j38)
        else
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    else
    endif
    if ( ( RectContainsUnit(gg_rct____2, GetTriggerUnit()) == true ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____2 , Condition(function Trig_j55Func002Func001003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j55Func002Func002Func001003002)))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j55Func002Func002Func002A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
            call DisableTrigger(gg_trg_j41)
        else
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    else
    endif
    if ( ( RectContainsUnit(gg_rct____3, GetTriggerUnit()) == true ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____3 , Condition(function Trig_j55Func003Func001003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j55Func003Func002Func001003002)))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j55Func003Func002Func002A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
            call DisableTrigger(gg_trg_j44)
        else
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    else
    endif
    if ( ( RectContainsUnit(gg_rct____4, GetTriggerUnit()) == true ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____4 , Condition(function Trig_j55Func004Func001003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j55Func004Func002Func001003002)))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j55Func004Func002Func002A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
            call DisableTrigger(gg_trg_j47)
        else
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    else
    endif
    if ( ( RectContainsUnit(gg_rct____5, GetTriggerUnit()) == true ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____5 , Condition(function Trig_j55Func005Func001003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j55Func005Func002Func001003002)))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j55Func005Func002Func002A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
            call DisableTrigger(gg_trg_j50)
        else
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    else
    endif
    if ( ( RectContainsUnit(gg_rct____6, GetTriggerUnit()) == true ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct____6 , Condition(function Trig_j55Func006Func001003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j55Func006Func002Func001003002)))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_j55Func006Func002Func002A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
            call DisableTrigger(gg_trg_j53)
        else
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    else
    endif
    if ( ( ( RectContainsUnit(gg_rct_________15, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_________16, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_________21, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct________10, GetTriggerUnit()) == true ) ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________16 , Condition(function Trig_j55Func007Func002003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________21 , Condition(function Trig_j55Func007Func005003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct________10 , Condition(function Trig_j55Func007Func008003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________15 , Condition(function Trig_j55Func007Func011003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call DisableTrigger(gg_trg_j57)
    else
    endif
    if ( ( ( RectContainsUnit(gg_rct_________20, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_________17, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_________14, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_________11, GetTriggerUnit()) == true ) ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________11 , Condition(function Trig_j55Func008Func002003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________14 , Condition(function Trig_j55Func008Func005003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________17 , Condition(function Trig_j55Func008Func008003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________20 , Condition(function Trig_j55Func008Func011003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call DisableTrigger(gg_trg_j60)
    else
    endif
    if ( ( ( RectContainsUnit(gg_rct_________18, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_________19, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_________12, GetTriggerUnit()) == true ) or ( RectContainsUnit(gg_rct_________13, GetTriggerUnit()) == true ) ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________13 , Condition(function Trig_j55Func009Func002003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________12 , Condition(function Trig_j55Func009Func005003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________19 , Condition(function Trig_j55Func009Func008003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________18 , Condition(function Trig_j55Func009Func011003002)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
        else
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call DisableTrigger(gg_trg_j63)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_j55 takes nothing returns nothing
    set gg_trg_j55=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_j55, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_j55, Condition(function Trig_j55Conditions))
    call TriggerAddAction(gg_trg_j55, function Trig_j55Actions)
endfunction
//===========================================================================
// Trigger: j59
//===========================================================================
function Trig_j59Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j59Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j60)
endfunction
//===========================================================================
function InitTrig_j59 takes nothing returns nothing
    set gg_trg_j59=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j59 , gg_rct_________17)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j59 , gg_rct_________20)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j59 , gg_rct_________11)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j59 , gg_rct_________14)
    call TriggerAddCondition(gg_trg_j59, Condition(function Trig_j59Conditions))
    call TriggerAddAction(gg_trg_j59, function Trig_j59Actions)
endfunction
//===========================================================================
// Trigger: j60
//===========================================================================
function Trig_j60Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nthl' ) ) )
endfunction
function Trig_j60Func004003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nnwa' ) ) )
endfunction
function Trig_j60Func007003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nubr' ) ) )
endfunction
function Trig_j60Func010003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nslf' ) ) )
endfunction
function Trig_j60Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j60Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________17))
            call CreateNUnitsAtLoc(1, 'nthl', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j60Func004003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________11))
            call CreateNUnitsAtLoc(1, 'nnwa', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j60Func007003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________14))
            call CreateNUnitsAtLoc(1, 'nubr', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j60Func010003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________20))
            call CreateNUnitsAtLoc(1, 'nslf', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j60 takes nothing returns nothing
    set gg_trg_j60=CreateTrigger()
    call DisableTrigger(gg_trg_j60)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j60, 10.00)
    call TriggerAddAction(gg_trg_j60, function Trig_j60Actions)
endfunction
//===========================================================================
// Trigger: j61
//===========================================================================
function Trig_j61Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j61Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j61Func005003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j61Func008003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j61Func011003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j61Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________17 , Condition(function Trig_j61Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________20 , Condition(function Trig_j61Func005003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________11 , Condition(function Trig_j61Func008003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________14 , Condition(function Trig_j61Func011003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call DisableTrigger(gg_trg_j60)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j61 takes nothing returns nothing
    set gg_trg_j61=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j61 , gg_rct_________14)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j61 , gg_rct_________11)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j61 , gg_rct_________20)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j61 , gg_rct_________17)
    call TriggerAddCondition(gg_trg_j61, Condition(function Trig_j61Conditions))
    call TriggerAddAction(gg_trg_j61, function Trig_j61Actions)
endfunction
//===========================================================================
// Trigger: j62
//===========================================================================
function Trig_j62Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j62Actions takes nothing returns nothing
    call EnableTrigger(gg_trg_j63)
endfunction
//===========================================================================
function InitTrig_j62 takes nothing returns nothing
    set gg_trg_j62=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j62 , gg_rct_________18)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j62 , gg_rct_________19)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j62 , gg_rct_________12)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_j62 , gg_rct_________13)
    call TriggerAddCondition(gg_trg_j62, Condition(function Trig_j62Conditions))
    call TriggerAddAction(gg_trg_j62, function Trig_j62Actions)
endfunction
//===========================================================================
// Trigger: j63
//===========================================================================
function Trig_j63Func001003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nstw' ) ) )
endfunction
function Trig_j63Func004003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nnwl' ) ) )
endfunction
function Trig_j63Func007003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nubw' ) ) )
endfunction
function Trig_j63Func010003002 takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(10) ) and ( GetUnitTypeId(GetFilterUnit()) == 'nsln' ) ) )
endfunction
function Trig_j63Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j63Func001003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________18))
            call CreateNUnitsAtLoc(1, 'nstw', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j63Func004003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________12))
            call CreateNUnitsAtLoc(1, 'nnwl', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j63Func007003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________13))
            call CreateNUnitsAtLoc(1, 'nubw', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_j63Func010003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) < 10 ) ) then
        set ydul_k=1
        loop
            exitwhen ydul_k > ( 10 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct_________19))
            call CreateNUnitsAtLoc(1, 'nsln', Player(10), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_k=ydul_k + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j63 takes nothing returns nothing
    set gg_trg_j63=CreateTrigger()
    call DisableTrigger(gg_trg_j63)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_j63, 10.00)
    call TriggerAddAction(gg_trg_j63, function Trig_j63Actions)
endfunction
//===========================================================================
// Trigger: j64
//===========================================================================
function Trig_j64Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j64Func002003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j64Func005003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j64Func008003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j64Func011003002 takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_j64Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________18 , Condition(function Trig_j64Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________19 , Condition(function Trig_j64Func005003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________12 , Condition(function Trig_j64Func008003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRectMatchingNull(gg_rct_________13 , Condition(function Trig_j64Func011003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB)) == 0 ) ) then
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
    call DisableTrigger(gg_trg_j63)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_j64 takes nothing returns nothing
    set gg_trg_j64=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j64 , gg_rct_________13)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j64 , gg_rct_________12)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j64 , gg_rct_________19)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg_j64 , gg_rct_________18)
    call TriggerAddCondition(gg_trg_j64, Condition(function Trig_j64Conditions))
    call TriggerAddAction(gg_trg_j64, function Trig_j64Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015
//===========================================================================
function Trig____________________015Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I00I' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=9
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Jian[GetForLoopIndexA()])) == udg_F_Jian[GetForLoopIndexA()] ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Jian[GetForLoopIndexA()])) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD) >= ( 1500 * GetForLoopIndexA() ) ) ) then
                call AdjustPlayerStateBJ(( - 1500 * GetForLoopIndexA() ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Jian[GetForLoopIndexA()]))
                call UnitAddItemByIdSwapped(udg_F_Jian[( GetForLoopIndexA() + 1 )], GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(( 1500 * GetForLoopIndexA() )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ))
                return
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________015 takes nothing returns nothing
    set gg_trg____________________015=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015, Condition(function Trig____________________015Conditions))
    call TriggerAddAction(gg_trg____________________015, function Trig____________________015Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 7
//===========================================================================
function Trig____________________015________7Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I03R' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________7Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=9
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Kui[GetForLoopIndexA()])) == udg_F_Kui[GetForLoopIndexA()] ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Kui[GetForLoopIndexA()])) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD) >= ( 1500 * GetForLoopIndexA() ) ) ) then
                call AdjustPlayerStateBJ(( - 1500 * GetForLoopIndexA() ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Kui[GetForLoopIndexA()]))
                call UnitAddItemByIdSwapped(udg_F_Kui[( GetForLoopIndexA() + 1 )], GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(( 1500 * GetForLoopIndexA() )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ))
                return
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________015________7 takes nothing returns nothing
    set gg_trg____________________015________7=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________7, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________7, Condition(function Trig____________________015________7Conditions))
    call TriggerAddAction(gg_trg____________________015________7, function Trig____________________015________7Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 6
//===========================================================================
function Trig____________________015________6Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I03F' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________6Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=9
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Zhang[GetForLoopIndexA()])) == udg_F_Zhang[GetForLoopIndexA()] ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Zhang[GetForLoopIndexA()])) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD) >= ( 1500 * GetForLoopIndexA() ) ) ) then
                call AdjustPlayerStateBJ(( - 1500 * GetForLoopIndexA() ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Zhang[GetForLoopIndexA()]))
                call UnitAddItemByIdSwapped(udg_F_Zhang[( GetForLoopIndexA() + 1 )], GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(( 1500 * GetForLoopIndexA() )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ))
                return
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________015________6 takes nothing returns nothing
    set gg_trg____________________015________6=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________6, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________6, Condition(function Trig____________________015________6Conditions))
    call TriggerAddAction(gg_trg____________________015________6, function Trig____________________015________6Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 5
//===========================================================================
function Trig____________________015________5Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I02M' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________5Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=9
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Xie[GetForLoopIndexA()])) == udg_F_Xie[GetForLoopIndexA()] ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Xie[GetForLoopIndexA()])) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD) >= ( 1500 * GetForLoopIndexA() ) ) ) then
                call AdjustPlayerStateBJ(( - 1500 * GetForLoopIndexA() ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Xie[GetForLoopIndexA()]))
                call UnitAddItemByIdSwapped(udg_F_Xie[( GetForLoopIndexA() + 1 )], GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(( 1500 * GetForLoopIndexA() )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ))
                return
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________015________5 takes nothing returns nothing
    set gg_trg____________________015________5=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________5, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________5, Condition(function Trig____________________015________5Conditions))
    call TriggerAddAction(gg_trg____________________015________5, function Trig____________________015________5Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 4
//===========================================================================
function Trig____________________015________4Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I026' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________4Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=9
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_gong[GetForLoopIndexA()])) == udg_F_gong[GetForLoopIndexA()] ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_gong[GetForLoopIndexA()])) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD) >= ( 1500 * GetForLoopIndexA() ) ) ) then
                call AdjustPlayerStateBJ(( - 1500 * GetForLoopIndexA() ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_gong[GetForLoopIndexA()]))
                call UnitAddItemByIdSwapped(udg_F_gong[( GetForLoopIndexA() + 1 )], GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(( 1500 * GetForLoopIndexA() )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ))
                return
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________015________4 takes nothing returns nothing
    set gg_trg____________________015________4=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________4, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________4, Condition(function Trig____________________015________4Conditions))
    call TriggerAddAction(gg_trg____________________015________4, function Trig____________________015________4Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 3
//===========================================================================
function Trig____________________015________3Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I01Q' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________3Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=9
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Bishou[GetForLoopIndexA()])) == udg_F_Bishou[GetForLoopIndexA()] ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Bishou[GetForLoopIndexA()])) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD) >= ( 1500 * GetForLoopIndexA() ) ) ) then
                call AdjustPlayerStateBJ(( - 1500 * GetForLoopIndexA() ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Bishou[GetForLoopIndexA()]))
                call UnitAddItemByIdSwapped(udg_F_Bishou[( GetForLoopIndexA() + 1 )], GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(( 1500 * GetForLoopIndexA() )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ))
                return
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________015________3 takes nothing returns nothing
    set gg_trg____________________015________3=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________3, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________3, Condition(function Trig____________________015________3Conditions))
    call TriggerAddAction(gg_trg____________________015________3, function Trig____________________015________3Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂
//===========================================================================
function Trig____________________015_______uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I00U' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015_______uActions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=9
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Dun[GetForLoopIndexA()])) == udg_F_Dun[GetForLoopIndexA()] ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Dun[GetForLoopIndexA()])) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD) >= ( 1500 * GetForLoopIndexA() ) ) ) then
                call AdjustPlayerStateBJ(( - 1500 * GetForLoopIndexA() ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Dun[GetForLoopIndexA()]))
                call UnitAddItemByIdSwapped(udg_F_Dun[( GetForLoopIndexA() + 1 )], GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(( 1500 * GetForLoopIndexA() )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ))
                return
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________015_______u takes nothing returns nothing
    set gg_trg____________________015_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015_______u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015_______u, Condition(function Trig____________________015_______uConditions))
    call TriggerAddAction(gg_trg____________________015_______u, function Trig____________________015_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________015______________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I016' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015______________uActions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=9
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Jia[GetForLoopIndexA()])) == udg_F_Jia[GetForLoopIndexA()] ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Jia[GetForLoopIndexA()])) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD) >= ( 1500 * GetForLoopIndexA() ) ) ) then
                call AdjustPlayerStateBJ(( - 1500 * GetForLoopIndexA() ), GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , udg_F_Jia[GetForLoopIndexA()]))
                call UnitAddItemByIdSwapped(udg_F_Jia[( GetForLoopIndexA() + 1 )], GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ" + ( I2S(( 1500 * GetForLoopIndexA() )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ))
                return
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________015______________u takes nothing returns nothing
    set gg_trg____________________015______________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015______________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015______________u, Condition(function Trig____________________015______________uConditions))
    call TriggerAddAction(gg_trg____________________015______________u, function Trig____________________015______________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 2
//===========================================================================
function Trig____________________015________2Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I017' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________2Actions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00G')) == 'I00G' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00G')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00G'))
        call UnitAddItemByIdSwapped('I00H', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
        return
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I024')) == 'I024' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I024')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I024'))
        call UnitAddItemByIdSwapped('I025', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
        return
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00S')) == 'I00S' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00S')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00S'))
        call UnitAddItemByIdSwapped('I00T', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
        return
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I014')) == 'I014' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I014')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I014'))
        call UnitAddItemByIdSwapped('I015', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
        return
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01O')) == 'I01O' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01O')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01O'))
        call UnitAddItemByIdSwapped('I01P', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
        return
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02K')) == 'I02K' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02K')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02K'))
        call UnitAddItemByIdSwapped('I02L', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
        return
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03D')) == 'I03D' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03D')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03D'))
        call UnitAddItemByIdSwapped('I03E', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
        return
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03P')) == 'I03P' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03P')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03P'))
        call UnitAddItemByIdSwapped('I03Q', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
        return
    else
        call AdjustPlayerStateBJ(20000, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÂçÅÁ∫ßÁöÑË£ÖÂ§á„ÄÇ")
    endif
endfunction
//===========================================================================
function InitTrig____________________015________2 takes nothing returns nothing
    set gg_trg____________________015________2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________2, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________2, Condition(function Trig____________________015________2Conditions))
    call TriggerAddAction(gg_trg____________________015________2, function Trig____________________015________2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8
//===========================================================================
function Trig____________________015________8Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I058' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8Actions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P')) == 'I01P' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H')) == 'I00H' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H'))
        call UnitAddItemByIdSwapped('I055', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8 takes nothing returns nothing
    set gg_trg____________________015________8=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8, Condition(function Trig____________________015________8Conditions))
    call TriggerAddAction(gg_trg____________________015________8, function Trig____________________015________8Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8 Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________015________8______________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I05A' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8______________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E')) == 'I03E' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H')) == 'I00H' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H'))
        call UnitAddItemByIdSwapped('I056', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8______________u takes nothing returns nothing
    set gg_trg____________________015________8______________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8______________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8______________u, Condition(function Trig____________________015________8______________uConditions))
    call TriggerAddAction(gg_trg____________________015________8______________u, function Trig____________________015________8______________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8 Â§çÂà∂
//===========================================================================
function Trig____________________015________8_______uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I059' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8_______uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025')) == 'I025' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H')) == 'I00H' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00H'))
        call UnitAddItemByIdSwapped('I04Z', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8_______u takes nothing returns nothing
    set gg_trg____________________015________8_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8_______u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8_______u, Condition(function Trig____________________015________8_______uConditions))
    call TriggerAddAction(gg_trg____________________015________8_______u, function Trig____________________015________8_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8 Â§çÂà∂ Â§çÂà∂ 2
//===========================================================================
function Trig____________________015________8_______________2Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I052' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8_______________2Actions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025')) == 'I025' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E')) == 'I03E' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E'))
        call UnitAddItemByIdSwapped('I057', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8_______________2 takes nothing returns nothing
    set gg_trg____________________015________8_______________2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8_______________2, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8_______________2, Condition(function Trig____________________015________8_______________2Conditions))
    call TriggerAddAction(gg_trg____________________015________8_______________2, function Trig____________________015________8_______________2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________061________________________________________________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'will' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061________________________________________________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'stpg')) == 'stpg' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'stpg')) == true ) ) then
        call PlaySoundBJ(gg_snd_hecheng_shenqi)
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'stpg'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
        call UnitAddItemByIdSwapped('tbsm', GetBuyingUnit())
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÈªØÊ∑°|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÈªØÊ∑°|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÈªØÊ∑°|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÈªØÊ∑°|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÈªØÊ∑°|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÈªØÊ∑°|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        return
    else
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'frgd')) == 'frgd' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'frgd')) == true ) ) then
            call PlaySoundBJ(gg_snd_hecheng_shenqi)
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'frgd'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
            call UnitAddItemByIdSwapped('tfar', GetBuyingUnit())
            call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÊØÅÁÅ≠|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
            call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÊØÅÁÅ≠|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
            call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÊØÅÁÅ≠|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
            call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÊØÅÁÅ≠|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
            call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÊØÅÁÅ≠|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
            call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-ÊØÅÁÅ≠|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
            return
        else
            if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'pspd')) == 'pspd' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'pspd')) == true ) ) then
                call PlaySoundBJ(gg_snd_hecheng_shenqi)
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'pspd'))
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
                call UnitAddItemByIdSwapped('tbak', GetBuyingUnit())
                call DisplayTextToForce(GetPlayersAll(), "|cFFFF0000„ÄêË∂Ö‰∫∫„ÄëÂ∞òÂ∞ÅÁöÑÂú£Áî≤-Èô®ËêΩ|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
                call AdjustPlayerStateBJ(100, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                return
            endif
        endif
    endif
endfunction
//===========================================================================
function InitTrig____________________061________________________________________________________u takes nothing returns nothing
    set gg_trg____________________061________________________________________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061________________________________________________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061________________________________________________________u, Condition(function Trig____________________061________________________________________________________uConditions))
    call TriggerAddAction(gg_trg____________________061________________________________________________________u, function Trig____________________061________________________________________________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8 Â§çÂà∂ Â§çÂà∂ 2 Â§çÂà∂
//===========================================================================
function Trig____________________015________8_______________2_______uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I051' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8_______________2_______uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E')) == 'I03E' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P')) == 'I01P' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03E'))
        call UnitAddItemByIdSwapped('I050', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8_______________2_______u takes nothing returns nothing
    set gg_trg____________________015________8_______________2_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8_______________2_______u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8_______________2_______u, Condition(function Trig____________________015________8_______________2_______uConditions))
    call TriggerAddAction(gg_trg____________________015________8_______________2_______u, function Trig____________________015________8_______________2_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8 Â§çÂà∂ Â§çÂà∂ 2 Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________015________8_______________2______________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'tdx2' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8_______________2______________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025')) == 'I025' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P')) == 'I01P' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01P'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I025'))
        call UnitAddItemByIdSwapped('I03Y', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8_______________2______________u takes nothing returns nothing
    set gg_trg____________________015________8_______________2______________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8_______________2______________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8_______________2______________u, Condition(function Trig____________________015________8_______________2______________uConditions))
    call TriggerAddAction(gg_trg____________________015________8_______________2______________u, function Trig____________________015________8_______________2______________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8 Â§çÂà∂ Â§çÂà∂ 2 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________015________8_______________2_____________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'rdis' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8_______________2_____________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L')) == 'I02L' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q')) == 'I03Q' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015')) == 'I015' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T')) == 'I00T' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L'))
        call UnitAddItemByIdSwapped('rej4', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8_______________2_____________________u takes nothing returns nothing
    set gg_trg____________________015________8_______________2_____________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8_______________2_____________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8_______________2_____________________u, Condition(function Trig____________________015________8_______________2_____________________uConditions))
    call TriggerAddAction(gg_trg____________________015________8_______________2_____________________u, function Trig____________________015________8_______________2_____________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8 Â§çÂà∂ Â§çÂà∂ 2 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________015________8_______________2____________________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'rman' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8_______________2____________________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L')) == 'I02L' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q')) == 'I03Q' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015')) == 'I015' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T')) == 'I00T' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L'))
        call UnitAddItemByIdSwapped('rej6', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8_______________2____________________________u takes nothing returns nothing
    set gg_trg____________________015________8_______________2____________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8_______________2____________________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8_______________2____________________________u, Condition(function Trig____________________015________8_______________2____________________________uConditions))
    call TriggerAddAction(gg_trg____________________015________8_______________2____________________________u, function Trig____________________015________8_______________2____________________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 015 Â§çÂà∂ 8 Â§çÂà∂ Â§çÂà∂ 2 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________015________8_______________2___________________________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'gomn' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________015________8_______________2___________________________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L')) == 'I02L' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q')) == 'I03Q' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015')) == 'I015' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T')) == 'I00T' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I00T'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I015'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I03Q'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02L'))
        call UnitAddItemByIdSwapped('pgin', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________015________8_______________2___________________________________u takes nothing returns nothing
    set gg_trg____________________015________8_______________2___________________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015________8_______________2___________________________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________015________8_______________2___________________________________u, Condition(function Trig____________________015________8_______________2___________________________________uConditions))
    call TriggerAddAction(gg_trg____________________015________8_______________2___________________________________u, function Trig____________________015________8_______________2___________________________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________061______________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'fgfh' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061______________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shcw')) == 'shcw' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shtm')) == 'shtm' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'engs')) == 'engs' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shcw')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shtm')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shtm'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shcw'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'engs'))
        call UnitAddItemByIdSwapped('tbar', GetBuyingUnit())
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
        set HasCombineHalf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________061______________u takes nothing returns nothing
    set gg_trg____________________061______________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061______________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061______________u, Condition(function Trig____________________061______________uConditions))
    call TriggerAddAction(gg_trg____________________061______________u, function Trig____________________061______________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________061_____________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'pgma' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061_____________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'olig')) == 'olig' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'srtl')) == 'srtl' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'engs')) == 'engs' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'olig')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'srtl')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'srtl'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'olig'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'engs'))
        call UnitAddItemByIdSwapped('ccmd', GetBuyingUnit())
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
        set HasCombineHalf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________061_____________________u takes nothing returns nothing
    set gg_trg____________________061_____________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061_____________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061_____________________u, Condition(function Trig____________________061_____________________uConditions))
    call TriggerAddAction(gg_trg____________________061_____________________u, function Trig____________________061_____________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________061____________________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'pghe' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061____________________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shhn')) == 'shhn' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'flag')) == 'flag' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'engs')) == 'engs' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shhn')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'flag')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shhn'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'flag'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'engs'))
        call UnitAddItemByIdSwapped('iwbr', GetBuyingUnit())
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
        set HasCombineHalf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________061____________________________u takes nothing returns nothing
    set gg_trg____________________061____________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061____________________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061____________________________u, Condition(function Trig____________________061____________________________uConditions))
    call TriggerAddAction(gg_trg____________________061____________________________u, function Trig____________________061____________________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________061___________________________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'srrc' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061___________________________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tbar')) == 'tbar' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'ccmd')) == 'ccmd' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'iwbr')) == 'iwbr' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tbar')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'ccmd')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'iwbr')) == true ) ) then
        call PlaySoundBJ(gg_snd_hecheng_shenqi)
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tbar'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'iwbr'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'ccmd'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
        call UnitAddItemByIdSwapped('tlum', GetBuyingUnit())
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
        call DisplayTextToForce(GetPlayersAll(), "|cffffff00„ÄêË∂ÖÁ•û„ÄëÂ∞òÂ∞ÅÁöÑËØõÁ•ûÂô¨È≠î|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffffff00„ÄêË∂ÖÁ•û„ÄëÂ∞òÂ∞ÅÁöÑËØõÁ•ûÂô¨È≠î|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffffff00„ÄêË∂ÖÁ•û„ÄëÂ∞òÂ∞ÅÁöÑËØõÁ•ûÂô¨È≠î|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffffff00„ÄêË∂ÖÁ•û„ÄëÂ∞òÂ∞ÅÁöÑËØõÁ•ûÂô¨È≠î|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffffff00„ÄêË∂ÖÁ•û„ÄëÂ∞òÂ∞ÅÁöÑËØõÁ•ûÂô¨È≠î|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffffff00„ÄêË∂ÖÁ•û„ÄëÂ∞òÂ∞ÅÁöÑËØõÁ•ûÂô¨È≠î|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________061___________________________________u takes nothing returns nothing
    set gg_trg____________________061___________________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061___________________________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061___________________________________u, Condition(function Trig____________________061___________________________________uConditions))
    call TriggerAddAction(gg_trg____________________061___________________________________u, function Trig____________________061___________________________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________061_________________________________________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'fgdg' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061_________________________________________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'brac')) == 'brac' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'brac')) == true ) ) then
        call PlaySoundBJ(gg_snd_hecheng_shenqi)
        set udg_I_suijizhengshu=GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'brac'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'brac'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
        call UnitAddItemByIdSwapped('lhst', GetBuyingUnit())
        call SetItemCharges(GetLastCreatedItem(), udg_I_suijizhengshu)
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÈ¨º„ÄëÂ∞òÂ∞ÅÁöÑÈ≠ëÈ≠ÖÈ≠çÈ≠â|rÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÈ¨º„ÄëÂ∞òÂ∞ÅÁöÑÈ≠ëÈ≠ÖÈ≠çÈ≠â|rÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÈ¨º„ÄëÂ∞òÂ∞ÅÁöÑÈ≠ëÈ≠ÖÈ≠çÈ≠â|rÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÈ¨º„ÄëÂ∞òÂ∞ÅÁöÑÈ≠ëÈ≠ÖÈ≠çÈ≠â|rÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÈ¨º„ÄëÂ∞òÂ∞ÅÁöÑÈ≠ëÈ≠ÖÈ≠çÈ≠â|rÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÈ¨º„ÄëÂ∞òÂ∞ÅÁöÑÈ≠ëÈ≠ÖÈ≠çÈ≠â|rÈôç‰∏ñÔºÅÔºÅÔºÅ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(100, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________061_________________________________________________u takes nothing returns nothing
    set gg_trg____________________061_________________________________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061_________________________________________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061_________________________________________________u, Condition(function Trig____________________061_________________________________________________uConditions))
    call TriggerAddAction(gg_trg____________________061_________________________________________________u, function Trig____________________061_________________________________________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ 2
//===========================================================================
function Trig____________________061_________________________________________________________2Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'infs' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061_________________________________________________________2Actions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05C')) == 'I05C' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05C')) == true ) ) then
        call PlaySoundBJ(gg_snd_hecheng_shenqi)
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05C'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
        call UnitAddItemByIdSwapped('I05F', GetBuyingUnit())
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÂ¶ñ„Äë|rÂ∞òÂ∞ÅÁöÑÂÇ≤ÈæôÁÅ≠‰∏ñÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÂ¶ñ„Äë|rÂ∞òÂ∞ÅÁöÑÂÇ≤ÈæôÁÅ≠‰∏ñÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÂ¶ñ„Äë|rÂ∞òÂ∞ÅÁöÑÂÇ≤ÈæôÁÅ≠‰∏ñÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÂ¶ñ„Äë|rÂ∞òÂ∞ÅÁöÑÂÇ≤ÈæôÁÅ≠‰∏ñÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÂ¶ñ„Äë|rÂ∞òÂ∞ÅÁöÑÂÇ≤ÈæôÁÅ≠‰∏ñÈôç‰∏ñÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff00ff„ÄêË∂ÖÂ¶ñ„Äë|rÂ∞òÂ∞ÅÁöÑÂÇ≤ÈæôÁÅ≠‰∏ñÈôç‰∏ñÔºÅÔºÅÔºÅ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(100, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________061_________________________________________________________2 takes nothing returns nothing
    set gg_trg____________________061_________________________________________________________2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061_________________________________________________________2, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061_________________________________________________________2, Condition(function Trig____________________061_________________________________________________________2Conditions))
    call TriggerAddAction(gg_trg____________________061_________________________________________________________2, function Trig____________________061_________________________________________________________2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂
//===========================================================================
function Trig____________________061_______________________________________________________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I04I' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061_______________________________________________________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rde3')) == 'rde3' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rde3')) == true ) ) then
        call PlaySoundBJ(gg_snd_hecheng_shenqi)
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rde3'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
        call UnitAddItemByIdSwapped('ssil', GetBuyingUnit())
        call DisplayTextToForce(GetPlayersAll(), "|cffff9900„ÄêË∂ÖÂú£„ÄëÂ∞òÂ∞ÅÁöÑÂπΩÂÜ•È°πÈìæ|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff9900„ÄêË∂ÖÂú£„ÄëÂ∞òÂ∞ÅÁöÑÂπΩÂÜ•È°πÈìæ|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff9900„ÄêË∂ÖÂú£„ÄëÂ∞òÂ∞ÅÁöÑÂπΩÂÜ•È°πÈìæ|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff9900„ÄêË∂ÖÂú£„ÄëÂ∞òÂ∞ÅÁöÑÂπΩÂÜ•È°πÈìæ|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff9900„ÄêË∂ÖÂú£„ÄëÂ∞òÂ∞ÅÁöÑÂπΩÂÜ•È°πÈìæ|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff9900„ÄêË∂ÖÂú£„ÄëÂ∞òÂ∞ÅÁöÑÂπΩÂÜ•È°πÈìæ|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(100, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________061_______________________________________________________________u takes nothing returns nothing
    set gg_trg____________________061_______________________________________________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061_______________________________________________________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061_______________________________________________________________u, Condition(function Trig____________________061_______________________________________________________________uConditions))
    call TriggerAddAction(gg_trg____________________061_______________________________________________________________u, function Trig____________________061_______________________________________________________________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 061 Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂà∂ Â§çÂ Â§çÂà∂
//===========================================================================
function Trig____________________061____________________________________________________________________uConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'I02R' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________061____________________________________________________________________uActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'IB08')) == 'IB08' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'IB08')) == true ) ) then
        call PlaySoundBJ(gg_snd_hecheng_shenqi)
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'IB08'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
        call UnitAddItemByIdSwapped('IB09', GetBuyingUnit())
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêË∂ÖÈ≠îÂÖΩ„Äë‰πùÁøº|cffffff00Â§©Èæô|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêË∂ÖÈ≠îÂÖΩ„Äë‰πùÁøº|cffffff00Â§©Èæô|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêË∂ÖÈ≠îÂÖΩ„Äë‰πùÁøº|cffffff00Â§©Èæô|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêË∂ÖÈ≠îÂÖΩ„Äë‰πùÁøº|cffffff00Â§©Èæô|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêË∂ÖÈ≠îÂÖΩ„Äë‰πùÁøº|cffffff00Â§©Èæô|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêË∂ÖÈ≠îÂÖΩ„Äë‰πùÁøº|cffffff00Â§©Èæô|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêË∂ÖÈ≠îÂÖΩ„Äë‰πùÁøº|cffffff00Â§©Èæô|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(1000, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig____________________061____________________________________________________________________u takes nothing returns nothing
    set gg_trg____________________061____________________________________________________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061____________________________________________________________________u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________061____________________________________________________________________u, Condition(function Trig____________________061____________________________________________________________________uConditions))
    call TriggerAddAction(gg_trg____________________061____________________________________________________________________u, function Trig____________________061____________________________________________________________________uActions)
endfunction
//===========================================================================
// Trigger: ÂêàÊàê‰ªôÂô®b
//===========================================================================
function Trig_____________bConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'sneg' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig_____________bActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01U'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02A'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I029'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01E'))
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3)) == 'I01U' ) and ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) == 'I02A' ) and ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F)) == 'I029' ) and ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427)) == 'I01E' ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3)) == true ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) == true ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F)) == true ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427)) == true ) ) then
        call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3))
        call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F))
        call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427))
        call UnitAddItemByIdSwapped('rde2', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(10, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________b takes nothing returns nothing
    set gg_trg_____________b=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________b, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_____________b, Condition(function Trig_____________bConditions))
    call TriggerAddAction(gg_trg_____________b, function Trig_____________bActions)
endfunction
//===========================================================================
// Trigger: ÂêàÊàê‰ªôÂô®b2
//===========================================================================
function Trig_____________b2Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'wneg' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig_____________b2Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I027'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I02O'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I028'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I01C'))
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3)) == 'I027' ) and ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) == 'I02O' ) and ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F)) == 'I028' ) and ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427)) == 'I01C' ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3)) == true ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) == true ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F)) == true ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427)) == true ) ) then
        call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3))
        call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
        call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F))
        call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427))
        call UnitAddItemByIdSwapped('rde1', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(10, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________b2 takes nothing returns nothing
    set gg_trg_____________b2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________b2, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_____________b2, Condition(function Trig_____________b2Conditions))
    call TriggerAddAction(gg_trg_____________b2, function Trig_____________b2Actions)
endfunction
//===========================================================================
// Trigger: Update_Fahun
//===========================================================================
function Trig_Update_FahunConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'hslv' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig_Update_FahunActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0CB46217, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rde1'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'ward'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rin1'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'phea'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'spro'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'shas'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5C50ED35, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rnec'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3DB82AD, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'sclp'))
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x658FC866, 'rde1')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1544E0D0, 'ward')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0BBB9E03, 'rin1')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x551A4D78, 'phea')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5A53D571, 'spro')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA6FBBD51, 'shas')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x45FACEAE, 'rnec')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4CC4C9BB, 'sclp')
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0CB46217)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x658FC866) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0CB46217)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 40 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0CB46217))
            call AdjustPlayerStateBJ(- 40, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1544E0D0), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1544E0D0) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 200 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3))
            call AdjustPlayerStateBJ(- 200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0BBB9E03), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0BBB9E03) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 400 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
            call AdjustPlayerStateBJ(- 400, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x551A4D78), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x551A4D78) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 400 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F))
            call AdjustPlayerStateBJ(- 400, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5A53D571), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5A53D571) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 800 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427))
            call AdjustPlayerStateBJ(- 800, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA6FBBD51), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA6FBBD51) ) and ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3DB82AD)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4CC4C9BB) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8)) == true ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3DB82AD)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 2400 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8))
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3DB82AD))
            call AdjustPlayerStateBJ(- 2400, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x45FACEAE), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cffff00ff„ÄêÊ≥®ÊÑè„Äë|rÁî±‰∫éÈ≠îÂÖΩÂºïÊìéÁöÑÈôêÂà∂,ÂÆ†Áâ©Êê∫Â∏¶Ê≥ïÈ≠Ç‰ºöÁ´ãÂç≥Ê≠ª‰∫°,ËØ∑‰ΩøÁî®‰ªìÂ∫ì!!!!!!!!!")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Update_Fahun takes nothing returns nothing
    set gg_trg_Update_Fahun=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Update_Fahun, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_Update_Fahun, Condition(function Trig_Update_FahunConditions))
    call TriggerAddAction(gg_trg_Update_Fahun, function Trig_Update_FahunActions)
endfunction
//===========================================================================
// Trigger: Update_Zhanhun
//===========================================================================
function Trig_Update_ZhanhunConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'shea' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig_Update_ZhanhunActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0CB46217, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rde2'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'vamp'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'skul'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tsct'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tcas'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'plcl'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5C50ED35, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tgrh'))
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3DB82AD, YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'sclp'))
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x658FC866, 'rde2')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1544E0D0, 'vamp')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0BBB9E03, 'skul')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x551A4D78, 'tsct')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5A53D571, 'tcas')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA6FBBD51, 'plcl')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x45FACEAE, 'tgrh')
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4CC4C9BB, 'sclp')
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0CB46217)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x658FC866) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0CB46217)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 40 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0CB46217))
            call AdjustPlayerStateBJ(- 40, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1544E0D0), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1544E0D0) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 200 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3))
            call AdjustPlayerStateBJ(- 200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0BBB9E03), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x0BBB9E03) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 400 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615))
            call AdjustPlayerStateBJ(- 400, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x551A4D78), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x551A4D78) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 400 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F))
            call AdjustPlayerStateBJ(- 400, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5A53D571), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5A53D571) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 800 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE5525427))
            call AdjustPlayerStateBJ(- 800, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA6FBBD51), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA6FBBD51) ) and ( GetItemTypeId(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3DB82AD)) == LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4CC4C9BB) ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8)) == true ) and ( IsItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3DB82AD)) == true ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 2400 ) ) then
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1EB131D8))
            call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA3DB82AD))
            call AdjustPlayerStateBJ(- 2400, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call UnitAddItemByIdSwapped(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x45FACEAE), GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâËøô‰πàÂ§öÊú®Â§¥ÔºÅ")
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_Update_Zhanhun takes nothing returns nothing
    set gg_trg_Update_Zhanhun=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Update_Zhanhun, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_Update_Zhanhun, Condition(function Trig_Update_ZhanhunConditions))
    call TriggerAddAction(gg_trg_Update_Zhanhun, function Trig_Update_ZhanhunActions)
endfunction
//===========================================================================
// Trigger: Compose_Shuanghun
//===========================================================================
function Trig_Compose_ShuanghunConditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'wswd' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig_Compose_ShuanghunActions takes nothing returns nothing
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rnec')) == 'rnec' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tgrh')) == 'tgrh' ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk')) == 'mgtk' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rnec')) == true ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tgrh')) == true ) ) then
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'rnec'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'tgrh'))
        call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'mgtk'))
        call UnitAddItemByIdSwapped('rst1', GetBuyingUnit())
        call DisplayTextToForce(GetPlayersAll(), "|cffff99cc„ÄêË∂Ö‰ªô„ÄëÂ∞òÂ∞ÅÁöÑÊàòÊ≥ïÂèåÈ≠Ç|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff99cc„ÄêË∂Ö‰ªô„ÄëÂ∞òÂ∞ÅÁöÑÊàòÊ≥ïÂèåÈ≠Ç|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff99cc„ÄêË∂Ö‰ªô„ÄëÂ∞òÂ∞ÅÁöÑÊàòÊ≥ïÂèåÈ≠Ç|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff99cc„ÄêË∂Ö‰ªô„ÄëÂ∞òÂ∞ÅÁöÑÊàòÊ≥ïÂèåÈ≠Ç|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff99cc„ÄêË∂Ö‰ªô„ÄëÂ∞òÂ∞ÅÁöÑÊàòÊ≥ïÂèåÈ≠Ç|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        call DisplayTextToForce(GetPlayersAll(), "|cffff99cc„ÄêË∂Ö‰ªô„ÄëÂ∞òÂ∞ÅÁöÑÊàòÊ≥ïÂèåÈ≠Ç|rÈôç‰∏ñÔºÅÔºÅÔºÅÔºÅ")
        return
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°ÊúâÈõÜÈΩêÊâÄÊúâÈúÄË¶ÅÁöÑÈÅìÂÖ∑„ÄÇ")
        call AdjustPlayerStateBJ(2500, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        return
    endif
endfunction
//===========================================================================
function InitTrig_Compose_Shuanghun takes nothing returns nothing
    set gg_trg_Compose_Shuanghun=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Compose_Shuanghun, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_Compose_Shuanghun, Condition(function Trig_Compose_ShuanghunConditions))
    call TriggerAddAction(gg_trg_Compose_Shuanghun, function Trig_Compose_ShuanghunActions)
endfunction
//===========================================================================
// Trigger: ÂçáÁ∫ß‰ªôÁïåË£ÖÂ§á_6a
//===========================================================================
function Trig____________________6aConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________6aActions takes nothing returns nothing
    if ( ( GetItemTypeId(GetSoldItem()) == 'I05S' ) ) then
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05O')) == 'I05O' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05O')) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 50 ) ) then
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05O'))
                call AdjustPlayerStateBJ(- 50, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call UnitAddItemByIdSwapped('I05P', GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ50Êú®Â§¥ÔºÅ")
            endif
        else
        endif
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05P')) == 'I05P' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05P')) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 200 ) ) then
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05P'))
                call AdjustPlayerStateBJ(- 200, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call UnitAddItemByIdSwapped('I05Q', GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ200Êú®Â§¥ÔºÅ")
            endif
        else
        endif
        if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05Q')) == 'I05Q' ) and ( IsItemPawnable(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05Q')) == true ) ) then
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 800 ) ) then
                call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'I05Q'))
                call AdjustPlayerStateBJ(- 800, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call UnitAddItemByIdSwapped('I05R', GetBuyingUnit())
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂçáÁ∫ßÊàêÂäüÔºÅ")
                return
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†Ê≤°Êúâ800Êú®Â§¥ÔºÅ")
            endif
        else
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________6a takes nothing returns nothing
    set gg_trg____________________6a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________6a, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________6a, Condition(function Trig____________________6aConditions))
    call TriggerAddAction(gg_trg____________________6a, function Trig____________________6aActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 006
//===========================================================================
function Trig____________________006Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________006Func001Func003A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetBuyingUnit())) + "Âä†Âº∫‰∫ÜÊâÄÊúâÂª∫Á≠ëÔºåÂ§ßÂÆ∂Ëøò‰∏çÂø´Ë∞¢Ë∞¢‰ªñ„ÄÇ" ) ))
endfunction
function Trig____________________006Func003Func002A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetBuyingUnit())) + "ÁªôÊâÄÊúâÂ°îË¥≠ÁΩÆ‰∫Ü500%ÁöÑÊîªÂáªÈÄüÂ∫¶ÔºåÂ§ßÂÆ∂Ëøò‰∏çÂø´Ë∞¢Ë∞¢‰ªñ„ÄÇ" ) ))
endfunction
function Trig____________________006Func004Func001Func005A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetBuyingUnit())) + "ÁªôÂÜ∞Â∞Å‰πãÂ°îÂçáÁ∫ß‰∫ÜÊîªÂáªÂäõÔºåÂ§ßÂÆ∂Ëøò‰∏çÂø´Ë∞¢Ë∞¢‰ªñ„ÄÇ" ) ))
endfunction
function Trig____________________006Func005Func001Func005A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetBuyingUnit())) + "ÁªôÂ∑®Áü≥‰πãÂ°îÂçáÁ∫ß‰∫ÜÊîªÂáªÂäõÔºåÂ§ßÂÆ∂Ëøò‰∏çÂø´Ë∞¢Ë∞¢‰ªñ„ÄÇ" ) ))
endfunction
function Trig____________________006Func006Func001Func005A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetBuyingUnit())) + "ÁªôÊ≠ª‰∫°‰πãÂ°îÂçáÁ∫ß‰∫ÜÊîªÂáªÂäõÔºåÂ§ßÂÆ∂Ëøò‰∏çÂø´Ë∞¢Ë∞¢‰ªñ„ÄÇ" ) ))
endfunction
function Trig____________________006Func007Func001Func005A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetBuyingUnit())) + "ÁªôÁÅ´ÁÑ∞‰πãÂ°îÂçáÁ∫ß‰∫ÜÊîªÂáªÂäõÔºåÂ§ßÂÆ∂Ëøò‰∏çÂø´Ë∞¢Ë∞¢‰ªñ„ÄÇ" ) ))
endfunction
function Trig____________________006Func008Func001Func005A takes nothing returns nothing
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetPlayerName(GetOwningPlayer(GetBuyingUnit())) + "ÁªôËÉΩÈáè‰πãÂ°îÂçáÁ∫ß‰∫ÜÊîªÂáªÂäõÔºåÂ§ßÂÆ∂Ëøò‰∏çÂø´Ë∞¢Ë∞¢‰ªñ„ÄÇ" ) ))
endfunction
function Trig____________________006Actions takes nothing returns nothing
    if ( ( GetItemTypeId(GetSoldItem()) == 'I06I' ) ) then
        if ( ( NanDiff <= 1 ) ) then
        else
            if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER) >= 90 ) ) then
                call AdjustPlayerStateBJ(- 90, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            else
                call AdjustPlayerStateBJ(10, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                return
            endif
        endif
        call SetPlayerTechResearchedSwap('R00O', ( GetPlayerTechCountSimple('R00O', Player(6)) + 1 ), Player(6))
        call ForForce(GetPlayersAll(), function Trig____________________006Func001Func003A)
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I01R' ) ) then
        call SetPlayerTechResearchedSwap('R00P', 1, Player(6))
        call ForForce(GetPlayersAll(), function Trig____________________006Func003Func002A)
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I06E' ) ) then
        if ( ( GetPlayerTechCountSimple('R00L', Player(6)) < 100 ) ) then
            call SetPlayerTechResearchedSwap('R00L', ( GetPlayerTechCountSimple('R00L', Player(6)) + 1 ), Player(6))
            call ForForce(GetPlayersAll(), function Trig____________________006Func004Func001Func005A)
        else
            call AdjustPlayerStateBJ(10, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ≠âÁ∫ßËææÂà∞ÊúÄÂ§ßÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I06D' ) ) then
        if ( ( GetPlayerTechCountSimple('R00J', Player(6)) < 100 ) ) then
            call SetPlayerTechResearchedSwap('R00J', ( GetPlayerTechCountSimple('R00J', Player(6)) + 1 ), Player(6))
            call ForForce(GetPlayersAll(), function Trig____________________006Func005Func001Func005A)
        else
            call AdjustPlayerStateBJ(10, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ≠âÁ∫ßËææÂà∞ÊúÄÂ§ßÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I06F' ) ) then
        if ( ( GetPlayerTechCountSimple('R00K', Player(6)) < 100 ) ) then
            call SetPlayerTechResearchedSwap('R00K', ( GetPlayerTechCountSimple('R00K', Player(6)) + 1 ), Player(6))
            call ForForce(GetPlayersAll(), function Trig____________________006Func006Func001Func005A)
        else
            call AdjustPlayerStateBJ(10, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ≠âÁ∫ßËææÂà∞ÊúÄÂ§ßÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I06G' ) ) then
        if ( ( GetPlayerTechCountSimple('R00N', Player(6)) < 100 ) ) then
            call SetPlayerTechResearchedSwap('R00N', ( GetPlayerTechCountSimple('R00N', Player(6)) + 1 ), Player(6))
            call ForForce(GetPlayersAll(), function Trig____________________006Func007Func001Func005A)
        else
            call AdjustPlayerStateBJ(10, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ≠âÁ∫ßËææÂà∞ÊúÄÂ§ßÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I06H' ) ) then
        if ( ( GetPlayerTechCountSimple('R00M', Player(6)) < 100 ) ) then
            call SetPlayerTechResearchedSwap('R00M', ( GetPlayerTechCountSimple('R00M', Player(6)) + 1 ), Player(6))
            call ForForce(GetPlayersAll(), function Trig____________________006Func008Func001Func005A)
        else
            call AdjustPlayerStateBJ(10, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁ≠âÁ∫ßËææÂà∞ÊúÄÂ§ßÔºÅ")
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________006 takes nothing returns nothing
    set gg_trg____________________006=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________006, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________006, Condition(function Trig____________________006Conditions))
    call TriggerAddAction(gg_trg____________________006, function Trig____________________006Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 039
//===========================================================================
function Trig____________________039Conditions takes nothing returns boolean
    return ( ( GetItemTypeId(GetSoldItem()) == 'tin2' ) and ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________039Actions takes nothing returns nothing
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'gmfr' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'dkfw' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('skrt', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'gmfr' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'thle' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('wolg', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'jpnt' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'thle' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('ledg', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'jpnt' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'dkfw' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('wtlg', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'jpnt' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'phlt' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('gopr', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'glsk' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'phlt' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('dphe', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'glsk' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'dkfw' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('bzbe', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'glsk' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'thle' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('dthb', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'kygh' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'thle' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('mort', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'kygh' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'phlt' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('cnhn', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'kygh' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'dkfw' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('ches', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'sehr' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'dkfw' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('k3m2', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'sehr' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'phlt' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('kybl', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'sehr' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'thle' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('k3m3', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'bzbf' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'thle' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('kysn', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'bzbf' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'dkfw' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('ktrm', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == 'bzbf' ) and ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == 'phlt' ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 1)) == true ) and ( IsItemPawnable(UnitItemInSlotBJ(GetBuyingUnit(), 2)) == true ) ) then
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 1))
        call RemoveItem(UnitItemInSlotBJ(GetBuyingUnit(), 2))
        call UnitAddItemByIdSwapped('shwd', GetBuyingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
        return
    else
    endif
    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑Êåâ‰ΩçÁΩÆÊîæÂ•ΩÔºöÂ∞Ü|cffffff00+XÂÆùÁü≥|rÊîæÂú®|cffffff00Á¨¨‰∏Ä‰∏™|rÁâ©ÂìÅÊ†èÔºåÂ∞Ü|cffffff00Á•ùÁ¶èÁü≥/Âº∫ÂåñÁü≥/ËØÖÂííÁü≥|rÊîæÂú®|cffffff00Á¨¨‰∫å‰∏™|rÁâ©ÂìÅÊ†è„ÄÇ")
endfunction
//===========================================================================
function InitTrig____________________039 takes nothing returns nothing
    set gg_trg____________________039=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________039, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________039, Condition(function Trig____________________039Conditions))
    call TriggerAddAction(gg_trg____________________039, function Trig____________________039Actions)
endfunction
//===========================================================================
// Trigger: Â≠¶‰π†„ÄÄÊäÄËÉΩ
//===========================================================================
function Trig________________uConditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) )
endfunction
function Trig________________uFunc023Func003T takes nothing returns nothing
    if ( ( udg_J_Po > 0 ) ) then
        set udg_J_Po=( udg_J_Po - 1 )
        call SetTextTagTextBJ(udg_Piaofu_Zhandouli[7], ( "Âä≤È≠Ñ" + ( SubStringBJ(R2S(( 0.20 * I2R(udg_J_Po) )), 1, 3) + "s" ) ), 15.00)
    else
        if ( ( GetUnitAbilityLevel(bajue, 'A0C9') == 1 ) ) then
            call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(bajue)) , - 1)
            call UnitRemoveAbilityBJ('A0C9', gg_unit_Nbbc_0235)
            call DestroyEffect(udg_Eff_J)
            call DestroyTextTag(udg_Piaofu_Zhandouli[7])
        else
        endif
    endif
endfunction
function Trig________________uFunc033Func001T takes nothing returns nothing
    if ( ( udg_Jishi_Baihu > 0 ) ) then
        set udg_Jishi_Baihu=( udg_Jishi_Baihu - 1 )
    else
        call DoNothing()
    endif
endfunction
function Trig________________uActions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) ) then
         set BHaojie=true
    else
    endif
    if ( ( GetLearnedSkill() == 'A005' ) ) then
        call EnableTrigger(gg_trg_____________20)
        call EnableTrigger(gg_trg_____________02)
        if ( ( GetPlayerTechCountSimple('R006', GetOwningPlayer(lingxue)) == 1 ) ) then
            call AddSpecialEffectTargetUnitBJ("origin", GetTriggerUnit(), "war3mapImported\\frostnova.mdx")
            call InitLingxueAura()
        else
        endif
    else
    endif
    if ( ( GetLearnedSkill() == 'A0FZ' ) ) then
        call EnableTrigger(gg_trg_______18)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0G0' ) ) then
        call EnableTrigger(gg_trg_______19)
    else
    endif
    if ( ( GetLearnedSkill() == 'A04L' ) ) then
        call EnableTrigger(gg_trg_______22)
        if ( ( GetPlayerTechCountSimple('R008', GetOwningPlayer(GetTriggerUnit())) == 1 ) ) then
            if ( ( IsUnitAliveBJ(udg_Unit_Qixing[1]) == true ) ) then
                call UnitAddAbilityBJ('A054', udg_Unit_Qixing[1])
            else
            endif
            if ( ( IsUnitAliveBJ(udg_Unit_Qixing[2]) == true ) ) then
                call UnitAddAbilityBJ('A055', udg_Unit_Qixing[2])
            else
            endif
            if ( ( IsUnitAliveBJ(udg_Unit_Qixing[3]) == true ) ) then
                call UnitAddAbilityBJ('A0A4', udg_Unit_Qixing[3])
            else
            endif
            if ( ( IsUnitAliveBJ(udg_Unit_Qixing[4]) == true ) ) then
                call UnitAddAbilityBJ('A0G9', udg_Unit_Qixing[4])
            else
            endif
            if ( ( IsUnitAliveBJ(udg_Unit_Qixing[5]) == true ) ) then
                call UnitAddAbilityBJ('A0GA', udg_Unit_Qixing[5])
            else
            endif
            if ( ( IsUnitAliveBJ(udg_Unit_Qixing[6]) == true ) ) then
                call UnitAddAbilityBJ('A0GB', udg_Unit_Qixing[6])
            else
            endif
            if ( ( IsUnitAliveBJ(udg_Unit_Qixing[7]) == true ) ) then
                call UnitAddAbilityBJ('A0GC', udg_Unit_Qixing[7])
            else
            endif
        else
        endif
    else
    endif
    if ( ( GetLearnedSkill() == 'A04J' ) ) then
        call EnableTrigger(gg_trg_______20)
        if ( ( GetPlayerTechCountSimple('R007', GetOwningPlayer(GetTriggerUnit())) == 1 ) ) then
            call AddSpecialEffectTargetUnitBJ("origin", GetTriggerUnit(), "Abilities\\Spells\\NightElf\\TrueshotAura\\TrueshotAura.mdl")
            call InitMoqiAura()
        else
        endif
    else
    endif
    if ( ( GetLearnedSkill() == 'A003' ) ) then
        call EnableTrigger(gg_trg_____________2)
        call EnableTrigger(gg_trg_____________21)
    else
    endif
    if ( ( GetLearnedSkill() == 'AEev' ) ) then
        call EnableTrigger(gg_trg_____________48)
    else
    endif
    if ( ( GetLearnedSkill() == 'AHwe' ) ) then
        call EnableTrigger(gg_trg_____________99)
    else
    endif
    if ( ( GetLearnedSkill() == 'ANen' ) ) then
        call EnableTrigger(gg_trg_____________106)
    else
    endif
    if ( ( GetLearnedSkill() == 'AHbh' ) ) then
        call EnableTrigger(gg_trg_____________31)
    else
    endif
    if ( ( GetLearnedSkill() == 'AHbz' ) ) then
        call EnableTrigger(gg_trg_____________97)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOr2' ) ) then
        call EnableTrigger(gg_trg_______105)
        call EnableTrigger(gg_trg_______24)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOsh' ) ) then
        call EnableTrigger(gg_trg_______100)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0AD' ) ) then
        call EnableTrigger(gg_trg_____________70)
    else
    endif
    if ( ( GetLearnedSkill() == 'AHab' ) ) then
        call EnableTrigger(gg_trg_____________3)
        call EnableTrigger(gg_trg_____________5)
    else
    endif
    if ( ( GetLearnedSkill() == 'AHad' ) ) then
        if ( ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Uktl_0018)) == 1 ) ) then
            call EnableTrigger(gg_trg_____________39)
            call InitXuanxueAura()
        else
        endif
    else
    endif
    if ( ( GetLearnedSkill() == 'A045' ) ) then
        call EnableTrigger(gg_trg_____________41)
        call EnableTrigger(gg_trg_____________42)
    else
    endif
    if ( ( GetLearnedSkill() == 'A047' ) ) then
        call EnableTrigger(gg_trg_____________51)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOwk' ) ) then
        call EnableTrigger(gg_trg_______58)
        call EnableTrigger(gg_trg_______51)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOcr' ) ) then
        call EnableTrigger(gg_trg_______59)
        call EnableTrigger(gg_trg_______132)
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, 0.20, true, function Trig________________uFunc023Func003T)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOww' ) ) then
        call EnableTrigger(gg_trg_______61)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0FS' ) ) then
        call EnableTrigger(gg_trg_______60)
        if ( ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Nbbc_0235)) == 1 ) ) then
            call AddSpecialEffectTargetUnitBJ("origin", GetTriggerUnit(), "war3mapImported\\huanwuguanghuan.mdx")
            call InitBajueAura()
        else
        endif
    else
    endif
    if ( ( GetLearnedSkill() == 'AOw2' ) ) then
        call EnableTrigger(gg_trg_____________9)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOhx' ) ) then
        call EnableTrigger(gg_trg_____________12)
    else
    endif
    if ( ( GetLearnedSkill() == 'A007' ) ) then
        call EnableTrigger(gg_trg_____________17)
        call EnableTrigger(gg_trg_____________18)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0B0' ) ) then
        call EnableTrigger(gg_trg_____________19)
        call EnableTrigger(gg_trg_____________22)
    else
    endif
    if ( ( GetLearnedSkill() == 'AHpx' ) ) then
        call EnableTrigger(gg_trg_____________85)
    else
    endif
    if ( ( GetLearnedSkill() == 'ANcl' ) ) then
        call EnableTrigger(gg_trg__________67)
    else
    endif
    if ( ( GetLearnedSkill() == 'AEim' ) ) then
        call EnableTrigger(gg_trg_____________86)
        call EnableTrigger(gg_trg_____________87)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0BB' ) ) then
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, 1.00, true, function Trig________________uFunc033Func001T)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0F7' ) ) then
        if ( ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Harf_0262)) == 1 ) ) then
            call InitChenjiAura()
        else
        endif
        call EnableTrigger(gg_trg_____________125)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0F6' ) ) then
        call EnableTrigger(gg_trg_____________124)
    else
    endif
    if ( ( GetLearnedSkill() == 'A049' ) ) then
        call EnableTrigger(gg_trg_____________50)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOsf' ) ) then
        call EnableTrigger(gg_trg_____________103)
    else
    endif
    if ( ( GetLearnedSkill() == 'ANbr' ) ) then
        call EnableTrigger(gg_trg_____________72)
        if ( ( GetPlayerTechCountSimple('R007', GetOwningPlayer(xiaoyue)) == 1 ) ) then
            call InitXiaoyueAura()
        else
        endif
    else
    endif
    if ( ( GetLearnedSkill() == 'A0AH' ) ) then
        call EnableTrigger(gg_trg_____________76)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOcl' ) ) then
        call EnableTrigger(gg_trg_____________110)
        call EnableTrigger(gg_trg_____________111)
        call EnableTrigger(gg_trg_____________112)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_ncp2_0057))
        set udg_U_Tan[13]=CreateUnitAtLoc(GetOwningPlayer(gg_unit_Othr_0256), 'h00N', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    else
    endif
    if ( ( GetLearnedSkill() == 'AOws' ) ) then
        call EnableTrigger(gg_trg_____________114)
        call EnableTrigger(gg_trg_____________113)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0E9' ) ) then
        call EnableTrigger(gg_trg_____________115)
        if ( ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) ) then
            call InitSheyanAura()
        else
        endif
    else
    endif
    if ( ( GetLearnedSkill() == 'A0EA' ) ) then
        call EnableTrigger(gg_trg_____________117)
    else
    endif
    if ( ( GetLearnedSkill() == 'AOvd' ) ) then
        call EnableTrigger(gg_trg_____________118)
    else
    endif
    if ( ( GetLearnedSkill() == 'A04H' ) ) then
        call EnableTrigger(gg_trg_____________121)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0F8' ) ) then
        call EnableTrigger(gg_trg_____________130)
    else
    endif
    if ( ( GetLearnedSkill() == 'A0F9' ) ) then
        call EnableTrigger(gg_trg_____________131)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig________________u takes nothing returns nothing
    set gg_trg________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg________________u, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(gg_trg________________u, Condition(function Trig________________uConditions))
    call TriggerAddAction(gg_trg________________u, function Trig________________uActions)
endfunction
//===========================================================================
// Trigger: ‰ºüÂ§ßÁöÑÈ©¨Áî≤17
//===========================================================================
function Trig________________17Func001Func010002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Unit)) == true ) ) )
endfunction
function Trig________________17Func001Func011A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig________________17Func002Func007002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Unit)) == true ) ) )
endfunction
function Trig________________17Func002Func008A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig________________17Func004Func007T takes nothing returns nothing
    if ( ( GetPlayerSlotState(GetOwningPlayer(gg_unit_Hvwd_0016)) == PLAYER_SLOT_STATE_PLAYING ) ) then
        set udg_Unit_Qixing[1]=CreateUnit(GetOwningPlayer(gg_unit_Hvwd_0016), 'ewsp', 100.00, 200.00, 90.00)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff0000ÁéâË°°Êòü|rÂêà,Ëã±ÈõÑÊïèÊç∑Â¢ûÂä†20%.")
        if ( ( GetUnitAbilityLevelSwapped('A04L', gg_unit_Hvwd_0016) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Hvwd_0016)) == 1 ) ) then
            call UnitAddAbilityBJ('A054', udg_Unit_Qixing[1])
        else
        endif
        call XingJuxing2(udg_Unit_Qixing[1])
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 6 )] + 0.20 )
        call TriggerExecute(gg_trg_papa9____________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig________________17Func005Func007T takes nothing returns nothing
    if ( ( GetPlayerSlotState(GetOwningPlayer(gg_unit_Hvwd_0016)) == PLAYER_SLOT_STATE_PLAYING ) ) then
        set udg_Unit_Qixing[2]=CreateUnit(GetOwningPlayer(gg_unit_Hvwd_0016), 'e006', 400.00, 400.00, 141.42)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff0000ffÂ§©Êû¢Êòü|rÂêà,Ëã±ÈõÑÊô∫ÂäõÂ¢ûÂä†20%.")
        call XingJuxing2(udg_Unit_Qixing[2])
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 12 )] + 0.20 )
        call TriggerExecute(gg_trg_papa10____________u)
        call TriggerExecute(gg_trg_D7)
        if ( ( GetUnitAbilityLevelSwapped('A04L', gg_unit_Hvwd_0016) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Hvwd_0016)) == 1 ) ) then
            call UnitAddAbilityBJ('A055', udg_Unit_Qixing[2])
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig________________17Func006Func007T takes nothing returns nothing
    if ( ( GetPlayerSlotState(GetOwningPlayer(gg_unit_Hvwd_0016)) == PLAYER_SLOT_STATE_PLAYING ) ) then
        set udg_Unit_Qixing[3]=CreateUnit(GetOwningPlayer(gg_unit_Hvwd_0016), 'e008', 400.00, 400.00, 192.84)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff808000Â§©ÁíáÊòü|rÂêà,Ëã±ÈõÑÊîªÂáªÂ¢ûÂä†50%.")
        call XingJuxing2(udg_Unit_Qixing[3])
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 24 )] + 0.50 )
        call TriggerExecute(gg_trg_papa12____________u)
        call TriggerExecute(gg_trg_D7)
        if ( ( GetUnitAbilityLevelSwapped('A04L', gg_unit_Hvwd_0016) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Hvwd_0016)) == 1 ) ) then
            call UnitAddAbilityBJ('A0A4', udg_Unit_Qixing[3])
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig________________17Func007Func007T takes nothing returns nothing
    if ( ( GetPlayerSlotState(GetOwningPlayer(gg_unit_Hvwd_0016)) == PLAYER_SLOT_STATE_PLAYING ) ) then
        set udg_Unit_Qixing[4]=CreateUnit(GetOwningPlayer(gg_unit_Hvwd_0016), 'e009', 400.00, 400.00, 244.27)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff808080Â§©ÊùÉÊòü|rÂêà,Ëã±ÈõÑÂäõÈáèÂ¢ûÂä†20%.")
        call XingJuxing2(udg_Unit_Qixing[4])
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 0 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 0 )] + 0.20 )
        call TriggerExecute(gg_trg_papa8____________u)
        call TriggerExecute(gg_trg_D7)
        if ( ( GetUnitAbilityLevelSwapped('A04L', gg_unit_Hvwd_0016) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Hvwd_0016)) == 1 ) ) then
            call UnitAddAbilityBJ('A0G9', udg_Unit_Qixing[4])
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig________________17Func008Func005T takes nothing returns nothing
    if ( ( GetPlayerSlotState(GetOwningPlayer(gg_unit_Hvwd_0016)) == PLAYER_SLOT_STATE_PLAYING ) ) then
        set udg_Unit_Qixing[5]=CreateUnit(GetOwningPlayer(gg_unit_Hvwd_0016), 'e00A', 400.00, 400.00, 295.71)
        call UnitAddAbilityBJ('A066', gg_unit_Hvwd_0016)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff8080ffÂºÄÈò≥Êòü|rÂêà,Ëã±ÈõÑÈ≠îÊ≥ï‰∏äÈôêÂ¢ûÂä†500.")
        call XingJuxing2(udg_Unit_Qixing[5])
        if ( ( GetUnitAbilityLevelSwapped('A04L', gg_unit_Hvwd_0016) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Hvwd_0016)) == 1 ) ) then
            call UnitAddAbilityBJ('A0GA', udg_Unit_Qixing[5])
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig________________17Func009Func006T takes nothing returns nothing
    if ( ( GetPlayerSlotState(GetOwningPlayer(gg_unit_Hvwd_0016)) == PLAYER_SLOT_STATE_PLAYING ) ) then
        set udg_Unit_Qixing[6]=CreateUnit(GetOwningPlayer(gg_unit_Hvwd_0016), 'e007', 400.00, 400.00, 347.14)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff00ffÂ§©ÁéëÊòü|rÂêà,Ëã±ÈõÑÊäÄËÉΩ‰º§ÂÆ≥Â¢ûÂä†20%.")
        call XingJuxing2(udg_Unit_Qixing[6])
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016))] + 0.20 )
        call TriggerExecute(gg_trg_D7)
        if ( ( GetUnitAbilityLevelSwapped('A04L', gg_unit_Hvwd_0016) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Hvwd_0016)) == 1 ) ) then
            call UnitAddAbilityBJ('A0GB', udg_Unit_Qixing[6])
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig________________17Func010Func007T takes nothing returns nothing
    if ( ( GetPlayerSlotState(GetOwningPlayer(gg_unit_Hvwd_0016)) == PLAYER_SLOT_STATE_PLAYING ) ) then
        set udg_Unit_Qixing[7]=CreateUnit(GetOwningPlayer(gg_unit_Hvwd_0016), 'e005', 400.00, 400.00, 398.57)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff8080ÊëáÂÖâÊòü|rÂêà,Ëã±ÈõÑÈò≤Âæ°Â¢ûÂä†20%.")
        call XingJuxing2(udg_Unit_Qixing[7])
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 30 )] + 0.20 )
        call TriggerExecute(gg_trg_papa13____________u)
        call TriggerExecute(gg_trg_D7)
        if ( ( GetUnitAbilityLevelSwapped('A04L', gg_unit_Hvwd_0016) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Hvwd_0016)) == 1 ) ) then
            call UnitAddAbilityBJ('A0GC', udg_Unit_Qixing[7])
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig________________17Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitTypeId(GetDyingUnit()) == GetUnitTypeId(lingxue) ) and ( IsUnitIllusionBJ(GetDyingUnit()) == true ) and ( GetUnitAbilityLevelSwapped('A003', lingxue) == 1 ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(lingxue)) == 1 ) ) then
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set udg_Unit=lingxue
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        if ( ( GetUnitUserData(GetDyingUnit()) == 522 ) ) then
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.50 ))
        else
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.25 ))
        endif
        call CreateTextTagUnitBJ("ÁàÜ", GetDyingUnit(), 0, 16.00, 100.00, 0.00, 0.00, 0)
        call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
        call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig________________17Func001Func010002003))
        call ForGroupBJ(udg_Group, function Trig________________17Func001Func011A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h001' ) ) then
        set udg_Unit=gg_unit_Hvwd_0016
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.35 ))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(450.00 , udg_Point , Condition(function Trig________________17Func002Func007002003))
        call ForGroupBJ(udg_Group, function Trig________________17Func002Func008A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h002' ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        call RemoveUnit(GetDyingUnit())
    else
    endif
    if ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitTypeId(GetDyingUnit()) == 'ewsp' ) ) then
        call PlaySoundBJ(gg_snd_Baodiao)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 6 )] - 0.20 )
        call TriggerExecute(gg_trg_papa9____________u)
        call TriggerExecute(gg_trg_D7)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff0000ÁéâË°°Êòü|rÁ¢é,Ëã±ÈõÑÊïèÊç∑ÂáèÂ∞ë20%.")
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, ( RJ1(moqi , 50 , 61) ), false, function Trig________________17Func004Func007T)
    else
    endif
    if ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitTypeId(GetDyingUnit()) == 'e006' ) ) then
        call PlaySoundBJ(gg_snd_Baodiao)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 12 )] - 0.20 )
        call TriggerExecute(gg_trg_papa10____________u)
        call TriggerExecute(gg_trg_D7)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff0000ffÂ§©Êû¢Êòü|rÁ¢é,Ëã±ÈõÑÊô∫ÂäõÂáèÂ∞ë20%.")
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, ( RJ1(moqi , 50 , 61) ), false, function Trig________________17Func005Func007T)
    else
    endif
    if ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitTypeId(GetDyingUnit()) == 'e008' ) ) then
        call PlaySoundBJ(gg_snd_Baodiao)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 24 )] - 0.50 )
        call TriggerExecute(gg_trg_papa12____________u)
        call TriggerExecute(gg_trg_D7)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff808000Â§©ÁíáÊòü|rÁ¢é,Ëã±ÈõÑÊîªÂáªÂáèÂ∞ë50%.")
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, ( RJ1(moqi , 50 , 61) ), false, function Trig________________17Func006Func007T)
    else
    endif
    if ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitTypeId(GetDyingUnit()) == 'e009' ) ) then
        call PlaySoundBJ(gg_snd_Baodiao)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 0 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 0 )] - 0.20 )
        call TriggerExecute(gg_trg_papa8____________u)
        call TriggerExecute(gg_trg_D7)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff808080Â§©ÊùÉÊòü|rÁ¢é,Ëã±ÈõÑÂäõÈáèÂáèÂ∞ë20%.")
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, ( RJ1(moqi , 50 , 61) ), false, function Trig________________17Func007Func007T)
    else
    endif
    if ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitTypeId(GetDyingUnit()) == 'e00A' ) ) then
        call PlaySoundBJ(gg_snd_Baodiao)
        call UnitRemoveAbilityBJ('A066', gg_unit_Hvwd_0016)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cff8080ffÂºÄÈò≥Êòü|rÁ¢é,Ëã±ÈõÑÈ≠îÊ≥ï‰∏äÈôêÂáèÂ∞ë500.")
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, ( RJ1(moqi , 50 , 61) ), false, function Trig________________17Func008Func005T)
    else
    endif
    if ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitTypeId(GetDyingUnit()) == 'e007' ) ) then
        call PlaySoundBJ(gg_snd_Baodiao)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016))] - 0.20 )
        call TriggerExecute(gg_trg_D7)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff00ffÂ§©ÁéëÊòü|rÁ¢é,Ëã±ÈõÑÊäÄËÉΩ‰º§ÂÆ≥ÂáèÂ∞ë20%.")
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, ( RJ1(moqi , 50 , 61) ), false, function Trig________________17Func009Func006T)
    else
    endif
    if ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitTypeId(GetDyingUnit()) == 'e005' ) ) then
        call PlaySoundBJ(gg_snd_Baodiao)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetDyingUnit())), YDWECoordinateY(GetUnitY(GetDyingUnit()))))
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 30 )] - 0.20 )
        call TriggerExecute(gg_trg_papa13____________u)
        call TriggerExecute(gg_trg_D7)
        call DisplayTextToPlayer(GetOwningPlayer(moqi), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r|cffff8080ÊëáÂÖâÊòü|rÁ¢é,Ëã±ÈõÑÈò≤Âæ°ÂáèÂ∞ë20%.")
        set ydl_timer=CreateTimer()
        call TimerStart(ydl_timer, ( RJ1(moqi , 50 , 61) ), false, function Trig________________17Func010Func007T)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig________________17 takes nothing returns nothing
    set gg_trg________________17=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg________________17, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(gg_trg________________17, function Trig________________17Actions)
endfunction
//===========================================================================
// Trigger: ÈæôÈ≠ÇÂÖ´ÂçÉ8
//===========================================================================
function Trig_____________8Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'ANcs' ) )
endfunction
function Trig_____________8Func007T takes nothing returns nothing
    call UnitRemoveAbilityBJ('Aap4', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'lgdh')) == 'lgdh' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'clfm')) == 'clfm' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'bgst')) == 'bgst' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'belv')) == 'belv' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'hcun')) == 'hcun' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'rag1')) == 'rag1' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'penr')) == 'penr' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'brac')) == 'brac' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'lhst')) == 'lhst' ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'I05V') == true ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'I05W') == true ) ) ) then
        call UnitAddAbilityBJ('ANcs', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))
        if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'lhst')) == 'lhst' ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'I05V') == true ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA) , 'I05W') == true ) ) ) then
            call SetUnitAbilityLevelSwapped('ANcs', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), 2)
        else
        endif
    else
    endif
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________8Func008Func001Func001Func006003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_____________8Func008Func001Func001Func007A takes nothing returns nothing
    call UnitDamageTargetBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________8Func008Func001T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) != 6 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(( YDWECoordinateX(GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + ( GetRandomReal(100.00, 1800.00) * CosBJ(GetRandomDirectionDeg()) ) ), ( YDWECoordinateY(GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + ( GetRandomReal(100.00, 1800.00) * SinBJ(GetRandomDirectionDeg()) ) )))
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________8Func008Func001Func001Func006003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________8Func008Func001Func001Func007A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=30
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(( YDWECoordinateX(GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + ( GetRandomReal(100.00, 1800.00) * CosBJ(GetRandomDirectionDeg()) ) ), ( YDWECoordinateY(GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + ( GetRandomReal(100.00, 1800.00) * SinBJ(GetRandomDirectionDeg()) ) )))
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    else
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________8Func008Func003Func001Func006003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_____________8Func008Func003Func001Func007A takes nothing returns nothing
    call UnitDamageTargetBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________8Func008Func003T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) != 6 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(( YDWECoordinateX(GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + ( GetRandomReal(100.00, 1800.00) * CosBJ(GetRandomDirectionDeg()) ) ), ( YDWECoordinateY(GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + ( GetRandomReal(100.00, 1800.00) * SinBJ(GetRandomDirectionDeg()) ) )))
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________8Func008Func003Func001Func006003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________8Func008Func003Func001Func007A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=30
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(( YDWECoordinateX(GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + ( GetRandomReal(100.00, 1800.00) * CosBJ(GetRandomDirectionDeg()) ) ), ( YDWECoordinateY(GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) + ( GetRandomReal(100.00, 1800.00) * SinBJ(GetRandomDirectionDeg()) ) )))
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    else
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________8Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetSpellAbilityUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageBase(udg_Unit) ))
    if ( ( GetUnitAbilityLevelSwapped('ANcs', GetTriggerUnit()) == 2 ) ) then
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 2.40 ))
            call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageBase(GetTriggerUnit()) * 2.4)
    else
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.80 ))
            call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageBase(GetTriggerUnit()) * 0.8)
    endif
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.50 ))
    call UnitRemoveAbilityBJ('ANcs', udg_Unit)
    call UnitAddAbilityBJ('Aap4', udg_Unit)
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, udg_Unit)
    call TimerStart(ydl_timer, 30.00, false, function Trig_____________8Func007T)
    if ( ( GetUnitAbilityLevelSwapped('ANcs', GetTriggerUnit()) == 2 ) ) then
        set ydl_timer=CreateTimer()
        call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
        call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xDD66C616, 0)
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, udg_Unit)
        call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call TimerStart(ydl_timer, 0.50, true, function Trig_____________8Func008Func001T)
    else
        set ydl_timer=CreateTimer()
        call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
        call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xDD66C616, 0)
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, udg_Unit)
        call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call TimerStart(ydl_timer, 0.50, true, function Trig_____________8Func008Func003T)
    endif
    set udg_Unit=null
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________8 takes nothing returns nothing
    set gg_trg_____________8=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________8, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________8, Condition(function Trig_____________8Conditions))
    call TriggerAddAction(gg_trg_____________8, function Trig_____________8Actions)
endfunction
//===========================================================================
// Trigger: Èõ∑Á•ûÂπªÁÅ≠3
//===========================================================================
function Trig_____________3Conditions takes nothing returns boolean
    return ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Eevi_0020)) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Eevi_0020) >= 600.00 ) )
endfunction
function Trig_____________3Actions takes nothing returns nothing
    set udg_Point=GetOrderPointLoc()
    if ( ( ( ( RectContainsLoc(gg_rct_______a3, udg_Point) == true ) and ( RectContainsUnit(gg_rct_______a3, gg_unit_Eevi_0020) != true ) ) or ( ( RectContainsLoc(gg_rct_Arena_forbit, udg_Point) == true ) and ( RectContainsUnit(gg_rct_Arena_forbit, gg_unit_Eevi_0020) != true ) ) ) ) then
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊ≠§Â§ÑÁ¶ÅÊ≠¢Áû¨ÁßªÂà∞Ëææ„ÄÇ")
    else
        call SetUnitPositionLoc(gg_unit_Eevi_0020, udg_Point)
    endif
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig_____________3 takes nothing returns nothing
    set gg_trg_____________3=CreateTrigger()
    call DisableTrigger(gg_trg_____________3)
    call DoNothing()
    call TriggerAddCondition(gg_trg_____________3, Condition(function Trig_____________3Conditions))
    call TriggerAddAction(gg_trg_____________3, function Trig_____________3Actions)
endfunction
//===========================================================================
// Trigger: Èõ∑Á•ûÂπªÁÅ≠5
//===========================================================================
function Trig_____________5Conditions takes nothing returns boolean
    return ( ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Eevi_0020)) == 1 ) and ( IsUnitIllusionBJ(GetEventDamageSource()) != true ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetEventDamage() > 2.00 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Eevi_0020) >= 600.00 ) )
endfunction
function Trig_____________5Actions takes nothing returns nothing
    if ( ( HaveSavedInteger(YDHT, GetHandleId(GetEventDamageSource()), 0x64316311) == false ) and ( GetTriggerUnit() == gg_unit_Eevi_0020 ) ) then
        call SetUnitLifeBJ(gg_unit_Eevi_0020, ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Eevi_0020) + GetEventDamage() ))
        call SaveInteger(YDHT, GetHandleId(GetEventDamageSource()), 0x64316311, 1)
        call YDWEPolledWaitNull(5.00)
        if ( ( IsUnitAliveBJ(GetEventDamageSource()) == true ) ) then
            call SaveInteger(YDHT, GetHandleId(GetEventDamageSource()), 0x64316311, 2)
        else
        endif
    else
    endif
    if ( ( HaveSavedInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x64316311) == false ) and ( GetEventDamageSource() == gg_unit_Eevi_0020 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x64316311, 1)
        call YDWEPolledWaitNull(5.00)
        if ( ( IsUnitAliveBJ(GetTriggerUnit()) == true ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x64316311, 2)
        else
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_____________5 takes nothing returns nothing
    set gg_trg_____________5=CreateTrigger()
    call DisableTrigger(gg_trg_____________5)
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_____________5)
    call TriggerAddCondition(gg_trg_____________5, Condition(function Trig_____________5Conditions))
    call TriggerAddAction(gg_trg_____________5, function Trig_____________5Actions)
endfunction
//===========================================================================
// Trigger: ÊàòÈ≠Ç‰πã‰Ωì7
//===========================================================================
function Trig_____________7Conditions takes nothing returns boolean
    return ( ( GetEventDamage() > GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Ocbh_0251) ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) )
endfunction
function Trig_____________7Func011002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Unit)) == true ) ) )
endfunction
function Trig_____________7Func012A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
    call FocusCow(GetEnumUnit())
endfunction
function Trig_____________7Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    call YDWEPolledWaitNull(0.10)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitAliveBJ(gg_unit_Ocbh_0251) == true ) ) then
        call EnableTrigger(GetTriggeringTrigger())
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_group=null
        set ydl_unit=null
        return
    else
    endif
    call RemoveBeast(GetTriggerUnit())
    set udg_Unit=gg_unit_Ocbh_0251
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * ( RJ1(kaisa , 1.34 , 0.66) ) ))
        call PrintSpellName(GetOwningPlayer(kaisa) , GetAbilityName('AOre'))
    set udg_Point=GetUnitLoc(GetTriggerUnit())
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_____________7Func011002003))
    call ForGroupBJ(udg_Group, function Trig_____________7Func012A)
    call DestroyGroup(udg_Group)
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 300.00, ( ( 60.00 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set ydul_i=ydul_i + 1
    endloop
    call RemoveLocation(udg_Point)
    call YDWEPolledWaitNull(( RJ2(kaisa , 2.5 , 4) ))
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call ReviveBeast(GetTriggerUnit())
    call SetUnitManaBJ(kaisa, ( RJ1(kaisa , 75 , 50) * SquareRoot(I2R(GetHeroLevel(kaisa))) ))
    call KaisaSanjiejuxing()
     call SaveDeathAchievement(GetOwningPlayer(kaisa))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________7 takes nothing returns nothing
    set gg_trg_____________7=CreateTrigger()
    call DisableTrigger(gg_trg_____________7)
    call DoNothing()
    call TriggerAddCondition(gg_trg_____________7, Condition(function Trig_____________7Conditions))
    call TriggerAddAction(gg_trg_____________7, function Trig_____________7Actions)
endfunction
//===========================================================================
// Trigger: ÊÜæÁÉàÂ§©Âú∞9
//===========================================================================
function Trig_____________9Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AOw2' ) )
endfunction
function Trig_____________9Func007002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Unit)) == true ) ) )
endfunction
function Trig_____________9Func008A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________9Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Point=GetUnitLoc(GetTriggerUnit())
    call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\IceStomp.mdx", udg_Point))
    set udg_Unit=GetTriggerUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageStr(kaisa))
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_____________9Func007002003))
    call ForGroupBJ(udg_Group, function Trig_____________9Func008A)
    call DestroyGroup(udg_Group)
    call RemoveLocation(udg_Point)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________9 takes nothing returns nothing
    set gg_trg_____________9=CreateTrigger()
    call DisableTrigger(gg_trg_____________9)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________9, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________9, Condition(function Trig_____________9Conditions))
    call TriggerAddAction(gg_trg_____________9, function Trig_____________9Actions)
endfunction
//===========================================================================
// Trigger: ÁÇºË°Ä‰∏ÄÂáª12
//===========================================================================
function Trig_____________12Conditions takes nothing returns boolean
    return ( ( GetAttacker() == gg_unit_Ocbh_0251 ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Ocbh_0251)) == 1 ) )
endfunction
function Trig_____________12Func001Func009002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Unit)) == true ) ) )
endfunction
function Trig_____________12Func001Func010A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________12Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Ocbh_0251) > 250.00 ) and ( GetUnitUserData(gg_unit_nmr5_0233) >= 15 ) ) then
        call SetUnitUserData(gg_unit_nmr5_0233, 0)
        set udg_Unit=gg_unit_Ocbh_0251
        set udg_Point=GetUnitLoc(udg_Unit)
        call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\IceStomp.mdx", udg_Point))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.33 ))
            call PrintSpell(GetOwningPlayer(kaisa) , GetAbilityName('AOhx') , GetDamageStr(kaisa) * 0.33)
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_____________12Func001Func009002003))
        call ForGroupBJ(udg_Group, function Trig_____________12Func001Func010A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
        call SetUnitUserData(gg_unit_nmr5_0233, ( GetUnitUserData(gg_unit_nmr5_0233) + 1 ))
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________12 takes nothing returns nothing
    set gg_trg_____________12=CreateTrigger()
    call DisableTrigger(gg_trg_____________12)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________12, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________12, Condition(function Trig_____________12Conditions))
    call TriggerAddAction(gg_trg_____________12, function Trig_____________12Actions)
endfunction
//===========================================================================
// Trigger: Âø†ËØö‰πãË∫Ø17
//===========================================================================
function Trig_____________17Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Ocbh_0251)) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Ocbh_0251) >= ( 0.33 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Ocbh_0251) ) ) )
endfunction
function Trig_____________17Actions takes nothing returns nothing
    if ( ( ( ( GetAttackedUnitBJ() == gg_unit_haro_0030 ) and ( GetAttacker() != gg_unit_Ocbh_0251 ) ) or ( GetAttackedUnitBJ() == gg_unit_Ocbh_0251 ) ) ) then
        call UnitDamageTargetBJ(gg_unit_Ocbh_0251, GetAttacker(), ( I2R(GetHeroStatBJ(bj_HEROSTAT_STR, gg_unit_Ocbh_0251, false)) * ( SquareRoot(I2R(GetHeroLevel(gg_unit_Ocbh_0251))) * 0.30 ) ), ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC)
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl", YDWECoordinateX(GetUnitX(GetAttacker())), YDWECoordinateY(GetUnitY(GetAttacker()))))
        if ( ( GetAttackedUnitBJ() == gg_unit_haro_0030 ) ) then
              call CountKaisa(GetAttacker())
        else
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_____________17 takes nothing returns nothing
    set gg_trg_____________17=CreateTrigger()
    call DisableTrigger(gg_trg_____________17)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________17, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________17, Condition(function Trig_____________17Conditions))
    call TriggerAddAction(gg_trg_____________17, function Trig_____________17Actions)
endfunction
//===========================================================================
// Trigger: Âø†ËØö‰πãË∫Ø18
//===========================================================================
function Trig_____________18Conditions takes nothing returns boolean
    return ( ( GetTriggerUnit() == gg_unit_haro_0030 ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Ocbh_0251)) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Ocbh_0251) >= ( 0.33 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Ocbh_0251) ) ) and ( not ( BTianfu ) ) )
endfunction
function Trig_____________18Actions takes nothing returns nothing
    if ( ( GetEventDamage() >= ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_haro_0030) - GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_haro_0030) ) ) ) then
        call YDWEPolledWaitNull(0.01)
        call SetUnitLifeBJ(gg_unit_haro_0030, ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_haro_0030) + GetEventDamage() ))
    else
        call SetUnitLifeBJ(gg_unit_haro_0030, ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_haro_0030) + GetEventDamage() ))
    endif
    call SetUnitLifeBJ(gg_unit_Ocbh_0251, ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Ocbh_0251) - GetEventDamage() ))
endfunction
//===========================================================================
function InitTrig_____________18 takes nothing returns nothing
    set gg_trg_____________18=CreateTrigger()
    call DisableTrigger(gg_trg_____________18)
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_____________18)
    call TriggerAddCondition(gg_trg_____________18, Condition(function Trig_____________18Conditions))
    call TriggerAddAction(gg_trg_____________18, function Trig_____________18Actions)
endfunction
//===========================================================================
// Trigger: ÊàòÊ†óÁÅµÈ≠Ç19
//===========================================================================
function Trig_____________19Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0B0' ) )
endfunction
function Trig_____________19Func009002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Unit)) == true ) ) )
endfunction
function Trig_____________19Func010A takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F, GetUnitLoc(GetEnumUnit()))
    call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(gg_unit_Ocbh_0251), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F), bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
    call UnitAddAbilityBJ('A0AY', GetLastCreatedUnit())
    call IssueTargetOrder(GetLastCreatedUnit(), "hex", GetEnumUnit())
    call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(gg_unit_Ocbh_0251), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F), bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
    call UnitAddAbilityBJ('A0AY', GetLastCreatedUnit())
    call IssueTargetOrder(GetLastCreatedUnit(), "hex", GetEnumUnit())
    call UnitDamageTargetBJ(gg_unit_Ocbh_0251, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F))
endfunction
function Trig_____________19Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetTriggerUnit()
    set udg_Point=GetUnitLoc(GetTriggerUnit())
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=60
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 600.00, ( ( 10.00 ) * ( I2R(GetForLoopIndexA()) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=4
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set bj_forLoopBIndex=1
        set bj_forLoopBIndexEnd=10
        loop
            exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, ( 60.00 * I2R(GetForLoopIndexB()) ), ( ( 90.00 ) * ( I2R(GetForLoopIndexA()) ) )))
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set bj_forLoopBIndex=bj_forLoopBIndex + 1
        endloop
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 5.00 ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageStr(GetTriggerUnit()) * 5)
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_____________19Func009002003))
    call ForGroupBJ(udg_Group, function Trig_____________19Func010A)
    call DestroyGroup(udg_Group)
    call RemoveLocation(udg_Point)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________19 takes nothing returns nothing
    set gg_trg_____________19=CreateTrigger()
    call DisableTrigger(gg_trg_____________19)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________19, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________19, Condition(function Trig_____________19Conditions))
    call TriggerAddAction(gg_trg_____________19, function Trig_____________19Actions)
endfunction
//===========================================================================
// Trigger: ÊàòÊ†óÁÅµÈ≠Ç22
//===========================================================================
function Trig_____________22Conditions takes nothing returns boolean
    return ( ( GetAttackedUnitBJ() == gg_unit_Ocbh_0251 ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Ocbh_0251)) == 1 ) and ( GetRandomInt(1, 20) == 1 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttacker()) != 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Ocbh_0251) > 600.00 ) )
endfunction
function Trig_____________22Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetAttacker()))
    call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(gg_unit_Ocbh_0251), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
    call UnitAddAbilityBJ('A0AZ', GetLastCreatedUnit())
    call IssueTargetOrder(GetLastCreatedUnit(), "hex", GetAttacker())
    call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(gg_unit_Ocbh_0251), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
    call UnitAddAbilityBJ('A0AZ', GetLastCreatedUnit())
    call IssueTargetOrder(GetLastCreatedUnit(), "hex", GetAttacker())
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call SetUnitOwner(null, Player(0), true)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________22 takes nothing returns nothing
    set gg_trg_____________22=CreateTrigger()
    call DisableTrigger(gg_trg_____________22)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________22, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________22, Condition(function Trig_____________22Conditions))
    call TriggerAddAction(gg_trg_____________22, function Trig_____________22Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÁÅµÂÜ∞È≠Ñ
//===========================================================================
function Trig_____________uConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A000' ) )
endfunction
function Trig_____________uActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetSpellAbilityUnit()
    set udg_Point=GetUnitLoc(udg_Unit)
    call CreateNUnitsAtLoc(1, 'h019', GetOwningPlayer(udg_Unit), udg_Point, bj_UNIT_FACING)
    set udg_Unit2=GetLastCreatedUnit()
    call UnitAddAbilityBJ('A00U', udg_Unit2)
    call IssuePointOrderLoc(udg_Unit2, "blizzard", udg_Point)
    call UnitApplyTimedLifeBJ(3.00, 'BHwe', udg_Unit2)
    set udg_Unit2=null
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=8
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Point2=PolarProjectionBJ(udg_Point, 600.00, ( 45.00 * I2R(GetForLoopIndexA()) ))
        call CreateNUnitsAtLoc(1, 'h019', GetOwningPlayer(udg_Unit), udg_Point2, bj_UNIT_FACING)
        set udg_Unit2=GetLastCreatedUnit()
        call UnitAddAbilityBJ('A00U', udg_Unit2)
        call IssuePointOrderLoc(udg_Unit2, "blizzard", udg_Point2)
        call UnitApplyTimedLifeBJ(3.00, 'BHwe', udg_Unit2)
        set udg_Unit2=null
        call RemoveLocation(udg_Point2)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(udg_Point)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()))
    set udg_Unit=null
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________u takes nothing returns nothing
    set gg_trg_____________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________u, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________u, Condition(function Trig_____________uConditions))
    call TriggerAddAction(gg_trg_____________u, function Trig_____________uActions)
endfunction
//===========================================================================
// Trigger: ÂπªÂÜ•ÈÜâÊúà20
//===========================================================================
function Trig_____________20Conditions takes nothing returns boolean
    return ( ( IsUnitAlly(GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker())) != true ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(lingxue)) == 1 ) and ( GetUnitTypeId(GetAttacker()) == GetUnitTypeId(lingxue) ) and ( GetPlayerController(GetOwningPlayer(GetAttacker())) == MAP_CONTROL_USER ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttackedUnitBJ()) != 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, lingxue) > 100.00 ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) >= GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) ) )
endfunction
function Trig_____________20Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Unit=lingxue
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call PrintSpell(GetOwningPlayer(lingxue) , GetAbilityName('A005') , GetDamageInt(lingxue))
    set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
    call CreateNUnitsAtLoc(1, 'h019', GetOwningPlayer(udg_Unit), udg_Point, bj_UNIT_FACING)
    set udg_Unit2=GetLastCreatedUnit()
    call UnitAddAbilityBJ('A00U', udg_Unit2)
    call IssuePointOrderLoc(udg_Unit2, "blizzard", udg_Point)
    call UnitApplyTimedLifeBJ(3.00, 'BHwe', udg_Unit2)
    set udg_Unit2=null
    call RemoveLocation(udg_Point)
    call YDWEPolledWaitNull(5.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________20 takes nothing returns nothing
    set gg_trg_____________20=CreateTrigger()
    call DisableTrigger(gg_trg_____________20)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________20, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________20, Condition(function Trig_____________20Conditions))
    call TriggerAddAction(gg_trg_____________20, function Trig_____________20Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÂÜ•ÈÜâÊúà02
//===========================================================================
function Trig_____________02Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A005' ) )
endfunction
function Trig_____________02Actions takes nothing returns nothing
    set udg_Point=GetUnitLoc(lingxue)
    call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(lingxue), udg_Point, bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(5.00, 'BTLF', GetLastCreatedUnit())
    call UnitAddAbilityBJ('A0FX', GetLastCreatedUnit())
    call IssueTargetOrderById(GetLastCreatedUnit(), 852274, lingxue)
    call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(lingxue), udg_Point, bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(5.00, 'BTLF', GetLastCreatedUnit())
    call UnitAddAbilityBJ('Aivs', GetLastCreatedUnit())
    call IssueTargetOrderById(GetLastCreatedUnit(), 852069, lingxue)
        call PrintSpellName(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()))
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig_____________02 takes nothing returns nothing
    set gg_trg_____________02=CreateTrigger()
    call DisableTrigger(gg_trg_____________02)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________02, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________02, Condition(function Trig_____________02Conditions))
    call TriggerAddAction(gg_trg_____________02, function Trig_____________02Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÂÜ∞ÂÇ≤‰∏ñ03
//
// Ëã•‰øÆÊîπÊó∂Èó¥ÔºåËÆ∞Âæó‰øÆÊîπi
//===========================================================================
function Trig_____________03Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A004' ) )
endfunction
function Trig_____________03Func010T takes nothing returns nothing
    local integer ydul_i
    call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)))
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", YDWECoordinateX(GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))), YDWECoordinateY(GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)))))
    set ydul_i=1
    loop
        exitwhen ydul_i > 8
        call CreateNUnitsAtLoc(1, 'h01B', GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), bj_UNIT_FACING)
        call UnitAddAbilityBJ('A0BA', GetLastCreatedUnit())
        call UnitApplyTimedLifeBJ(5.00, 'BTLF', GetLastCreatedUnit())
        call IssuePointOrder(GetLastCreatedUnit(), "carrionswarm", YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 100.00 * CosBJ(( ( 44.99 ) * ( I2R(ydul_i) ) )) ) )), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 100.00 * SinBJ(( ( 44.99 ) * ( I2R(ydul_i) ) )) ) )))
        set ydul_i=ydul_i + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8))
    call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x62888615, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x62888615) + 1 ))
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x62888615) >= IJ2(lingxue , 120 , 60) ) ) then
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
    endif
endfunction
function Trig_____________03Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetTriggerUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.20 ))
    set udg_Unit=null
    call YDWECreateEwsp(lingxue , 'h01A' , 1 , 600.00 , RJ2(lingxue , 40 , 20) , 0.03 , 3.00)
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()) * 0.2)
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, GetLastCreatedUnit())
    call PlaySoundBJ(gg_snd_lingxue_4)
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, GetTriggerUnit())
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x62888615, 0)
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x32A9E4C8, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    call TimerStart(ydl_timer, 0.33, true, function Trig_____________03Func010T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________03 takes nothing returns nothing
    set gg_trg_____________03=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________03, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________03, Condition(function Trig_____________03Conditions))
    call TriggerAddAction(gg_trg_____________03, function Trig_____________03Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÁºà‰ªôÂ∞ò2
//===========================================================================
function Trig_____________2Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A003' ) )
endfunction
function Trig_____________2Func001002002 takes nothing returns boolean
    return ( ( ( GetUnitTypeId(GetFilterUnit()) == GetUnitTypeId(( lingxue )) ) and ( IsUnitIllusionBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_____________2Func002A takes nothing returns nothing
    call SetUnitUserData(GetEnumUnit(), 522)
    call KillUnit(GetEnumUnit())
endfunction
function Trig_____________2Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    set udg_Group=YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_____________2Func001002002))
    call ForGroupBJ(udg_Group, function Trig_____________2Func002A)
    call DestroyGroup(udg_Group)
        call PrintSpellName(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()))
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________2 takes nothing returns nothing
    set gg_trg_____________2=CreateTrigger()
    call DisableTrigger(gg_trg_____________2)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________2, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________2, Condition(function Trig_____________2Conditions))
    call TriggerAddAction(gg_trg_____________2, function Trig_____________2Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÁºà‰ªôÂ∞ò21
//===========================================================================
function Trig_____________21Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetEventDamage() >= GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(GetTriggerUnit())) == 1 ) )
endfunction
function Trig_____________21Func001002002 takes nothing returns boolean
    return ( ( ( GetUnitTypeId(GetFilterUnit()) == GetUnitTypeId(lingxue) ) and ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitIllusionBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig_____________21Func002Func009T takes nothing returns nothing
    call SetUnitInvulnerable(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x458B7DE9), false)
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________21Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Group=YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_____________21Func001002002))
    if ( ( CountUnitsInGroup(udg_Group) >= 1 ) ) then
        call DisableTrigger(GetTriggeringTrigger())
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, GroupPickRandomUnit(udg_Group))
        call SetUnitLifeBJ(GetTriggerUnit(), GetUnitStateSwap(UNIT_STATE_LIFE, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA)))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
        call KillUnit(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA))
            call PrintSpellContent(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName('A003') , "Êó†ÊïåÊàêÂäü!")
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        set ydl_timer=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, GetTriggerUnit())
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x458B7DE9, GetTriggerUnit())
        call TimerStart(ydl_timer, 0.00, false, function Trig_____________21Func002Func009T)
        call YDWEPolledWaitNull(0.10)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call EnableTrigger(GetTriggeringTrigger())
    else
    endif
    call DestroyGroup(udg_Group)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________21 takes nothing returns nothing
    set gg_trg_____________21=CreateTrigger()
    call DisableTrigger(gg_trg_____________21)
    call DoNothing()
    call TriggerAddCondition(gg_trg_____________21, Condition(function Trig_____________21Conditions))
    call TriggerAddAction(gg_trg_____________21, function Trig_____________21Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÊ≠•Ëø∑Ë∏™11
//===========================================================================
function Trig_____________11Conditions takes nothing returns boolean
    return ( ( IsUnitAliveBJ(lingxue) == true ) and ( UnitHasBuffBJ(lingxue, 'B016') == true ) and ( UnitHasBuffBJ(lingxue, 'Binv') != true ) and ( not ( BTianfu ) ) )
endfunction
function Trig_____________11Actions takes nothing returns nothing
    set udg_Mi[3]=GetUnitX(lingxue)
    set udg_Mi[4]=GetUnitY(lingxue)
    if ( ( ( udg_Mi[3] != udg_Mi[1] ) or ( udg_Mi[4] != udg_Mi[2] ) ) ) then
        set udg_Mi[5]=RAbsBJ(( udg_Mi[3] - udg_Mi[1] ))
        set udg_Mi[6]=RAbsBJ(( udg_Mi[4] - udg_Mi[2] ))
        set udg_Mi[7]=SquareRoot(( ( udg_Mi[5] * udg_Mi[5] ) + ( udg_Mi[6] * udg_Mi[6] ) ))
        if ( ( udg_Mi[7] <= 100.00 ) ) then
            set udg_Mi[8]=( udg_Mi[8] + udg_Mi[7] )
            if ( ( udg_Mi[8] >= 250.00 ) ) then
                set udg_Mi[8]=0.00
                set udg_Point=GetUnitLoc(lingxue)
                call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(lingxue), udg_Point, bj_UNIT_FACING)
                call UnitApplyTimedLifeBJ(5.00, 'BTLF', GetLastCreatedUnit())
                call UnitAddAbilityBJ('A0AE', GetLastCreatedUnit())
                call SetUnitAbilityLevel(GetLastCreatedUnit(), 'A0AE', IJ1(lingxue , 2 , 1))
                call IssueTargetOrderById(GetLastCreatedUnit(), 852274, gg_unit_Hjai_0014)
                call RemoveLocation(udg_Point)
            else
                call DoNothing()
            endif
        else
            set udg_Mi[8]=0.00
        endif
    else
    endif
    set udg_Mi[1]=GetUnitX(lingxue)
    set udg_Mi[2]=GetUnitY(lingxue)
endfunction
//===========================================================================
function InitTrig_____________11 takes nothing returns nothing
    set gg_trg_____________11=CreateTrigger()
    call DisableTrigger(gg_trg_____________11)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_____________11, 0.10)
    call TriggerAddCondition(gg_trg_____________11, Condition(function Trig_____________11Conditions))
    call TriggerAddAction(gg_trg_____________11, function Trig_____________11Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÊ≠•Ëø∑Ë∏™23
//===========================================================================
function Trig_____________23Conditions takes nothing returns boolean
    return ( ( ( GetSpellAbilityId() == 'A004' ) or ( GetSpellAbilityId() == 'A006' ) or ( GetSpellAbilityId() == 'A003' ) or ( GetSpellAbilityId() == 'A0FV' ) or ( GetSpellAbilityId() == 'A000' ) ) and ( not ( BTianfu ) ) )
endfunction
function Trig_____________23Actions takes nothing returns nothing
    set udg_Point=GetUnitLoc(lingxue)
    call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(lingxue), udg_Point, bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(5.00, 'BTLF', GetLastCreatedUnit())
    call UnitAddAbilityBJ('A05K', GetLastCreatedUnit())
    call IssueTargetOrderById(GetLastCreatedUnit(), 852274, lingxue)
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig_____________23 takes nothing returns nothing
    set gg_trg_____________23=CreateTrigger()
    call DisableTrigger(gg_trg_____________23)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________23, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________23, Condition(function Trig_____________23Conditions))
    call TriggerAddAction(gg_trg_____________23, function Trig_____________23Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÂ∞ÅÂÜ∞Ê£∫4
//
// 30Áßí1438Ê¨°ÊîªÂáª
// È©¨Áî≤ÔºöÂÜ∞Êô∂ÔºàÂÜ∞ÂÜªÂñ∑Âêê„ÄêÊ≥®ÊÑèË¶ÅÈ≠îÊ≥ïÊîªÂáª„ÄëÔºâ ÊäïÂ∞ÑÁâ©Êö¥Èõ™ÔºàÁéØÁªïË¶ÅÊúâÁßªÂä®ÈÄüÂ∫¶Ôºâ„ÄÇ
//===========================================================================
function Trig_____________4Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A006' ) )
endfunction
function Trig_____________4Actions takes nothing returns nothing
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call PlaySoundBJ(gg_snd_lingxue_5)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageInt(GetTriggerUnit()) * 0.33 ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()) * 0.33)
    set ydul_i=1
    loop
        exitwhen ydul_i > 8
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Blizzard\\BlizzardTarget.mdl", YDWECoordinateX(( GetUnitX(GetTriggerUnit()) + ( 450.00 * CosBJ(( ( 44.99 ) * ( I2R(ydul_i) ) )) ) )), YDWECoordinateY(( GetUnitY(GetTriggerUnit()) + ( 450.00 * SinBJ(( ( 44.99 ) * ( I2R(ydul_i) ) )) ) ))))
        set ydul_i=ydul_i + 1
    endloop
    call YDWEPolledWaitNull(0.75)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydl_group=CreateGroup()
    call GroupEnumUnitsInRange(ydl_group, YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit())), 600.00, null)
    loop
        set ydl_unit=FirstOfGroup(ydl_group)
        exitwhen ydl_unit == null
        call GroupRemoveUnit(ydl_group, ydl_unit)
        if ( ( IsUnitAlly(ydl_unit, GetOwningPlayer(GetTriggerUnit())) != true ) and ( IsUnitAliveBJ(ydl_unit) == true ) ) then
            call UnitDamageTarget(GetTriggerUnit(), ydl_unit, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        else
        endif
    endloop
    call DestroyGroup(ydl_group)
    set ydul_i=1
    loop
        exitwhen ydul_i > 8
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", YDWECoordinateX(( GetUnitX(GetTriggerUnit()) + ( 450.00 * CosBJ(( ( 44.99 ) * ( I2R(ydul_i) ) )) ) )), YDWECoordinateY(( GetUnitY(GetTriggerUnit()) + ( 450.00 * SinBJ(( ( 44.99 ) * ( I2R(ydul_i) ) )) ) ))))
        set ydul_i=ydul_i + 1
    endloop
    call YDWEPolledWaitNull(0.33)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydl_group=CreateGroup()
    call GroupEnumUnitsInRange(ydl_group, YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit())), 600.00, null)
    loop
        set ydl_unit=FirstOfGroup(ydl_group)
        exitwhen ydl_unit == null
        call GroupRemoveUnit(ydl_group, ydl_unit)
        if ( ( IsUnitAlly(ydl_unit, GetOwningPlayer(GetTriggerUnit())) != true ) and ( IsUnitAliveBJ(ydl_unit) == true ) ) then
            call UnitDamageTarget(GetTriggerUnit(), ydl_unit, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        else
        endif
    endloop
    call DestroyGroup(ydl_group)
    set ydul_i=1
    loop
        exitwhen ydul_i > 8
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'h01E', YDWECoordinateX(( GetUnitX(GetTriggerUnit()) + ( 450.00 * CosBJ(( ( 44.99 ) * ( I2R(ydul_i) ) )) ) )), YDWECoordinateY(( GetUnitY(GetTriggerUnit()) + ( 450.00 * SinBJ(( ( 44.99 ) * ( I2R(ydul_i) ) )) ) )), 0))
        call UnitApplyTimedLifeBJ(12.00, 'BHwe', LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
        call YDWECreateEwsp(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D) , 'h01D' , 8 , 300.00 , 12.00 , 0.03 , 5.00)
        call YDWETimerDestroyLightning(12.00 , AddLightning("CLPB", true, YDWECoordinateX(( GetUnitX(GetTriggerUnit()) + ( 450.00 * CosBJ(( ( 45.00 ) * ( I2R(ydul_i) ) )) ) )), YDWECoordinateY(( GetUnitY(GetTriggerUnit()) + ( 450.00 * SinBJ(( ( 45.00 ) * ( I2R(ydul_i) ) )) ) )), YDWECoordinateX(( GetUnitX(GetTriggerUnit()) + ( 450.00 * CosBJ(( ( 45.00 ) * ( I2R(( ydul_i + 1 )) ) )) ) )), YDWECoordinateY(( GetUnitY(GetTriggerUnit()) + ( 450.00 * SinBJ(( ( 45.00 ) * ( I2R(( ydul_i + 1 )) ) )) ) ))))
        set ydul_i=ydul_i + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________4 takes nothing returns nothing
    set gg_trg_____________4=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________4, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(gg_trg_____________4, Condition(function Trig_____________4Conditions))
    call TriggerAddAction(gg_trg_____________4, function Trig_____________4Actions)
endfunction
//===========================================================================
// Trigger: ÂêûÂ§©ÁÅµÊÄ®24
//===========================================================================
function Trig_____________24Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A03V' ) )
endfunction
function Trig_____________24Func004T takes nothing returns nothing
    call UnitRemoveAbilityBJ('Aap4', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'I041')) == 'I041' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'I04R')) == 'I04R' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'I05B')) == 'I05B' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'I05C')) == 'I05C' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'I05F')) == 'I05F' ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'I05X') == true ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'ICY1') == true ) ) ) then
        call UnitAddAbilityBJ('A03V', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'I05F')) == 'I05F' ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'I05X') == true ) or ( YDWEUnitHasItemOfTypeBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'ICY1') == true ) ) ) then
            call SetUnitAbilityLevelSwapped('A03V', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), 2)
        else
        endif
    else
    endif
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________24Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Point=GetUnitLoc(GetTriggerUnit())
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=5
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Point2=PolarProjectionBJ(udg_Point, 300.00, ( ( 72.00 ) * ( I2R(GetForLoopIndexA()) ) ))
        if ( ( GetUnitAbilityLevelSwapped('A03V', GetTriggerUnit()) == 2 ) ) then
            set udg_Unit=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'e001', udg_Point2, 270.00)
        else
            set udg_Unit=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'e000', udg_Point2, 270.00)
        endif
        call YDWESetGuard(udg_Unit , GetTriggerUnit() , 2.00 , 800.00 , 1200.00 , 1500.00 , 99)
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", udg_Point2))
        call UnitApplyTimedLifeBJ(15.00, 'BHwe', udg_Unit)
        set udg_Unit=null
        call RemoveLocation(udg_Point2)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(udg_Point)
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, GetSpellAbilityUnit())
    call TimerStart(ydl_timer, 60.00, false, function Trig_____________24Func004T)
    call UnitAddAbilityBJ('Aap4', GetSpellAbilityUnit())
    call UnitRemoveAbilityBJ('A03V', GetSpellAbilityUnit())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________24 takes nothing returns nothing
    set gg_trg_____________24=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________24, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________24, Condition(function Trig_____________24Conditions))
    call TriggerAddAction(gg_trg_____________24, function Trig_____________24Actions)
endfunction
//===========================================================================
// Trigger: Êº©Ê∂°‰πãËàû25
//===========================================================================
function Trig_____________25Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A008' ) )
endfunction
function Trig_____________25Func011T takes nothing returns nothing
    call SetPlayerAbilityAvailableBJ(true, 'A008', GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)))
    call UnitRemoveAbilityBJ('Aap4', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________25Func012Func001Func002003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_____________25Func012Func001Func003A takes nothing returns nothing
    if ( ( GetOwningPlayer(GetEnumUnit()) == Player(11) ) and ( RectContainsUnit(GetPlayableMapRect(), GetEnumUnit()) == true ) ) then
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call IssuePointOrderLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xFC0CCE80), "attack", udg_Point)
        call RemoveLocation(udg_Point)
    else
    endif
endfunction
function Trig_____________25Func012Func001Func012003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_____________25Func012Func001Func013A takes nothing returns nothing
    call UnitDamageTargetBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
    call SetUnitX(GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xA99320FA))
    call SetUnitY(GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xFDF65382))
endfunction
function Trig_____________25Func012T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) != 16 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xA99320FA), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xFDF65382)))
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(631.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________25Func012Func001Func012003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________25Func012Func001Func013A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
    else
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xA99320FA), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xFDF65382)))
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(631.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________25Func012Func001Func002003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________25Func012Func001Func003A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
        call RemoveUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________25Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetSpellAbilityUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageBase(udg_Unit) ))
    if ( ( GetUnitAbilityLevelSwapped('A008', GetTriggerUnit()) == 2 ) ) then
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 2.40 ))
            call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageBase(GetTriggerUnit()) * 2.4)
    else
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.80 ))
            call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageBase(GetTriggerUnit()) * 0.8)
    endif
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.20 ))
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(GetOwningPlayer(udg_Unit), 'hprt', GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)) + 600.00 )), 270.00))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382, GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call SetPlayerAbilityAvailableBJ(false, 'A008', GetOwningPlayer(GetTriggerUnit()))
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, udg_Unit)
    call TimerStart(ydl_timer, 30.00, false, function Trig_____________25Func011T)
    set ydl_timer=CreateTimer()
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xA99320FA, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xFDF65382, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xDD66C616, 0)
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, udg_Unit)
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xFC0CCE80, GetEnteringUnit())
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call TimerStart(ydl_timer, 0.20, true, function Trig_____________25Func012T)
    call UnitAddAbilityBJ('Aap4', udg_Unit)
    set udg_Unit=null
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________25 takes nothing returns nothing
    set gg_trg_____________25=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________25, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________25, Condition(function Trig_____________25Conditions))
    call TriggerAddAction(gg_trg_____________25, function Trig_____________25Actions)
endfunction
//===========================================================================
// Trigger: Èõ∑Á•ûÂî§ÂΩ±29
//===========================================================================
function Trig_____________29Conditions takes nothing returns boolean
    return ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("move") ) and ( GetTriggerUnit() == gg_unit_Eevi_0020 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Eevi_0020) >= RJ1(yanmie , 35 , 50) ) and ( not ( BTianfu ) ) )
endfunction
function Trig_____________29Func010Func011002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitAlly(GetFilterUnit(), GetOwningPlayer(gg_unit_Eevi_0020)) != true ) ) )
endfunction
function Trig_____________29Func010Func012A takes nothing returns nothing
    call UnitDamageTarget(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SHADOW_STRIKE, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_____________29Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsTriggerEnabled(THundunSpellDamage) ) ) then
        call THundunSpellDamageAct()
    else
    endif
    if ( ( GetUnitUserData(gg_unit_nmre_0234) != 1 ) ) then
        call SetUnitUserData(gg_unit_nmre_0234, 1)
    else
    endif
    call SetUnitManaBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetTriggerUnit()) - ( RJ1(yanmie , 35 , 50) ) ))
    set udg_Point=GetUnitLoc(GetTriggerUnit())
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetOrderPointLoc())
    if ( ( ( ( RectContainsLoc(gg_rct_______a3, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)) == true ) and ( RectContainsUnit(gg_rct_______a3, gg_unit_Eevi_0020) != true ) ) or ( ( RectContainsLoc(gg_rct_Arena_forbit, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)) == true ) and ( RectContainsUnit(gg_rct_Arena_forbit, gg_unit_Eevi_0020) != true ) ) ) ) then
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(udg_Point)
        call DisplayTextToPlayer(GetOwningPlayer(gg_unit_Eevi_0020), 0, 0, "|cFFFF66CC„Äê|r|cFFCCFF00Èõ∑Á•ûÂî§ÂΩ±|r|cFFFF66CC„Äë|rËØ•Âå∫ÂüüÁ¶ÅÊ≠¢‰º†ÈÄÅ„ÄÇ")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_group=null
        set ydl_unit=null
        return
    else
    endif
    call SetUnitPositionLoc(GetTriggerUnit(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\OrbitalRay.mdx", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\OrbitalRay.mdx", udg_Point))
    if ( ( GetUnitAbilityLevelSwapped('AHbh', gg_unit_Eevi_0020) == 1 ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Eevi_0020)) == 1 ) and ( IsTriggerEnabled(gg_trg_______106) == true ) ) then
        call TriggerExecute(gg_trg_______106)
        set udg_Unit=GetTriggerUnit()
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.25 ))
            call PrintSpell(GetOwningPlayer(yanmie) , GetAbilityName('AHbh') , GetDamageAgi(yanmie) * 0.25)
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(300.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_____________29Func010Func011002003))
        call ForGroupBJ(udg_Group, function Trig_____________29Func010Func012A)
        call DestroyGroup(udg_Group)
        set udg_Unit=null
    else
            call PrintSpellName(GetOwningPlayer(yanmie) , GetAbilityName('A072'))
    endif
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call RemoveLocation(udg_Point)
    call BoltShadow(GetOrderPointX() , GetOrderPointY())
    call CountYanmieLingyu()
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________29 takes nothing returns nothing
    set gg_trg_____________29=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________29, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerAddCondition(gg_trg_____________29, Condition(function Trig_____________29Conditions))
    call TriggerAddAction(gg_trg_____________29, function Trig_____________29Actions)
endfunction
//===========================================================================
// Trigger: Èõ∑Á•ûÂÖâÁ∫ø30
//===========================================================================
function Trig_____________30Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AEsf' ) )
endfunction
function Trig_____________30Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetSpellAbilityUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(GetTriggerUnit()))
    set udg_Point=GetUnitLoc(udg_Unit)
    call CreateNUnitsAtLoc(1, 'h004', GetOwningPlayer(udg_Unit), udg_Point, bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
    call RemoveLocation(udg_Point)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________30 takes nothing returns nothing
    set gg_trg_____________30=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________30, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________30, Condition(function Trig_____________30Conditions))
    call TriggerAddAction(gg_trg_____________30, function Trig_____________30Actions)
endfunction
//===========================================================================
// Trigger: Èõ∑Á•û‰πãÈÄü48
//===========================================================================
function Trig_____________48Conditions takes nothing returns boolean
    return ( ( GetAttackedUnitBJ() == gg_unit_Eevi_0020 ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Eevi_0020)) == 1 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttacker()) != 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Eevi_0020) > 200.00 ) )
endfunction
function Trig_____________48Func008002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitAlly(GetFilterUnit(), GetOwningPlayer(gg_unit_Eevi_0020)) != true ) ) )
endfunction
function Trig_____________48Func009A takes nothing returns nothing
    call UnitDamageTarget(GetAttackedUnitBJ(), GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_____________48Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Unit=GetAttackedUnitBJ()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.25 ))
        call PrintSpell(GetOwningPlayer(yanmie) , GetAbilityName('AEev') , GetDamageAgi(yanmie) * 0.25)
    set udg_Point=GetUnitLoc(udg_Unit)
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , udg_Point , Condition(function Trig_____________48Func008002003))
    call ForGroupBJ(udg_Group, function Trig_____________48Func009A)
    call DestroyGroup(udg_Group)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Point2=PolarProjectionBJ(udg_Point, 300.00, ( ( 60.00 ) * ( I2R(GetForLoopIndexA()) ) ))
        call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\OrbitalRay.mdx", udg_Point2))
        call RemoveLocation(udg_Point2)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Point2=PolarProjectionBJ(udg_Point, 900.00, ( ( 30.00 ) * ( I2R(GetForLoopIndexA()) ) ))
        call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\OrbitalRay.mdx", udg_Point2))
        call RemoveLocation(udg_Point2)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=18
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Point2=PolarProjectionBJ(udg_Point, 1500.00, ( ( 20.00 ) * ( I2R(GetForLoopIndexA()) ) ))
        call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\OrbitalRay.mdx", udg_Point2))
        call RemoveLocation(udg_Point2)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(udg_Point)
    call YDWEPolledWaitNull(5.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________48 takes nothing returns nothing
    set gg_trg_____________48=CreateTrigger()
    call DisableTrigger(gg_trg_____________48)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________48, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________48, Condition(function Trig_____________48Conditions))
    call TriggerAddAction(gg_trg_____________48, function Trig_____________48Actions)
endfunction
//===========================================================================
// Trigger: Èõ∑Á•ûÂØÇÁÅ≠31
//===========================================================================
function Trig_____________31Conditions takes nothing returns boolean
    return ( ( GetEventDamageSource() == gg_unit_Eevi_0020 ) and ( IsUnitIllusionBJ(GetEventDamageSource()) != true ) and ( GetEventDamage() <= ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) * 0.02 ) ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Eevi_0020)) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Eevi_0020) > 200.00 ) and ( GetEventDamage() > 2.00 ) )
endfunction
function Trig_____________31Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Unit=GetEventDamageSource()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1.00 ))
    call DisplayTextToPlayer(GetOwningPlayer(udg_Unit), 0, 0, ( "|cFFFF66CC„Äê|r" + ( "|cFF6699FFÈõ∑Á•ûÂÖâÁ∫ø|r" + ( "|cFFFF66CC„Äë|r‰º§ÂÆ≥Âä†Êàê" + ( I2S(R2I(( ( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] * 100.00 ) - 99.00 ))) + ( "%Ôºå‰º§ÂÆ≥ÂÄº" + ( I2S(R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))) + "„ÄÇ" ) ) ) ) ) ))
        call PrintSpell(GetOwningPlayer(yanmie) , GetAbilityName('AHbh') , GetDamageAgi(yanmie) * 0.25)
    set udg_Point=GetUnitLoc(udg_Unit)
    call CreateNUnitsAtLoc(1, 'h004', GetOwningPlayer(udg_Unit), udg_Point, bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(2.00, 'BHwe', GetLastCreatedUnit())
    call RemoveLocation(udg_Point)
    call YDWEPolledWaitNull(8.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________31 takes nothing returns nothing
    set gg_trg_____________31=CreateTrigger()
    call DisableTrigger(gg_trg_____________31)
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_____________31)
    call TriggerAddCondition(gg_trg_____________31, Condition(function Trig_____________31Conditions))
    call TriggerAddAction(gg_trg_____________31, function Trig_____________31Actions)
endfunction
//===========================================================================
// Trigger: ‰ªôÈú≤‰πãÂêª32
//===========================================================================
function Trig_____________32Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A07L' ) )
endfunction
function Trig_____________32Func003Func002T takes nothing returns nothing
    local integer ydul_iiii
    call DestroyEffect(LoadEffectHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x239F3A6E))
    set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)))] - 1.50 )
    set udg_IXianlu[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)))]=false
    set ydul_iiii=1
    loop
        exitwhen ydul_iiii > 6
        if ( ( udg_IXianlu[ydul_iiii] == false ) ) then
            call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820) + 1 ))
        else
        endif
        set ydul_iiii=ydul_iiii + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820) >= udg_RENSHU ) ) then
        call DisableTrigger(gg_trg_____________33)
    else
    endif
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________32Func003Func005T takes nothing returns nothing
    local integer ydul_iiii
    set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)))] - 0.50 )
    call DestroyEffect(LoadEffectHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x239F3A6E))
    set udg_IXianlu[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)))]=false
    set ydul_iiii=1
    loop
        exitwhen ydul_iiii > 6
        if ( ( udg_IXianlu[ydul_iiii] == false ) ) then
            call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820) + 1 ))
        else
        endif
        set ydul_iiii=ydul_iiii + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820) >= udg_RENSHU ) ) then
        call DisableTrigger(gg_trg_____________33)
    else
    endif
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________32Func005T takes nothing returns nothing
    call UnitRemoveAbilityBJ('Aap4', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'rst1')) == 'rst1' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'ICX1')) == 'ICX1' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'tsct')) == 'tsct' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'phea')) == 'phea' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'spro')) == 'spro' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'tcas')) == 'tcas' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'shas')) == 'shas' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'plcl')) == 'plcl' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'rnec')) == 'rnec' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'tgrh')) == 'tgrh' ) ) ) then
        call UnitAddAbilityBJ('A07L', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call UnitMakeAbilityPermanent(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), true, 'A07L')
        if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'rst1')) == 'rst1' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D) , 'ICX1')) == 'ICX1' ) ) ) then
            call SetUnitAbilityLevelSwapped('A07L', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), 2)
        else
        endif
    else
    endif
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________32Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(gg_trg_____________33)
    call SaveEffectHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x239F3A6E, AddSpecialEffectTarget("Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl", GetTriggerUnit(), "chest"))
    if ( ( GetUnitAbilityLevelSwapped('A07L', GetTriggerUnit()) == 1 ) ) then
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.50 )
        set ydl_timer=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, GetSpellAbilityUnit())
        call SaveEffectHandle(YDHT, GetHandleId(ydl_timer), 0x239F3A6E, LoadEffectHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x239F3A6E))
        call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
        call TimerStart(ydl_timer, 5.00, false, function Trig_____________32Func003Func005T)
    else
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 1.50 )
        set ydl_timer=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, GetSpellAbilityUnit())
        call SaveEffectHandle(YDHT, GetHandleId(ydl_timer), 0x239F3A6E, LoadEffectHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x239F3A6E))
        call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
        call TimerStart(ydl_timer, 15.00, false, function Trig_____________32Func003Func002T)
    endif
    set udg_IXianlu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, GetSpellAbilityUnit())
    call TimerStart(ydl_timer, 40.00, false, function Trig_____________32Func005T)
    call UnitAddAbilityBJ('Aap4', GetTriggerUnit())
    call UnitRemoveAbilityBJ('A07L', GetTriggerUnit())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________32 takes nothing returns nothing
    set gg_trg_____________32=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________32, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________32, Condition(function Trig_____________32Conditions))
    call TriggerAddAction(gg_trg_____________32, function Trig_____________32Actions)
endfunction
//===========================================================================
// Trigger: ‰ªôÈú≤‰πãÂêª33
//===========================================================================
function Trig_____________33Conditions takes nothing returns boolean
    return ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( udg_IXianlu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == true ) )
endfunction
function Trig_____________33Actions takes nothing returns nothing
    call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + ( GetEventDamage() * 2.00 ) ))
endfunction
//===========================================================================
function InitTrig_____________33 takes nothing returns nothing
    set gg_trg_____________33=CreateTrigger()
    call DisableTrigger(gg_trg_____________33)
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_____________33)
    call TriggerAddCondition(gg_trg_____________33, Condition(function Trig_____________33Conditions))
    call TriggerAddAction(gg_trg_____________33, function Trig_____________33Actions)
endfunction
//===========================================================================
// Trigger: ÂÜ∞‰πãÂáãÈõ∂34
//===========================================================================
function Trig_____________34Conditions takes nothing returns boolean
    return ( ( ( GetSpellAbilityId() == 'AUfn' ) or ( GetSpellAbilityId() == 'ACfn' ) ) )
endfunction
function Trig_____________34Actions takes nothing returns nothing
    call Bingzhidiaoling(GetSpellTargetUnit())
endfunction
//===========================================================================
function InitTrig_____________34 takes nothing returns nothing
    set gg_trg_____________34=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________34, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________34, Condition(function Trig_____________34Conditions))
    call TriggerAddAction(gg_trg_____________34, function Trig_____________34Actions)
endfunction
//===========================================================================
// Trigger: ÁÅµÈ≠Ç‰æµÂÖ•35
//===========================================================================
function Trig_____________35Actions takes nothing returns nothing
    if ( ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Uktl_0018) < ( RJ1(xuanxue , 200 , 100) ) ) ) then
        call SetUnitManaBJ(gg_unit_Uktl_0018, ( RJ1(xuanxue , 200 , 100) ))
    else
    endif
    if ( ( GetUnitStateSwap(UNIT_STATE_MANA, udg_Unit_Linghun) < ( RJ1(xuanxue , 200 , 100) ) ) and ( udg_Unit_Linghun != null ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Uktl_0018)) == 1 ) and ( IsTriggerEnabled(gg_trg_____________51) == true ) ) then
        call SetUnitManaBJ(udg_Unit_Linghun, ( RJ1(xuanxue , 200 , 100) ))
    else
    endif
endfunction
//===========================================================================
function InitTrig_____________35 takes nothing returns nothing
    set gg_trg_____________35=CreateTrigger()
    call DisableTrigger(gg_trg_____________35)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_____________35, 0.10)
    call TriggerAddAction(gg_trg_____________35, function Trig_____________35Actions)
endfunction
//===========================================================================
// Trigger: ÁÅµÈ≠Ç‰æµÂÖ•36
//===========================================================================
function Trig_____________36Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A042' ) )
endfunction
function Trig_____________36Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( ( GetUnitTypeId(GetSpellTargetUnit()) == 'owyv' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'nzom' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'nsog' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'nsoc' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'ninc' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'ninm' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'nsrn' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'nsrh' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'nscb' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'nsc2' ) or ( GetUnitTypeId(GetSpellTargetUnit()) == 'nmit' ) ) ) then
        call DisplayTextToPlayer(GetOwningPlayer(gg_unit_Uktl_0018), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰∏çËÉΩ‰æµÂÖ•Âø†ËØöÂçï‰ΩçÔºÅ")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
    endif
    if ( ( GetUnitUserData(gg_unit_n00W_0038) != 1 ) ) then
        call SetUnitUserData(gg_unit_n00W_0038, 1)
    else
    endif
    if ( ( GetHeroLevel(GetTriggerUnit()) >= GetUnitLevel(GetSpellTargetUnit()) ) ) then
    else
        call DisplayTextToPlayer(GetOwningPlayer(gg_unit_Uktl_0018), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰Ω†ÈúÄË¶Å" + ( I2S(GetUnitLevel(GetSpellTargetUnit())) + "Á∫ßÊâçËÉΩÊéßÂà∂ËØ•Âçï‰Ωç„ÄÇ" ) ))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    if ( ( ( IsUnitAliveBJ(udg_Unit_Linghun) == true ) or ( GetUnitAbilityLevel(udg_Unit_Linghun, 'A04K') == 1 ) ) ) then
        call KillUnit(udg_Unit_Linghun)
        call YDWEPolledWaitNull(1.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call FlushChildHashtable(YDHT, GetHandleId(udg_Unit_Linghun))
        call YDWEFlushMissionByInteger(YDWEH2I(udg_Unit_Linghun))
        call RemoveUnit(udg_Unit_Linghun)
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
    endif
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetSpellAbilityUnit())), YDWECoordinateY(GetUnitY(GetSpellAbilityUnit()))))
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", YDWECoordinateX(GetUnitX(GetSpellTargetUnit())), YDWECoordinateY(GetUnitY(GetSpellTargetUnit()))))
    set udg_Unit_Linghun=GetSpellTargetUnit()
    call SetUnitOwner(GetSpellTargetUnit(), GetOwningPlayer(GetSpellAbilityUnit()), true)
    call SelectUnitForPlayerSingle(GetSpellTargetUnit(), GetOwningPlayer(GetSpellAbilityUnit()))
        call PrintSpellName(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()))
    call SetUnitLifePercentBJ(udg_Unit_Linghun, 100)
    call SetUnitManaPercentBJ(udg_Unit_Linghun, 100)
    call UnitAddAbilityBJ('A0B9', udg_Unit_Linghun)
    call UnitAddAbilityBJ('A048', udg_Unit_Linghun)
    call UnitAddAbilityBJ('A0P0', udg_Unit_Linghun)
    if ( ( BJuexing1[GetConvertedPlayerId(GetOwningPlayer(xuanxue))] == true ) ) then
        call UnitAddAbilityBJ('A04K', udg_Unit_Linghun)
    else
    endif
    if ( ( IsTianyan ) ) then
        call RemoveDiffAttack(udg_Unit_Linghun)
    else
    endif
    if ( ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Uktl_0018)) == 1 ) and ( IsTriggerEnabled(gg_trg_____________51) == true ) ) then
        call UnitAddAbilityBJ('ACfn', udg_Unit_Linghun)
        call UnitAddAbilityBJ('A08M', udg_Unit_Linghun)
        call UnitAddAbilityBJ('ACpv', udg_Unit_Linghun)
        call UnitAddAbilityBJ('ACah', udg_Unit_Linghun)
        call UnitAddAbilityBJ('ACev', udg_Unit_Linghun)
        call UnitAddAbilityBJ('A053', udg_Unit_Linghun)
        call UnitAddAbilityBJ('A05J', udg_Unit_Linghun)
    else
    endif
    set udg_Unit=udg_Unit_Linghun
    set udg_Unit2=gg_unit_Uktl_0018
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0x81FD3994) + ( GetHeroAgi(udg_Unit2, true) / 100 ) ))
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
    call TriggerExecute(gg_trg___________________4000______u)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit2, true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit2, true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit2, true) ) / 1 ) ))
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
    call TriggerExecute(gg_trg_____________800W)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_Unit2)))
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, R2I(( I2R(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615)) * 1.50 )))
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
    call TriggerExecute(gg_trg_HP_____________________u)
    set udg_Unit2=null
    set udg_Unit=null
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________36 takes nothing returns nothing
    set gg_trg_____________36=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________36, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________36, Condition(function Trig_____________36Conditions))
    call TriggerAddAction(gg_trg_____________36, function Trig_____________36Actions)
endfunction
//===========================================================================
// Trigger: ÁÅµÈ≠Ç‰æµÂÖ•37
//===========================================================================
function Trig_____________37Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A048' ) )
endfunction
function Trig_____________37Actions takes nothing returns nothing
    call KillUnit(GetTriggerUnit())
    call YDWEPolledWaitNull(1.00)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggerUnit()))
    call YDWEFlushMissionByInteger(YDWEH2I(GetTriggerUnit()))
    call RemoveUnit(GetTriggerUnit())
endfunction
//===========================================================================
function InitTrig_____________37 takes nothing returns nothing
    set gg_trg_____________37=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________37, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________37, Condition(function Trig_____________37Conditions))
    call TriggerAddAction(gg_trg_____________37, function Trig_____________37Actions)
endfunction
//===========================================================================
// Trigger: ÁªöÁÉÇÂ¶ñÈ≠Ç39
//===========================================================================
function Trig_____________39Conditions takes nothing returns boolean
    return ( ( ( GetEventDamageSource() == gg_unit_Uktl_0018 ) or ( ( GetEventDamageSource() == udg_Unit_Linghun ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Uktl_0018)) == 1 ) and ( IsTriggerEnabled(gg_trg_____________51) == true ) ) ) and ( IsUnitIllusionBJ(GetEventDamageSource()) != true ) and ( GetEventDamage() <= ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) * 0.05 ) ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Uktl_0018)) == 1 ) and ( GetUnitAbilityLevelSwapped('Amim', GetTriggerUnit()) != 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetEventDamageSource()) > 100.00 ) and ( GetEventDamage() > 2.00 ) )
endfunction
function Trig_____________39Func012002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitAlly(GetFilterUnit(), GetOwningPlayer(gg_unit_Uktl_0018)) != true ) ) )
endfunction
function Trig_____________39Func013A takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F, GetUnitLoc(GetEnumUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F)))
    call UnitDamageTarget(gg_unit_Uktl_0018, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F))
endfunction
function Trig_____________39Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Unit=gg_unit_Uktl_0018
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE, GetUnitLoc(GetTriggerUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE)))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * GetRandomReal(0.60, 1.00) ))
        call PrintSpellName(GetOwningPlayer(xuanxue) , GetAbilityName('AHad'))
    call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call YDWEPolledWaitNull(1.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE) , Condition(function Trig_____________39Func012002003))
    call ForGroupBJ(udg_Group, function Trig_____________39Func013A)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
    call DestroyGroup(udg_Group)
    call YDWEPolledWaitNull(4.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________39 takes nothing returns nothing
    set gg_trg_____________39=CreateTrigger()
    call DisableTrigger(gg_trg_____________39)
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_____________39)
    call TriggerAddCondition(gg_trg_____________39, Condition(function Trig_____________39Conditions))
    call TriggerAddAction(gg_trg_____________39, function Trig_____________39Actions)
endfunction
//===========================================================================
// Trigger: ÁªöÁÉÇÂ¶ñÈ≠Ç40
//===========================================================================
function Trig_____________40Conditions takes nothing returns boolean
    return ( ( ( ( GetEventDamageSource() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ) and ( udg_I_Shanghai[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] > 1.00 ) ) or ( ( GetUnitAbilityLevelSwapped('AHab', GetEventDamageSource()) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Eevi_0020)) == 1 ) and ( IsUnitIllusionBJ(GetEventDamageSource()) != true ) and ( LoadInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x64316311) == 1 ) ) ) and ( GetUnitAbilityLevelSwapped('A05I', GetEventDamageSource()) == 0 ) and ( GetUnitAbilityLevelSwapped('A00A', GetEventDamageSource()) == 0 ) and ( GetUnitAbilityLevelSwapped('ANt2', GetEventDamageSource()) == 0 ) and ( GetUnitAbilityLevelSwapped('Awar', GetEventDamageSource()) == 0 ) and ( GetPlayerController(GetOwningPlayer(GetEventDamageSource())) == MAP_CONTROL_USER ) and ( GetEventDamage() > 0.00 ) and ( IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) == true ) and ( GetEventDamage() != 1000000000.00 ) and ( IsUnitAliveBJ(GetTriggerUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) != MAP_CONTROL_USER ) )
endfunction
function Trig_____________40Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0.00)
    if ( ( GetUnitAbilityLevelSwapped('AHab', GetEventDamageSource()) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Eevi_0020)) == 1 ) and ( IsUnitIllusionBJ(GetEventDamageSource()) != true ) and ( HaveSavedInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x64316311) == true ) ) then
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggerUnit()), 0x64316311) == 1 ) ) then
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1.00 ))
        else
            call DoNothing()
        endif
    else
        call DoNothing()
    endif
    if ( ( udg_I_Shanghai[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] != 1.00 ) ) then
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + ( udg_I_Shanghai[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] - 1 ) ))
    else
        call DoNothing()
    endif
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * GetEventDamage() ))
    call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________40 takes nothing returns nothing
    set gg_trg_____________40=CreateTrigger()
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_____________40)
    call TriggerAddCondition(gg_trg_____________40, Condition(function Trig_____________40Conditions))
    call TriggerAddAction(gg_trg_____________40, function Trig_____________40Actions)
endfunction
//===========================================================================
// Trigger: ‰∏áÂè§ÁéÑÈúú41
//===========================================================================
function Trig_____________41Conditions takes nothing returns boolean
    return ( ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Uktl_0018)) == 1 ) )
endfunction
function Trig_____________41Actions takes nothing returns nothing
    if ( ( ( ( GetAttacker() == gg_unit_Uktl_0018 ) or ( GetAttacker() == udg_Unit_Linghun ) ) or ( GetUnitAbilityLevelSwapped('ACah', GetAttacker()) == 1 ) ) ) then
        call Wanguxuanshuang(GetAttackedUnitBJ())
        if ( ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) >= 1.00 ) ) then
            call SetUnitManaBJ(GetAttackedUnitBJ(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) - 1 ))
            call SetUnitManaBJ(GetAttacker(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) + 1 ))
        else
        endif
    else
    endif
    if ( ( ( GetAttackedUnitBJ() == gg_unit_Uktl_0018 ) or ( GetUnitAbilityLevelSwapped('ACah', GetAttackedUnitBJ()) == 1 ) ) ) then
        if ( ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) >= 2.00 ) ) then
            call SetUnitManaBJ(GetAttackedUnitBJ(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttackedUnitBJ()) + 2.00 ))
            call SetUnitManaBJ(GetAttacker(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) - 2.00 ))
        else
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_____________41 takes nothing returns nothing
    set gg_trg_____________41=CreateTrigger()
    call DisableTrigger(gg_trg_____________41)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________41, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________41, Condition(function Trig_____________41Conditions))
    call TriggerAddAction(gg_trg_____________41, function Trig_____________41Actions)
endfunction
//===========================================================================
// Trigger: ‰∏áÂè§ÁéÑÈúú42
//===========================================================================
function Trig_____________42Conditions takes nothing returns boolean
    return ( ( ( GetTriggerUnit() == gg_unit_Uktl_0018 ) or ( GetUnitAbilityLevelSwapped('ACah', GetTriggerUnit()) == 1 ) ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Uktl_0018)) == 1 ) and ( GetEventDamage() > 2.00 ) )
endfunction
function Trig_____________42Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) * 0.05 ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, ( ( GetEventDamage() * 0.60 ) / LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) ))
    if ( ( GetUnitStateSwap(UNIT_STATE_MANA, GetTriggerUnit()) >= LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F) ) ) then
        if ( ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F) < 1.00 ) ) then
            if ( ( GetRandomInt(1, 2) == 1 ) ) then
                call SetUnitManaBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetTriggerUnit()) - 1 ))
            else
            endif
        else
            call SetUnitManaBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetTriggerUnit()) - LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F) ))
        endif
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetEventDamage() * 0.60 ))
        call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) ))
    else
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) * GetUnitStateSwap(UNIT_STATE_MANA, GetTriggerUnit()) ))
        call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) ))
        call SetUnitManaBJ(GetTriggerUnit(), 0.00)
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________42 takes nothing returns nothing
    set gg_trg_____________42=CreateTrigger()
    call DisableTrigger(gg_trg_____________42)
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_____________42)
    call TriggerAddCondition(gg_trg_____________42, Condition(function Trig_____________42Conditions))
    call TriggerAddAction(gg_trg_____________42, function Trig_____________42Actions)
endfunction
//===========================================================================
// Trigger: ‰∏ÉÊòü13
//===========================================================================
function Trig_______13Conditions takes nothing returns boolean
    return ( ( IsUnitAliveBJ(gg_unit_Hvwd_0016) == true ) )
endfunction
function Trig_______13Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1BF14788, gg_unit_Hvwd_0016)
    set udg_I_Qixing[8]=ModuloInteger(( udg_I_Qixing[8] + 1 ), 160)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[bj_forLoopAIndex]) == true ) ) then
            call SetUnitY(udg_Unit_Qixing[bj_forLoopAIndex], YDWECoordinateY(( GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1BF14788)) + ( 400.00 * SinBJ(( ( ( ( 51.43 ) * ( I2R(bj_forLoopAIndex) ) ) ) + ( ( ( 2.25 ) * ( I2R(udg_I_Qixing[8]) ) ) ) )) ) )))
            call SetUnitX(udg_Unit_Qixing[bj_forLoopAIndex], YDWECoordinateX(( GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1BF14788)) + ( 400.00 * CosBJ(( ( ( ( 51.43 ) * ( I2R(bj_forLoopAIndex) ) ) ) + ( ( ( 2.25 ) * ( I2R(udg_I_Qixing[8]) ) ) ) )) ) )))
            call SetUnitFacing(udg_Unit_Qixing[bj_forLoopAIndex], ( ( YDWEAngleBetweenUnits(udg_Unit_Qixing[bj_forLoopAIndex] , LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1BF14788)) ) - ( 90.00 ) ))
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_______13 takes nothing returns nothing
    set gg_trg_______13=CreateTrigger()
    call DisableTrigger(gg_trg_______13)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_______13, 0.05)
    call TriggerAddCondition(gg_trg_______13, Condition(function Trig_______13Conditions))
    call TriggerAddAction(gg_trg_______13, function Trig_______13Actions)
endfunction
//===========================================================================
// Trigger: ‰∏ÉÊòü17
//===========================================================================
function Trig_______17Conditions takes nothing returns boolean
    return ( ( GetEventDamage() >= GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) ) and ( not ( BTianfu ) ) )
endfunction
function Trig_______17Func001Func001Func005T takes nothing returns nothing
    call SetUnitInvulnerable(gg_unit_Hvwd_0016, false)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(gg_unit_Hvwd_0016), GetUnitY(gg_unit_Hvwd_0016)))
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_______17Actions takes nothing returns nothing
    local timer ydl_timer
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[bj_forLoopAIndex]) == true ) ) then
            call KillUnit(udg_Unit_Qixing[bj_forLoopAIndex])
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
            call SetUnitInvulnerable(GetTriggerUnit(), true)
            call SetUnitLifePercentBJ(GetTriggerUnit(), 100)
            set ydl_timer=CreateTimer()
            call TimerStart(ydl_timer, 1.00, false, function Trig_______17Func001Func001Func005T)
            call DoNothing()
 exitwhen true //(  )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_______17 takes nothing returns nothing
    set gg_trg_______17=CreateTrigger()
    call DisableTrigger(gg_trg_______17)
    call DoNothing()
    call TriggerAddCondition(gg_trg_______17, Condition(function Trig_______17Conditions))
    call TriggerAddAction(gg_trg_______17, function Trig_______17Actions)
endfunction
//===========================================================================
// Trigger: ÁÆ≠Èõ®18
//===========================================================================
function Trig_______18Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0FZ' ) )
endfunction
function Trig_______18Func006Func001Func003002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Hvwd_0016)) == true ) ) )
endfunction
function Trig_______18Func006T takes nothing returns nothing
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) <= 8 + IJ1(moqi , 8 , 0) + IJ2(moqi , 8 , 0) + I3(IsMoqiSpin() , 2 , 0) ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x50525CFC, GetUnitLoc(gg_unit_Hvwd_0016))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(900.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x50525CFC) , Condition(function Trig_______18Func006Func001Func003002003))
        if ( ( CountUnitsInGroup(udg_Group) != 0 ) ) then
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, GetUnitLoc(GroupPickRandomUnit(udg_Group)))
        else
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x50525CFC), GetRandomReal(0, 900.00), GetRandomDirectionDeg()))
        endif
        call SaveUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x1BF14788, CreateUnitAtLoc(GetOwningPlayer(gg_unit_Hvwd_0016), 'h001', LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000), 0))
        call SetUnitFlyHeight(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x1BF14788), 0.00, 1000.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000))
        call DestroyGroup(udg_Group)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x50525CFC))
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig_______18Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetTriggerUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.35 ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(GetTriggerUnit()) * 0.35)
    set ydl_timer=CreateTimer()
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x50525CFC, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x50525CFC))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0xDEFC4000, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x1BF14788, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1BF14788))
    call TimerStart(ydl_timer, 0.13, true, function Trig_______18Func006T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_______18 takes nothing returns nothing
    set gg_trg_______18=CreateTrigger()
    call DisableTrigger(gg_trg_______18)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______18, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______18, Condition(function Trig_______18Conditions))
    call TriggerAddAction(gg_trg_______18, function Trig_______18Actions)
endfunction
//===========================================================================
// Trigger: ‰ΩøÂëΩ19
//===========================================================================
function Trig_______19Conditions takes nothing returns boolean
    return ( ( IsUnitAlly(GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker())) != true ) and ( IsUnitIllusionBJ(GetAttackedUnitBJ()) != true ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Hvwd_0016)) == 1 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttacker()) != 1 ) and ( GetRandomInt(1, 20) == 1 ) )
endfunction
function Trig_______19Func007Func001Func003002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Hvwd_0016)) == true ) ) )
endfunction
function Trig_______19Func007T takes nothing returns nothing
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) <= 2 + IJ1(moqi , 2 , 0) + IJ2(moqi , 2 , 0) ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x50525CFC, GetUnitLoc(gg_unit_Hvwd_0016))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(900.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x50525CFC) , Condition(function Trig_______19Func007Func001Func003002003))
        if ( ( CountUnitsInGroup(udg_Group) != 0 ) ) then
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, GetUnitLoc(GroupPickRandomUnit(udg_Group)))
        else
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x50525CFC), GetRandomReal(0, 900.00), GetRandomDirectionDeg()))
        endif
        call SaveUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x1BF14788, CreateUnitAtLoc(GetOwningPlayer(gg_unit_Hvwd_0016), 'h001', LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000), 0))
        call SetUnitFlyHeight(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x1BF14788), 0.00, 1000.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000))
        call DestroyGroup(udg_Group)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x50525CFC))
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig_______19Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Unit=GetTriggerUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.35 ))
        call PrintSpell(GetOwningPlayer(moqi) , GetAbilityName('A0G0') , GetDamageAgi(moqi) * 0.35)
    set ydl_timer=CreateTimer()
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x50525CFC, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x50525CFC))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0xDEFC4000, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x1BF14788, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1BF14788))
    call TimerStart(ydl_timer, 0.13, true, function Trig_______19Func007T)
    call YDWEPolledWaitNull(5.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_______19 takes nothing returns nothing
    set gg_trg_______19=CreateTrigger()
    call DisableTrigger(gg_trg_______19)
    call DoNothing()
    call TriggerAddCondition(gg_trg_______19, Condition(function Trig_______19Conditions))
    call TriggerAddAction(gg_trg_______19, function Trig_______19Actions)
endfunction
//===========================================================================
// Trigger: ÁéÑÁÆ≠20
//===========================================================================
function Trig_______20Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A04J' ) )
endfunction
function Trig_______20Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetTriggerUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.30 ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(GetTriggerUnit()) * 0.3)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=7
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[bj_forLoopAIndex]) == true ) ) then
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8, GetUnitLoc(udg_Unit_Qixing[bj_forLoopAIndex]))
            call CreateNUnitsAtLoc(1, 'h002', GetOwningPlayer(gg_unit_Hvwd_0016), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), bj_UNIT_FACING)
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)))
            call UnitApplyTimedLife(GetLastCreatedUnit(), 'BHwe', 8.00)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_______20 takes nothing returns nothing
    set gg_trg_______20=CreateTrigger()
    call DisableTrigger(gg_trg_______20)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______20, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______20, Condition(function Trig_______20Conditions))
    call TriggerAddAction(gg_trg_______20, function Trig_______20Actions)
endfunction
//===========================================================================
// Trigger: ÁéÑÁÆ≠21
//===========================================================================
function Trig_______21Conditions takes nothing returns boolean
    return ( ( UnitHasBuffBJ(GetEventDamageSource(), 'B018') == true ) and ( GetPlayerController(GetOwningPlayer(GetEventDamageSource())) == MAP_CONTROL_USER ) and ( GetEventDamage() > 10.00 ) and ( GetEventDamage() != 1000000000.00 ) and ( IsUnitAliveBJ(GetTriggerUnit()) == true ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) != MAP_CONTROL_USER ) and ( IsUnitIllusionBJ(GetEventDamageSource()) != true ) )
endfunction
function Trig_______21Actions takes nothing returns nothing
    if ( ( GetEventDamageSource() == gg_unit_Hvwd_0016 ) ) then
        if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEventDamageSource()) <= ( 0.25 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEventDamageSource()) ) ) ) then
            call SetUnitLifeBJ(GetEventDamageSource(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEventDamageSource()) + ( GetEventDamage() * 1.00 ) ))
        else
            call SetUnitLifeBJ(GetEventDamageSource(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEventDamageSource()) + ( GetEventDamage() * 0.03 ) ))
        endif
    else
        call SetUnitLifeBJ(GetEventDamageSource(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEventDamageSource()) + ( GetEventDamage() * 0.02 ) ))
    endif
endfunction
//===========================================================================
function InitTrig_______21 takes nothing returns nothing
    set gg_trg_______21=CreateTrigger()
    call DisableTrigger(gg_trg_______21)
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_______21)
    call TriggerAddCondition(gg_trg_______21, Condition(function Trig_______21Conditions))
    call TriggerAddAction(gg_trg_______21, function Trig_______21Actions)
endfunction
//===========================================================================
// Trigger: ÊòüËæ∞22
//===========================================================================
function Trig_______22Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A04L' ) )
endfunction
function Trig_______22Func012T takes nothing returns nothing
    set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 6 )] - ( I2R(LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D)) * 0.30 ) )
    set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 0 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 0 )] - ( I2R(LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D)) * 0.30 ) )
    set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Hvwd_0016)) + 12 )] - ( I2R(LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D)) * 0.30 ) )
    call TriggerExecute(gg_trg_papa10____________u)
    call TriggerExecute(gg_trg_papa9____________u)
    call TriggerExecute(gg_trg_papa8____________u)
    call TriggerExecute(gg_trg_D7)
    call DestroyEffect(LoadEffectHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x239F3A6E))
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_______22Actions takes nothing returns nothing
    local integer ydul_ar
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, 0)
    set ydul_ar=1
    loop
        exitwhen ydul_ar > 7
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[ydul_ar]) == true ) ) then
            call KillUnit(udg_Unit_Qixing[ydul_ar])
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) + 1 ))
        else
        endif
        set ydul_ar=ydul_ar + 1
    endloop
    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„Äê|r" + ( GetAbilityName(GetSpellAbilityId()) + ( "|cFFFF66CC„Äë|rÊàêÂäüÂ¢ûÂä†" + ( I2S(( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) * 30 )) + "%ÁöÑÂäõÈáè„ÄÅÊïèÊç∑„ÄÅÊô∫Âäõ„ÄÇ" ) ) ) ))
    set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + ( I2R(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D)) * 0.30 ) )
    set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 0 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 0 )] + ( I2R(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D)) * 0.30 ) )
    set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )] + ( I2R(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D)) * 0.30 ) )
    call TriggerExecute(gg_trg_papa10____________u)
    call TriggerExecute(gg_trg_papa9____________u)
    call TriggerExecute(gg_trg_papa8____________u)
    call TriggerExecute(gg_trg_D7)
    call SaveEffectHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x239F3A6E, AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl", GetTriggerUnit(), "chest"))
    set ydl_timer=CreateTimer()
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D))
    call SaveEffectHandle(YDHT, GetHandleId(ydl_timer), 0x239F3A6E, LoadEffectHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x239F3A6E))
    call TimerStart(ydl_timer, 60.00, false, function Trig_______22Func012T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_______22 takes nothing returns nothing
    set gg_trg_______22=CreateTrigger()
    call DisableTrigger(gg_trg_______22)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______22, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______22, Condition(function Trig_______22Conditions))
    call TriggerAddAction(gg_trg_______22, function Trig_______22Actions)
endfunction
//===========================================================================
// Trigger: ÂπΩÂÜ•ÂÜ∞È≠Ñ50
//===========================================================================
function Trig_____________50Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A049' ) )
endfunction
function Trig_____________50Func010Func001Func002A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_____________50Func010Func001Func009003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Uktl_0018)) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_____________50Func010Func001Func010A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Uktl_0018, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________50Func010T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) != 20 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xA99320FA), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xFDF65382)))
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________50Func010Func001Func009003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________50Func010Func001Func010A)
        set udg_Unit=CreateUnitAtLoc(GetOwningPlayer(gg_unit_Uktl_0018), 'h000', LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F), 0)
        call UnitAddAbilityBJ('A099', udg_Unit)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call IssueImmediateOrder(udg_Unit, "stomp")
        set udg_Unit=null
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
    else
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsOfTypeIdAllNull('h00A'))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________50Func010Func001Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________50Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
    call PlaySoundBJ(gg_snd_xuanxue_5)
    set udg_Unit=gg_unit_Uktl_0018
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.60 ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382, GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()) * 0.6)
    set ydl_timer=CreateTimer()
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xA99320FA, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xFDF65382, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xDD66C616, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDD66C616))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call TimerStart(ydl_timer, 1.00, true, function Trig_____________50Func010T)
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 100.00, ( ( 60.00 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
        call CreateNUnitsAtLoc(1, 'h00A', GetOwningPlayer(gg_unit_Uktl_0018), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0), bj_UNIT_FACING)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        set ydul_i=ydul_i + 1
    endloop
    call YDWEPolledWaitNull(0.25)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_i=1
    loop
        exitwhen ydul_i > 8
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 200.00, ( ( 45.00 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
        call CreateNUnitsAtLoc(1, 'h00A', GetOwningPlayer(gg_unit_Uktl_0018), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0), bj_UNIT_FACING)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        set ydul_i=ydul_i + 1
    endloop
    call YDWEPolledWaitNull(0.25)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_i=1
    loop
        exitwhen ydul_i > 10
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 300.00, ( ( 36.00 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
        call CreateNUnitsAtLoc(1, 'h00A', GetOwningPlayer(gg_unit_Uktl_0018), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0), bj_UNIT_FACING)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        set ydul_i=ydul_i + 1
    endloop
    call YDWEPolledWaitNull(0.25)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_i=1
    loop
        exitwhen ydul_i > 12
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 400.00, ( ( 30.00 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
        call CreateNUnitsAtLoc(1, 'h00A', GetOwningPlayer(gg_unit_Uktl_0018), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0), bj_UNIT_FACING)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        set ydul_i=ydul_i + 1
    endloop
    call YDWEPolledWaitNull(0.25)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_i=1
    loop
        exitwhen ydul_i > 14
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 500.00, ( ( 25.70 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
        call CreateNUnitsAtLoc(1, 'h00A', GetOwningPlayer(gg_unit_Uktl_0018), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0), bj_UNIT_FACING)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        set ydul_i=ydul_i + 1
    endloop
    call YDWEPolledWaitNull(0.25)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_i=1
    loop
        exitwhen ydul_i > 16
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 500.00, ( ( 22.50 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
        call CreateNUnitsAtLoc(1, 'h00A', GetOwningPlayer(gg_unit_Uktl_0018), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0), bj_UNIT_FACING)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        set ydul_i=ydul_i + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________50 takes nothing returns nothing
    set gg_trg_____________50=CreateTrigger()
    call DisableTrigger(gg_trg_____________50)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________50, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________50, Condition(function Trig_____________50Conditions))
    call TriggerAddAction(gg_trg_____________50, function Trig_____________50Actions)
endfunction
//===========================================================================
// Trigger: ÁÅµÈ≠ÇÂàªÂç∞51
//===========================================================================
function Trig_____________51Conditions takes nothing returns boolean
    return ( ( GetUnitAbilityLevelSwapped('ACev', GetDyingUnit()) != 0 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Uktl_0018)) == 1 ) )
endfunction
function Trig_____________51Func008002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) != true ) ) )
endfunction
function Trig_____________51Func009A takes nothing returns nothing
    call UnitDamageTarget(gg_unit_Uktl_0018, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_____________51Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Point=GetUnitLoc(GetDyingUnit())
    set udg_Unit=gg_unit_Uktl_0018
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(gg_unit_Uktl_0018))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.75 ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Uktl_0018))] ))
        call PrintSpell(GetOwningPlayer(xuanxue) , GetAbilityName('A047') , GetDamageInt(xuanxue) * 0.75)
    call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", udg_Point))
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_____________51Func008002003))
    call ForGroupBJ(udg_Group, function Trig_____________51Func009A)
    call DestroyGroup(udg_Group)
    call RemoveLocation(udg_Point)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________51 takes nothing returns nothing
    set gg_trg_____________51=CreateTrigger()
    call DisableTrigger(gg_trg_____________51)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________51, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_____________51, Condition(function Trig_____________51Conditions))
    call TriggerAddAction(gg_trg_____________51, function Trig_____________51Actions)
endfunction
//===========================================================================
// Trigger: ÈöêÂàÄ58
//===========================================================================
function Trig_______58Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( UnitHasBuffBJ(GetAttacker(), 'BOwk') == true ) )
endfunction
function Trig_______58Func006002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Unit)) == true ) ) )
endfunction
function Trig_______58Func007A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL)
endfunction
function Trig_______58Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetAttacker()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call PrintSpell(GetOwningPlayer(bajue) , GetAbilityName('AOwk') , GetDamageInt(bajue) * 1)
    set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(400.00 , udg_Point , Condition(function Trig_______58Func006002003))
    call ForGroupBJ(udg_Group, function Trig_______58Func007A)
    call DestroyGroup(udg_Group)
    if ( ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) ) then
        call UnitRemoveAbility(GetAttacker(), 'BOwk')
    else
    endif
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 150.00, ( ( 60.00 ) * ( I2R(GetForLoopIndexA()) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 300.00, ( ( 30.00 ) * ( I2R(GetForLoopIndexA()) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(udg_Point)
    set udg_Unit=null
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_______58 takes nothing returns nothing
    set gg_trg_______58=CreateTrigger()
    call DisableTrigger(gg_trg_______58)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______58, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_______58, Condition(function Trig_______58Conditions))
    call TriggerAddAction(gg_trg_______58, function Trig_______58Actions)
endfunction
//===========================================================================
// Trigger: ÈöêÂàÄ51
//===========================================================================
function Trig_______51Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AOwk' ) )
endfunction
function Trig_______51Actions takes nothing returns nothing
    call ImmuteDamageInterval(GetTriggerUnit() , 3)
endfunction
//===========================================================================
function InitTrig_______51 takes nothing returns nothing
    set gg_trg_______51=CreateTrigger()
    call DisableTrigger(gg_trg_______51)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______51, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______51, Condition(function Trig_______51Conditions))
    call TriggerAddAction(gg_trg_______51, function Trig_______51Actions)
endfunction
//===========================================================================
// Trigger: Âä≤È≠Ñ59
//===========================================================================
function Trig_______59Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Nbbc_0235)) == 1 ) and ( ( GetAttacker() == gg_unit_Nbbc_0235 ) or ( GetUnitTypeId(GetAttacker()) == 'N018' ) ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) <= ( 0.10 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) ) )
endfunction
function Trig_______59Actions takes nothing returns nothing
    call UnitDamageTargetBJ(GetAttacker(), GetAttackedUnitBJ(), 100000000.00, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", YDWECoordinateX(GetUnitX(GetAttackedUnitBJ())), YDWECoordinateY(GetUnitY(GetAttackedUnitBJ()))))
    call CreateTextTagUnitBJ("Áßí", GetAttackedUnitBJ(), 0, 16.00, 0.00, 100.00, 0.00, 0)
    call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
    call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
endfunction
//===========================================================================
function InitTrig_______59 takes nothing returns nothing
    set gg_trg_______59=CreateTrigger()
    call DisableTrigger(gg_trg_______59)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______59, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_______59, Condition(function Trig_______59Conditions))
    call TriggerAddAction(gg_trg_______59, function Trig_______59Actions)
endfunction
//===========================================================================
// Trigger: Âä≤È≠Ñ132
//===========================================================================
function Trig_______132Conditions takes nothing returns boolean
    return ( ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Nbbc_0235)) == 1 ) and ( ( GetUnitTypeId(GetKillingUnitBJ()) == 'N018' ) or ( GetUnitTypeId(GetKillingUnitBJ()) == 'Nbbc' ) ) and ( IsUnitAlly(GetDyingUnit(), Player(0)) != true ) and ( IsUnitEnemy(GetKillingUnitBJ(), Player(0)) != true ) )
endfunction
function Trig_______132Actions takes nothing returns nothing
    call SetUnitLifeBJ(gg_unit_Nbbc_0235, ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Nbbc_0235) + ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Nbbc_0235) * 0.05 ) ))
    call SetUnitManaBJ(gg_unit_Nbbc_0235, ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Nbbc_0235) + 10.00 ))
    if ( ( GetUnitUserData(gg_unit_ncop_0005) != 1 ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl", GetUnitX(gg_unit_Nbbc_0235), GetUnitY(gg_unit_Nbbc_0235)))
    else
        call SetUnitUserData(gg_unit_ncop_0005, 1)
        call YDWEPolledWaitNull(1.00)
        call SetUnitUserData(gg_unit_ncop_0005, 0)
    endif
    if ( ( udg_J_Po <= 15 ) ) then
        set udg_J_Po=( udg_J_Po + 3 )
    else
        set udg_J_Po=18
    endif
    if ( ( GetUnitAbilityLevelSwapped('A0C9', gg_unit_Nbbc_0235) != 1 ) ) then
        call AddSpellPercent(GetConvertedPlayerId(GetOwningPlayer(bajue)) , 1)
        call UnitAddAbilityBJ('A0C9', gg_unit_Nbbc_0235)
        call AddSpecialEffectTargetUnitBJ("chest", gg_unit_Nbbc_0235, "Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedTarget.mdl")
        set udg_Eff_J=GetLastCreatedEffectBJ()
        call CreateTextTagUnitBJ(( "Âä≤È≠Ñ" + ( SubStringBJ(R2S(( 0.20 * I2R(udg_J_Po) )), 1, 3) + "s" ) ), gg_unit_Nbbc_0235, 50.00, 15.00, 0.00, 100.00, 0.00, 0)
        set udg_Piaofu_Zhandouli[7]=GetLastCreatedTextTag()
    else
    endif
    call SetTextTagTextBJ(udg_Piaofu_Zhandouli[7], ( "Âä≤È≠Ñ" + ( SubStringBJ(R2S(( 0.20 * I2R(udg_J_Po) )), 1, 3) + "s" ) ), 15.00)
endfunction
//===========================================================================
function InitTrig_______132 takes nothing returns nothing
    set gg_trg_______132=CreateTrigger()
    call DisableTrigger(gg_trg_______132)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______132, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_______132, Condition(function Trig_______132Conditions))
    call TriggerAddAction(gg_trg_______132, function Trig_______132Actions)
endfunction
//===========================================================================
// Trigger: Ê∞∏ÊÅí60
//===========================================================================
function Trig_______60Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0FS' ) )
endfunction
function Trig_______60Func007Func001Func007002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitAlly(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313))) != true ) ) )
endfunction
function Trig_______60Func007T takes nothing returns nothing
    if ( ( IsUnitAliveBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313)) == true ) and ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) < 34 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_______60Func007Func001Func007002003))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", udg_Point))
        if ( ( CountUnitsInGroup(udg_Group) == 0 ) ) then
            call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, 34)
        else
            if ( ( CountUnitsInGroup(udg_Group) == 1 ) ) then
                if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xD13E8D8A) == 5 ) ) then
                    call SaveUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC7389490, GroupPickRandomUnit(udg_Group))
                    call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xD13E8D8A, 0)
                else
                    call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xD13E8D8A, 5)
                endif
            else
                call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, udg_Group)
                if ( ( IsUnitAliveBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC7389490)) == true ) ) then
                    call GroupRemoveUnitSimple(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC7389490), udg_Group)
                else
                    call DoNothing()
                endif
                call SaveUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC7389490, GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)))
                call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
            endif
            if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xD13E8D8A) == 5 ) ) then
                call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8, PolarProjectionBJ(udg_Point, GetRandomReal(300.00, 500.00), GetRandomDirectionDeg()))
            else
                call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC7389490)))
                call UnitDamageTargetBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313), LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC7389490), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL)
                call UnitDamageTargetBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313), LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC7389490), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
            endif
            if ( ( IsTerrainPathableBJ(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), PATHING_TYPE_WALKABILITY) == false ) ) then
                call SetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313), YDWECoordinateX(GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8))))
                call SetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313), YDWECoordinateY(GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8))))
            else
                call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313)))
            endif
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)))
            call IssueTargetOrder(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313), "attack", LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC7389490))
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8))
        endif
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
        call SetUnitInvulnerable(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x4C4C9313), false)
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig_______60Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetTriggerUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.25 ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageStr(GetTriggerUnit()) * 0.25)
    call SetUnitInvulnerable(udg_Unit, true)
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x4C4C9313, GetTriggerUnit())
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC7389490, null)
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xD13E8D8A, 0)
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x32A9E4C8, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    call TimerStart(ydl_timer, 0.15, true, function Trig_______60Func007T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_______60 takes nothing returns nothing
    set gg_trg_______60=CreateTrigger()
    call DisableTrigger(gg_trg_______60)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______60, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______60, Condition(function Trig_______60Conditions))
    call TriggerAddAction(gg_trg_______60, function Trig_______60Actions)
endfunction
//===========================================================================
// Trigger: ÂâëËàû61
//===========================================================================
function Trig_______61Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AOww' ) )
endfunction
function Trig_______61Actions takes nothing returns nothing
    set udg_Point=GetUnitLoc(gg_unit_Nbbc_0235)
    if ( ( IsUnitAliveBJ(udg_Unit_Jiansheng) == true ) ) then
        call RemoveUnit(udg_Unit_Jiansheng)
        set udg_Unit_Jiansheng=CreateUnitAtLoc(GetOwningPlayer(gg_unit_Nbbc_0235), 'h016', udg_Point, 0)
    else
        set udg_Unit_Jiansheng=CreateUnitAtLoc(GetOwningPlayer(gg_unit_Nbbc_0235), 'h016', udg_Point, 0)
    endif
    call IssueImmediateOrder(udg_Unit_Jiansheng, "whirlwind")
    call RemoveLocation(udg_Point)
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageStr(GetTriggerUnit()) * 0.75)
    call EnableTrigger(gg_trg_______63)
    call PlaySoundBJ(gg_snd_bajue_5)
endfunction
//===========================================================================
function InitTrig_______61 takes nothing returns nothing
    set gg_trg_______61=CreateTrigger()
    call DisableTrigger(gg_trg_______61)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______61, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______61, Condition(function Trig_______61Conditions))
    call TriggerAddAction(gg_trg_______61, function Trig_______61Actions)
endfunction
//===========================================================================
// Trigger: ÂâëËàû63
//===========================================================================
function Trig_______63Func001Func007002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Nbbc_0235)) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_______63Func001Func008A takes nothing returns nothing
    call UnitDamageTarget(gg_unit_Nbbc_0235, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call UnitDamageTarget(gg_unit_Nbbc_0235, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), false, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_______63Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitAliveBJ(gg_unit_Nbbc_0235) == true ) ) then
        set udg_Unit=gg_unit_Nbbc_0235
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageStr(bajue) * 0.75 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(udg_Unit_Jiansheng))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(400.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_______63Func001Func007002003))
        call ForGroupBJ(udg_Group, function Trig_______63Func001Func008A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
        call RemoveUnit(udg_Unit_Jiansheng)
        call DisableTrigger(GetTriggeringTrigger())
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_______63 takes nothing returns nothing
    set gg_trg_______63=CreateTrigger()
    call DisableTrigger(gg_trg_______63)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_______63, 1.00)
    call TriggerAddAction(gg_trg_______63, function Trig_______63Actions)
endfunction
//===========================================================================
// Trigger: ÂàÜË∫´62
//===========================================================================
function Trig_______62Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'Absk' ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig_______62Func002002002 takes nothing returns boolean
    return ( ( ( GetUnitTypeId(GetFilterUnit()) == 'N018' ) and ( IsUnitIllusionBJ(GetFilterUnit()) != true ) ) )
endfunction
function Trig_______62Actions takes nothing returns nothing
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitAbilityLevel(bajue, 'A0C9') == 1 ) ) then
    else
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=3
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_Point=GetUnitLoc(gg_unit_Nbbc_0235)
            call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(gg_unit_Nbbc_0235), udg_Point, bj_UNIT_FACING)
            call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
            call UnitAddAbilityBJ('A0FT', GetLastCreatedUnit())
            call IssueTargetOrderById(GetLastCreatedUnit(), 852274, gg_unit_Nbbc_0235)
            if ( ( BJuexing1[GetConvertedPlayerId(GetOwningPlayer(bajue))] ) ) then
                call UnitAddAbility(GetLastCreatedUnit(), 'A0JI')
            else
            endif
            call RemoveLocation(udg_Point)
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    endif
    set udg_Group=YDWEGetUnitsOfPlayerMatchingNull(GetOwningPlayer(gg_unit_Nbbc_0235) , Condition(function Trig_______62Func002002002))
    if ( ( CountUnitsInGroup(udg_Group) >= IJ1(bajue , udg_Jiansheng + 2 , udg_Jiansheng) ) ) then
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC7389490, GroupPickRandomUnit(udg_Group))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl", GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC7389490)), GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC7389490))))
        call FlushChildHashtable(YDHT, GetHandleId(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC7389490)))
        call RemoveUnit(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC7389490))
    else
    endif
    if ( ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(bajue))] ) and ( not ( IsWudi(bajue) ) ) ) then
        call ImmuteDamageInterval(bajue , 2)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", GetUnitX(bajue), GetUnitY(bajue)))
    else
    endif
    call DestroyGroup(udg_Group)
    set udg_Point=GetUnitLoc(gg_unit_Nbbc_0235)
    call CreateNUnitsAtLoc(1, 'N018', GetOwningPlayer(gg_unit_Nbbc_0235), udg_Point, bj_UNIT_FACING)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl", GetUnitX(GetLastCreatedUnit()), GetUnitY(GetLastCreatedUnit())))
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Nbbc_0235, ydul_i)), GetLastCreatedUnit())
        call SetItemDroppable(GetLastCreatedItem(), false)
        call SetItemPawnable(GetLastCreatedItem(), false)
        set ydul_i=ydul_i + 1
    endloop
    call SetUnitUserData(GetLastCreatedUnit(), 1)
    set udg_Unit=GetLastCreatedUnit()
    call SetHeroLevelBJ(udg_Unit, GetHeroLevel(GetTriggerUnit()), false)
    call SetUnitManaBJ(udg_Unit, GetUnitStateSwap(UNIT_STATE_MANA, GetTriggerUnit()))
    if ( ( GetUnitAbilityLevel(bajue, 'AOwk') == 1 ) ) then
        call SelectHeroSkill(udg_Unit, 'AOwk')
    else
    endif
    if ( ( GetUnitAbilityLevel(bajue, 'A0FS') == 1 ) ) then
        call SelectHeroSkill(udg_Unit, 'A0FS')
    else
    endif
    if ( ( GetUnitAbilityLevel(bajue, 'AOcr') == 1 ) ) then
        call SelectHeroSkill(udg_Unit, 'AOcr')
    else
    endif
    if ( ( GetUnitAbilityLevel(bajue, 'AOr2') == 1 ) ) then
        call SelectHeroSkill(udg_Unit, 'AOr2')
    else
    endif
    call SelectUnitForPlayerSingle(udg_Unit, GetOwningPlayer(bajue))
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + 0 ))
    call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
    call TriggerExecute(gg_trg___________________4000______u)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + 0 ))
    call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
    call TriggerExecute(gg_trg_____________800W)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0xFCD961C9) + 0 ))
    call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
    call TriggerExecute(gg_trg_HP_____________________u)
    call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_SET, GetHeroStatBJ(bj_HEROSTAT_STR, GetTriggerUnit(), false))
    call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_SET, GetHeroStatBJ(bj_HEROSTAT_AGI, GetTriggerUnit(), false))
    call ModifyHeroStat(bj_HEROSTAT_INT, udg_Unit, bj_MODIFYMETHOD_SET, GetHeroStatBJ(bj_HEROSTAT_INT, GetTriggerUnit(), false))
    call RemoveLocation(udg_Point)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_______62 takes nothing returns nothing
    set gg_trg_______62=CreateTrigger()
    call DisableTrigger(gg_trg_______62)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______62, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______62, Condition(function Trig_______62Conditions))
    call TriggerAddAction(gg_trg_______62, function Trig_______62Actions)
endfunction
//===========================================================================
// Trigger: ÂàÜË∫´133
//===========================================================================
function Trig_______133Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetBuyingUnit()) == 'N018' ) and ( GetItemType(GetSoldItem()) != ITEM_TYPE_POWERUP ) )
endfunction
function Trig_______133Actions takes nothing returns nothing
    call RemoveItem(GetSoldItem())
    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰∏çËÉΩÁªôÂÆû‰ΩìÂàÜË∫´Ë¥≠‰π∞Áâ©ÂìÅ.")
endfunction
//===========================================================================
function InitTrig_______133 takes nothing returns nothing
    set gg_trg_______133=CreateTrigger()
    call DisableTrigger(gg_trg_______133)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______133, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_______133, Condition(function Trig_______133Conditions))
    call TriggerAddAction(gg_trg_______133, function Trig_______133Actions)
endfunction
//===========================================================================
// Trigger: ÂàÜË∫´134
//===========================================================================
function Trig_______134Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetTriggerUnit()) == 'N018' ) and ( GetItemType(GetManipulatedItem()) != ITEM_TYPE_POWERUP ) and ( GetUnitUserData(GetTriggerUnit()) == 1 ) )
endfunction
function Trig_______134Actions takes nothing returns nothing
    call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰∏çËÉΩÁªôÂÆû‰ΩìÂàÜË∫´Áâ©ÂìÅ.")
endfunction
//===========================================================================
function InitTrig_______134 takes nothing returns nothing
    set gg_trg_______134=CreateTrigger()
    call DisableTrigger(gg_trg_______134)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______134, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg_______134, Condition(function Trig_______134Conditions))
    call TriggerAddAction(gg_trg_______134, function Trig_______134Actions)
endfunction
//===========================================================================
// Trigger: ÈªØÈªëÊùÄÈòµ65
//===========================================================================
function Trig_____________65Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'ACfs' ) )
endfunction
function Trig_____________65Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    if ( ( GetUnitUserData(gg_unit_h00K_0254) == 0 ) ) then
        call UnitAddAbilityBJ('A0DT', gg_unit_h00K_0254)
        call UnitAddAbilityBJ('A0AF', gg_unit_h00K_0254)
        call UnitAddAbilityBJ('Aloc', gg_unit_h00K_0254)
        call ShowUnitShow(gg_unit_h00K_0254)
        call SetUnitPositionLoc(gg_unit_h00K_0254, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call SetUnitUserData(gg_unit_h00K_0254, 1)
        call CreateTextTagLocBJ("1Êª¥Ë°Ä", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0, 25.00, 0.00, 0.00, 100.00, 0)
        set udg_Piaofu_Shazhen=GetLastCreatedTextTag()
    else
        call SetUnitPositionLoc(gg_unit_h00K_0254, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call SetTextTagPosBJ(udg_Piaofu_Shazhen, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0)
    endif
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________65 takes nothing returns nothing
    set gg_trg_____________65=CreateTrigger()
    call DisableTrigger(gg_trg_____________65)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________65, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________65, Condition(function Trig_____________65Conditions))
    call TriggerAddAction(gg_trg_____________65, function Trig_____________65Actions)
endfunction
//===========================================================================
// Trigger: ÈªØÈªëÊùÄÈòµ66
//===========================================================================
function Trig_____________66Conditions takes nothing returns boolean
    return ( ( IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(xiaoyue)) == true ) and ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitPointValue(GetDyingUnit()) != 0 ) and ( GetUnitPointValue(GetDyingUnit()) != 123 ) and ( IsUnitInRange(GetDyingUnit(), gg_unit_h00K_0254, RJ3(xiaoyue , 2000 , 900)) == true ) and ( GetRandomInt(1, 10) == 1 ) and ( GetUnitUserData(gg_unit_h00K_0254) < R2I(SquareRoot(I2R(GetHeroLevel(xiaoyue)))) + IJ1(xiaoyue , 2 , 0) + I3(IsXiaoyueSpin() , 2 , 0) ) and ( GetUnitUserData(gg_unit_h00K_0254) != 0 ) )
endfunction
function Trig_____________66Actions takes nothing returns nothing
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit())))
    call SetUnitUserData(gg_unit_h00K_0254, ( GetUnitUserData(gg_unit_h00K_0254) + 1 ))
    call SetTextTagTextBJ(udg_Piaofu_Shazhen, ( I2S(GetUnitUserData(gg_unit_h00K_0254)) + "Êª¥Ë°Ä" ), 25.00)
endfunction
//===========================================================================
function InitTrig_____________66 takes nothing returns nothing
    set gg_trg_____________66=CreateTrigger()
    call DisableTrigger(gg_trg_____________66)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________66, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_____________66, Condition(function Trig_____________66Conditions))
    call TriggerAddAction(gg_trg_____________66, function Trig_____________66Actions)
endfunction
//===========================================================================
// Trigger: ËìÑÂäõÁÆ≠67
//===========================================================================
function Trig__________67Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'ANcl' ) )
endfunction
function Trig__________67Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetSpellTargetLoc())
    call CreateNUnitsAtLoc(1, 'h00F', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
    set udg_Unit_Xuli=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'h019', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0.00)
    set udg_U_Xuli_2=GetLastCreatedUnit()
    call UnitAddAbilityBJ('A0A5', GetLastCreatedUnit())
    call CreateTextTagLocBJ("Â∑≤ËìÑÂäõ0.0s", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0, 10.00, 100, 100, 0.00, 0)
    set udg_Piaofu_Xuli=GetLastCreatedTextTag()
    set udg_I_Xuli=0
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
    			call ImmuteDamageInterval(xiaoyue , 2)
    call EnableTrigger(gg_trg__________68)
    call EnableTrigger(gg_trg__________69)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig__________67 takes nothing returns nothing
    set gg_trg__________67=CreateTrigger()
    call DisableTrigger(gg_trg__________67)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg__________67, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg__________67, Condition(function Trig__________67Conditions))
    call TriggerAddAction(gg_trg__________67, function Trig__________67Actions)
endfunction
//===========================================================================
// Trigger: ËìÑÂäõÁÆ≠68
//===========================================================================
function Trig__________68Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_I_Xuli=( udg_I_Xuli + 1 )
    if ( ( udg_I_Xuli < 10 ) ) then
        call SetTextTagTextBJ(udg_Piaofu_Xuli, ( "Â∑≤ËìÑÂäõ0." + ( I2S(udg_I_Xuli) + "s" ) ), 10)
    else
        call SetTextTagTextBJ(udg_Piaofu_Xuli, ( ( "Â∑≤ËìÑÂäõ" + ( SubStringBJ(I2S(udg_I_Xuli), 1, 1) + "." ) ) + ( SubStringBJ(I2S(udg_I_Xuli), 2, 2) + "s" ) ), 10)
    endif
    if ( ( IsUnitAliveBJ(udg_Unit_Xuli) != true ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(xiaoyue))
        call CreateNUnitsAtLoc(1, 'h00F', GetOwningPlayer(xiaoyue), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), GetUnitFacing(xiaoyue))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Unit_Xuli=GetLastCreatedUnit()
    else
    endif
    if ( ( ( udg_I_Xuli == 10 ) or ( udg_I_Xuli == 20 ) or ( udg_I_Xuli == 30 ) or ( udg_I_Xuli == 40 ) or ( udg_I_Xuli == 50 ) or ( udg_I_Xuli == 60 ) or ( udg_I_Xuli == 70 ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl", GetUnitX(udg_Unit_Xuli), GetUnitY(udg_Unit_Xuli)))
    else
    endif
    if ( ( udg_I_Xuli == 70 ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl", GetUnitX(udg_Unit_Xuli), GetUnitY(udg_Unit_Xuli)))
    else
    endif
    call SetUnitScalePercent(udg_Unit_Xuli, ( 100.00 + ( I2R(udg_I_Xuli) * 13.00 ) ), ( 100.00 + ( I2R(udg_I_Xuli) * 13.00 ) ), ( 100.00 + ( 13.00 * I2R(udg_I_Xuli) ) ))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig__________68 takes nothing returns nothing
    set gg_trg__________68=CreateTrigger()
    call DisableTrigger(gg_trg__________68)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg__________68, 0.10)
    call TriggerAddAction(gg_trg__________68, function Trig__________68Actions)
endfunction
//===========================================================================
// Trigger: ËìÑÂäõÁÆ≠69
//===========================================================================
function Trig__________69Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'ANcl' ) )
endfunction
function Trig__________69Func008Func001Func005002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(xiaoyue)) == true ) ) )
endfunction
function Trig__________69Func008Func001Func006A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)) == false ) ) then
        call UnitDamageTargetBJ(xiaoyue, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
    else
    endif
endfunction
function Trig__________69Func008T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) >= R2I(( 2.86 * I2R(LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xE74221A8)) )) ) ) then
        call KillUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateX(( GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 60.00 * CosBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call SetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateY(( GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 60.00 * SinBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(( 100.00 + ( 4.29 * I2R(LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xE74221A8)) ) ) , udg_Point , Condition(function Trig__________69Func008Func001Func005002003))
        call ForGroupBJ(udg_Group, function Trig__________69Func008Func001Func006A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig__________69Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DestroyTextTag(udg_Piaofu_Xuli)
    call RemoveUnit(udg_U_Xuli_2)
    set udg_U_Xuli_2=null
    set udg_Unit=xiaoyue
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageAgi(xiaoyue) * 0.06 * udg_I_Xuli ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845, ( GetUnitFacing(udg_Unit_Xuli) ))
        call PrintSpell(GetOwningPlayer(xiaoyue) , GetAbilityName('ANcl') , GetDamageAgi(xiaoyue) * 0.06 * udg_I_Xuli)
    set ydl_timer=CreateTimer()
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, udg_Unit_Xuli)
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xE74221A8, udg_I_Xuli)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x2B0A6845, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, CreateGroup())
    call TimerStart(ydl_timer, 0.05, true, function Trig__________69Func008T)
    call DisableTrigger(gg_trg__________68)
    call DisableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig__________69 takes nothing returns nothing
    set gg_trg__________69=CreateTrigger()
    call DisableTrigger(gg_trg__________69)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg__________69, EVENT_PLAYER_UNIT_SPELL_ENDCAST)
    call TriggerRegisterAnyUnitEventBJ(gg_trg__________69, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(gg_trg__________69, Condition(function Trig__________69Conditions))
    call TriggerAddAction(gg_trg__________69, function Trig__________69Actions)
endfunction
//===========================================================================
// Trigger: Á¶ÅË®ÄÈ¢ÜÂüü70
//===========================================================================
function Trig_____________70Conditions takes nothing returns boolean
    return ( ( IsUnitAlly(GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker())) != true ) and ( GetAttacker() == xiaoyue ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(xiaoyue)) == 1 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttackedUnitBJ()) != 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, xiaoyue) > 150.00 ) and ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) > ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) ) ) )
endfunction
function Trig_____________70Func012Func002Func005002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(xiaoyue)) == true ) ) )
endfunction
function Trig_____________70Func012Func002Func006A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)) == false ) ) then
        call UnitDamageTargetBJ(xiaoyue, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
    else
    endif
endfunction
function Trig_____________70Func012T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) >= 40 ) ) then
        call KillUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateX(( GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 60.00 * CosBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call SetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateY(( GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 60.00 * SinBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(140.00 , udg_Point , Condition(function Trig_____________70Func012Func002Func005002003))
        call ForGroupBJ(udg_Group, function Trig_____________70Func012Func002Func006A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________70Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Unit=xiaoyue
    set udg_Point=GetUnitLoc(GetAttacker())
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetAttackedUnitBJ()))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageAgi(xiaoyue) * 0.66 ))
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(GetOwningPlayer(xiaoyue), 'h00F', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))))
    call SetUnitScalePercent(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), 360.00, 360.00, 360.00)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845, ( GetUnitFacing(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D)) ))
        call PrintSpell(GetOwningPlayer(xiaoyue) , GetAbilityName('A0AD') , GetDamageAgi(xiaoyue) * 0.66)
    call RemoveLocation(udg_Point)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x2B0A6845, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, CreateGroup())
    call TimerStart(ydl_timer, 0.05, true, function Trig_____________70Func012T)
    call YDWEPolledWaitNull(5.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________70 takes nothing returns nothing
    set gg_trg_____________70=CreateTrigger()
    call DisableTrigger(gg_trg_____________70)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________70, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________70, Condition(function Trig_____________70Conditions))
    call TriggerAddAction(gg_trg_____________70, function Trig_____________70Actions)
endfunction
//===========================================================================
// Trigger: ÊÅêÊÄñÂéãÂà∂71
//===========================================================================
function Trig_____________71Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(( ( SquareRoot(SquareRoot(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, U3(xiaoyue != null , xiaoyue , xinglong), true)))) * I2R(GetHeroLevel(U3(xiaoyue != null , xiaoyue , xinglong))) ) / 2.00 )))
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) <= 10 ) ) then
        call SetUnitAbilityLevelSwapped('A0AJ', gg_unit_n01S_0258, 1)
    else
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) < 100 ) ) then
            call SetUnitAbilityLevelSwapped('A0AJ', gg_unit_n01S_0258, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 10 ))
        else
            if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) < 4750 ) ) then
                call SetUnitAbilityLevelSwapped('A0AJ', gg_unit_n01S_0258, ( ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) - 100 ) / 50 ) + 10 ))
            else
                call SetUnitAbilityLevelSwapped('A0AJ', gg_unit_n01S_0258, 100)
            endif
        endif
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________71 takes nothing returns nothing
    set gg_trg_____________71=CreateTrigger()
    call DisableTrigger(gg_trg_____________71)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_____________71, 10.00)
    call TriggerAddAction(gg_trg_____________71, function Trig_____________71Actions)
endfunction
//===========================================================================
// Trigger: ÊÅêÊÄñÂéãÂà∂72
//===========================================================================
function Trig_____________72Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'ANbr' ) )
endfunction
function Trig_____________72Func007Func001Func003Func003002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(xiaoyue)) == true ) ) )
endfunction
function Trig_____________72Func007Func001Func003Func004A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)) == true ) ) then
        call DoNothing()
    else
        call UnitDamageTargetBJ(xiaoyue, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(xiaoyue, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL)
    endif
endfunction
function Trig_____________72Func007T takes nothing returns nothing
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) <= 600 ) and ( IsUnitAliveBJ(xiaoyue) == true ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x214C62CC, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x214C62CC) + 1 ))
        set ydul_i=1
        loop
            exitwhen ydul_i > 5
            call SetUnitFacing(udg_U_Yazhi[ydul_i], ( ( YDWEAngleBetweenUnits(udg_U_Yazhi[ydul_i] , xiaoyue) ) - ( 90.00 ) ))
            set udg_Point=GetUnitLoc(udg_U_Yazhi[ydul_i])
            set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(75.00 , udg_Point , Condition(function Trig_____________72Func007Func001Func003Func003002003))
            call ForGroupBJ(udg_Group, function Trig_____________72Func007Func001Func003Func004A)
            call GroupAddGroup(udg_Group, LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
            call DestroyGroup(udg_Group)
            call RemoveLocation(udg_Point)
            set ydul_i=ydul_i + 1
        endloop
        if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x214C62CC) == 35 ) ) then
            call GroupClear(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
            call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x214C62CC, 0)
        else
            call DoNothing()
        endif
    else
        set ydul_i=1
        loop
            exitwhen ydul_i > 5
            call RemoveUnit(udg_U_Yazhi[ydul_i])
            set ydul_i=ydul_i + 1
        endloop
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________72Actions takes nothing returns nothing
    local integer ydul_i
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=xiaoyue
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.50 ))
    call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(GetTriggerUnit()) * 0.5)
    set ydul_i=1
    loop
        exitwhen ydul_i > 5
        call YDWECreateEwsp(xiaoyue , 'h00F' , 1 , ( 100.00 + ( 100.00 * I2R(ydul_i) ) ) , 30.00 , 0.05 , 10.00)
        call SetUnitScalePercent(GetLastCreatedUnit(), 200.00, 200.00, 200.00)
        set udg_U_Yazhi[ydul_i]=GetLastCreatedUnit()
        set ydul_i=ydul_i + 1
    endloop
    set ydl_timer=CreateTimer()
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1.00 ))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x214C62CC, 0)
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, CreateGroup())
    call TimerStart(ydl_timer, 0.05, true, function Trig_____________72Func007T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________72 takes nothing returns nothing
    set gg_trg_____________72=CreateTrigger()
    call DisableTrigger(gg_trg_____________72)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________72, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________72, Condition(function Trig_____________72Conditions))
    call TriggerAddAction(gg_trg_____________72, function Trig_____________72Actions)
endfunction
//===========================================================================
// Trigger: ÁÅµÈ≠ÇÂõöÁ¨º76
//===========================================================================
function Trig_____________76Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0AH' ) )
endfunction
function Trig_____________76Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Point=GetUnitLoc(xiaoyue)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetSpellTargetUnit()))
    if ( ( udg_U_Cage == null ) ) then
        call AddLightningLoc("HWPB", udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Lightning_Cage=GetLastCreatedLightningBJ()
    else
        call DoNothing()
    endif
    set udg_U_Cage=GetSpellTargetUnit()
    call RemoveLocation(udg_Point)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call EnableTrigger(gg_trg_____________77)
    call EnableTrigger(gg_trg_____________105)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________76 takes nothing returns nothing
    set gg_trg_____________76=CreateTrigger()
    call DisableTrigger(gg_trg_____________76)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________76, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________76, Condition(function Trig_____________76Conditions))
    call TriggerAddAction(gg_trg_____________76, function Trig_____________76Actions)
endfunction
//===========================================================================
// Trigger: ÁÅµÈ≠ÇÂõöÁ¨º77
//===========================================================================
function Trig_____________77Actions takes nothing returns nothing
    if ( ( IsUnitAliveBJ(xiaoyue) == true ) and ( IsUnitAliveBJ(udg_U_Cage) == true ) ) then
        set udg_X[2]=GetUnitLoc(xiaoyue)
        set udg_X[4]=GetUnitLoc(udg_U_Cage)
        if ( ( GetLocationX(udg_X[1]) == GetLocationX(udg_X[2]) ) and ( GetLocationY(udg_X[1]) == GetLocationY(udg_X[2]) ) and ( GetLocationX(udg_X[3]) == GetLocationX(udg_X[4]) ) and ( GetLocationY(udg_X[3]) == GetLocationY(udg_X[4]) ) ) then
        else
            call MoveLightningLoc(udg_Lightning_Cage, udg_X[2], udg_X[4])
        endif
        call RemoveLocation(udg_X[1])
        call RemoveLocation(udg_X[2])
        call RemoveLocation(udg_X[3])
        call RemoveLocation(udg_X[4])
        set udg_X[1]=GetUnitLoc(xiaoyue)
        set udg_X[3]=GetUnitLoc(udg_U_Cage)
    else
        call DestroyLightning(udg_Lightning_Cage)
        set udg_U_Cage=null
        call RemoveLocation(udg_X[1])
        call RemoveLocation(udg_X[3])
        call DisableTrigger(GetTriggeringTrigger())
        call DisableTrigger(gg_trg_____________105)
    endif
    if ( ( GetUnitUserData(gg_unit_n00M_0042) == 30 ) ) then
        call SetUnitUserData(gg_unit_n00M_0042, 0)
        if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, xiaoyue) != GetUnitStateSwap(UNIT_STATE_MAX_LIFE, xiaoyue) ) ) then
            call SetUnitLifePercentBJ(xiaoyue, 100)
            call SetUnitLifeBJ(udg_U_Cage, ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_U_Cage) - ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, xiaoyue) - GetUnitStateSwap(UNIT_STATE_LIFE, xiaoyue) ) ))
        else
        endif
    else
        call SetUnitUserData(gg_unit_n00M_0042, ( GetUnitUserData(gg_unit_n00M_0042) + 1 ))
    endif
endfunction
//===========================================================================
function InitTrig_____________77 takes nothing returns nothing
    set gg_trg_____________77=CreateTrigger()
    call DisableTrigger(gg_trg_____________77)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_____________77, 0.05)
    call TriggerAddAction(gg_trg_____________77, function Trig_____________77Actions)
endfunction
//===========================================================================
// Trigger: ÁÅµÈ≠ÇÂõöÁ¨º105
//===========================================================================
function Trig_____________105Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetEventDamage() >= 2.00 ) and ( GetEventDamage() <= ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, xiaoyue) * 2.00 ) ) )
endfunction
function Trig_____________105Actions takes nothing returns nothing
    call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + ( GetEventDamage() / 2.00 ) ))
    call SetUnitLifeBJ(udg_U_Cage, ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_U_Cage) - ( GetEventDamage() * 1.50 ) ))
endfunction
//===========================================================================
function InitTrig_____________105 takes nothing returns nothing
    set gg_trg_____________105=CreateTrigger()
    call DisableTrigger(gg_trg_____________105)
    call DoNothing()
    call TriggerRegisterUnitEvent(gg_trg_____________105, xiaoyue, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(gg_trg_____________105, Condition(function Trig_____________105Conditions))
    call TriggerAddAction(gg_trg_____________105, function Trig_____________105Actions)
endfunction
//===========================================================================
// Trigger: ÁÆ≠Á•ûÊâ´Â∞Ñ106
//===========================================================================
function Trig_____________106Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'ANen' ) )
endfunction
function Trig_____________106Func012T takes nothing returns nothing
    local integer ydul_i
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) < 20 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xA99320FA), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xFDF65382)))
        set ydul_i=1
        loop
            exitwhen ydul_i > 20
            call IssuePointOrderLoc(udg_Unit_Jianshen[ydul_i], "carrionswarm", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
            set ydul_i=ydul_i + 1
        endloop
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
    else
        set ydul_i=1
        loop
            exitwhen ydul_i > 20
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, GetUnitLoc(udg_Unit_Jianshen[ydul_i]))
            call RemoveUnit(udg_Unit_Jianshen[ydul_i])
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
            set ydul_i=ydul_i + 1
        endloop
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig_____________106Actions takes nothing returns nothing
    local integer ydul_i
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=xiaoyue
    call PlaySoundBJ(gg_snd_xiaoyue_5)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.06 ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(GetTriggerUnit()) * 0.06)
    set udg_Point=GetUnitLoc(GetSpellTargetUnit())
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA, GetLocationX(udg_Point))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382, GetLocationY(udg_Point))
    set ydul_i=1
    loop
        exitwhen ydul_i > 20
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 600.00, ( ( 18.00 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call CreateNUnitsAtLocFacingLocBJ(1, 'h00G', GetOwningPlayer(xiaoyue), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), udg_Point)
        set udg_Unit_Jianshen[ydul_i]=GetLastCreatedUnit()
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set ydul_i=ydul_i + 1
    endloop
    call RemoveLocation(udg_Point)
    set ydl_timer=CreateTimer()
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xFDF65382, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xA99320FA, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1.00 ))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call TimerStart(ydl_timer, 1.00, true, function Trig_____________106Func012T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________106 takes nothing returns nothing
    set gg_trg_____________106=CreateTrigger()
    call DisableTrigger(gg_trg_____________106)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________106, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________106, Condition(function Trig_____________106Conditions))
    call TriggerAddAction(gg_trg_____________106, function Trig_____________106Actions)
endfunction
//===========================================================================
// Trigger: ÊúàÁ•û‰πãÁÆ≠81
//===========================================================================
function Trig_____________81Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'ACbc' ) )
endfunction
function Trig_____________81Func016Func001Func006002003 takes nothing returns boolean
    return ( ( IsEnemy(GetFilterUnit() , taiya) ) )
endfunction
function Trig_____________81Func016Func001Func007A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)) == false ) ) then
        call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        if ( ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
            if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) <= ( 0.10 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) and ( IsUnitAliveBJ(GetEnumUnit()) == true ) ) then
                call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEnumUnit(), 100000000.00, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
                call CreateTextTagUnitBJ("Áßí", GetEnumUnit(), 0, 16.00, 0.00, 100.00, 0.00, 0)
                call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
                call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
                 call AddTaiyaSpin()
            else
            endif
            if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) > ( 0.90 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) and ( IsUnitAliveBJ(GetEnumUnit()) == true ) ) then
                call SetUnitLifePercentBJ(GetEnumUnit(), 90.00)
            else
            endif
        else
            if ( ( GetRandomInt(1, 100) <= R2I(( ( 1.00 - ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) * 50.00 )) ) and ( IsUnitAliveBJ(GetEnumUnit()) == true ) ) then
                call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEnumUnit(), 100000000.00, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
                call CreateTextTagUnitBJ("Áßí", GetEnumUnit(), 0, 16.00, 0.00, 100.00, 0.00, 0)
                call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
                call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
                 call AddTaiyaSpin()
            else
            endif
            if ( ( IsUnitAliveBJ(GetEnumUnit()) == true ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) <= ( 0.20 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) ) then
                call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEnumUnit(), 100000000.00, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
                call CreateTextTagUnitBJ("Áßí", GetEnumUnit(), 0, 16.00, 0.00, 100.00, 0.00, 0)
                call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
                call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
                 call AddTaiyaSpin()
            else
            endif
            if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) > ( 0.80 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) and ( IsUnitAliveBJ(GetEnumUnit()) == true ) ) then
                call SetUnitLifePercentBJ(GetEnumUnit(), 80.00)
            else
            endif
        endif
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
    else
    endif
endfunction
function Trig_____________81Func016Func001Func009002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Etyr_0017)) != true ) ) )
endfunction
function Trig_____________81Func016Func001Func010A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)) == false ) ) then
        call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) + ( ( RJ1(taiya , 1 , 0.25) ) * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ))
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
    else
    endif
endfunction
function Trig_____________81Func016T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) >= 160 ) ) then
        call KillUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateX(( GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 50.00 * CosBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call SetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateY(( GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 50.00 * SinBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl", GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)), GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))))
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(300.00 , udg_Point , Condition(function Trig_____________81Func016Func001Func006002003))
        call ForGroupBJ(udg_Group, function Trig_____________81Func016Func001Func007A)
        call DestroyGroup(udg_Group)
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(300.00 , udg_Point , Condition(function Trig_____________81Func016Func001Func009002003))
        call ForGroupBJ(udg_Group, function Trig_____________81Func016Func001Func010A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________81Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitUserData(gg_unit_ncp3_0238) != 1 ) ) then
        call SetUnitUserData(gg_unit_ncp3_0238, 1)
    else
    endif
    if ( ( udg_Jishi_Baihu > 0 ) ) then
        set udg_Jishi_Baihu=10
    else
        if ( ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Etyr_0017)) == 1 ) and ( GetUnitAbilityLevelSwapped('A0BB', gg_unit_Etyr_0017) == 1 ) and ( udg_Jishi_Baihu == 0 ) ) then
            call TriggerExecute(gg_trg_____________88)
        else
        endif
    endif
    set udg_Point=GetUnitLoc(GetTriggerUnit())
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(GetOwningPlayer(gg_unit_Etyr_0017), 'h005', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))))
    set udg_Unit=GetSpellAbilityUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * ( RJ1(taiya , 1.5 , 0.75) ) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845, ( AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)) ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(GetTriggerUnit()) * 0.06)
    call RemoveLocation(udg_Point)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    if ( ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(taiya))] ) ) then
        call ImmuteDamageInterval(taiya , 1)
    else
    endif
    call YDWEPolledWaitNull(1.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x2B0A6845, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, CreateGroup())
    call TimerStart(ydl_timer, 0.05, true, function Trig_____________81Func016T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________81 takes nothing returns nothing
    set gg_trg_____________81=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________81, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________81, Condition(function Trig_____________81Conditions))
    call TriggerAddAction(gg_trg_____________81, function Trig_____________81Actions)
endfunction
//===========================================================================
// Trigger: Âà∑Êñ∞CD
//===========================================================================
function Trig_______CDConditions takes nothing returns boolean
    return ( ( GetTriggerUnit() == gg_unit_Etyr_0017 ) and ( GetSpellAbilityId() != 'ACbc' ) )
endfunction
function Trig_______CDActions takes nothing returns nothing
    call UnitRemoveAbilityBJ('ACbc', GetTriggerUnit())
    call UnitAddAbilityBJ('ACbc', GetTriggerUnit())
    call SetUnitAbilityLevel(taiya, 'ACbc', 1 + IJ1(taiya , 1 , 0) + IJ2(taiya , 1 , 0) + IJ3(taiya , 1 , 0))
endfunction
//===========================================================================
function InitTrig_______CD takes nothing returns nothing
    set gg_trg_______CD=CreateTrigger()
    call DisableTrigger(gg_trg_______CD)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______CD, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______CD, Condition(function Trig_______CDConditions))
    call TriggerAddAction(gg_trg_______CD, function Trig_______CDActions)
endfunction
//===========================================================================
// Trigger: ÊòüÂΩ±ÊÆãÂáª82
//===========================================================================
function Trig_____________82Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AHtc' ) )
endfunction
function Trig_____________82Func009002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Etyr_0017)) == true ) ) )
endfunction
function Trig_____________82Func010A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________82Actions takes nothing returns nothing
    local integer ydul_ii
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( udg_Jishi_Baihu > 0 ) ) then
        set udg_Jishi_Baihu=10
    else
        if ( ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Etyr_0017)) == 1 ) and ( GetUnitAbilityLevelSwapped('A0BB', gg_unit_Etyr_0017) == 1 ) and ( udg_Jishi_Baihu == 0 ) ) then
            call TriggerExecute(gg_trg_____________88)
        else
        endif
    endif
    set udg_Unit=GetSpellAbilityUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Etyr_0017))
    set ydul_ii=0
    loop
        exitwhen ydul_ii > 3
        set ydul_i=1
        loop
            exitwhen ydul_i > ( ( ydul_ii * 2 ) + 4 )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), ( 300.00 + ( 600.00 * I2R(ydul_ii) ) ), ( ( ( ( 360.00 ) / ( I2R(( ( ydul_ii * 2 ) + 4 )) ) ) ) * ( I2R(ydul_i) ) )))
            call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\ShootingStar.mdx", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
            set ydul_i=ydul_i + 1
        endloop
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        set ydul_ii=ydul_ii + 1
    endloop
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageAgi(GetTriggerUnit()))
    call YDWEPolledWaitNull(0.80)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(2600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_____________82Func009002003))
    call ForGroupBJ(udg_Group, function Trig_____________82Func010A)
    call DestroyGroup(udg_Group)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________82 takes nothing returns nothing
    set gg_trg_____________82=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________82, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________82, Condition(function Trig_____________82Conditions))
    call TriggerAddAction(gg_trg_____________82, function Trig_____________82Actions)
endfunction
//===========================================================================
// Trigger: ÊúàÂÖâ‰πãÈòµ83
//===========================================================================
function Trig_____________83Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AHpx' ) )
endfunction
function Trig_____________83Actions takes nothing returns nothing
    if ( ( udg_Jishi_Baihu > 0 ) ) then
        set udg_Jishi_Baihu=10
    else
        if ( ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Etyr_0017)) == 1 ) and ( GetUnitAbilityLevelSwapped('A0BB', gg_unit_Etyr_0017) == 1 ) and ( udg_Jishi_Baihu == 0 ) ) then
            call TriggerExecute(gg_trg_____________88)
        else
        endif
    endif
    call EnableTrigger(gg_trg_____________84)
    call ShowUnitShow(gg_unit_h006_0252)
    call SetUnitInvulnerable(gg_unit_h006_0252, true)
    set udg_Point=GetUnitLoc(gg_unit_Etyr_0017)
    call SetUnitPositionLoc(gg_unit_h006_0252, udg_Point)
    call RemoveLocation(udg_Point)
    call SetUnitUserData(gg_unit_h006_0252, 1)
    call YDWEPolledWaitNull(30.00)
    call ShowUnitHide(gg_unit_h006_0252)
    call SetUnitUserData(gg_unit_h006_0252, 0)
    call DisableTrigger(gg_trg_____________84)
endfunction
//===========================================================================
function InitTrig_____________83 takes nothing returns nothing
    set gg_trg_____________83=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________83, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________83, Condition(function Trig_____________83Conditions))
    call TriggerAddAction(gg_trg_____________83, function Trig_____________83Actions)
endfunction
//===========================================================================
// Trigger: ÊúàÂÖâ‰πãÈòµ84
//===========================================================================
function Trig_____________84Func002002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitAlly(GetFilterUnit(), GetOwningPlayer(gg_unit_Etyr_0017)) == true ) ) )
endfunction
function Trig_____________84Func003A takes nothing returns nothing
    if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) != GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) then
        if ( ( GetEnumUnit() == gg_unit_Etyr_0017 ) and ( IsUnitIllusionBJ(GetEnumUnit()) != true ) ) then
            call SetUnitLifeBJ(GetEnumUnit(), GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()))
        else
            call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) + ( 0.08 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ))
        endif
    else
    endif
    if ( ( GetUnitStateSwap(UNIT_STATE_MANA, GetEnumUnit()) != GetUnitStateSwap(UNIT_STATE_MAX_MANA, GetEnumUnit()) ) ) then
        call SetUnitManaBJ(GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetEnumUnit()) + 15.00 ))
    else
    endif
endfunction
function Trig_____________84Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    set udg_Point=GetUnitLoc(gg_unit_h006_0252)
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , udg_Point , Condition(function Trig_____________84Func002002003))
    call ForGroupBJ(udg_Group, function Trig_____________84Func003A)
    call RemoveLocation(udg_Point)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________84 takes nothing returns nothing
    set gg_trg_____________84=CreateTrigger()
    call DisableTrigger(gg_trg_____________84)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_____________84, 0.25)
    call TriggerAddAction(gg_trg_____________84, function Trig_____________84Actions)
endfunction
//===========================================================================
// Trigger: ÊúàÂÖâ‰πãÈòµ85
//===========================================================================
function Trig_____________85Conditions takes nothing returns boolean
    return ( ( IsUnitAlly(GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker())) != true ) and ( GetAttacker() == gg_unit_Etyr_0017 ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Etyr_0017)) == 1 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttackedUnitBJ()) != 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Etyr_0017) > 150.00 ) and ( IsUnitInRange(GetAttackedUnitBJ(), gg_unit_Etyr_0017, 600) == true ) )
endfunction
function Trig_____________85Func011002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Etyr_0017)) == true ) ) )
endfunction
function Trig_____________85Func012A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________85Actions takes nothing returns nothing
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Unit=gg_unit_Etyr_0017
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.50 ))
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Etyr_0017))
    call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\ShootingStar.mdx", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 300.00, ( ( 60.00 ) * ( I2R(ydul_i) ) )))
        call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\ShootingStar.mdx", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        set ydul_i=ydul_i + 1
    endloop
        call PrintSpell(GetOwningPlayer(taiya) , GetAbilityName('AHpx') , GetDamageAgi(taiya) * 0.5)
    call YDWEPolledWaitNull(0.80)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_____________85Func011002003))
    call ForGroupBJ(udg_Group, function Trig_____________85Func012A)
    call DestroyGroup(udg_Group)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call YDWEPolledWaitNull(4.20)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________85 takes nothing returns nothing
    set gg_trg_____________85=CreateTrigger()
    call DisableTrigger(gg_trg_____________85)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________85, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________85, Condition(function Trig_____________85Conditions))
    call TriggerAddAction(gg_trg_____________85, function Trig_____________85Actions)
endfunction
//===========================================================================
// Trigger: ÊÅíÊòüÂ∫á‰Ωë86
//===========================================================================
function Trig_____________86Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Etyr_0017)) == 1 ) and ( GetRandomInt(1, 10) <= 3 ) and ( GetEventDamage() >= 2.00 ) and ( GetEventDamage() <= 100000000.00 ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetEventDamageSource() , 'tlum')) != 'tlum' ) and ( GetEventDamageSource() != GetTriggerUnit() ) and ( GetUnitTypeId(GetEventDamageSource()) != 'Etyr' ) and ( GetEventDamageSource() != chenji ) )
endfunction
function Trig_____________86Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call SetUnitLifeBJ(gg_unit_Etyr_0017, ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Etyr_0017) + ( 2.00 * GetEventDamage() ) ))
    if ( ( IsUnitInRange(gg_unit_h006_0252, gg_unit_Etyr_0017, 1800.00) == true ) and ( GetUnitUserData(gg_unit_h006_0252) == 1 ) ) then
        call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEventDamageSource(), ( GetEventDamage() * 5.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON)
    else
    endif
    if ( ( GetUnitUserData(gg_unit_ncop_0006) != 1 ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\ReplenishHealth\\ReplenishHealthCasterOverhead.mdl", GetUnitX(gg_unit_Etyr_0017), GetUnitY(gg_unit_Etyr_0017)))
    else
        call SetUnitUserData(gg_unit_ncop_0006, 1)
        call YDWEPolledWaitNull(1.00)
        call SetUnitUserData(gg_unit_ncop_0006, 0)
    endif
    call EnableTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig_____________86 takes nothing returns nothing
    set gg_trg_____________86=CreateTrigger()
    call DisableTrigger(gg_trg_____________86)
    call DoNothing()
    call TriggerAddCondition(gg_trg_____________86, Condition(function Trig_____________86Conditions))
    call TriggerAddAction(gg_trg_____________86, function Trig_____________86Actions)
endfunction
//===========================================================================
// Trigger: ÊÅíÊòüÂ∫á‰Ωë87
//===========================================================================
function Trig_____________87Conditions takes nothing returns boolean
    return ( ( UnitHasBuffBJ(gg_unit_Etyr_0017, 'BEim') == true ) and ( IsUnitAliveBJ(gg_unit_Etyr_0017) == true ) )
endfunction
function Trig_____________87Func006002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Etyr_0017)) == true ) ) )
endfunction
function Trig_____________87Func007A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________87Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=gg_unit_Etyr_0017
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.50 ))
    set udg_Point=GetUnitLoc(gg_unit_Etyr_0017)
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(900.00 , udg_Point , Condition(function Trig_____________87Func006002003))
    call ForGroupBJ(udg_Group, function Trig_____________87Func007A)
    call DestroyGroup(udg_Group)
    call RemoveLocation(udg_Point)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________87 takes nothing returns nothing
    set gg_trg_____________87=CreateTrigger()
    call DisableTrigger(gg_trg_____________87)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_____________87, 1.00)
    call TriggerAddCondition(gg_trg_____________87, Condition(function Trig_____________87Conditions))
    call TriggerAddAction(gg_trg_____________87, function Trig_____________87Actions)
endfunction
//===========================================================================
// Trigger: Ëá™ÁÑ∂‰πãÊÅØ88
//===========================================================================
function Trig_____________88Func009Func001Func007002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Etyr_0017)) == true ) ) )
endfunction
function Trig_____________88Func009Func001Func008A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Etyr_0017, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________88Func009T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) < 7 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x31F57EDB), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x7B9C7BF5)))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________88Func009Func001Func007002003))
        call ForGroupBJ(udg_Group, function Trig_____________88Func009Func001Func008A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
    else
        set udg_Jishi_Baihu=10
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________88Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetSpellAbilityUnit()
    set udg_Jishi_Baihu=- 1
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.66 ))
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Etyr_0017))
    call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\Lasercannon.mdx", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call PrintSpell(GetOwningPlayer(taiya) , GetAbilityName('A0JZ') , GetDamageAgi(taiya) * 0.66)
    set ydl_timer=CreateTimer()
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x31F57EDB, GetUnitX(gg_unit_Etyr_0017))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x7B9C7BF5, GetUnitY(gg_unit_Etyr_0017))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xDD66C616, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call TimerStart(ydl_timer, 1.00, true, function Trig_____________88Func009T)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________88 takes nothing returns nothing
    set gg_trg_____________88=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_____________88, function Trig_____________88Actions)
endfunction
//===========================================================================
// Trigger: Â§úËé∫‰π±Ëàû99
//===========================================================================
function Trig_____________99Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AHwe' ) )
endfunction
function Trig_____________99Func009A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
endfunction
function Trig_____________99Actions takes nothing returns nothing
    local integer ydul_o
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( udg_Jishi_Baihu > 0 ) ) then
        set udg_Jishi_Baihu=10
    else
        call TriggerExecute(gg_trg_____________88)
    endif
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
        call PrintSpellName(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()))
    call PlaySoundBJ(gg_snd_taiya_5)
    set ydul_o=1
    loop
        exitwhen ydul_o > 9
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 1800.00, ( ( 20.00 ) * ( I2R(ydul_o) ) )))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 1800.00, ( ( ( ( 20.00 ) * ( I2R(ydul_o) ) ) ) + ( 180.00 ) )))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE)))
        call CreateNUnitsAtLocFacingLocBJ(1, 'nowl', GetOwningPlayer(gg_unit_Etyr_0017), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call IssuePointOrderLoc(GetLastCreatedUnit(), "patrol", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
        call CreateNUnitsAtLocFacingLocBJ(1, 'nowl', GetOwningPlayer(gg_unit_Etyr_0017), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call IssuePointOrderLoc(GetLastCreatedUnit(), "patrol", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
        set ydul_o=ydul_o + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call YDWEPolledWaitNull(45.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Group=YDWEGetUnitsOfTypeIdAllNull('nowl')
    call ForGroupBJ(udg_Group, function Trig_____________99Func009A)
    call DestroyGroup(udg_Group)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________99 takes nothing returns nothing
    set gg_trg_____________99=CreateTrigger()
    call DisableTrigger(gg_trg_____________99)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________99, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________99, Condition(function Trig_____________99Conditions))
    call TriggerAddAction(gg_trg_____________99, function Trig_____________99Actions)
endfunction
//===========================================================================
// Trigger: ÊÅíÊòüÂ∫á‰Ωë89
//===========================================================================
function Trig_____________89Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AEim' ) )
endfunction
function Trig_____________89Actions takes nothing returns nothing
    if ( ( udg_Jishi_Baihu > 0 ) ) then
        set udg_Jishi_Baihu=10
    else
        if ( ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Etyr_0017)) == 1 ) and ( GetUnitAbilityLevelSwapped('A0BB', gg_unit_Etyr_0017) == 1 ) and ( udg_Jishi_Baihu == 0 ) ) then
            call TriggerExecute(gg_trg_____________88)
        else
        endif
    endif
endfunction
//===========================================================================
function InitTrig_____________89 takes nothing returns nothing
    set gg_trg_____________89=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________89, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________89, Condition(function Trig_____________89Conditions))
    call TriggerAddAction(gg_trg_____________89, function Trig_____________89Actions)
endfunction
//===========================================================================
// Trigger: ÂÜ∑Âç¥96
//===========================================================================
function Trig_______96Actions takes nothing returns nothing
    if ( ( GetSpellAbilityId() == 'AUls' ) ) then
        set udg_HuangZhiluanwu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
        call YDWEPolledWaitNull(60.00)
        set udg_HuangZhiluanwu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
        if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'sksh')) == 'sksh' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'oslo')) == 'oslo' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'grsl')) == 'grsl' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'flag')) == 'flag' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'ocor')) == 'ocor' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'blba')) == 'blba' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'cosl')) == 'cosl' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'shhn')) == 'shhn' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'rat3')) == 'rat3' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'pams')) == 'pams' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'jdrn')) == 'jdrn' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'shcw')) == 'shcw' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'stre')) == 'stre' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'shrs')) == 'shrs' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'kgal')) == 'kgal' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'shtm')) == 'shtm' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'lure')) == 'lure' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'thdm')) == 'thdm' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'arsh')) == 'arsh' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'srtl')) == 'srtl' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'rots')) == 'rots' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'tmmt')) == 'tmmt' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'brag')) == 'brag' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'olig')) == 'olig' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'tbar')) == 'tbar' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'ccmd')) == 'ccmd' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'iwbr')) == 'iwbr' ) or ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'tlum')) == 'tlum' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'ICS1')) == 'ICS1' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'I04W')) == 'I04W' ) ) ) ) ) then
        else
            call UnitRemoveAbilityBJ('AUls', GetTriggerUnit())
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_______96 takes nothing returns nothing
    set gg_trg_______96=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______96, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(gg_trg_______96, function Trig_______96Actions)
endfunction
//===========================================================================
// Trigger: Èõ∑Á•ûËΩ∞È∏£97
//===========================================================================
function Trig_____________97Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AHbz' ) )
endfunction
function Trig_____________97Actions takes nothing returns nothing
    call RemoveLocation(udg_Point_Hongming)
    set udg_Point_Hongming=GetSpellTargetLoc()
    call EnableTrigger(gg_trg_____________98)
    call PlaySoundBJ(gg_snd_yanmie_5)
        call PrintSpellName(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()))
endfunction
//===========================================================================
function InitTrig_____________97 takes nothing returns nothing
    set gg_trg_____________97=CreateTrigger()
    call DisableTrigger(gg_trg_____________97)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________97, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________97, Condition(function Trig_____________97Conditions))
    call TriggerAddAction(gg_trg_____________97, function Trig_____________97Actions)
endfunction
//===========================================================================
// Trigger: Èõ∑Á•ûËΩ∞È∏£98
//===========================================================================
function Trig_____________98Func001Func009002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Eevi_0020)) == true ) and ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetFilterUnit() != udg_U_Zhuansheng_Dantiao[2] ) ) ) )
endfunction
function Trig_____________98Func001Func013A takes nothing returns nothing
    call UnitDamageTarget(gg_unit_Eevi_0020, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_____________98Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitAliveBJ(gg_unit_Eevi_0020) == true ) ) then
        set udg_Unit=gg_unit_Eevi_0020
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.40 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point_Hongming, GetRandomReal(0, 450.00), GetRandomDirectionDeg()))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(450.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_____________98Func001Func009002003))
        call CreateNUnitsAtLoc(1, 'h00C', GetOwningPlayer(gg_unit_Eevi_0020), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call ForGroupBJ(udg_Group, function Trig_____________98Func001Func013A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
        call RemoveLocation(udg_Point_Hongming)
        call DisableTrigger(GetTriggeringTrigger())
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________98 takes nothing returns nothing
    set gg_trg_____________98=CreateTrigger()
    call DisableTrigger(gg_trg_____________98)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_____________98, 0.50)
    call TriggerAddAction(gg_trg_____________98, function Trig_____________98Actions)
endfunction
//===========================================================================
// Trigger: Ë£ÅÂÜ≥100
//===========================================================================
function Trig_______100Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AOsh' ) )
endfunction
function Trig_______100Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call RemoveUnit(udg_Unit_Judge)
    call PlaySoundBJ(gg_snd_moqi_5)
    set udg_Unit_Judge=null
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, GetUnitLoc(GetTriggerUnit()))
        call PrintSpellName(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()))
     call JudgeMoqiSpin()
    set udg_Unit_Judge=CreateUnitAtLoc(GetOwningPlayer(gg_unit_Hvwd_0016), 'h00D', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
    call EnableTrigger(gg_trg_______101)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_______100 takes nothing returns nothing
    set gg_trg_______100=CreateTrigger()
    call DisableTrigger(gg_trg_______100)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______100, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_______100, Condition(function Trig_______100Conditions))
    call TriggerAddAction(gg_trg_______100, function Trig_______100Actions)
endfunction
//===========================================================================
// Trigger: Ë£ÅÂÜ≥101
//===========================================================================
function Trig_______101Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitAliveBJ(gg_unit_Hvwd_0016) == true ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(udg_Unit_Judge))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 256.00, GetUnitFacing(udg_Unit_Judge)))
        call IssuePointOrderLoc(udg_Unit_Judge, "carrionswarm", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
    else
        call RemoveUnit(udg_Unit_Judge)
        set udg_Unit_Judge=null
        call DisableTrigger(GetTriggeringTrigger())
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_______101 takes nothing returns nothing
    set gg_trg_______101=CreateTrigger()
    call DisableTrigger(gg_trg_______101)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_______101, 0.50)
    call TriggerAddAction(gg_trg_______101, function Trig_______101Actions)
endfunction
//===========================================================================
// Trigger: Ê≤ôËë¨È£éÊö¥103
//===========================================================================
function Trig_____________103Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AOsf' ) )
endfunction
function Trig_____________103Func010Func001Func007003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Ocbh_0251)) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_____________103Func010Func001Func008A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Ocbh_0251, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________103Func010T takes nothing returns nothing
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) != 20 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xA99320FA), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xFDF65382)))
        set ydul_i=1
        loop
            exitwhen ydul_i > 8
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F), GetRandomReal(0, 750.00), GetRandomDirectionDeg()))
            call CreateNUnitsAtLoc(1, 'h00B', GetOwningPlayer(gg_unit_Ocbh_0251), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0), bj_UNIT_FACING)
            call UnitApplyTimedLifeBJ(2.50, 'BHwe', GetLastCreatedUnit())
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0))
            set ydul_i=ydul_i + 1
        endloop
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________103Func010Func001Func007003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________103Func010Func001Func008A)
        set udg_Unit=CreateUnitAtLoc(GetOwningPlayer(gg_unit_Ocbh_0251), 'h000', LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F), 0)
        call UnitAddAbilityBJ('ANdh', udg_Unit)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', udg_Unit)
        call IssueTargetOrder(udg_Unit, "drunkenhaze", GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)))
        set udg_Unit=null
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
    else
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________103Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
    set udg_Unit=gg_unit_Ocbh_0251
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.50 ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382, GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageStr(GetTriggerUnit()) * 0.5)
    call PlaySoundBJ(gg_snd_kaisa_5)
    set ydl_timer=CreateTimer()
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xA99320FA, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xFDF65382, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xDD66C616, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDD66C616))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x8D3C1FA0, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
    call TimerStart(ydl_timer, 1.00, true, function Trig_____________103Func010T)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________103 takes nothing returns nothing
    set gg_trg_____________103=CreateTrigger()
    call DisableTrigger(gg_trg_____________103)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________103, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________103, Condition(function Trig_____________103Conditions))
    call TriggerAddAction(gg_trg_____________103, function Trig_____________103Actions)
endfunction
//===========================================================================
// Trigger: ‰∫îË°å105
//===========================================================================
function Trig_______105Conditions takes nothing returns boolean
    return ( ( ( GetUnitTypeId(GetAttacker()) == 'Nbbc' ) or ( GetUnitTypeId(GetAttacker()) == 'N018' ) ) and ( IsUnitAlly(GetAttacker(), GetOwningPlayer(gg_unit_Nbbc_0235)) == true ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Nbbc_0235)) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Nbbc_0235) >= 600.00 ) )
endfunction
function Trig_______105Func005Func002Func010Func002003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) == true ) ) )
endfunction
function Trig_______105Func005Func002Func011A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_______105Func005Func003Func010Func002003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) == true ) ) )
endfunction
function Trig_______105Func005Func003Func011A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_______105Actions takes nothing returns nothing
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( ( GetUnitTypeId(GetAttacker()) == 'Nbbc' ) or ( GetUnitTypeId(GetAttacker()) == 'N018' ) ) and ( GetPlayerController(GetOwningPlayer(GetAttacker())) == MAP_CONTROL_USER ) ) then
        if ( ( GetRandomInt(1, 50) == 1 ) ) then
            call DisableTrigger(GetTriggeringTrigger())
            set udg_Unit=gg_unit_Nbbc_0235
            set udg_Point=GetUnitLoc(GetAttacker())
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, CreateGroup())
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1.00 ))
                call PrintSpell(GetOwningPlayer(bajue) , "|cffff0000ÁÅ´|r" , GetDamageStr(bajue))
            set ydul_i=1
            loop
                exitwhen ydul_i > 10
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, ( 90.00 * I2R(ydul_i) ), GetUnitFacing(GetAttacker())))
                call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(100.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_______105Func005Func002Func010Func002003003)))
                call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
                call GroupAddGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
                call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                set ydul_i=ydul_i + 1
            endloop
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB), function Trig_______105Func005Func002Func011A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call RemoveLocation(udg_Point)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call EnableTrigger(GetTriggeringTrigger())
        else
        endif
        if ( ( GetRandomInt(1, 50) == 1 ) ) then
            call DisableTrigger(GetTriggeringTrigger())
            set udg_Unit=gg_unit_Nbbc_0235
            set udg_Point=GetUnitLoc(GetAttacker())
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, CreateGroup())
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1.00 ))
                call PrintSpell(GetOwningPlayer(bajue) , "|cff0000ffÈõ∑|r" , GetDamageStr(bajue))
            set ydul_i=1
            loop
                exitwhen ydul_i > 10
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, ( 90.00 * I2R(ydul_i) ), GetUnitFacing(GetAttacker())))
                call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(100.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_______105Func005Func003Func010Func002003003)))
                call DestroyEffect(AddSpecialEffectLoc("war3mapImported\\OrbitalRay.mdx", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
                call GroupAddGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
                call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                set ydul_i=ydul_i + 1
            endloop
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB), function Trig_______105Func005Func003Func011A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call RemoveLocation(udg_Point)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call EnableTrigger(GetTriggeringTrigger())
        else
        endif
        if ( ( GetRandomInt(1, 50) == 1 ) ) then
            call DisableTrigger(GetTriggeringTrigger())
            set udg_Unit=gg_unit_Nbbc_0235
            set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, CreateGroup())
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 10.00 ))
                call PrintSpell(GetOwningPlayer(bajue) , "|cff808000Âúü|r" , GetDamageStr(bajue) * 10)
            call UnitDamageTargetBJ(udg_Unit, GetAttackedUnitBJ(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL)
            call CreateUnitEffect(GetOwningPlayer(udg_Unit) , 'hh00' , GetLocationX(udg_Point) , GetLocationY(udg_Point) , 0)
            call RemoveLocation(udg_Point)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call EnableTrigger(GetTriggeringTrigger())
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_______105 takes nothing returns nothing
    set gg_trg_______105=CreateTrigger()
    call DisableTrigger(gg_trg_______105)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______105, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_______105, Condition(function Trig_______105Conditions))
    call TriggerAddAction(gg_trg_______105, function Trig_______105Actions)
endfunction
//===========================================================================
// Trigger: ‰∫îË°å24
//===========================================================================
function Trig_______24Conditions takes nothing returns boolean
    return ( ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Nbbc' ) or ( GetUnitTypeId(GetAttackedUnitBJ()) == 'N018' ) ) and ( IsUnitAlly(GetAttackedUnitBJ(), GetOwningPlayer(gg_unit_Nbbc_0235)) == true ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Nbbc_0235)) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Nbbc_0235) >= 600.00 ) )
endfunction
function Trig_______24Func005Func002Func010003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttackedUnitBJ())) == true ) ) )
endfunction
function Trig_______24Func005Func002Func011A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_______24Func005Func003Func010003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttackedUnitBJ())) == true ) ) )
endfunction
function Trig_______24Func005Func003Func011A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Unit, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_______24Actions takes nothing returns nothing
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'Nbbc' ) or ( GetUnitTypeId(GetAttackedUnitBJ()) == 'N018' ) ) and ( GetPlayerController(GetOwningPlayer(GetAttackedUnitBJ())) == MAP_CONTROL_USER ) ) then
        if ( ( GetRandomInt(1, 50) == 1 ) ) then
            call DisableTrigger(GetTriggeringTrigger())
            set udg_Unit=gg_unit_Nbbc_0235
            set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1.00 ))
                call PrintSpell(GetOwningPlayer(bajue) , "|cff808000Êú®|r" , GetDamageStr(bajue))
            set ydul_i=1
            loop
                exitwhen ydul_i > 6
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 300.00, ( ( 60.00 ) * ( I2R(ydul_i) ) )))
                call UnitApplyTimedLifeBJ(3.00, 'BHwe', CreateUnitAtLoc(GetOwningPlayer(GetAttackedUnitBJ()), 'h00H', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                set ydul_i=ydul_i + 1
            endloop
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_______24Func005Func002Func010003003)))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB), function Trig_______24Func005Func002Func011A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call RemoveLocation(udg_Point)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call EnableTrigger(GetTriggeringTrigger())
        else
        endif
        if ( ( GetRandomInt(1, 50) == 1 ) ) then
            call DisableTrigger(GetTriggeringTrigger())
            set udg_Unit=gg_unit_Nbbc_0235
            set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1.00 ))
                call PrintSpell(GetOwningPlayer(bajue) , "|cff00ccffÊ∞¥|r" , GetDamageStr(bajue))
            set ydul_i=1
            loop
                exitwhen ydul_i > 6
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 300.00, ( ( 60.00 ) * ( I2R(ydul_i) ) )))
                call UnitApplyTimedLifeBJ(3.00, 'BHwe', CreateUnitAtLoc(GetOwningPlayer(GetAttackedUnitBJ()), 'h00I', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                set ydul_i=ydul_i + 1
            endloop
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_______24Func005Func003Func010003003)))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB), function Trig_______24Func005Func003Func011A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAA168BFB))
            call RemoveLocation(udg_Point)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call EnableTrigger(GetTriggeringTrigger())
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_______24 takes nothing returns nothing
    set gg_trg_______24=CreateTrigger()
    call DisableTrigger(gg_trg_______24)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_______24, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_______24, Condition(function Trig_______24Conditions))
    call TriggerAddAction(gg_trg_______24, function Trig_______24Actions)
endfunction
//===========================================================================
// Trigger: ÂπªÂΩ±106
//===========================================================================
function Trig_______106Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call YDWEPolledWaitNull(0.25)
    call EnableTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig_______106 takes nothing returns nothing
    set gg_trg_______106=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_______106, function Trig_______106Actions)
endfunction
//===========================================================================
// Trigger: Ë°ÄÁÖû‰πãÁãº108
//===========================================================================
function Trig_____________108Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0E7' ) and ( GetSpellAbilityUnit() == sheyan ) )
endfunction
function Trig_____________108Actions takes nothing returns nothing
    local integer ydul_l
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 2)
    if ( ( GetUnitAbilityLevelSwapped('AOcl', gg_unit_Othr_0256) == 1 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('AOws', gg_unit_Othr_0256) == 1 ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A0E9', gg_unit_Othr_0256) == 1 ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A0EA', gg_unit_Othr_0256) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('AOvd', gg_unit_Othr_0256) == 1 ) and ( GetPlayerTechCountSimple('R00B', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) and ( GetPlayerTechCountSimple('R00A', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) and ( GetPlayerTechCountSimple('R009', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
    else
    endif
    set udg_Unit2=GetSpellAbilityUnit()
    set ydul_l=1
    loop
        exitwhen ydul_l > LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)
        if ( ( IsUnitAliveBJ(udg_Lang[ydul_l]) != true ) ) then
            set udg_Point2=GetUnitLoc(GetSpellAbilityUnit())
            set udg_Unit=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'O000', udg_Point2, 270.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0x81FD3994) + 0 ))
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
            call TriggerExecute(gg_trg___________________4000______u)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0x5039AFFB) * 1 ))
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
            call TriggerExecute(gg_trg_____________800W)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0xFCD961C9) / 1 ))
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
            call TriggerExecute(gg_trg_HP_____________________u)
            call TriggerExecute(gg_trg_____________116)
            call AddLangRevive(udg_Unit)
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_STR, gg_unit_Othr_0256, false) / 1 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_AGI, gg_unit_Othr_0256, false) / 1 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_INT, gg_unit_Othr_0256, false) * 1 ))
            set udg_Lang[ydul_l]=udg_Unit
            call RemoveLocation(udg_Point2)
            set udg_Point=GetUnitLoc(udg_Lang[ydul_l])
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", udg_Point))
            call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(gg_unit_Othr_0256)), udg_Point, 5.00)
            call RemoveLocation(udg_Point)
        else
            set udg_Point2=GetUnitLoc(udg_Lang[ydul_l])
            call FlushChildHashtable(YDHT, GetHandleId(udg_Lang[ydul_l]))
            call RemoveUnit(udg_Lang[ydul_l])
            set udg_Unit=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'O000', udg_Point2, 270.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0x81FD3994) + 0 ))
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
            call TriggerExecute(gg_trg___________________4000______u)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0x5039AFFB) * 1 ))
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
            call TriggerExecute(gg_trg_____________800W)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0xFCD961C9) / 1 ))
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
            call TriggerExecute(gg_trg_HP_____________________u)
            call TriggerExecute(gg_trg_____________116)
            call AddLangRevive(udg_Unit)
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_STR, gg_unit_Othr_0256, false) / 1 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_AGI, gg_unit_Othr_0256, false) / 1 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_INT, gg_unit_Othr_0256, false) * 1 ))
            set udg_Lang[ydul_l]=udg_Unit
            call RemoveLocation(udg_Point2)
            set udg_Point=GetUnitLoc(udg_Lang[ydul_l])
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", udg_Point))
            call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(gg_unit_Othr_0256)), udg_Point, 5.00)
            call RemoveLocation(udg_Point)
        endif
        set ydul_l=ydul_l + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________108 takes nothing returns nothing
    set gg_trg_____________108=CreateTrigger()
    call DisableTrigger(gg_trg_____________108)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________108, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________108, Condition(function Trig_____________108Conditions))
    call TriggerAddAction(gg_trg_____________108, function Trig_____________108Actions)
endfunction
//===========================================================================
// Trigger: Ë°ÄÁÖû‰πãÁãº116
//===========================================================================
function Trig_____________116Actions takes nothing returns nothing
    if ( ( GetHeroLevel(gg_unit_Othr_0256) > 16 ) ) then
        if ( ( GetHeroLevel(gg_unit_Othr_0256) <= 200 ) ) then
            call SetUnitAbilityLevelSwapped('A0ED', udg_Unit, ( GetHeroLevel(gg_unit_Othr_0256) / 8 ))
        else
            call SetUnitAbilityLevelSwapped('A0ED', udg_Unit, 25)
        endif
    else
    endif
    if ( ( GetHeroLevel(gg_unit_Othr_0256) > 60 ) ) then
        if ( ( GetHeroLevel(gg_unit_Othr_0256) <= 240 ) ) then
            call SetUnitAbilityLevelSwapped('A0EE', udg_Unit, ( GetHeroLevel(gg_unit_Othr_0256) / 30 ))
        else
            call SetUnitAbilityLevelSwapped('A0EE', udg_Unit, 8)
        endif
    else
    endif
    if ( ( GetHeroLevel(gg_unit_Othr_0256) > 50 ) ) then
        if ( ( GetHeroLevel(gg_unit_Othr_0256) <= 200 ) ) then
            call SetUnitAbilityLevelSwapped('A0EF', udg_Unit, ( GetHeroLevel(gg_unit_Othr_0256) / 25 ))
        else
            call SetUnitAbilityLevelSwapped('A0EF', udg_Unit, 8)
        endif
    else
    endif
    if ( ( GetHeroLevel(gg_unit_Othr_0256) > 40 ) ) then
        if ( ( GetHeroLevel(gg_unit_Othr_0256) <= 160 ) ) then
            call SetUnitAbilityLevelSwapped('A0EB', udg_Unit, ( GetHeroLevel(gg_unit_Othr_0256) / 20 ))
        else
            call SetUnitAbilityLevelSwapped('A0EB', udg_Unit, 8)
        endif
    else
    endif
    if ( ( GetHeroLevel(gg_unit_Othr_0256) > 40 ) ) then
        if ( ( GetHeroLevel(gg_unit_Othr_0256) <= 160 ) ) then
            call SetUnitAbilityLevelSwapped('A0EB', udg_Unit, ( GetHeroLevel(gg_unit_Othr_0256) / 20 ))
        else
            call SetUnitAbilityLevelSwapped('A0EB', udg_Unit, 8)
        endif
    else
    endif
    if ( ( GetHeroLevel(gg_unit_Othr_0256) > 70 ) ) then
        if ( ( GetHeroLevel(gg_unit_Othr_0256) <= 210 ) ) then
            call SetUnitAbilityLevelSwapped('A0EC', udg_Unit, ( GetHeroLevel(gg_unit_Othr_0256) / 35 ))
        else
            call SetUnitAbilityLevelSwapped('A0EC', udg_Unit, 6)
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_____________116 takes nothing returns nothing
    set gg_trg_____________116=CreateTrigger()
    call DisableTrigger(gg_trg_____________116)
    call DoNothing()
    call TriggerAddAction(gg_trg_____________116, function Trig_____________116Actions)
endfunction
//===========================================================================
// Trigger: ÂºπÂ∞ÑÁÅ´ÁÑ∞110
//===========================================================================
function Trig_____________110Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AOcl' ) )
endfunction
function Trig_____________110Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_k=1
    loop
        exitwhen ydul_k > 3
        if ( ( udg_I_Tan[( ydul_k + 13 )] != 1 ) ) then
            set udg_Unit=gg_unit_Othr_0256
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
                call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()))
            set udg_I_Tan[ydul_k]=10
            set udg_I_Tan[( ydul_k + 7 )]=R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
            set udg_I_Tan[( ydul_k + 13 )]=1
            set udg_U_Tan[ydul_k]=GetSpellTargetUnit()
            set udg_U_Tan[( ydul_k + 6 )]=GetTriggerUnit()
            if ( ( ydul_k == 3 ) ) then
                call RemoveUnit(udg_U_Tan[13])
            else
            endif
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(udg_U_Tan[ydul_k]))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE, GetUnitLoc(udg_U_Tan[( ydul_k + 6 )]))
            call AddLightningLoc("AFOD", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
            set udg_Lightning_Tan[ydul_k]=GetLastCreatedLightningBJ()
            call UnitDamageTarget(gg_unit_Othr_0256, udg_U_Tan[ydul_k], ( ( I2R(udg_I_Tan[ydul_k]) * 0.10 ) * I2R(udg_I_Tan[( ydul_k + 7 )]) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            if ( ( IsUnitDeadBJ(udg_U_Tan[ydul_k]) == true ) ) then
                if ( ( udg_I_Tan[ydul_k] < 20 ) ) then
                    set udg_I_Tan[ydul_k]=( udg_I_Tan[ydul_k] + 1 )
                else
                endif
            else
                set udg_I_Tan[ydul_k]=( udg_I_Tan[ydul_k] - 1 )
            endif
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
            call CreateTextTagLocBJ(( I2S(( udg_I_Tan[ydul_k] * 10 )) + "%" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0, 20.00, 100.00, 60.00, 11.00, 0)
            set udg_P_Tan[ydul_k]=GetLastCreatedTextTag()
            set udg_U_Tan[( ydul_k + 6 )]=GetSpellTargetUnit()
            set udg_U_Tan[ydul_k]=null
            call StartTimerBJ(udg_Time_Tan[ydul_k], false, 0.25)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
            call DoNothing()
 exitwhen true //(  )
        else
        endif
        set ydul_k=ydul_k + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________110 takes nothing returns nothing
    set gg_trg_____________110=CreateTrigger()
    call DisableTrigger(gg_trg_____________110)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________110, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________110, Condition(function Trig_____________110Conditions))
    call TriggerAddAction(gg_trg_____________110, function Trig_____________110Actions)
endfunction
//===========================================================================
// Trigger: ÂºπÂ∞ÑÁÅ´ÁÑ∞111
//===========================================================================
function Trig_____________111Func002003003 takes nothing returns boolean
    return ( ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetFilterUnit() != udg_U_Tan[( udg_I_Tan[7] + 6 )] ) ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Othr_0256)) == true ) ) )
endfunction
function Trig_____________111Func003Func002003003 takes nothing returns boolean
    return ( ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetFilterUnit() != udg_U_Tan[( udg_I_Tan[7] + 6 )] ) ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Othr_0256)) == true ) ) )
endfunction
function Trig_____________111Func003Func003Func001Func004003003 takes nothing returns boolean
    return ( ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetFilterUnit() != udg_U_Tan[( udg_I_Tan[7] + 6 )] ) ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Othr_0256)) == true ) ) )
endfunction
function Trig_____________111Func003Func003Func001Func008Func001Func002Func003003003 takes nothing returns boolean
    return ( ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( GetFilterUnit() != udg_U_Tan[( udg_I_Tan[7] + 6 )] ) ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Othr_0256)) == true ) ) )
endfunction
function Trig_____________111Actions takes nothing returns nothing
    local integer ydul_g
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5, GetUnitLoc(udg_U_Tan[( udg_I_Tan[7] + 6 )]))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(300.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5) , Condition(function Trig_____________111Func002003003)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
        set udg_U_Tan[udg_I_Tan[7]]=GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    else
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5) , Condition(function Trig_____________111Func003Func002003003)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
            set udg_U_Tan[udg_I_Tan[7]]=GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        else
            if ( ( GetUnitAbilityLevelSwapped('AOws', gg_unit_Othr_0256) == 1 ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) ) then
                call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5))
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5, GetUnitLoc(gg_unit_Othr_0256))
                call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5) , Condition(function Trig_____________111Func003Func003Func001Func004003003)))
                if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
                    set udg_U_Tan[udg_I_Tan[7]]=GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
                else
                    call DoNothing()
                endif
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5))
                call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
                set ydul_g=1
                loop
                    exitwhen ydul_g > 8
                    if ( ( udg_U_Tan[udg_I_Tan[7]] == null ) ) then
                        if ( ( IsUnitAliveBJ(udg_Lang[ydul_g]) == true ) ) then
                            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5, GetUnitLoc(udg_Lang[ydul_g]))
                            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5) , Condition(function Trig_____________111Func003Func003Func001Func008Func001Func002Func003003003)))
                            if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
                                set udg_U_Tan[udg_I_Tan[7]]=GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
                                call DoNothing()
 exitwhen true //(  )
                            else
                                call DoNothing()
                            endif
                            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5))
                            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
                        else
                        endif
                    else
                    endif
                    set ydul_g=ydul_g + 1
                endloop
            else
            endif
        endif
    endif
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x247CC5E5))
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________111 takes nothing returns nothing
    set gg_trg_____________111=CreateTrigger()
    call DisableTrigger(gg_trg_____________111)
    call DoNothing()
    call TriggerAddAction(gg_trg_____________111, function Trig_____________111Actions)
endfunction
//===========================================================================
// Trigger: ÂºπÂ∞ÑÁÅ´ÁÑ∞112
//===========================================================================
function Trig_____________112Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_k=1
    loop
        exitwhen ydul_k > 6
        if ( ( GetExpiredTimer() == udg_Time_Tan[ydul_k] ) ) then
            call PauseTimerBJ(true, udg_Time_Tan[ydul_k])
            set udg_I_Tan[7]=ydul_k
            call TriggerExecute(gg_trg_____________111)
            if ( ( ( udg_U_Tan[ydul_k] == null ) or ( udg_I_Tan[ydul_k] == 0 ) ) ) then
                set udg_U_Tan[ydul_k]=null
                set udg_U_Tan[( ydul_k + 6 )]=null
                set udg_I_Tan[( ydul_k + 13 )]=0
                call DestroyLightning(udg_Lightning_Tan[ydul_k])
                call DestroyTextTag(udg_P_Tan[ydul_k])
                if ( ( IsUnitDeadBJ(udg_U_Tan[13]) == true ) ) then
                    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_ncp2_0057))
                    set udg_U_Tan[13]=CreateUnitAtLoc(GetOwningPlayer(gg_unit_Othr_0256), 'h00N', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0)
                    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                else
                endif
                call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
                return
            else
            endif
            call UnitDamageTarget(gg_unit_Othr_0256, udg_U_Tan[ydul_k], ( ( I2R(udg_I_Tan[ydul_k]) * 0.10 ) * I2R(udg_I_Tan[( ydul_k + 7 )]) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            if ( ( IsUnitDeadBJ(udg_U_Tan[ydul_k]) == true ) ) then
                if ( ( udg_I_Tan[ydul_k] < 20 ) ) then
                    set udg_I_Tan[ydul_k]=( udg_I_Tan[ydul_k] + 1 )
                else
                endif
            else
                set udg_I_Tan[ydul_k]=( udg_I_Tan[ydul_k] - 1 )
            endif
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(udg_U_Tan[ydul_k]))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE, GetUnitLoc(udg_U_Tan[( ydul_k + 6 )]))
            call MoveLightningLoc(udg_Lightning_Tan[ydul_k], LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
            if ( ( ydul_k <= 3 ) ) then
                call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
            else
                call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
            endif
            call DestroyTextTag(udg_P_Tan[ydul_k])
            call CreateTextTagLocBJ(( I2S(( udg_I_Tan[ydul_k] * 10 )) + "%" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0, 20.00, 100.00, 60.00, 11.00, 0)
            set udg_P_Tan[ydul_k]=GetLastCreatedTextTag()
            set udg_U_Tan[( ydul_k + 6 )]=udg_U_Tan[ydul_k]
            set udg_U_Tan[ydul_k]=null
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
            call StartTimerBJ(udg_Time_Tan[ydul_k], false, 0.25)
            call DoNothing()
 exitwhen true //(  )
        else
        endif
        set ydul_k=ydul_k + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________112 takes nothing returns nothing
    set gg_trg_____________112=CreateTrigger()
    call DisableTrigger(gg_trg_____________112)
    call DoNothing()
    call TriggerRegisterTimerExpireEvent(gg_trg_____________112, udg_Time_Tan[1])
    call TriggerRegisterTimerExpireEvent(gg_trg_____________112, udg_Time_Tan[2])
    call TriggerRegisterTimerExpireEvent(gg_trg_____________112, udg_Time_Tan[3])
    call TriggerRegisterTimerExpireEvent(gg_trg_____________112, udg_Time_Tan[4])
    call TriggerRegisterTimerExpireEvent(gg_trg_____________112, udg_Time_Tan[5])
    call TriggerRegisterTimerExpireEvent(gg_trg_____________112, udg_Time_Tan[6])
    call TriggerAddAction(gg_trg_____________112, function Trig_____________112Actions)
endfunction
//===========================================================================
// Trigger: ÂºπÂ∞ÑÂÜ∞Êô∂113
//===========================================================================
function Trig_____________113Conditions takes nothing returns boolean
    return ( ( ( GetAttacker() == gg_unit_Othr_0256 ) or ( GetUnitTypeId(GetAttacker()) == 'O000' ) or ( GetUnitTypeId(GetAttacker()) == 'O001' ) ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) and ( GetRandomInt(1, 20) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Othr_0256) > 100.00 ) and ( IsEnemy(GetAttacker() , GetAttackedUnitBJ()) ) and ( ( udg_I_Tan[17] != 1 ) or ( udg_I_Tan[18] != 1 ) or ( udg_I_Tan[19] != 1 ) ) )
endfunction
function Trig_____________113Actions takes nothing returns nothing
    local integer ydul_k
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set ydul_k=4
    loop
        exitwhen ydul_k > 6
        if ( ( udg_I_Tan[( ydul_k + 13 )] != 1 ) ) then
            set udg_Unit=gg_unit_Othr_0256
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
            call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
                call PrintSpell(GetOwningPlayer(sheyan) , GetAbilityName('AOws') , GetDamageInt(sheyan) * 0.3)
            set udg_I_Tan[ydul_k]=6
            set udg_I_Tan[( ydul_k + 7 )]=R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
            set udg_I_Tan[( ydul_k + 13 )]=1
            set udg_U_Tan[ydul_k]=GetAttackedUnitBJ()
            set udg_U_Tan[( ydul_k + 6 )]=gg_unit_Othr_0256
            if ( ( ydul_k == 3 ) ) then
                call RemoveUnit(udg_U_Tan[13])
            else
            endif
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(udg_U_Tan[ydul_k]))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE, GetUnitLoc(udg_U_Tan[( ydul_k + 6 )]))
            call AddLightningLoc("MBUR", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
            set udg_Lightning_Tan[ydul_k]=GetLastCreatedLightningBJ()
            call UnitDamageTarget(gg_unit_Othr_0256, udg_U_Tan[ydul_k], ( ( I2R(udg_I_Tan[ydul_k]) * 0.10 ) * I2R(udg_I_Tan[( ydul_k + 7 )]) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            if ( ( IsUnitDeadBJ(udg_U_Tan[ydul_k]) == true ) ) then
                set udg_I_Tan[ydul_k]=( ydul_k + 1 )
            else
                set udg_I_Tan[ydul_k]=( ydul_k - 1 )
            endif
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
            call CreateTextTagLocBJ(( I2S(( udg_I_Tan[ydul_k] * 10 )) + "%" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), 0, 20.00, 100.00, 60.00, 11.00, 0)
            set udg_P_Tan[ydul_k]=GetLastCreatedTextTag()
            set udg_U_Tan[( ydul_k + 6 )]=GetAttackedUnitBJ()
            set udg_U_Tan[ydul_k]=null
            call StartTimerBJ(udg_Time_Tan[ydul_k], false, 0.25)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCCB71FEE))
            call DoNothing()
 exitwhen true //(  )
        else
        endif
        set ydul_k=ydul_k + 1
    endloop
    call YDWEPolledWaitNull(4.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________113 takes nothing returns nothing
    set gg_trg_____________113=CreateTrigger()
    call DisableTrigger(gg_trg_____________113)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________113, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________113, Condition(function Trig_____________113Conditions))
    call TriggerAddAction(gg_trg_____________113, function Trig_____________113Actions)
endfunction
//===========================================================================
// Trigger: Á©∫Èó¥Ë∑≥Ë∑É114
//===========================================================================
function Trig_____________114Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AOws' ) )
endfunction
function Trig_____________114Actions takes nothing returns nothing
    local integer ydul_k
    set ydul_k=1
    loop
        exitwhen ydul_k > 6
        if ( ( udg_I_Tan[( ydul_k + 13 )] == 1 ) ) then
            set udg_U_Tan[( ydul_k + 6 )]=GetTriggerUnit()
        else
        endif
        set ydul_k=ydul_k + 1
    endloop
    if ( ( BJuexing3[GetConvertedPlayerId(GetOwningPlayer(sheyan))] ) ) then
        call ImmuteDamageInterval(sheyan , 1.5)
    else
    endif
        call PrintSpellName(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()))
endfunction
//===========================================================================
function InitTrig_____________114 takes nothing returns nothing
    set gg_trg_____________114=CreateTrigger()
    call DisableTrigger(gg_trg_____________114)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________114, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________114, Condition(function Trig_____________114Conditions))
    call TriggerAddAction(gg_trg_____________114, function Trig_____________114Actions)
endfunction
//===========================================================================
// Trigger: ÁÅµÈ≠ÇÁõ∏‰æù115
//===========================================================================
function Trig_____________115Conditions takes nothing returns boolean
    return ( ( GetTriggerUnit() == gg_unit_Othr_0256 ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Othr_0256)) == 1 ) and ( ( IsUnitAliveBJ(udg_Lang[1]) == true ) or ( IsUnitAliveBJ(udg_Lang[2]) == true ) or ( IsUnitAliveBJ(udg_Lang[3]) == true ) or ( IsUnitAliveBJ(udg_Lang[4]) == true ) or ( IsUnitAliveBJ(udg_Lang[5]) == true ) or ( IsUnitAliveBJ(udg_Lang[6]) == true ) or ( IsUnitAliveBJ(udg_Lang[7]) == true ) ) and ( GetEventDamage() >= 10 ) and ( GetEventDamage() < 100000000.00 ) )
endfunction
function Trig_____________115Func004A takes nothing returns nothing
    call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) - LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820) ))
endfunction
function Trig_____________115Actions takes nothing returns nothing
    local integer ydul_m
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, CreateGroup())
    set ydul_m=1
    loop
        exitwhen ydul_m > 7
        if ( ( IsUnitAliveBJ(udg_Lang[ydul_m]) == true ) ) then
            call GroupAddUnitSimple(udg_Lang[ydul_m], LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        else
            call DoNothing()
        endif
        set ydul_m=ydul_m + 1
    endloop
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetEventDamage() / I2R(( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) + 1 )) ))
    call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_____________115Func004A)
    call SetUnitLifeBJ(gg_unit_Othr_0256, ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Othr_0256) + ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * I2R(CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))) ) ))
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________115 takes nothing returns nothing
    set gg_trg_____________115=CreateTrigger()
    call DisableTrigger(gg_trg_____________115)
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg_____________115)
    call TriggerAddCondition(gg_trg_____________115, Condition(function Trig_____________115Conditions))
    call TriggerAddAction(gg_trg_____________115, function Trig_____________115Actions)
endfunction
//===========================================================================
// Trigger: ÁãºÁéãÈôç‰∏ñ117
//===========================================================================
function Trig_____________117Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0EA' ) )
endfunction
function Trig_____________117Func008002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Othr_0256)) == true ) ) )
endfunction
function Trig_____________117Func009A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Othr_0256, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________117Func013002002 takes nothing returns boolean
    return ( ( ( IsUnitIllusionBJ(GetFilterUnit()) != true ) and ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( GetUnitTypeId(GetFilterUnit()) == 'O000' ) and ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(gg_unit_Othr_0256) ) ) ) ) )
endfunction
function Trig_____________117Func017A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_____________117Func038T takes nothing returns nothing
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", GetUnitX(udg_Lang[8]), GetUnitY(udg_Lang[8])))
    call RemoveUnit(udg_Lang[8])
    set udg_Lang[8]=null
    call DisplayTextToPlayer(GetOwningPlayer(sheyan), 0., 0., "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÁãºÁéãÂ≠òÊ¥ªÊó∂Èó¥Âà∞.")
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________117Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydul_a
    local integer ydul_b
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetSpellAbilityUnit()
    call PlaySoundBJ(gg_snd_sheyan_4)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3.00 ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()) * 5)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Othr_0256))
    set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_____________117Func008002003))
    call ForGroupBJ(udg_Group, function Trig_____________117Func009A)
    call DestroyGroup(udg_Group)
    set ydul_a=1
    loop
        exitwhen ydul_a > 6
        set ydul_b=1
        loop
            exitwhen ydul_b > ( 3 + ydul_a )
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), ( 300.00 * I2R(ydul_a) ), ( ( ( ( 360.00 ) / ( I2R(( 3 + ydul_a )) ) ) ) * ( I2R(ydul_b) ) )))
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
            set ydul_b=ydul_b + 1
        endloop
        set ydul_a=ydul_a + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    set udg_Group=YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect() , Condition(function Trig_____________117Func013002002))
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC529A068, ( CountUnitsInGroup(udg_Group) + 1 ))
    call DestroyGroup(udg_Group)
    set udg_Group=YDWEGetUnitsOfPlayerAndTypeIdNull(GetOwningPlayer(GetTriggerUnit()) , 'O001')
    call ForGroupBJ(udg_Group, function Trig_____________117Func017A)
    call DestroyGroup(udg_Group)
    set udg_Point2=GetUnitLoc(GetSpellAbilityUnit())
    set udg_Unit2=gg_unit_Othr_0256
    set udg_Unit=CreateUnitAtLoc(GetOwningPlayer(gg_unit_Othr_0256), 'O001', udg_Point2, 270.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0x81FD3994) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC529A068) ))
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
    call TriggerExecute(gg_trg___________________4000______u)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0x5039AFFB) * 1 ))
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC529A068) ))
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
    call TriggerExecute(gg_trg_____________800W)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(udg_Unit2), 0xFCD961C9) / 2 ))
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC529A068) ))
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( 0 + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) / 1 ) ))
    call TriggerExecute(gg_trg_HP_____________________u)
    call TriggerExecute(gg_trg_____________116)
    call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_STR, gg_unit_Othr_0256, false) * ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC529A068) / 2 ) ))
    call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_AGI, gg_unit_Othr_0256, false) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC529A068) ))
    call ModifyHeroStat(bj_HEROSTAT_INT, udg_Unit, bj_MODIFYMETHOD_SET, ( GetHeroStatBJ(bj_HEROSTAT_INT, gg_unit_Othr_0256, false) * ( 1 * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC529A068) ) ))
    set udg_Lang[8]=udg_Unit
    set ydl_timer=CreateTimer()
    call TimerStart(ydl_timer, 60.00, false, function Trig_____________117Func038T)
    call RemoveLocation(udg_Point2)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________117 takes nothing returns nothing
    set gg_trg_____________117=CreateTrigger()
    call DisableTrigger(gg_trg_____________117)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________117, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________117, Condition(function Trig_____________117Conditions))
    call TriggerAddAction(gg_trg_____________117, function Trig_____________117Actions)
endfunction
//===========================================================================
// Trigger: Á•ûÂú£Ê≥ïÈòµ118
//===========================================================================
function Trig_____________118Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AOvd' ) )
endfunction
function Trig_____________118Func012Func001Func001A takes nothing returns nothing
    call SetUnitInvulnerable(GetEnumUnit(), false)
    call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0, GetUnitLoc(GetEnumUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0)))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0))
endfunction
function Trig_____________118Func012Func001Func010003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA))) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_____________118Func012Func001Func011A takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0, GetUnitLoc(GetEnumUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0)))
    call UnitDamageTargetBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA), GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0))
endfunction
function Trig_____________118Func012Func001Func013A takes nothing returns nothing
    if ( ( IsUnitInRange(GetEnumUnit(), LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), 1800.00) != true ) ) then
        call GroupRemoveUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78704DDD))
        call SetUnitInvulnerable(GetEnumUnit(), false)
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0, GetUnitLoc(GetEnumUnit()))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0))
    else
    endif
endfunction
function Trig_____________118Func012Func001Func014003003 takes nothing returns boolean
    return ( ( ( IsUnitAlly(GetFilterUnit(), LoadPlayerHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xB6A6EBAA)) != true ) and ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( GetFilterUnit() != gg_unit_Othr_0256 ) and ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) and ( GetUnitAbilityLevel(GetFilterUnit(), 'Avul') < 1 ) ) ) ) ) )
endfunction
function Trig_____________118Func012Func001Func015A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78704DDD)) == true ) ) then
    else
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78704DDD))
        call SetUnitInvulnerable(GetEnumUnit(), true)
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0, GetUnitLoc(GetEnumUnit()))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x8D3C1FA0))
    endif
endfunction
function Trig_____________118Func012T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) != 20 ) and ( IsUnitInRange(gg_unit_Othr_0256, LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), 1800.00) == true ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0xDD66C616) + 1 ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, Location(LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xA99320FA), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0xFDF65382)))
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________118Func012Func001Func010003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________118Func012Func001Func011A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78704DDD), function Trig_____________118Func012Func001Func013A)
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F) , Condition(function Trig_____________118Func012Func001Func014003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F), function Trig_____________118Func012Func001Func015A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
    else
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78704DDD), function Trig_____________118Func012Func001Func001A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78704DDD))
        call RemoveUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________118Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Unit=GetSpellAbilityUnit()
    call PlaySoundBJ(gg_snd_sheyan_5)
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.66 ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()))
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(GetOwningPlayer(udg_Unit), 'h00M', GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)), 270.00))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382, GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    set ydl_timer=CreateTimer()
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xA99320FA, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA99320FA))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0xFDF65382, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFDF65382))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0xDD66C616, 0)
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xB6A6EBAA, udg_Unit)
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x78704DDD, CreateGroup())
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x8D3C1FA0, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x8D3C1FA0))
    call TimerStart(ydl_timer, 1.00, true, function Trig_____________118Func012T)
    set udg_Unit=null
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________118 takes nothing returns nothing
    set gg_trg_____________118=CreateTrigger()
    call DisableTrigger(gg_trg_____________118)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________118, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________118, Condition(function Trig_____________118Conditions))
    call TriggerAddAction(gg_trg_____________118, function Trig_____________118Actions)
endfunction
//===========================================================================
// Trigger: ÂÖÉËΩÆÂ§©Êñ©121
//===========================================================================
function Trig_____________121Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A04H' ) )
endfunction
function Trig_____________121Func011Func001Func006002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Harf_0262)) == true ) ) )
endfunction
function Trig_____________121Func011Func001Func007A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)) == false ) ) then
        call UnitDamageTargetBJ(gg_unit_Harf_0262, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)), GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))))
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
    else
    endif
endfunction
function Trig_____________121Func011T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) >= 28 ) ) then
        call KillUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateX(( GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 50.00 * CosBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call SetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateY(( GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 50.00 * SinBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)), GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))))
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(200.00 , udg_Point , Condition(function Trig_____________121Func011Func001Func006002003))
        call ForGroupBJ(udg_Group, function Trig_____________121Func011Func001Func007A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________121Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Point=GetUnitLoc(GetTriggerUnit())
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(GetOwningPlayer(gg_unit_Harf_0262), 'h00O', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))))
    set udg_Unit=GetSpellAbilityUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageChenji(GetTriggerUnit()) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845, ( AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)) ))
    if ( ( GetUnitAbilityLevel(gg_unit_Harf_0262, 'A0F6') == 1 ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Harf_0262)) == 1 ) ) then
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDD66C616, GetRandomReal(1.00, 2.00))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDD66C616) ))
        call CreateTextTagUnitBJ(( ( "+" + I2S(R2I(( ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDD66C616) - 1.00 ) * 100.00 ))) ) + "%‰º§ÂÆ≥" ), udg_Unit, 0, 30.00, GetRandomReal(0, 100.00), GetRandomReal(0.00, 100.00), GetRandomReal(0, 100.00), 0)
        call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, GetRandomDirectionDeg())
        call YDWETimerDestroyTextTag(3.00 , GetLastCreatedTextTag())
    else
    endif
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageChenji(GetTriggerUnit()))
    call RemoveLocation(udg_Point)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x2B0A6845, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, CreateGroup())
    call TimerStart(ydl_timer, 0.05, true, function Trig_____________121Func011T)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________121 takes nothing returns nothing
    set gg_trg_____________121=CreateTrigger()
    call DisableTrigger(gg_trg_____________121)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________121, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________121, Condition(function Trig_____________121Conditions))
    call TriggerAddAction(gg_trg_____________121, function Trig_____________121Actions)
endfunction
//===========================================================================
// Trigger: Â§ú‰πãÂìÄ‰º§122
//===========================================================================
function Trig_____________122Conditions takes nothing returns boolean
    return ( ( ( GetItemTypeId(GetManipulatedItem()) == 'stel' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I04M' ) ) )
endfunction
function Trig_____________122Actions takes nothing returns nothing
    call SetItemCharges(GetManipulatedItem(), ( GetItemCharges(GetManipulatedItem()) + 1 ))
    call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„Äê|r|cFF66CC33Â§ú‰πãÂìÄ‰º§|r|cFFFF66CC„Äë|r" + ( "ÂâëÁÅµÊï∞‰∏∫" + ( I2S(GetItemCharges(GetManipulatedItem())) + ( ",ËøòÈúÄË¶ÅÊùÄÊïå" + ( I2S(( GetItemCharges(GetManipulatedItem()) - udg_J )) + "‰∏™ÊâçËÉΩËé∑Âæó‰∏ã‰∏Ä‰∏™ÂâëÁÅµ." ) ) ) ) ))
endfunction
//===========================================================================
function InitTrig_____________122 takes nothing returns nothing
    set gg_trg_____________122=CreateTrigger()
    call DisableTrigger(gg_trg_____________122)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________122, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddCondition(gg_trg_____________122, Condition(function Trig_____________122Conditions))
    call TriggerAddAction(gg_trg_____________122, function Trig_____________122Actions)
endfunction
//===========================================================================
// Trigger: ÂΩ±Èáç‰∏áÁîü124
//===========================================================================
function Trig_____________124Conditions takes nothing returns boolean
    return ( ( IsUnitAlly(GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker())) != true ) and ( GetAttacker() == gg_unit_Harf_0262 ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 20) == 1 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttackedUnitBJ()) != 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Harf_0262) > 250.00 ) and ( GetPlayerTechCountSimple('R006', GetOwningPlayer(gg_unit_Harf_0262)) == 1 ) )
endfunction
function Trig_____________124Func023Func001Func006002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Harf_0262)) == true ) ) )
endfunction
function Trig_____________124Func023Func001Func007A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)) == false ) ) then
        call UnitDamageTargetBJ(gg_unit_Harf_0262, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)), GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))))
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
    else
    endif
endfunction
function Trig_____________124Func023T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) >= 28 ) ) then
        call KillUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateX(( GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 50.00 * CosBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call SetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateY(( GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 50.00 * SinBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl", GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)), GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))))
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(200.00 , udg_Point , Condition(function Trig_____________124Func023Func001Func006002003))
        call ForGroupBJ(udg_Group, function Trig_____________124Func023Func001Func007A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________124Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Point=GetUnitLoc(GetAttacker())
    set udg_Unit=GetAttacker()
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetAttackedUnitBJ()))
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(GetOwningPlayer(gg_unit_Harf_0262), 'h00O', GetUnitX(udg_Unit), GetUnitY(udg_Unit), AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageChenji(chenji) * 0.33 ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845, ( AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDD66C616, GetRandomReal(1.00, 2.00))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDD66C616) ))
        call PrintSpell(GetOwningPlayer(chenji) , GetAbilityName('A0F6') , GetDamageChenji(chenji) * 0.33)
    call CreateTextTagUnitBJ(( ( "+" + I2S(R2I(( ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDD66C616) - 1.00 ) * 100.00 ))) ) + "%‰º§ÂÆ≥" ), udg_Unit, 0, 30.00, GetRandomReal(0, 100.00), GetRandomReal(0.00, 100.00), GetRandomReal(0, 100.00), 0)
    call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, GetRandomDirectionDeg())
    call YDWETimerDestroyTextTag(3.00 , GetLastCreatedTextTag())
    call RemoveLocation(udg_Point)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x2B0A6845, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, CreateGroup())
    call TimerStart(ydl_timer, 0.05, true, function Trig_____________124Func023T)
    call YDWEPolledWaitNull(2.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________124 takes nothing returns nothing
    set gg_trg_____________124=CreateTrigger()
    call DisableTrigger(gg_trg_____________124)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________124, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_____________124, Condition(function Trig_____________124Conditions))
    call TriggerAddAction(gg_trg_____________124, function Trig_____________124Actions)
endfunction
//===========================================================================
// Trigger: Â§ú‰πãÂìÄ‰º§132
//===========================================================================
function Trig_____________132Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) )
endfunction
function Trig_____________132Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetYeai())
    if ( ( 10 <= GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) ) ) then
        call SetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), R2I(( I2R(GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332))) * 0.90 )))
        call TriggerExecute(gg_trg_____________129)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________132 takes nothing returns nothing
    set gg_trg_____________132=CreateTrigger()
    call DisableTrigger(gg_trg_____________132)
    call DoNothing()
    call TriggerAddCondition(gg_trg_____________132, Condition(function Trig_____________132Conditions))
    call TriggerAddAction(gg_trg_____________132, function Trig_____________132Actions)
endfunction
//===========================================================================
// Trigger: Â§©ÁΩ°Êàò‰Ωì125
//===========================================================================
function Trig_____________125Conditions takes nothing returns boolean
    return ( ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Harf_0262) > 500.00 ) and ( GetPlayerTechCountSimple('R007', GetOwningPlayer(gg_unit_Harf_0262)) == 1 ) and ( GetEventDamage() >= 10.00 ) and ( GetEventDamageSource() != GetTriggerUnit() ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetEventDamageSource() , 'tlum')) != 'tlum' ) and ( GetUnitTypeId(GetEventDamageSource()) != 'Etyr' ) and ( GetEventDamageSource() != chenji ) and ( GetEventDamage() <= 100000000.00 ) )
endfunction
function Trig_____________125Actions takes nothing returns nothing
    call DisableTrigger(GetTriggeringTrigger())
    call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), ( GetEventDamage() * 5.00 ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SHADOW_STRIKE, WEAPON_TYPE_WHOKNOWS)
    if ( ( GetRandomInt(1, 20) == 1 ) ) then
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\BeastmasterBlood\\BeastmasterBlood.mdl", GetUnitX(GetEventDamageSource()), GetUnitY(GetEventDamageSource())))
    else
    endif
    call EnableTrigger(GetTriggeringTrigger())
endfunction
//===========================================================================
function InitTrig_____________125 takes nothing returns nothing
    set gg_trg_____________125=CreateTrigger()
    call DisableTrigger(gg_trg_____________125)
    call DoNothing()
    call TriggerAddCondition(gg_trg_____________125, Condition(function Trig_____________125Conditions))
    call TriggerAddAction(gg_trg_____________125, function Trig_____________125Actions)
endfunction
//===========================================================================
// Trigger: Â§ú‰πãÂìÄ‰º§127
//===========================================================================
function Trig_____________127Actions takes nothing returns nothing
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetYeai())
    set ydul_i=1
    loop
        exitwhen ydul_i > 10
        if ( ( udg_J >= GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) ) ) then
            set udg_J=( udg_J - GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) )
            call SetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) + 1 ))
        else
            call DoNothing()
 exitwhen true //(  )
        endif
        set ydul_i=ydul_i + 1
    endloop
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 10 ) ) then
        if ( ( GetUnitAbilityLevelSwapped('A0FI', gg_unit_Harf_0262) != 1 ) ) then
            call UnitAddAbilityBJ('A0FI', gg_unit_Harf_0262)
        else
        endif
        if ( ( GetUnitAbilityLevelSwapped('A0FJ', gg_unit_Harf_0262) != 1 ) ) then
            call UnitAddAbilityBJ('A0FJ', gg_unit_Harf_0262)
        else
        endif
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 25 ) and ( GetUnitAbilityLevelSwapped('A0FK', gg_unit_Harf_0262) != 1 ) ) then
        call UnitAddAbilityBJ('A0FK', gg_unit_Harf_0262)
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 40 ) and ( GetUnitAbilityLevelSwapped('A0FP', gg_unit_Harf_0262) != 1 ) ) then
        call UnitAddAbilityBJ('A0FP', gg_unit_Harf_0262)
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 50 ) and ( GetUnitAbilityLevelSwapped('A0FL', gg_unit_Harf_0262) != 1 ) ) then
        call UnitAddAbilityBJ('A0FL', gg_unit_Harf_0262)
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 60 ) and ( GetUnitAbilityLevelSwapped('A0FO', gg_unit_Harf_0262) != 1 ) ) then
        call UnitAddAbilityBJ('A0FO', gg_unit_Harf_0262)
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262)) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262)) + 30 )] + 0.20 )
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262)) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262)) + 24 )] + 1.00 )
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262))] + 0.20 )
        call TriggerExecute(gg_trg_papa12____________u)
        call TriggerExecute(gg_trg_papa13____________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 70 ) and ( GetUnitAbilityLevelSwapped('A0FM', gg_unit_Harf_0262) != 1 ) ) then
        call UnitAddAbilityBJ('A0FM', gg_unit_Harf_0262)
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 80 ) and ( GetUnitAbilityLevelSwapped('A0FQ', gg_unit_Harf_0262) != 1 ) ) then
        call UnitAddAbilityBJ('A0FQ', gg_unit_Harf_0262)
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 90 ) and ( GetUnitAbilityLevelSwapped('A0FN', gg_unit_Harf_0262) != 1 ) ) then
        call UnitAddAbilityBJ('A0FN', gg_unit_Harf_0262)
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) >= 120 ) and ( GetUnitAbilityLevelSwapped('A0G4', gg_unit_Harf_0262) != 1 ) and ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(chenji))] ) ) then
        call UnitAddAbilityBJ('A0G4', gg_unit_Harf_0262)
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________127 takes nothing returns nothing
    set gg_trg_____________127=CreateTrigger()
    call DisableTrigger(gg_trg_____________127)
    call DoNothing()
    call TriggerAddAction(gg_trg_____________127, function Trig_____________127Actions)
endfunction
//===========================================================================
// Trigger: Â§ú‰πãÂìÄ‰º§129
//===========================================================================
function Trig_____________129Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetYeai())
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 10 ) ) then
        if ( ( GetUnitAbilityLevelSwapped('A0FI', gg_unit_Harf_0262) == 1 ) ) then
            call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FI')
        else
        endif
        if ( ( GetUnitAbilityLevelSwapped('A0FJ', gg_unit_Harf_0262) == 1 ) ) then
            call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FJ')
        else
        endif
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 25 ) and ( GetUnitAbilityLevelSwapped('A0FK', gg_unit_Harf_0262) == 1 ) ) then
        call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FK')
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 40 ) and ( GetUnitAbilityLevelSwapped('A0FP', gg_unit_Harf_0262) == 1 ) ) then
        call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FP')
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 50 ) and ( GetUnitAbilityLevelSwapped('A0FL', gg_unit_Harf_0262) == 1 ) ) then
        call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FL')
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 60 ) and ( GetUnitAbilityLevelSwapped('A0FO', gg_unit_Harf_0262) == 1 ) ) then
        call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FO')
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262)) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262)) + 30 )] - 0.20 )
        set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262)) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262)) + 24 )] - 1.00 )
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(gg_unit_Harf_0262))] - 0.20 )
        call TriggerExecute(gg_trg_papa12____________u)
        call TriggerExecute(gg_trg_papa13____________u)
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 70 ) and ( GetUnitAbilityLevelSwapped('A0FM', gg_unit_Harf_0262) == 1 ) ) then
        call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FM')
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 80 ) and ( GetUnitAbilityLevelSwapped('A0FQ', gg_unit_Harf_0262) == 1 ) ) then
        call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FQ')
    else
    endif
    if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 90 ) and ( GetUnitAbilityLevelSwapped('A0FN', gg_unit_Harf_0262) == 1 ) ) then
        call UnitRemoveAbility(gg_unit_Harf_0262, 'A0FN')
    else
    endif
    if ( ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) < 120 ) or ( BJuexing2[GetConvertedPlayerId(GetOwningPlayer(chenji))] == false ) ) and ( GetUnitAbilityLevelSwapped('A0G4', gg_unit_Harf_0262) == 1 ) ) then
        call UnitRemoveAbility(gg_unit_Harf_0262, 'A0G4')
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_____________129 takes nothing returns nothing
    set gg_trg_____________129=CreateTrigger()
    call DisableTrigger(gg_trg_____________129)
    call DoNothing()
    call TriggerAddAction(gg_trg_____________129, function Trig_____________129Actions)
endfunction
//===========================================================================
// Trigger: Â§ú‰πãÂìÄ‰º§128
//===========================================================================
function Trig_____________128Func001Func010002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) ) )
endfunction
function Trig_____________128Func001Func011A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Harf_0262, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________128Func005Func022T takes nothing returns nothing
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) < 15 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SaveUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x09C8E5E0, CreateUnitAtLoc(GetOwningPlayer(gg_unit_Harf_0262), 'e004', OffsetLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), GetRandomReal(- 50.00, 50.00), GetRandomReal(- 50.00, 50.00)), 0.00))
        call UnitApplyTimedLifeBJ(5.00, 'BTLF', LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x09C8E5E0))
        call UnitDamageTargetBJ(gg_unit_Harf_0262, LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
    else
        call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8))
        call DestroyLightning(udg_XLning[31])
        call DestroyLightning(udg_XLning[32])
        call DestroyLightning(udg_XLning[33])
        call RemoveUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x1BF14788))
        call RemoveUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x2D5DEA42))
        call RemoveUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC43E936C))
        if ( ( IsUnitAliveBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) == true ) ) then
            call PauseUnitBJ(false, LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        else
        endif
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig_____________128Actions takes nothing returns nothing
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetSpellAbilityId() == 'A0FD' ) ) then
        set udg_Unit=GetTriggerUnit()
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 1.50 )) + 0 )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()) * 0.75)
        set udg_Point=GetSpellTargetLoc()
        call CreateNUnitsAtLoc(1, 'h00Q', GetOwningPlayer(udg_Unit), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
        set ydul_i=1
        loop
            exitwhen ydul_i > 8
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 450.00, ( ( 45.00 ) * ( I2R(ydul_i) ) )))
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_i=ydul_i + 1
        endloop
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_____________128Func001Func010002003))
        call ForGroupBJ(udg_Group, function Trig_____________128Func001Func011A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
        call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetYeai())
        call SetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) - 10 ))
        call TriggerExecute(gg_trg_____________129)
    else
    endif
    if ( ( GetSpellAbilityId() == 'A0FE' ) ) then
        set udg_Unit=GetTriggerUnit()
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 5.00 )) + 0 )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()) * 2.5)
        set udg_Point=GetUnitLoc(GetSpellTargetUnit())
        call UnitDamageTargetBJ(gg_unit_Harf_0262, GetSpellTargetUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        call CreateNUnitsAtLoc(1, 'h00R', GetOwningPlayer(udg_Unit), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
        set ydul_i=1
        loop
            exitwhen ydul_i > 3
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 150.00, ( ( 120.00 ) * ( I2R(ydul_i) ) )))
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            set ydul_i=ydul_i + 1
        endloop
        call RemoveLocation(udg_Point)
        call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetYeai())
        call SetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) - 10 ))
        call TriggerExecute(gg_trg_____________129)
    else
    endif
    if ( ( GetSpellAbilityId() == 'A0FF' ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=3
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call CreateNUnitsAtLoc(1, 'n017', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
            set udg_Unit=GetLastCreatedUnit()
            call UnitApplyTimedLifeBJ(3600.00, 'BTLF', GetLastCreatedUnit())
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x14FC12F8, R2I(( I2R(GetHeroStatBJ(bj_HEROSTAT_STR, GetTriggerUnit(), true)) * SquareRoot(I2R(GetHeroLevel(GetTriggerUnit()))) )))
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x14FC12F8) / 1 ) ))
            call TriggerExecute(gg_trg_____________800W)
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetYeai())
        call SetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) - 25 ))
        call TriggerExecute(gg_trg_____________129)
    else
    endif
    if ( ( GetSpellAbilityId() == 'A0G3' ) ) then
        call ChenjiMinghe()
        call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetYeai())
        call SetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) - 120 ))
        call TriggerExecute(gg_trg_____________129)
    else
    endif
    if ( ( GetSpellAbilityId() == 'A0FH' ) ) then
         call CountYindu()
        set udg_Unit=GetTriggerUnit()
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, GetSpellTargetUnit())
        call PauseUnitBJ(true, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 4.00 )) + 0 )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
            call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageInt(GetTriggerUnit()) * 60)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D)))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 256.00, 90.00))
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1BF14788, CreateUnitAtLoc(Player(0), 'e003', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000), 0.00))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x31706F5A, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 256.00, 210.00))
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2D5DEA42, CreateUnitAtLoc(Player(0), 'e003', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x31706F5A), 0.00))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9A060300, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 256.00, 330.00))
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC43E936C, CreateUnitAtLoc(Player(0), 'e003', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9A060300), 0.00))
        call AddLightningLoc("AFOD", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x31706F5A))
        set udg_XLning[31]=GetLastCreatedLightningBJ()
        call AddLightningLoc("AFOD", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9A060300))
        set udg_XLning[32]=GetLastCreatedLightningBJ()
        call AddLightningLoc("AFOD", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x31706F5A), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9A060300))
        set udg_XLning[33]=GetLastCreatedLightningBJ()
        call PlaySoundBJ(gg_snd_chenji_max)
        set ydl_timer=CreateTimer()
        call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
        call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
        call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x32A9E4C8, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x1BF14788, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1BF14788))
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x2D5DEA42, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2D5DEA42))
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC43E936C, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC43E936C))
        call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0x09C8E5E0, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x09C8E5E0))
        call TimerStart(ydl_timer, 0.33, true, function Trig_____________128Func005Func022T)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x31706F5A))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9A060300))
        call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, GetYeai())
        call SetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) - 90 ))
        call TriggerExecute(gg_trg_____________129)
        call YDWEPolledWaitNull(5.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________128 takes nothing returns nothing
    set gg_trg_____________128=CreateTrigger()
    call DisableTrigger(gg_trg_____________128)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________128, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(gg_trg_____________128, function Trig_____________128Actions)
endfunction
//===========================================================================
// Trigger: ÈªëÊõúËØÖÂíí130
//===========================================================================
function Trig_____________130Conditions takes nothing returns boolean
    return ( ( GetUnitStateSwap(UNIT_STATE_MANA, gg_unit_Harf_0262) > 800.00 ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetEventDamage() >= ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) * 0.33 ) ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Harf_0262)) == 1 ) and ( GetEventDamage() <= 100000000.00 ) )
endfunction
function Trig_____________130Func012003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) ) )
endfunction
function Trig_____________130Func013A takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________130Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    set udg_Unit=GetTriggerUnit()
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8, GetUnitLoc(GetTriggerUnit()))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroStr(udg_Unit, true)) * 4.00 )) + 0 )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] ))
        call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , "|cFFCCFF66ÂêûÂ§©Â¶ñÂà∫|r" , GetDamageChenji(GetTriggerUnit()) * 2)
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC, YDWEGetUnitsInRangeOfLocMatchingNull(1800.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8) , Condition(function Trig_____________130Func012003003)))
    call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC), function Trig_____________130Func013A)
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC))
    set ydul_i=1
    loop
        exitwhen ydul_i > 24
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'h000', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), ( ( 15.00 ) * ( I2R(ydul_i) ) )))
        call UnitApplyTimedLifeBJ(3.00, 'BTLF', LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
        call UnitAddAbilityBJ('AUim', LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 256, ( ( 15.00 ) * ( I2R(ydul_i) ) )))
        call IssuePointOrderLoc(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), "impale", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
        set ydul_i=ydul_i + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    call YDWEPolledWaitNull(10.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_____________130 takes nothing returns nothing
    set gg_trg_____________130=CreateTrigger()
    call DisableTrigger(gg_trg_____________130)
    call DoNothing()
    call TriggerAddCondition(gg_trg_____________130, Condition(function Trig_____________130Conditions))
    call TriggerAddAction(gg_trg_____________130, function Trig_____________130Actions)
endfunction
//===========================================================================
// Trigger: ÊòüÂΩ±ÊåΩÊ≠å131
//===========================================================================
function Trig_____________131Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0F9' ) )
endfunction
function Trig_____________131Func015Func001Func001A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_____________131Func015Func001Func002A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_____________131Func015Func001Func003A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_____________131Func015Func001Func004A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_____________131Func015Func001Func005A takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
    call DestroyEffect(YDWEGetEffectByInteger(YDWEH2I(GetEnumUnit()) , 5233))
    call YDWEFlushMissionByInteger(YDWEH2I(GetEnumUnit()))
endfunction
function Trig_____________131Func015Func001Func016A takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, GetUnitLoc(GetEnumUnit()))
    call SetUnitX(GetEnumUnit(), YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 300.00 * CosBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( 3.60 ) )) ) )))
    call SetUnitY(GetEnumUnit(), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 300.00 * SinBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( 3.60 ) )) ) )))
    call MoveLightningEx(udg_XLning[GetUnitUserData(GetEnumUnit())], false, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), 300.00, YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 300.00 * CosBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( 3.60 ) )) ) )), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 300.00 * SinBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( 3.60 ) )) ) )), 0)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000))
endfunction
function Trig_____________131Func015Func001Func017A takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, GetUnitLoc(GetEnumUnit()))
    call SetUnitX(GetEnumUnit(), YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 600.00 * CosBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) ) - ( 3.60 ) )) ) )))
    call SetUnitY(GetEnumUnit(), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 600.00 * SinBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) ) + ( - 3.60 ) )) ) )))
    call MoveLightningEx(udg_XLning[GetUnitUserData(GetEnumUnit())], false, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), 600.00, YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 600.00 * CosBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) ) + ( - 3.60 ) )) ) )), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 600.00 * SinBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) ) + ( - 3.60 ) )) ) )), 0)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000))
endfunction
function Trig_____________131Func015Func001Func018A takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, GetUnitLoc(GetEnumUnit()))
    call SetUnitX(GetEnumUnit(), YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 900.00 * CosBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( 3.60 ) )) ) )))
    call SetUnitY(GetEnumUnit(), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 900.00 * SinBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( 3.60 ) )) ) )))
    call MoveLightningEx(udg_XLning[GetUnitUserData(GetEnumUnit())], false, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), 900.00, YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 900.00 * CosBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( 3.60 ) )) ) )), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 900.00 * SinBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( 3.60 ) )) ) )), 0)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000))
endfunction
function Trig_____________131Func015Func001Func019A takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, GetUnitLoc(GetEnumUnit()))
    call SetUnitX(GetEnumUnit(), YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 1200.00 * CosBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( - 3.60 ) )) ) )))
    call SetUnitY(GetEnumUnit(), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 1200.00 * SinBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( - 3.60 ) )) ) )))
    call MoveLightningEx(udg_XLning[GetUnitUserData(GetEnumUnit())], false, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)), 1200.00, YDWECoordinateX(( GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 1200.00 * CosBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( - 3.60 ) )) ) )), YDWECoordinateY(( GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8)) + ( 1200.00 * SinBJ(( ( AngleBetweenPoints(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)) ) + ( - 3.60 ) )) ) )), 0)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000))
endfunction
function Trig_____________131Func015Func001Func020003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), Player(0)) == true ) ) )
endfunction
function Trig_____________131Func015Func001Func021A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78CEB4B4)) == true ) ) then
        call DoNothing()
    else
        call YDWESaveEffectByInteger(YDWEH2I(GetEnumUnit()) , 5233 , AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathTargetArt.mdl", GetEnumUnit(), "chest"))
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78CEB4B4))
        call PauseUnitBJ(true, GetEnumUnit())
    endif
endfunction
function Trig_____________131Func015T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydul_i
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) < 200 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xD42855DB), function Trig_____________131Func015Func001Func016A)
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x7C24209D), function Trig_____________131Func015Func001Func017A)
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xFEB1DADA), function Trig_____________131Func015Func001Func018A)
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xE695AEEA), function Trig_____________131Func015Func001Func019A)
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5F2368D5, YDWEGetUnitsInRangeOfLocMatchingNull(1200.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8) , Condition(function Trig_____________131Func015Func001Func020003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5F2368D5), function Trig_____________131Func015Func001Func021A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5F2368D5))
    else
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xD42855DB), function Trig_____________131Func015Func001Func001A)
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x7C24209D), function Trig_____________131Func015Func001Func002A)
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xFEB1DADA), function Trig_____________131Func015Func001Func003A)
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xE695AEEA), function Trig_____________131Func015Func001Func004A)
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78CEB4B4), function Trig_____________131Func015Func001Func005A)
        call RemoveUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xCD6688F9))
        set ydul_i=1
        loop
            exitwhen ydul_i > 30
            call DestroyLightning(udg_XLning[ydul_i])
            set ydul_i=ydul_i + 1
        endloop
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xD42855DB))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x7C24209D))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xFEB1DADA))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xE695AEEA))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x78CEB4B4))
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________131Func016Func001Func004003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Harf_0262)) == true ) ) )
endfunction
function Trig_____________131Func016Func001Func005A takes nothing returns nothing
    call UnitDamageTargetBJ(gg_unit_Harf_0262, GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig_____________131Func016T takes nothing returns nothing
    local integer ydul_i
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) < 11 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        set ydul_i=1
        loop
            exitwhen ydul_i > 30
            call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8), GetRandomReal(0, 1200.00), GetRandomDirectionDeg()))
            call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000)))
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xDEFC4000))
            set ydul_i=ydul_i + 1
        endloop
        call SaveGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x214C62CC, YDWEGetUnitsInRangeOfLocMatchingNull(1200.00 , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x32A9E4C8) , Condition(function Trig_____________131Func016Func001Func004003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x214C62CC), function Trig_____________131Func016Func001Func005A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x214C62CC))
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_____________131Actions takes nothing returns nothing
    local integer ydul_i
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8, GetUnitLoc(GetTriggerUnit()))
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCD6688F9, CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'e002', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 0.00))
    set udg_Unit=GetSpellAbilityUnit()
    call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( GetDamageChenji(GetTriggerUnit()) ))
    	    call PrintSpell(GetOwningPlayer(GetTriggerUnit()) , GetAbilityName(GetSpellAbilityId()) , GetDamageChenji(GetTriggerUnit()))
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD42855DB, CreateGroup())
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x7C24209D, CreateGroup())
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFEB1DADA, CreateGroup())
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE695AEEA, CreateGroup())
    set ydul_i=1
    loop
        exitwhen ydul_i > 3
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 300.00, ( ( 120.00 ) * ( I2R(ydul_i) ) )))
        set udg_XLning[ydul_i]=AddLightningEx("CLPB", false, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 300.00, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000)), 0)
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnitAtLoc(GetOwningPlayer(gg_unit_Harf_0262), 'e00B', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000), 0.00))
        call SetUnitUserData(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), ydul_i)
        call GroupAddUnitSimple(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD42855DB))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
        set ydul_i=ydul_i + 1
    endloop
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 600.00, ( ( ( ( 60.00 ) * ( I2R(ydul_i) ) ) ) + ( 30.00 ) )))
        set udg_XLning[( ydul_i + 3 )]=AddLightningEx("DRAM", false, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 600.00, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000)), 0)
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnitAtLoc(GetOwningPlayer(gg_unit_Harf_0262), 'e00B', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000), 0.00))
        call SetUnitUserData(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), ( ydul_i + 3 ))
        call GroupAddUnitSimple(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x7C24209D))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
        set ydul_i=ydul_i + 1
    endloop
    set ydul_i=1
    loop
        exitwhen ydul_i > 9
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 900.00, ( ( ( ( 40.00 ) * ( I2R(ydul_i) ) ) ) + ( 60.00 ) )))
        set udg_XLning[( ydul_i + 9 )]=AddLightningEx("LEAS", false, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 900.00, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000)), 0)
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnitAtLoc(GetOwningPlayer(gg_unit_Harf_0262), 'e00B', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000), 0.00))
        call SetUnitUserData(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), ( ydul_i + 9 ))
        call GroupAddUnitSimple(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFEB1DADA))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
        set ydul_i=ydul_i + 1
    endloop
    set ydul_i=1
    loop
        exitwhen ydul_i > 12
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000, PolarProjectionBJ(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8), 1200.00, ( ( ( ( 30.00 ) * ( I2R(ydul_i) ) ) ) + ( 93.00 ) )))
        set udg_XLning[( ydul_i + 18 )]=AddLightningEx("MBUR", false, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8)), 1200.00, GetLocationX(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000)), GetLocationY(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000)), 0)
        call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnitAtLoc(GetOwningPlayer(gg_unit_Harf_0262), 'e00B', LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000), 0.00))
        call SetUnitUserData(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), ( ydul_i + 18 ))
        call GroupAddUnitSimple(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE695AEEA))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
        set ydul_i=ydul_i + 1
    endloop
    set ydl_timer=CreateTimer()
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x32A9E4C8, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0xD42855DB, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD42855DB))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x7C24209D, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x7C24209D))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0xFEB1DADA, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFEB1DADA))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0xE695AEEA, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE695AEEA))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x78CEB4B4, CreateGroup())
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xCD6688F9, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xCD6688F9))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x5F2368D5, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5F2368D5))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0xDEFC4000, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
    call TimerStart(ydl_timer, 0.05, true, function Trig_____________131Func015T)
    set ydl_timer=CreateTimer()
    call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
    call SaveReal(YDHT, GetHandleId(ydl_timer), 0x25DAB820, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x32A9E4C8, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x214C62CC, LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x214C62CC))
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0xDEFC4000, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xDEFC4000))
    call TimerStart(ydl_timer, 1.00, true, function Trig_____________131Func016T)
    call YDWEPolledWaitNull(12.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD42855DB))
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x7C24209D))
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFEB1DADA))
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE695AEEA))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x32A9E4C8))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_____________131 takes nothing returns nothing
    set gg_trg_____________131=CreateTrigger()
    call DisableTrigger(gg_trg_____________131)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_____________131, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_____________131, Condition(function Trig_____________131Conditions))
    call TriggerAddAction(gg_trg_____________131, function Trig_____________131Actions)
endfunction
//===========================================================================
// Trigger: È©¨Áî≤ÁöÑ‰º§ÂÆ≥1
//===========================================================================
function Trig________________1Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SimulateAllDamage(GetEventDamageSource())
    if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] == lingxue ) and ( GetUnitTypeId(GetEventDamageSource()) == 'h019' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] == xiaoyue ) and ( GetUnitTypeId(GetEventDamageSource()) == 'h019' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.05 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] == yanmie ) and ( GetUnitTypeId(GetEventDamageSource()) == 'h004' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
        call DestroyEffect(AddSpecialEffect("war3mapImported\\OrbitalRay.mdx", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        if ( ( IsUnitAliveBJ(GetTriggerUnit()) == true ) ) then
            call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(GetOwningPlayer(gg_unit_Eevi_0020), 'h009', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0))
            call UnitApplyTimedLifeBJ(1.00, 'BHwe', LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
            call IssueTargetOrder(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), "attack", GetTriggerUnit())
        else
        endif
        set udg_Unit=null
    else
    endif
    if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] == lingxue ) and ( GetUnitTypeId(GetEventDamageSource()) == 'h01B' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.40 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] == moqi ) and ( GetUnitTypeId(GetEventDamageSource()) == 'h002' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.30 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] == lingxue ) and ( GetUnitTypeId(GetEventDamageSource()) == 'h01E' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, true) + ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, true) * 2 ) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.03 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] == xiaoyue ) and ( GetUnitTypeId(GetEventDamageSource()) == 'h00G' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.15 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( GetUnitTypeId(GetEventDamageSource()) == 'uloc' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, false)) * 1.30 ) + ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, false)) * 1.30 ) + ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, false)) * 1.30 ) ) ) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.33 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( GetUnitTypeId(GetEventDamageSource()) == 'u000' ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, false)) * 1.30 ) + ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, false)) * 1.30 ) + ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, false)) * 1.30 ) ) ) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( GetUnitTypeId(GetEventDamageSource()) == 'e000' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, false)) * 1.30 ) + ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, false)) * 1.30 ) + ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, false)) * 1.30 ) ) ) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.15 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( GetUnitTypeId(GetEventDamageSource()) == 'e001' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, false)) * 1.30 ) + ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Unit, false)) * 1.30 ) + ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_Unit, false)) * 1.30 ) ) ) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.45 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( GetUnitTypeId(GetEventDamageSource()) == 'nowl' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.10 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( GetUnitTypeId(GetEventDamageSource()) == 'h00D' ) and ( GetTriggerUnit() != udg_U_Zhuansheng_Dantiao[2] ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.25 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( ( GetUnitTypeId(GetEventDamageSource()) == 'e00A' ) or ( GetUnitTypeId(GetEventDamageSource()) == 'e005' ) or ( GetUnitTypeId(GetEventDamageSource()) == 'e007' ) or ( GetUnitTypeId(GetEventDamageSource()) == 'e009' ) or ( GetUnitTypeId(GetEventDamageSource()) == 'e006' ) or ( GetUnitTypeId(GetEventDamageSource()) == 'ewsp' ) or ( GetUnitTypeId(GetEventDamageSource()) == 'e008' ) ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(( R2I(( I2R(GetHeroAgi(udg_Unit, true)) * 1.80 )) + ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true) + R2I(( I2R(GetHeroInt(udg_Unit, true)) * 1.20 )) ) )) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * ( RJ3(moqi , 0.3 , 0.07) ) ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    if ( ( GetUnitTypeId(GetEventDamageSource()) == 'h00P' ) and ( GetEventDamage() > 0.00 ) ) then
        set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( I2R(GetHeroStatBJ(bj_HEROSTAT_STR, udg_Unit, true)) * SquareRoot(I2R(GetHeroLevel(udg_Unit))) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 0.33 ))
        call UnitDamageTarget(udg_Unit, GetTriggerUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        set udg_Unit=null
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig________________1 takes nothing returns nothing
    set gg_trg________________1=CreateTrigger()
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg________________1)
    call TriggerAddAction(gg_trg________________1, function Trig________________1Actions)
endfunction
//===========================================================================
// Trigger: Âê∏Ë°Ä Á†¥Èò≤ ÂëΩ‰∏≠ ‰ºÅÂê∏
//===========================================================================
function Trig____________________________uConditions takes nothing returns boolean
    return ( ( ( GetPlayerController(GetOwningPlayer(GetAttacker())) == MAP_CONTROL_USER ) or ( GetPlayerController(GetOwningPlayer(GetAttackedUnitBJ())) == MAP_CONTROL_USER ) ) and ( IsUnitType(GetAttacker(), UNIT_TYPE_HERO) == true ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( IsUnitAliveBJ(GetAttackedUnitBJ()) == true ) )
endfunction
function Trig____________________________uActions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( HaveSavedInteger(YDHT, GetItemTypeId(UnitItemInSlotBJ(GetAttacker(), GetForLoopIndexA())), 0x1ADEDE7B) == true ) ) then
            set udg_I_suijizhengshu=LoadInteger(YDHT, GetItemTypeId(UnitItemInSlotBJ(GetAttacker(), GetForLoopIndexA())), 0x1ADEDE7B)
            call SetUnitLifeBJ(GetAttacker(), ( GetUnitState(GetAttacker(), UNIT_STATE_LIFE) + I2R(udg_I_suijizhengshu) ))
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( HaveSavedInteger(YDHT, GetItemTypeId(UnitItemInSlotBJ(GetAttacker(), GetForLoopIndexA())), 0xA6870C96) == true ) ) then
            if ( ( GetRandomInt(1, 20) == 1 ) ) then
                set udg_I_suijizhengshu=LoadInteger(YDHT, GetItemTypeId(UnitItemInSlotBJ(GetAttacker(), GetForLoopIndexA())), 0xA6870C96)
                call UnitDamageTarget(GetAttacker(), GetAttackedUnitBJ(), I2R(udg_I_suijizhengshu), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
                call CreateTextTagUnitBJ("‰∏≠ÔºÅ", GetAttacker(), 0, 16.00, 100, 0.00, 0.00, 0)
                call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
                call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
            else
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( HaveSavedInteger(YDHT, GetItemTypeId(UnitItemInSlotBJ(GetAttackedUnitBJ(), GetForLoopIndexA())), 0x0F3DF677) == true ) ) then
            if ( ( GetRandomInt(1, 20) == 1 ) ) then
                set udg_I_suijizhengshu=LoadInteger(YDHT, GetItemTypeId(UnitItemInSlotBJ(GetAttackedUnitBJ(), GetForLoopIndexA())), 0x0F3DF677)
                call UnitDamageTarget(GetAttackedUnitBJ(), GetAttacker(), I2R(udg_I_suijizhengshu), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
                call CreateTextTagUnitBJ("ÊùÄÔºÅ", GetAttackedUnitBJ(), 0, 16.00, 100, 0.00, 0.00, 0)
                call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
                call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
            else
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig____________________________u takes nothing returns nothing
    set gg_trg____________________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________________u, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________________u, Condition(function Trig____________________________uConditions))
    call TriggerAddAction(gg_trg____________________________u, function Trig____________________________uActions)
endfunction
//===========================================================================
// Trigger: È¨ºÊ≥£‰πãÊí∏_1
//===========================================================================
function Trig______________1Conditions takes nothing returns boolean
    return ( ( IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetUnitPointValue(GetDyingUnit()) != 0 ) and ( GetUnitTypeId(GetDyingUnit()) != 'h000' ) and ( IsUnitAlly(GetDyingUnit(), GetOwningPlayer(GetKillingUnitBJ())) != true ) and ( GetPlayerController(GetOwningPlayer(GetKillingUnitBJ())) == MAP_CONTROL_USER ) and ( ( YDWEUnitHasItemOfTypeBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'rst1') or YDWEUnitHasItemOfTypeBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'ICX1') ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'rde2')) == 'rde2' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'vamp')) == 'vamp' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'skul')) == 'skul' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'tsct')) == 'tsct' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'tcas')) == 'tcas' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'plcl')) == 'plcl' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'tgrh')) == 'tgrh' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'I01E')) == 'I01E' ) ) )
endfunction
function Trig______________1Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set IZhanhun[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=IZhanhun[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] + GetKillCount(GetDyingUnit())
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
    if ( ( IZhanhun[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] >= 100 ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, IZhanhun[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
        set IZhanhun[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=0
    else
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    endif
    if ( ( YDWEUnitHasItemOfTypeBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'ICX1') ) ) then
        if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 18 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 6 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 6 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 6 ))
        endif
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DoNothing()
    endif
    call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'rst1')) == 'rst1' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'tgrh')) == 'tgrh' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'plcl')) == 'plcl' ) ) ) then
        if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 12 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 4 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 4 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 4 ))
        endif
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DoNothing()
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'tcas')) == 'tcas' ) ) then
        if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 9 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
        endif
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DoNothing()
    endif
    if ( ( GetRandomInt(1, 10) <= 7 ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'tsct')) == 'tsct' ) ) then
        if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 9 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
        endif
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DoNothing()
    endif
    if ( ( GetRandomInt(1, 2) == 1 ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'skul')) == 'skul' ) ) then
        if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 9 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
        endif
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DoNothing()
    endif
    if ( ( GetRandomInt(1, 2) == 1 ) and ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'vamp')) == 'vamp' ) ) then
        if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 6 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 2 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 2 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 2 ))
        endif
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DoNothing()
    endif
    if ( ( GetRandomInt(1, 2) == 1 ) and ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'I01E')) == 'I01E' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] , 'rde2')) == 'rde2' ) ) ) then
        if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))] == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 3 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1 ))
            call ModifyHeroStat(bj_HEROSTAT_AGI, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1 ))
            call ModifyHeroStat(bj_HEROSTAT_INT, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D), bj_MODIFYMETHOD_ADD, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 1 ))
        endif
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
        call DoNothing()
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig______________1 takes nothing returns nothing
    set gg_trg______________1=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg______________1, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg______________1, Condition(function Trig______________1Conditions))
    call TriggerAddAction(gg_trg______________1, function Trig______________1Actions)
endfunction
//===========================================================================
// Trigger: Áü≥ÂåñÊä§Á¨¶_3a
//===========================================================================
function Trig______________3aConditions takes nothing returns boolean
    return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true ) and ( GetEventDamage() > 0.00 ) )
endfunction
function Trig______________3aActions takes nothing returns nothing
    set udg_I_suijizhengshu=0
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'I02A' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'rde2' ) ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + 75 )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'vamp' ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + 250 )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'skul' ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + 1000 )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'tsct' ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + 3000 )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'tcas' ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + 6000 )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'plcl' ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + 10000 )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'tgrh' ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + 25000 )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=6
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'rst1' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'ICX1' ) ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + 50000 )
        else
            call DoNothing()
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( ( GetUnitAbilityLevelSwapped('A0F8', GetTriggerUnit()) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Harf_0262)) == 1 ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( GetEventDamage() > 100.00 ) ) then
        if ( ( ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) ) <= 0.10 ) ) then
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + R2I(( GetEventDamage() * 0.90 )) )
        else
            set udg_I_suijizhengshu=( udg_I_suijizhengshu + R2I(( GetEventDamage() * ( 1.00 - ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) ) ) )) )
        endif
    else
        call DoNothing()
    endif
    if ( ( GetUnitAbilityLevelSwapped('AHab', GetTriggerUnit()) == 1 ) and ( GetPlayerTechCountSimple('R008', GetOwningPlayer(gg_unit_Eevi_0020)) == 1 ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) and ( HaveSavedInteger(YDHT, GetHandleId(GetEventDamageSource()), 0x64316311) == true ) ) then
        if ( ( LoadInteger(YDHT, GetHandleId(GetEventDamageSource()), 0x64316311) == 1 ) ) then
            set udg_I_suijizhengshu=R2I(GetEventDamage())
            call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + I2R(udg_I_suijizhengshu) ))
            return
        else
        endif
    else
    endif
    if ( ( GetEventDamage() >= I2R(udg_I_suijizhengshu) ) ) then
        call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + I2R(udg_I_suijizhengshu) ))
    else
        set udg_I_suijizhengshu=R2I(GetEventDamage())
        call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + I2R(udg_I_suijizhengshu) ))
    endif
endfunction
//===========================================================================
function InitTrig______________3a takes nothing returns nothing
    set gg_trg______________3a=CreateTrigger()
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg______________3a)
    call TriggerAddCondition(gg_trg______________3a, Condition(function Trig______________3aConditions))
    call TriggerAddAction(gg_trg______________3a, function Trig______________3aActions)
endfunction
//===========================================================================
// Trigger: Âú∞Áã±ÁÅ´
//===========================================================================
function Trig__________uConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'AIin' ) )
endfunction
function Trig__________uActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call CreateNUnitsAtLoc(1, 'n00Y', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
    call SetUnitAnimation(GetLastCreatedUnit(), "birth")
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    set udg_Unit=GetLastCreatedUnit()
    call UnitApplyTimedLifeBJ(120.00, 'BTLF', GetLastCreatedUnit())
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + ( GetHeroAgi(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) / 100 ) ))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 4 ) ))
    endif
    call TriggerExecute(gg_trg___________________4000______u)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) / 3 ) ))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 4 ) ))
    endif
    call TriggerExecute(gg_trg_____________800W)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 4 ) ))
    endif
    call TriggerExecute(gg_trg_HP_____________________u)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig__________u takes nothing returns nothing
    set gg_trg__________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg__________u, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg__________u, Condition(function Trig__________uConditions))
    call TriggerAddAction(gg_trg__________u, function Trig__________uActions)
endfunction
//===========================================================================
// Trigger: Âú∞Áã±ÁÅ´_6a
//===========================================================================
function Trig___________6aConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A06Q' ) )
endfunction
function Trig___________6aActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call CreateNUnitsAtLoc(1, 'n00Y', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
    call UnitAddAbilityBJ('A06R', GetLastCreatedUnit())
    call SetUnitAnimation(GetLastCreatedUnit(), "birth")
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    set udg_Unit=GetLastCreatedUnit()
    call UnitApplyTimedLifeBJ(150.00, 'BTLF', GetLastCreatedUnit())
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + ( GetHeroAgi(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) / 100 ) ))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 4 ) ))
    endif
    call TriggerExecute(gg_trg___________________4000______u)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) / 3 ) ))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 4 ) ))
    endif
    call TriggerExecute(gg_trg_____________800W)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 4 ) ))
    endif
    call TriggerExecute(gg_trg_HP_____________________u)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig___________6a takes nothing returns nothing
    set gg_trg___________6a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg___________6a, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg___________6a, Condition(function Trig___________6aConditions))
    call TriggerAddAction(gg_trg___________6a, function Trig___________6aActions)
endfunction
//===========================================================================
// Trigger: Âú∞Áã±ÁÅ´_7a
//===========================================================================
function Trig___________7aConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A075' ) )
endfunction
function Trig___________7aActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call CreateNUnitsAtLoc(1, 'n00Y', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
    call UnitAddAbilityBJ('A06R', GetLastCreatedUnit())
    call SetUnitAnimation(GetLastCreatedUnit(), "birth")
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    set udg_Unit=GetLastCreatedUnit()
    call UnitApplyTimedLifeBJ(180.00, 'BTLF', GetLastCreatedUnit())
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + ( GetHeroAgi(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) / 100 ) ))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    endif
    call TriggerExecute(gg_trg___________________4000______u)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) / 3 ) ))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    endif
    call TriggerExecute(gg_trg_____________800W)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
    if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
    else
        call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
    endif
    call TriggerExecute(gg_trg_HP_____________________u)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig___________7a takes nothing returns nothing
    set gg_trg___________7a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg___________7a, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg___________7a, Condition(function Trig___________7aConditions))
    call TriggerAddAction(gg_trg___________7a, function Trig___________7aActions)
endfunction
//===========================================================================
// Trigger: Âú∞Áã±ÁÅ´_10a
//===========================================================================
function Trig___________10aConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A05X' ) )
endfunction
function Trig___________10aActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=2
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreateNUnitsAtLoc(1, 'n00Y', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call UnitAddAbilityBJ('A06R', GetLastCreatedUnit())
        call SetUnitAnimation(GetLastCreatedUnit(), "birth")
        set udg_Unit=GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ(210.00, 'BTLF', GetLastCreatedUnit())
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + ( GetHeroAgi(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) / 100 ) ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg___________________4000______u)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) / 3 ) ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_____________800W)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_HP_____________________u)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig___________10a takes nothing returns nothing
    set gg_trg___________10a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg___________10a, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg___________10a, Condition(function Trig___________10aConditions))
    call TriggerAddAction(gg_trg___________10a, function Trig___________10aActions)
endfunction
//===========================================================================
// Trigger: Âú∞Áã±ÁÅ´_11a
//===========================================================================
function Trig___________11aConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A05Y' ) )
endfunction
function Trig___________11aActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=2
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreateNUnitsAtLoc(1, 'n00Y', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call UnitAddAbilityBJ('A06R', GetLastCreatedUnit())
        call SetUnitAnimation(GetLastCreatedUnit(), "birth")
        set udg_Unit=GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ(210.00, 'BTLF', GetLastCreatedUnit())
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + ( GetHeroAgi(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) / 100 ) ))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg___________________4000______u)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) / 3 ) ))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_____________800W)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_HP_____________________u)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig___________11a takes nothing returns nothing
    set gg_trg___________11a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg___________11a, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg___________11a, Condition(function Trig___________11aConditions))
    call TriggerAddAction(gg_trg___________11a, function Trig___________11aActions)
endfunction
//===========================================================================
// Trigger: Âú∞Áã±ÁÅ´_12a
//===========================================================================
function Trig___________12aConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A05Z' ) )
endfunction
function Trig___________12aActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=3
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreateNUnitsAtLoc(1, 'n00Y', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call UnitAddAbilityBJ('A06R', GetLastCreatedUnit())
        call SetUnitAnimation(GetLastCreatedUnit(), "birth")
        set udg_Unit=GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ(210.00, 'BTLF', GetLastCreatedUnit())
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + ( GetHeroAgi(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) / 100 ) ))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg___________________4000______u)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) / 3 ) ))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_____________800W)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_HP_____________________u)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig___________12a takes nothing returns nothing
    set gg_trg___________12a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg___________12a, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg___________12a, Condition(function Trig___________12aConditions))
    call TriggerAddAction(gg_trg___________12a, function Trig___________12aActions)
endfunction
//===========================================================================
// Trigger: Âú∞Áã±ÁÅ´_13a
//===========================================================================
function Trig___________13aConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A060' ) )
endfunction
function Trig___________13aActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=3
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreateNUnitsAtLoc(1, 'n00Y', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call UnitAddAbilityBJ('A061', GetLastCreatedUnit())
        call SetUnitAnimation(GetLastCreatedUnit(), "birth")
        set udg_Unit=GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ(240.00, 'BTLF', GetLastCreatedUnit())
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + ( GetHeroAgi(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) / 100 ) ))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg___________________4000______u)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) / 3 ) ))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_____________800W)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) * 3 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_HP_____________________u)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig___________13a takes nothing returns nothing
    set gg_trg___________13a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg___________13a, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg___________13a, Condition(function Trig___________13aConditions))
    call TriggerAddAction(gg_trg___________13a, function Trig___________13aActions)
endfunction
//===========================================================================
// Trigger: Âú∞Áã±ÁÅ´_13a Â§çÂà∂
//===========================================================================
function Trig___________13a_______uConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A03A' ) )
endfunction
function Trig___________13a_______uActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetSpellTargetLoc())
    call YDWEPolledWaitNull(0.50)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=3
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreateNUnitsAtLoc(1, 'n006', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
        call SetUnitAnimation(GetLastCreatedUnit(), "birth")
        set udg_Unit=GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ(300.00, 'BTLF', GetLastCreatedUnit())
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x81FD3994) + ( GetHeroAgi(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) / 100 ) ))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 2 ) * 1 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x81FD3994) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg___________________4000______u)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), 0x5039AFFB) + ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) + GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) + GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true) ) / 3 ) ))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 2 ) * 1 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0x5039AFFB) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_____________800W)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * 2 ) * 1 ))
        if ( ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 1 ) ))
        else
            call SaveInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(GetLastCreatedUnit()), 0xFCD961C9) + ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) / 2 ) ))
        endif
        call TriggerExecute(gg_trg_HP_____________________u)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig___________13a_______u takes nothing returns nothing
    set gg_trg___________13a_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg___________13a_______u, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg___________13a_______u, Condition(function Trig___________13a_______uConditions))
    call TriggerAddAction(gg_trg___________13a_______u, function Trig___________13a_______uActions)
endfunction
//===========================================================================
// Trigger: Âè¨Âî§ÂÖÉÁ¥†Á≤æÁÅµ_9a
//===========================================================================
function Trig____________________9aConditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetManipulatingUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig____________________9aFunc051A takes nothing returns nothing
    call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
    call RemoveUnit(GetEnumUnit())
    call DestroyEffect(AddSpecialEffect(udg_HEla, YDWECoordinateX(GetUnitX(GetEnumUnit())), YDWECoordinateY(GetUnitY(GetEnumUnit()))))
endfunction
function Trig____________________9aActions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 0)
    if ( ( ( GetItemTypeId(GetManipulatedItem()) == 'tlum' ) or ( GetItemTypeId(GetManipulatedItem()) == 'ICS1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I04W' ) ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nehy')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I04Z' ) ) then
        set udg_HEla="Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nbal')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'nflg' ) ) then
        set udg_HEla="Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nbal')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 300000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 200)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 1000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'esaz' ) ) then
        set udg_HEla="Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nbal')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 750000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 2500000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'sksh' ) ) then
        set udg_HEla="Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nbal')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1200000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 750)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 4000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'oslo' ) ) then
        set udg_HEla="Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nbal')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 6000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'grsl' ) ) then
        set udg_HEla="Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nbal')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 2800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 10000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'flag' ) ) then
        set udg_HEla="Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nbal')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 5000000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 2000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 15000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'tbar' ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nitp')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'ccmd' ) ) then
        set udg_HEla="war3mapImported\\OrbitalRay.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nadr')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'iwbr' ) ) then
        set udg_HEla="Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nsgg')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I056' ) ) then
        set udg_HEla="Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nvde')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'spre' ) ) then
        set udg_HEla="Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nvde')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 300000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 200)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 1000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'asbl' ) ) then
        set udg_HEla="Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nvde')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 750000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 2500000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'ocor' ) ) then
        set udg_HEla="Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nvde')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1200000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 750)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 4000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'blba' ) ) then
        set udg_HEla="Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nvde')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 6000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'cosl' ) ) then
        set udg_HEla="Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nvde')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 2800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 10000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'shhn' ) ) then
        set udg_HEla="Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nvde')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 5000000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 2000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 15000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I057' ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'hwat')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'fwss' ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'hwat')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 300000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 200)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 1000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'ram4' ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'hwat')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 750000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 2500000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'rat3' ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'hwat')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1200000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 750)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 4000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'pams' ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'hwat')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 6000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'jdrn' ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'hwat')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 2800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 10000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'shcw' ) ) then
        set udg_HEla="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'hwat')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 5000000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 2000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 15000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I050' ) ) then
        set udg_HEla="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nlv3')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'uflg' ) ) then
        set udg_HEla="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nlv3')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 300000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 200)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 1000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'ram3' ) ) then
        set udg_HEla="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nlv3')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 750000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 2500000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'stre' ) ) then
        set udg_HEla="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nlv3')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1200000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 750)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 4000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'shrs' ) ) then
        set udg_HEla="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nlv3')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 6000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'kgal' ) ) then
        set udg_HEla="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nlv3')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 2800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 10000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'shtm' ) ) then
        set udg_HEla="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nlv3')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 5000000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 2000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 15000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I055' ) ) then
        set udg_HEla="war3mapImported\\OrbitalRay.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nsll')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'tgxp' ) ) then
        set udg_HEla="war3mapImported\\OrbitalRay.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nsll')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 300000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 200)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 1000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'ram2' ) ) then
        set udg_HEla="war3mapImported\\OrbitalRay.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nsll')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 750000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 2500000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'lure' ) ) then
        set udg_HEla="war3mapImported\\OrbitalRay.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nsll')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1200000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 750)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 4000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'thdm' ) ) then
        set udg_HEla="war3mapImported\\OrbitalRay.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nsll')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 6000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'arsh' ) ) then
        set udg_HEla="war3mapImported\\OrbitalRay.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nsll')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 2800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 10000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'srtl' ) ) then
        set udg_HEla="war3mapImported\\OrbitalRay.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'nsll')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 5000000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 2000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 15000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I03Y' ) ) then
        set udg_HEla="Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 10000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'ehpr')
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'dust' ) ) then
        set udg_HEla="Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'ehpr')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 300000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 200)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 1000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'ram1' ) ) then
        set udg_HEla="Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'ehpr')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 750000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 2500000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'rots' ) ) then
        set udg_HEla="Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'ehpr')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1200000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 750)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 4000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'tmmt' ) ) then
        set udg_HEla="Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'ehpr')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 1800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 6000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'brag' ) ) then
        set udg_HEla="Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'ehpr')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 2800000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 1500)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 10000000)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'olig' ) ) then
        set udg_HEla="Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl"
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA, 'ehpr')
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3, 5000000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615, 2000)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F, 15000000)
    else
    endif
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3) == 0 ) ) then
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_group=null
        set ydl_unit=null
        return
    else
    endif
    set udg_Group=YDWEGetUnitsOfPlayerAndTypeIdNull(GetOwningPlayer(GetTriggerUnit()) , LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA))
    call ForGroupBJ(udg_Group, function Trig____________________9aFunc051A)
    call DestroyGroup(udg_Group)
    set udg_Point=GetUnitLoc(GetTriggerUnit())
    call CreateNUnitsAtLoc(1, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xB6A6EBAA), GetOwningPlayer(GetTriggerUnit()), udg_Point, bj_UNIT_FACING)
    set udg_Unit=GetLastCreatedUnit()
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB) + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xD5CF2EF3) ))
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994) + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x62888615) ))
    call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9) + LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xA9A93E9F) ))
    call TriggerExecute(gg_trg___________________4000______u)
    call TriggerExecute(gg_trg_____________800W)
    call TriggerExecute(gg_trg_HP_____________________u)
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'nflg' ) ) then
        call SetUnitAbilityLevelSwapped('ANpi', udg_Unit, 2)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'esaz' ) ) then
        call SetUnitAbilityLevelSwapped('ANpi', udg_Unit, 3)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'sksh' ) ) then
        call SetUnitAbilityLevelSwapped('ANpi', udg_Unit, 4)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'oslo' ) ) then
        call SetUnitAbilityLevelSwapped('ANpi', udg_Unit, 5)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'grsl' ) ) then
        call SetUnitAbilityLevelSwapped('ANpi', udg_Unit, 6)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'flag' ) ) then
        call SetUnitAbilityLevelSwapped('ANpi', udg_Unit, 7)
    else
    endif
    call RemoveLocation(udg_Point)
    call DestroyEffect(AddSpecialEffect(udg_HEla, YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________9a takes nothing returns nothing
    set gg_trg____________________9a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________9a, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddCondition(gg_trg____________________9a, Condition(function Trig____________________9aConditions))
    call TriggerAddAction(gg_trg____________________9a, function Trig____________________9aActions)
endfunction
//===========================================================================
// Trigger: Èó™ÁîµÈìæ_14a
//===========================================================================
function Trig___________14aConditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) )
endfunction
function Trig___________14aFunc002Func006003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig___________14aFunc002Func007A takes nothing returns nothing
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl", YDWECoordinateX(GetUnitX(GetEnumUnit())), YDWECoordinateY(GetUnitY(GetEnumUnit()))))
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig___________14aFunc003Func006003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig___________14aFunc003Func007A takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x25DAB820), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction
function Trig___________14aFunc004Func004003003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == false ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig___________14aFunc004Func005A takes nothing returns nothing
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl", YDWECoordinateX(GetUnitX(GetEnumUnit())), YDWECoordinateY(GetUnitY(GetEnumUnit()))))
    call SetUnitLifeBJ(GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) + ( 30000.00 + ( 0.25 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ) ) ))
endfunction
function Trig___________14aActions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetSpellAbilityId() == 'Acht' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( 120000.00 + ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, GetTriggerUnit(), true)) * 2.00 ) * SquareRoot(I2R(GetHeroLevel(GetTriggerUnit()))) ) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig___________14aFunc002Func006003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig___________14aFunc002Func007A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„Äê|r" + ( "Èó™ÁîµÈìæ" + ( "|cFFFF66CC„Äë|rÈÄ†Êàê‰º§ÂÆ≥ÂÄº" + I2S(R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))) ) ) ))
    else
    endif
    if ( ( GetSpellAbilityId() == 'A07X' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( 80000.00 + ( ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, GetTriggerUnit(), true)) * 2.00 ) * SquareRoot(I2R(GetHeroLevel(GetTriggerUnit()))) ) ))
        call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) * udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(900.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig___________14aFunc003Func006003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig___________14aFunc003Func007A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„Äê|r" + ( "Êàò‰∫âË∑µË∏è" + ( "|cFFFF66CC„Äë|rÈÄ†Êàê‰º§ÂÆ≥ÂÄº" + I2S(R2I(LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))) ) ) ))
    else
    endif
    if ( ( GetSpellAbilityId() == 'ACro' ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetTriggerUnit()))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig___________14aFunc004Func004003003)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig___________14aFunc004Func005A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig___________14a takes nothing returns nothing
    set gg_trg___________14a=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg___________14a, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg___________14a, Condition(function Trig___________14aConditions))
    call TriggerAddAction(gg_trg___________14a, function Trig___________14aActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 037
//===========================================================================
function Trig____________________037Conditions takes nothing returns boolean
    return ( ( UnitHasBuffBJ(GetAttackedUnitBJ(), 'Bfae') == false ) and ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == false ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttackedUnitBJ()) != 1 ) )
endfunction
function Trig____________________037Actions takes nothing returns nothing
    if ( ( YDWEUnitHasItemOfTypeBJNull(GetAttacker() , 'ICS1') ) ) then
        call SimulateSpell(GetAttacker() , GetAttackedUnitBJ() , 'A0CH' , 1 , 1 , "faeriefire" , false , false , true)
        return
    else
    endif
    if ( ( YDWEUnitHasItemOfTypeBJNull(GetAttacker() , 'I04W') ) ) then
        call SimulateSpell(GetAttacker() , GetAttackedUnitBJ() , 'A0K5' , 1 , 1 , "faeriefire" , false , false , true)
        return
    else
    endif
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'tlum')) == 'tlum' ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A0D9', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'tbar')) == 'tbar' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'ccmd')) == 'ccmd' ) ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A0CQ', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'shtm')) == 'shtm' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'srtl')) == 'srtl' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'olig')) == 'olig' ) ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A0BK', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'kgal')) == 'kgal' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'arsh')) == 'arsh' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'brag')) == 'brag' ) ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A0BC', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'shrs')) == 'shrs' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'thdm')) == 'thdm' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'tmmt')) == 'tmmt' ) ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A0AX', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'stre')) == 'stre' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'lure')) == 'lure' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'rots')) == 'rots' ) ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A0A9', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'ram3')) == 'ram3' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'ram2')) == 'ram2' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'ram1')) == 'ram1' ) ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A088', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'uflg')) == 'uflg' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'tgxp')) == 'tgxp' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'dust')) == 'dust' ) ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A087', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'I050')) == 'I050' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'I055')) == 'I055' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker() , 'I03Y')) == 'I03Y' ) ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(1.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A041', GetLastCreatedUnit())
        call IssueTargetOrder(GetLastCreatedUnit(), "faeriefire", GetAttackedUnitBJ())
        call RemoveLocation(udg_Point)
        return
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________037 takes nothing returns nothing
    set gg_trg____________________037=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________037, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg____________________037, Condition(function Trig____________________037Conditions))
    call TriggerAddAction(gg_trg____________________037, function Trig____________________037Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 045
//===========================================================================
function Trig____________________045Conditions takes nothing returns boolean
    return ( ( udg_Yifu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == false ) and ( GetEventDamage() > GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) ) and ( GetTriggerUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) )
endfunction
function Trig____________________045Func002T takes nothing returns nothing
    set udg_Yifu[GetConvertedPlayerId(LoadPlayerHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x231B55E1))]=false
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________045Actions takes nothing returns nothing
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Yifu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
    set ydl_timer=CreateTimer()
    call SavePlayerHandle(YDHT, GetHandleId(ydl_timer), 0x231B55E1, GetOwningPlayer(GetTriggerUnit()))
    call TimerStart(ydl_timer, 90.00, false, function Trig____________________045Func002T)
    if ( ( YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'tbak') or YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'I060') ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(9.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'pspd')) == 'pspd' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(8.50)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'crdt')) == 'crdt' ) or ( YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'tfar') or YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'tbsm') or YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'I05Y') or YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'I05Z') ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(8.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'shdt')) == 'shdt' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'frgd')) == 'frgd' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'stpg')) == 'stpg' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(7.50)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'rugt')) == 'rugt' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'oflg')) == 'oflg' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'shen')) == 'shen' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(7.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'envl')) == 'envl' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'rde0')) == 'rde0' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'rump')) == 'rump' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(6.50)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'gsou')) == 'gsou' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'arsc')) == 'arsc' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'oli2')) == 'oli2' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(6.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'gldo')) == 'gldo' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'sbok')) == 'sbok' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'nspi')) == 'nspi' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(5.50)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'gvsm')) == 'gvsm' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'soul')) == 'soul' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'mlst')) == 'mlst' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(5.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'gobm')) == 'gobm' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'ofir')) == 'ofir' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'frhg')) == 'frhg' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(4.50)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'pgin')) == 'pgin' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'tels')) == 'tels' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'oven')) == 'oven' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(4.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'dtsb')) == 'dtsb' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'drph')) == 'drph' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(3.50)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    if ( ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'rej4')) == 'rej4' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'rej6')) == 'rej6' ) ) ) then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call YDWEPolledWaitNull(3.00)
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
        call SetUnitInvulnerable(GetTriggerUnit(), false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl", YDWECoordinateX(GetUnitX(GetTriggerUnit())), YDWECoordinateY(GetUnitY(GetTriggerUnit()))))
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_timer=null
        return
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig____________________045 takes nothing returns nothing
    set gg_trg____________________045=CreateTrigger()
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________045)
    call TriggerAddCondition(gg_trg____________________045, Condition(function Trig____________________045Conditions))
    call TriggerAddAction(gg_trg____________________045, function Trig____________________045Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 096 Â§çÂà∂
//===========================================================================
function Trig____________________096_______uConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0EJ' ) )
endfunction
function Trig____________________096_______uActions takes nothing returns nothing
    call SetUnitLifeBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) - ( 0.75 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetTriggerUnit()) ) ))
    call SetUnitManaBJ(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetTriggerUnit()) + 600.00 ))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
endfunction
//===========================================================================
function InitTrig____________________096_______u takes nothing returns nothing
    set gg_trg____________________096_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________096_______u, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg____________________096_______u, Condition(function Trig____________________096_______uConditions))
    call TriggerAddAction(gg_trg____________________096_______u, function Trig____________________096_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 023
//===========================================================================
function Trig____________________023Conditions takes nothing returns boolean
    return ( ( GetEventDamage() >= GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) ) and ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) and ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'I01U')) == 'I01U' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'rde2')) == 'rde2' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'vamp')) == 'vamp' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'skul')) == 'skul' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'tsct')) == 'tsct' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'tcas')) == 'tcas' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'plcl')) == 'plcl' ) or ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 'tgrh')) == 'tgrh' ) or ( YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'rst1') or YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'ICX1') ) ) )
endfunction
function Trig____________________023Func002Func001Func001Func001Func004T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________023Func002Func001Func001Func002Func004T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________023Func002Func001Func001Func003Func004T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________023Func002Func001Func001Func004Func005T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________023Func002Func001Func001Func005Func005T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________023Func002Func001Func001Func006Func005T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________023Func002Func001Func001Func007Func005T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________023Func002Func001Func001Func008Func005T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________023Actions takes nothing returns nothing
    local integer ydul_b
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call YDWEPolledWaitNull(0.10)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitDeadBJ(GetTriggerUnit()) == true ) ) then
        set ydul_b=1
        loop
            exitwhen ydul_b > 6
            if ( ( HaveSavedInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE) != true ) ) then
                if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'I01U' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'rde2' ) ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 239.00, false, function Trig____________________023Func002Func001Func001Func001Func004T)
                else
                endif
                if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'vamp' ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 219.00, false, function Trig____________________023Func002Func001Func001Func002Func004T)
                else
                endif
                if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'skul' ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 199.00, false, function Trig____________________023Func002Func001Func001Func003Func004T)
                else
                endif
                if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'tsct' ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 174.00, false, function Trig____________________023Func002Func001Func001Func004Func005T)
                else
                endif
                if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'tcas' ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 149.00, false, function Trig____________________023Func002Func001Func001Func005Func005T)
                else
                endif
                if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'plcl' ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 99.00, false, function Trig____________________023Func002Func001Func001Func006Func005T)
                else
                endif
                if ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'tgrh' ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 59.00, false, function Trig____________________023Func002Func001Func001Func007Func005T)
                else
                endif
                if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'tgrh' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'ICX1' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'rst1' ) ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 29.00, false, function Trig____________________023Func002Func001Func001Func008Func005T)
                else
                endif
            else
            endif
            set ydul_b=ydul_b + 1
        endloop
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig____________________023 takes nothing returns nothing
    set gg_trg____________________023=CreateTrigger()
    call DoNothing()
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________023)
    call TriggerAddCondition(gg_trg____________________023, Condition(function Trig____________________023Conditions))
    call TriggerAddAction(gg_trg____________________023, function Trig____________________023Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 092
//===========================================================================
function Trig____________________092Conditions takes nothing returns boolean
    return ( ( IsXianSpell(GetSpellAbilityId()) == true ) and ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) )
endfunction
function Trig____________________092Func002Func001Func001Func001Func004T takes nothing returns nothing
    call SetItemDroppable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call SetItemPawnable(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181), true)
    call FlushChildHashtable(YDHT, GetHandleId(LoadItemHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x312C4181)))
    call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________092Actions takes nothing returns nothing
    local integer ydul_b
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_b=1
    loop
        exitwhen ydul_b > 6
        if ( ( HaveSavedInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE) != true ) ) then
            if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'rnec' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'shas' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'spro' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'phea' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'rin1' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'ward' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'rde1' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'rst1' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == 'ICX1' ) ) ) then
                if ( ( IsItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)) == true ) ) then
                    call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SetItemPawnable(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b), false)
                    call SaveInteger(YDHT, GetHandleId(UnitItemInSlotBJ(GetTriggerUnit(), ydul_b)), 0x4E8ECADE, 1)
                    set ydl_timer=CreateTimer()
                    call SaveItemHandle(YDHT, GetHandleId(ydl_timer), 0x312C4181, UnitItemInSlotBJ(GetTriggerUnit(), ydul_b))
                    call TimerStart(ydl_timer, 29.00, false, function Trig____________________092Func002Func001Func001Func001Func004T)
                else
                endif
            else
            endif
        else
        endif
        set ydul_b=ydul_b + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig____________________092 takes nothing returns nothing
    set gg_trg____________________092=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________092, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg____________________092, Condition(function Trig____________________092Conditions))
    call TriggerAddAction(gg_trg____________________092, function Trig____________________092Actions)
endfunction
//===========================================================================
// Trigger: Init_Tian_Lian
//===========================================================================
function Trig_Init_Tian_LianActions takes nothing returns nothing
    call SaveInteger(YDHT, 'nspr', 0xFCD961C9, 20000)
    call SaveInteger(YDHT, 'nspr', 0x5039AFFB, 500)
    call SaveInteger(YDHT, 'nspr', 0x81FD3994, 10)
    call SaveInteger(YDHT, 'nfrs', 0xFCD961C9, 40000)
    call SaveInteger(YDHT, 'nfrs', 0x5039AFFB, 1000)
    call SaveInteger(YDHT, 'nfrs', 0x81FD3994, 15)
    call SaveInteger(YDHT, 'nsat', 0xFCD961C9, 70000)
    call SaveInteger(YDHT, 'nsat', 0x5039AFFB, 2000)
    call SaveInteger(YDHT, 'nsat', 0x81FD3994, 30)
    call SaveInteger(YDHT, 'nwlg', 0xFCD961C9, 120000)
    call SaveInteger(YDHT, 'nwlg', 0x5039AFFB, 4000)
    call SaveInteger(YDHT, 'nwlg', 0x81FD3994, 40)
    call SaveInteger(YDHT, 'nowb', 0xFCD961C9, 300000)
    call SaveInteger(YDHT, 'nowb', 0x5039AFFB, 80000)
    call SaveInteger(YDHT, 'nowb', 0x81FD3994, 60)
    call SaveInteger(YDHT, 'nwiz', 0xFCD961C9, 800000)
    call SaveInteger(YDHT, 'nwiz', 0x5039AFFB, 200000)
    call SaveInteger(YDHT, 'nwiz', 0x81FD3994, 80)
    call SaveInteger(YDHT, 'ngrk', 0xFCD961C9, 2000000)
    call SaveInteger(YDHT, 'ngrk', 0x5039AFFB, 400000)
    call SaveInteger(YDHT, 'ngrk', 0x81FD3994, 180)
    call SaveInteger(YDHT, 'ndqn', 0xFCD961C9, 8000000)
    call SaveInteger(YDHT, 'ndqn', 0x5039AFFB, 4000000)
    call SaveInteger(YDHT, 'ndqn', 0x81FD3994, 200)
    call SaveInteger(YDHT, 'ntka', 0xFCD961C9, 12000000)
    call SaveInteger(YDHT, 'ntka', 0x5039AFFB, 3000000)
    call SaveInteger(YDHT, 'ntka', 0x81FD3994, 240)
    call SaveInteger(YDHT, 'nscb', 0xFCD961C9, 20000000)
    call SaveInteger(YDHT, 'nscb', 0x5039AFFB, 8000000)
    call SaveInteger(YDHT, 'nscb', 0x81FD3994, 300)
    call SaveInteger(YDHT, 'nsqt', 0x5039AFFB, 10000000)
    call SaveInteger(YDHT, 'nsqt', 0xFCD961C9, 40000000)
    call SaveInteger(YDHT, 'nsqt', 0x81FD3994, 400)
    call SaveInteger(YDHT, 'nwen', 0x5039AFFB, 15000000)
    call SaveInteger(YDHT, 'nwen', 0xFCD961C9, 60000000)
    call SaveInteger(YDHT, 'nwen', 0x81FD3994, 500)
    call SaveInteger(YDHT, 'ngh2', 0x5039AFFB, 20000000)
    call SaveInteger(YDHT, 'ngh2', 0xFCD961C9, 30000000)
    call SaveInteger(YDHT, 'ngh2', 0x81FD3994, 600)
    call SaveInteger(YDHT, 'nsog', 0xFCD961C9, 40000000)
    call SaveInteger(YDHT, 'nsog', 0x5039AFFB, 40000000)
    call SaveInteger(YDHT, 'nsog', 0x81FD3994, 700)
    call SaveInteger(YDHT, 'nrzg', 0x81FD3994, 800)
    call SaveInteger(YDHT, 'nrzg', 0xFCD961C9, 80000000)
    call SaveInteger(YDHT, 'nrzg', 0x5039AFFB, 80000000)
    call SaveInteger(YDHT, 'npfm', 0x81FD3994, 1000)
    call SaveInteger(YDHT, 'npfm', 0xFCD961C9, 100000000)
    call SaveInteger(YDHT, 'npfm', 0x5039AFFB, 23000000)
    call SaveInteger(YDHT, 'nsrn', 0x81FD3994, 1200)
    call SaveInteger(YDHT, 'nsrn', 0xFCD961C9, 150000000)
    call SaveInteger(YDHT, 'nsrn', 0x5039AFFB, 50000000)
    call SaveInteger(YDHT, 'ninc', 0x5039AFFB, 80000000)
    call SaveInteger(YDHT, 'ninc', 0xFCD961C9, 200000000)
    call SaveInteger(YDHT, 'ninc', 0x81FD3994, 1500)
    set udg_TianTing_Zengyi[1]=4000
    set udg_TianTing_Zengyi[2]=15000
    set udg_TianTing_Zengyi[3]=50000
    set udg_TianTing_Zengyi[4]=100000
    set udg_TianTing_Zengyi[5]=200000
    set udg_TianTing_Zengyi[6]=400000
    set udg_TianTing_Zengyi[7]=1000000
    set udg_TianTing_Zengyi[8]=4000000
    set udg_TianTing_Zengyi[9]=7000000
    set udg_TianTing_Zengyi[10]=10000000
    set udg_TianTing_Zengyi[11]=20000000
    set udg_TianTing_Zengyi[12]=50000000
    set udg_TianTing_Zengyi[13]=75000000
    set udg_TianTing_Zengyi[14]=100000000
    set udg_TianTing_Zengyi[15]=200000000
    set udg_TianTing_Zengyi[16]=200000000
    set udg_TianTing_Zengyi[17]=400000000
    set udg_TianTing_Zengyi[18]=600000000
    set udg_TianTing_Zengyi[19]=800000000
    set udg_TianTing_Zengyi[20]=1000000000
    set udg_TianTing_Zengyi[21]=4000
    set udg_TianTing_Zengyi[22]=10000
    set udg_TianTing_Zengyi[23]=15000
    set udg_TianTing_Zengyi[24]=20000
    set udg_TianTing_Zengyi[25]=28000
    set udg_TianTing_Zengyi[26]=40000
    set udg_TianTing_Zengyi[27]=60000
    set udg_TianTing_Zengyi[28]=90000
    set udg_TianTing_Zengyi[29]=140000
    set udg_TianTing_Zengyi[30]=200000
    set udg_TianTing_Zengyi[31]=300000
    set udg_TianTing_Zengyi[32]=400000
    set udg_TianTing_Zengyi[33]=500000
    set udg_TianTing_Zengyi[34]=750000
    set udg_TianTing_Zengyi[35]=1000000
    set udg_TianTing_Zengyi[36]=1500000
    set udg_TianTing_Zengyi[37]=2000000
    set udg_TianTing_Zengyi[38]=3000000
    set udg_TianTing_Zengyi[39]=4000000
    set udg_TianTing_Zengyi[40]=5000000
    set udg_TianTing_Zengyi[41]=80000
    set udg_TianTing_Zengyi[42]=150000
    set udg_TianTing_Zengyi[43]=250000
    set udg_TianTing_Zengyi[44]=400000
    set udg_TianTing_Zengyi[45]=750000
    set udg_TianTing_Zengyi[46]=1000000
    set udg_TianTing_Zengyi[47]=1500000
    set udg_TianTing_Zengyi[48]=3000000
    set udg_TianTing_Zengyi[49]=4500000
    set udg_TianTing_Zengyi[50]=7000000
    set udg_TianTing_Zengyi[51]=10000000
    set udg_TianTing_Zengyi[52]=18000000
    set udg_TianTing_Zengyi[53]=25000000
    set udg_TianTing_Zengyi[54]=40000000
    set udg_TianTing_Zengyi[55]=70000000
    set udg_TianTing_Zengyi[56]=100000000
    set udg_TianTing_Zengyi[57]=150000000
    set udg_TianTing_Zengyi[58]=200000000
    set udg_TianTing_Zengyi[59]=300000000
    set udg_TianTing_Zengyi[60]=400000000
endfunction
//===========================================================================
function InitTrig_Init_Tian_Lian takes nothing returns nothing
    set gg_trg_Init_Tian_Lian=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_Init_Tian_Lian, function Trig_Init_Tian_LianActions)
endfunction
//===========================================================================
// Trigger: papa‰∏ã‰∏ÄÂ±Ç
//===========================================================================
function Trig_papa_________uConditions takes nothing returns boolean
    return ( ( GetEnteringUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEnteringUnit()))] ) )
endfunction
function Trig_papa_________uFunc005A takes nothing returns nothing
    if ( ( ( IsUnitDeadBJ(GetEnumUnit()) == true ) or ( GetOwningPlayer(GetEnumUnit()) != Player(11) ) ) ) then
    else
        call SaveBoolean(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x05E34F1F, false)
    endif
endfunction
function Trig_papa_________uFunc007A takes nothing returns nothing
    if ( ( GetOwningPlayer(GetEnumUnit()) == Player(11) ) ) then
        call FlushChildHashtable(YDHT, GetHandleId(GetEnumUnit()))
        call YDWEFlushMissionByInteger(YDWEH2I(GetEnumUnit()))
        call RemoveUnit(GetEnumUnit())
    else
    endif
endfunction
function Trig_papa_________uActions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] >= 101 ) ) then
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r101Â±Ç‰πãÂêéÂ∞öÊú™ÂºÄÊîæÔºåÊï¨ËØ∑ÊúüÂæÖ„ÄÇ")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_group=null
        set ydl_unit=null
        return
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] >= 92 ) ) then
        if ( ( BSkipKuilei ) ) then
        else
            	call ChooseKuileiDialog(GetOwningPlayer(GetTriggerUnit()))
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            set ydl_group=null
            set ydl_unit=null
            return
        endif
    else
    endif
    call SaveBoolean(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x05E34F1F, true)
    call ForGroupBJ(udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], function Trig_papa_________uFunc005A)
    if ( ( LoadBoolean(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x05E34F1F) == true ) ) then
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rËØ•Â±ÇÁöÑÊÄ™‰Ω†Êú™Ê∏ÖÂÆåÔºåËØ∑Ê∏ÖÂÆåÂêéÂÜçËøõÂÖ•ËØ•ÂÖâÂúà„ÄÇ")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        set ydl_group=null
        set ydl_unit=null
        return
    endif
    call ForGroupBJ(udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], function Trig_papa_________uFunc007A)
    set ydul_i=1
    loop
        exitwhen ydul_i > CModeH(1 , 2)
        if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == 15 ) ) then
            call SetPlayerTechResearchedSwap('R007', 1, GetOwningPlayer(GetTriggerUnit()))
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÊäÄËÉΩËß£ÈîÅ„ÄÇ")
            call TriggerAllHeroLearn(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , 3)
            if ( ( GetTriggerUnit() == gg_unit_Othr_0256 ) and ( GetUnitAbilityLevelSwapped('A0E9', gg_unit_Othr_0256) == 1 ) ) then
                call InitSheyanAura()
            else
            endif
            if ( ( GetTriggerUnit() == gg_unit_Hvwd_0016 ) and ( GetUnitAbilityLevelSwapped('A04J', gg_unit_Hvwd_0016) == 1 ) ) then
                call AddSpecialEffectTargetUnitBJ("origin", GetTriggerUnit(), "Abilities\\Spells\\NightElf\\TrueshotAura\\TrueshotAura.mdl")
                call InitMoqiAura()
            else
            endif
            if ( ( GetTriggerUnit() == gg_unit_Harf_0262 ) and ( GetUnitAbilityLevelSwapped('A0F7', gg_unit_Harf_0262) == 1 ) ) then
                call InitChenjiAura()
            else
            endif
            if ( ( GetTriggerUnit() == gg_unit_Nbbc_0235 ) and ( GetUnitAbilityLevelSwapped('A0FS', gg_unit_Nbbc_0235) == 1 ) ) then
                call AddSpecialEffectTargetUnitBJ("origin", GetTriggerUnit(), "war3mapImported\\huanwuguanghuan.mdx")
                call InitBajueAura()
            else
            endif
            if ( ( GetTriggerUnit() == xiaoyue ) and ( GetUnitAbilityLevelSwapped('ANbr', xiaoyue) == 1 ) ) then
                call InitXiaoyueAura()
            else
            endif
        else
        endif
        if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == 70 ) ) then
            call SetPlayerTechResearchedSwap('R00A', 1, GetOwningPlayer(GetTriggerUnit()))
            call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÊäÄËÉΩËß£ÈîÅ‰∏âÂàÜ‰πã‰∏Ä„ÄÇ")
            call TriggerAllHeroLearn(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) , 5)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( udg_H[GetForLoopIndexA()] != null ) and ( ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) != MAP_CONTROL_USER ) or ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) != PLAYER_SLOT_STATE_PLAYING ) ) ) then
                    call SetPlayerTechResearchedSwap('R00A', 1, ConvertedPlayer(GetForLoopIndexA()))
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        else
        endif
        call GroupClear(udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0., 0., "|cFFFF6699„ÄêÁÇºÁã±„Äë|r‰Ω†ÈÄöËøá‰∫ÜÁÇºÁã±Á¨¨|cffffcc00" + I2S(udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "Â±Ç|rÔºåÂ•ñÂä±|cffffcc00" + I2S(udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 200) + "ÁöÑÈáëÂ∏ÅÂíå" + I2S(udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 100) + "ÁöÑÁªèÈ™å|r„ÄÇ")
        call AddHeroXPSwapped(R2I(( 100.00 * I2R(udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) )), GetTriggerUnit(), true)
        call AdjustPlayerStateBJ(( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] * 200 ), GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
        set udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 1 )
        call SetTextTagTextBJ(udg_Piaofu_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], ( "Á¨¨" + ( I2S(udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + "Â±Ç" ) ), 25.00)
        set udg_Point=GetRectCenter(udg_Ju_Lianyu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
        call SetUnitPositionLoc(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], udg_Point)
        call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), udg_Point, 0.20)
        call RemoveLocation(udg_Point)
        set udg_Unit=GetTriggerUnit()
        call TriggerExecute(gg_trg_papa2______u)
        set udg_Unit2=GetTriggerUnit()
        call TriggerExecute(gg_trg_papa1______u)
        set ydul_i=ydul_i + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_papa_________u takes nothing returns nothing
    set gg_trg_papa_________u=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_papa_________u , gg_rct_______c4)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_papa_________u , gg_rct_______c15)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_papa_________u , gg_rct_______c16)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_papa_________u , gg_rct_______c17)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_papa_________u , gg_rct_______c18)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg_papa_________u , gg_rct_______c19)
    call TriggerAddCondition(gg_trg_papa_________u, Condition(function Trig_papa_________uConditions))
    call TriggerAddAction(gg_trg_papa_________u, function Trig_papa_________uActions)
endfunction
//===========================================================================
// Trigger: papa2È¢ÑÊµã
//===========================================================================
function Trig_papa2______uActions takes nothing returns nothing
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 6 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nfrs'
        set udg_I_suijizhengshu=GetRandomInt(1, 200)
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÂ±ûÊÄß„ÄÇ" ) ) ) ))
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 3 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
        endif
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 11 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nsat'
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc002%|rÁöÑÊäÄËÉΩ‰º§ÂÆ≥„ÄÇ" ) ))
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] + 0.02 )
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 16 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nwlg'
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc001‰∏™‰∫∫Âè£Ôºå‰∫∫Âè£ÂèØ‰ª•Áî®Êù•ÊäìÂÆ†Áâ©„ÄÇ" ) ))
        call SetPlayerStateBJ(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP) + 1 ))
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 21 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nowb'
        set udg_I_suijizhengshu=GetRandomInt(200, 500)
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÂ±ûÊÄß„ÄÇ" ) ) ) ))
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 3 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
        endif
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 26 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nwiz'
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc003%|rÁöÑÊäÄËÉΩ‰º§ÂÆ≥„ÄÇ" ) ))
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] + 0.03 )
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 31 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='ngrk'
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc001‰∏™‰∫∫Âè£Ôºå‰∫∫Âè£ÂèØ‰ª•Áî®Êù•ÊäìÂÆ†Áâ©„ÄÇ" ) ))
        call SetPlayerStateBJ(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP) + 1 ))
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 36 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='ndqn'
        set udg_I_suijizhengshu=GetRandomInt(500, 1000)
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÂ±ûÊÄß„ÄÇ" ) ) ) ))
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 3 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
        endif
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 41 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='ntka'
        set udg_I_suijizhengshu=GetRandomInt(5000, 20000)
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÊîªÂáªÂäõ„ÄÇ" ) ) ) ))
        call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB) + udg_I_suijizhengshu ))
        call TriggerExecute(gg_trg_____________800W)
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 46 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nscb'
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc001‰∏™‰∫∫Âè£Ôºå‰∫∫Âè£ÂèØ‰ª•Áî®Êù•ÊäìÂÆ†Áâ©„ÄÇ" ) ))
        call SetPlayerStateBJ(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP) + 1 ))
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 51 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nsqt'
        set udg_I_suijizhengshu=GetRandomInt(100, 200)
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÊú®Â§¥„ÄÇ" ) ) ) ))
        call AdjustPlayerStateBJ(udg_I_suijizhengshu, GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_LUMBER)
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 56 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nwen'
        set udg_I_suijizhengshu=GetRandomInt(1000, 4000)
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÂ±ûÊÄß„ÄÇ" ) ) ) ))
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 3 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
        endif
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 61 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='ngh2'
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc001‰∏™‰∫∫Âè£Ôºå‰∫∫Âè£ÂèØ‰ª•Áî®Êù•ÊäìÂÆ†Áâ©„ÄÇ" ) ))
        call SetPlayerStateBJ(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP) + 1 ))
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 66 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nsog'
        set udg_I_suijizhengshu=GetRandomInt(5000, 10000)
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÂ±ûÊÄß„ÄÇ" ) ) ) ))
        if ( ( udg_Unit == gg_unit_Harf_0262 ) ) then
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, ( udg_I_suijizhengshu * 3 ))
        else
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
        endif
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 71 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nrzg'
        set udg_I_suijizhengshu=GetRandomInt(300, 600)
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÈò≤Âæ°„ÄÇ" ) ) ) ))
        call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994) + udg_I_suijizhengshu ))
        call TriggerExecute(gg_trg___________________4000______u)
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 76 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='npfm'
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc001‰∏™‰∫∫Âè£Ôºå‰∫∫Âè£ÂèØ‰ª•Áî®Êù•ÊäìÂÆ†Áâ©„ÄÇ" ) ))
        call SetPlayerStateBJ(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP, ( GetPlayerState(GetOwningPlayer(udg_Unit), PLAYER_STATE_RESOURCE_FOOD_CAP) + 1 ))
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 81 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='nsrn'
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + "|cffffcc0010%|rÁöÑÊäÄËÉΩ‰º§ÂÆ≥„ÄÇ" ) ))
        set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] + 0.10 )
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))] == 86 ) ) then
        set udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit))]='ninc'
        set udg_I_suijizhengshu=500000
        call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF6699„ÄêÁÇºÁã±„Äë|rÈ¢ùÂ§ñÂ•ñÂä±" + ( GetPlayerName(GetOwningPlayer(udg_Unit)) + ( "|cffffcc00" + ( I2S(udg_I_suijizhengshu) + "ÁÇπ|rÁîüÂëΩ‰∏äÈôê„ÄÇ" ) ) ) ))
        call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9) + udg_I_suijizhengshu ))
        call TriggerExecute(gg_trg_HP_____________________u)
    else
    endif
    call SetPurgatory90UpUnit()
endfunction
//===========================================================================
function InitTrig_papa2______u takes nothing returns nothing
    set gg_trg_papa2______u=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_papa2______u, function Trig_papa2______uActions)
endfunction
//===========================================================================
// Trigger: papa1Âà∑ÊÄ™
//===========================================================================
function Trig_papa1______uActions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=10
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, udg_Lianyu_Unit[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))], Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call EnhanceDiffAttack(GetLastCreatedUnit())
        set udg_Unit=GetLastCreatedUnit()
        if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] >= 30 ) ) then
            call AddTianyanmokang(udg_Unit)
        else
        endif
        if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] < 91 ) ) then
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetUnitTypeId(udg_Unit), 0x5039AFFB) * udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] ))
            call TriggerExecute(gg_trg_____________800W)
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetUnitTypeId(udg_Unit), 0x81FD3994) * udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] ))
            call TriggerExecute(gg_trg___________________4000______u)
            call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetUnitTypeId(udg_Unit), 0xFCD961C9) * udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] ))
            call TriggerExecute(gg_trg_HP_____________________u)
        else
        endif
        call RemoveLocation(udg_Point)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=( udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] + 1 )
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 5 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nssp', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 10 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nfra', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 15 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nsth', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 20 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nwld', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 25 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nowk', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 30 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nwzd', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 35 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nggr', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 40 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'ndqp', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 45 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'ntkc', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 50 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nsc2', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 55 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nsqo', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 60 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nwns', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 65 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'ngh1', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 70 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nsoc', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 75 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nrzb', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call IncUnitAbilityLevelSwapped('ANsi', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 80 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'npfl', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 85 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'nsrh', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
    if ( ( udg_I_Lianyu[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))] == 90 ) ) then
        set udg_Point=GetRandomLocInRect(udg_Ju_Lianyu[( GetConvertedPlayerId(GetOwningPlayer(udg_Unit2)) + 6 )])
        call CreateNUnitsAtLoc(1, 'ninm', Player(11), udg_Point, GetRandomDirectionDeg())
        call UnitAddAbilityBJ('A04A', GetLastCreatedUnit())
        call UnitAddAbilityBJ('A04B', GetLastCreatedUnit())
        call EnhanceDiffAttack(GetLastCreatedUnit())
        call GroupAddUnitSimple(GetLastCreatedUnit(), udg_Lianyu_Group[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))])
        call RemoveLocation(udg_Point)
        set udg_Lianyu_I[GetConvertedPlayerId(GetOwningPlayer(udg_Unit2))]=0
    else
    endif
endfunction
//===========================================================================
function InitTrig_papa1______u takes nothing returns nothing
    set gg_trg_papa1______u=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_papa1______u, function Trig_papa1______uActions)
endfunction
//===========================================================================
// Trigger: papa4È≠îÊÄß
//===========================================================================
function Trig_papa4______uActions takes nothing returns nothing
    if ( ( GetUnitAbilityLevelSwapped('A04B', GetAttackedUnitBJ()) == 1 ) and ( GetOwningPlayer(GetAttackedUnitBJ()) != Player(11) ) ) then
        call SetUnitLifeBJ(GetAttackedUnitBJ(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttackedUnitBJ()) - ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttackedUnitBJ()) * 0.02 ) ))
    else
    endif
endfunction
//===========================================================================
function InitTrig_papa4______u takes nothing returns nothing
    set gg_trg_papa4______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_papa4______u, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddAction(gg_trg_papa4______u, function Trig_papa4______uActions)
endfunction
//===========================================================================
// Trigger: papa6ËøõÊù•
//===========================================================================
function Trig_papa6______uConditions takes nothing returns boolean
    return ( ( ( GetItemTypeId(GetSoldItem()) == 'rwat' ) or ( GetItemTypeId(GetSoldItem()) == 'gfor' ) or ( GetItemTypeId(GetSoldItem()) == 'gold' ) or ( GetItemTypeId(GetSoldItem()) == 'rre2' ) or ( GetItemTypeId(GetSoldItem()) == 'rma2' ) or ( GetItemTypeId(GetSoldItem()) == 'texp' ) or ( GetItemTypeId(GetSoldItem()) == 'rsps' ) or ( GetItemTypeId(GetSoldItem()) == 'rres' ) or ( GetItemTypeId(GetSoldItem()) == 'rhe3' ) or ( GetItemTypeId(GetSoldItem()) == 'I076' ) ) )
endfunction
function Trig_papa6______uFunc001Func001002002 takes nothing returns boolean
    return ( ( ( GetUnitTypeId(GetFilterUnit()) == 'Ekee' ) and ( IsUnitAliveBJ(GetFilterUnit()) == true ) ) )
endfunction
function Trig_papa6______uActions takes nothing returns nothing
    if ( ( ( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") < 20 ) or ( GetOwningPlayer(GetTriggerUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) ) ) ) then
        set udg_Group=YDWEGetUnitsOfPlayerMatchingNull(Player(10) , Condition(function Trig_papa6______uFunc001Func001002002))
        if ( ( CountUnitsInGroup(udg_Group) == 0 ) ) then
            if ( ( YDWEGetIntegerByString("Â§©Â∫≠" , "Êï∞Èáè") >= ( udg_Nandu_JJJ + 3 ) ) and ( GetOwningPlayer(GetTriggerUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) ) ) then
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|r‰Ω†Âú®ÁöÑÈöæÂ∫¶‰∏ãÊúÄÂ§öÂè™ËÉΩÈÄâ" + ( I2S(( udg_Nandu_JJJ + 2 )) + "ÁßçÂ¢ûÁõä„ÄÇ" ) ))
            else
                set udg_Point=GetRectCenter(gg_rct_______b2)
                call CreateNUnitsAtLoc(1, 'Ekee', Player(10), udg_Point, 180.00)
                call PingMinimapLocForForce(GetPlayersAll(), udg_Point, 5.00)
                call RemoveLocation(udg_Point)
                set udg_Unit=GetLastCreatedUnit()
                call YDWESaveUnitByString("Â§©Â∫≠" , "ÁéâÂ∏ù" , udg_Unit)
                call YDWESaveUnitByString("Â§©Â∫≠" , "ÂΩìÂâç" , GetTriggerUnit())
                if ( ( GetOwningPlayer(GetTriggerUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) ) ) then
                    call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "1" + ( "Á∫ß" + ( GetUnitName(GetTriggerUnit()) + "ÁéâÂ∏ùÂá∫Áé∞‰∫ÜÔºÅÂ§ßÂÆ∂‰∏ÄËµ∑ÂéªÁÅ≠‰∫Ü‰ªñÊääÔºÅ" ) ) ) ))
                    call YDWESaveIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç" , 0)
                    call YDWESaveIntegerByString("Â§©Â∫≠" , "Êï∞Èáè" , ( YDWEGetIntegerByString("Â§©Â∫≠" , "Êï∞Èáè") + 1 ))
                    call ModifyHeroStat(bj_HEROSTAT_INT, udg_Unit, bj_MODIFYMETHOD_ADD, udg_TianTing_Zengyi[1])
                    call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, udg_TianTing_Zengyi[21])
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, udg_TianTing_Zengyi[41])
                else
                    call SetHeroInt(udg_Unit, GetWanjieInt(udg_TianTing_Zengyi[( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") + 1 )] , 2.1), false)
                    call SetHeroAgi(udg_Unit, GetWanjieInt(udg_TianTing_Zengyi[( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") + 21 )] , 2.1), false)
                    call SetHeroStr(udg_Unit, GetWanjieInt(udg_TianTing_Zengyi[( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") + 41 )] , 2.1), false)
                    call SetUnitAbilityLevelSwapped('ACdr', udg_Unit, ( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") + 1 ))
                    call SetUnitAbilityLevelSwapped('A043', udg_Unit, ( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") + 1 ))
                    call SetUnitAbilityLevelSwapped('Aegr', udg_Unit, ( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") + 1 ))
                    call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( I2S(( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") + 1 )) + ( "Á∫ß" + ( GetUnitName(GetTriggerUnit()) + "ÁéâÂ∏ùÂá∫Áé∞‰∫ÜÔºÅÂ§ßÂÆ∂‰∏ÄËµ∑ÂéªÁÅ≠‰∫Ü‰ªñÊääÔºÅ" ) ) ) ))
                    if ( ( ( YDWEGetIntegerByString(GetUnitName(GetTriggerUnit()) , "ÂΩìÂâç") >= 13 ) or ( IsWanjie() ) ) ) then
                        call UnitAddAbilityBJ('A0DB', udg_Unit)
                    else
                    endif
                endif
                call TriggerRegisterUnitEvent(gg_trg_papa7_________u, udg_Unit, EVENT_UNIT_DEATH)
                set udg_Unit=null
            endif
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rËØ∑Âπ≤ÊéâÁé∞Â≠òÁöÑÁéâÂ∏ùÂÜçÊù•ÊåëÊàòÊñ∞ÁöÑÔºÅ")
        endif
        call DestroyGroup(udg_Group)
    else
        call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rËØ•Â¢ûÁõäÂ∑≤ÁªèËææÂà∞ÊúÄÈ´òÁ∫ßÔºå‰∏çÂèØÂÜçÊåëÊàòËØ•Â¢ûÁõä„ÄÇ")
    endif
endfunction
//===========================================================================
function InitTrig_papa6______u takes nothing returns nothing
    set gg_trg_papa6______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_papa6______u, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg_papa6______u, Condition(function Trig_papa6______uConditions))
    call TriggerAddAction(gg_trg_papa6______u, function Trig_papa6______uActions)
endfunction
//===========================================================================
// Trigger: papa7ÊùÄÊ≠ªÂêé
//===========================================================================
function Trig_papa7_________uFunc002Func001A takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R008', 1, GetEnumPlayer())
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÊäÄËÉΩËß£ÈîÅ„ÄÇ")
    if ( ( not ( BTianting1[GetConvertedPlayerId(GetEnumPlayer())] ) ) ) then
        call TriggerAllHeroLearn(GetConvertedPlayerId(GetEnumPlayer()) , 4)
        set BTianting1[GetConvertedPlayerId(GetEnumPlayer())]=true
    else
    endif
    if ( ( udg_H[GetConvertedPlayerId(GetEnumPlayer())] == gg_unit_Hvwd_0016 ) and ( GetUnitAbilityLevelSwapped('A04L', gg_unit_Hvwd_0016) == 1 ) ) then
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[1]) == true ) ) then
            call UnitAddAbilityBJ('A054', udg_Unit_Qixing[1])
        else
        endif
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[2]) == true ) ) then
            call UnitAddAbilityBJ('A055', udg_Unit_Qixing[2])
        else
        endif
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[3]) == true ) ) then
            call UnitAddAbilityBJ('A0A4', udg_Unit_Qixing[3])
        else
        endif
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[4]) == true ) ) then
            call UnitAddAbilityBJ('A0G9', udg_Unit_Qixing[4])
        else
        endif
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[5]) == true ) ) then
            call UnitAddAbilityBJ('A0GA', udg_Unit_Qixing[5])
        else
        endif
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[6]) == true ) ) then
            call UnitAddAbilityBJ('A0GB', udg_Unit_Qixing[6])
        else
        endif
        if ( ( IsUnitAliveBJ(udg_Unit_Qixing[7]) == true ) ) then
            call UnitAddAbilityBJ('A0GC', udg_Unit_Qixing[7])
        else
        endif
    else
    endif
endfunction
function Trig_papa7_________uFunc003Func001A takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R00B', 1, GetEnumPlayer())
    if ( ( not ( BTianting2[GetConvertedPlayerId(GetEnumPlayer())] ) ) ) then
        call TriggerAllHeroLearn(GetConvertedPlayerId(GetEnumPlayer()) , 5)
        set BTianting2[GetConvertedPlayerId(GetEnumPlayer())]=true
    else
    endif
    call DisplayTextToPlayer(GetEnumPlayer(), 0, 0, "|cFFFF66CC„ÄêÊèêÁ§∫„Äë|rÊäÄËÉΩËß£ÈîÅ‰∏âÂàÜ‰πã‰∏Ä„ÄÇ")
endfunction
function Trig_papa7_________uFunc010Func002A takes nothing returns nothing
    set udg_I_Shanghai[GetConvertedPlayerId(GetEnumPlayer())]=( udg_I_Shanghai[GetConvertedPlayerId(GetEnumPlayer())] + 0.02 )
endfunction
function Trig_papa7_________uFunc011Func002A takes nothing returns nothing
    set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetEnumPlayer())]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetEnumPlayer())] + 0.03 )
endfunction
function Trig_papa7_________uFunc012Func002A takes nothing returns nothing
    set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetEnumPlayer())]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetEnumPlayer())] + 0.03 )
endfunction
function Trig_papa7_________uActions takes nothing returns nothing
    call YDWESaveIntegerByString(GetUnitName(YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç")) , "ÂΩìÂâç" , ( YDWEGetIntegerByString(GetUnitName(YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç")) , "ÂΩìÂâç") + 1 ))
    if ( ( YDWEGetIntegerByString(GetUnitName(YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç")) , "ÂΩìÂâç") == 8 ) and ( GetPlayerTechCountSimple('R008', Player(6)) != 1 ) ) then
        call ForForce(GetPlayersAll(), function Trig_papa7_________uFunc002Func001A)
    else
    endif
    if ( ( YDWEGetIntegerByString(GetUnitName(YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç")) , "ÂΩìÂâç") == 14 ) ) then
        call ForForce(GetPlayersAll(), function Trig_papa7_________uFunc003Func001A)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n002_0058 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n002_0058) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n002_0058, Player(6), true)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    call YDWESaveIntegerByString("ÂäõÈáèÂ¢ûÁõä" , I2S(GetForLoopIndexA()) , 0)
                    set udg_I_Xianglian[GetForLoopIndexA()]=( udg_I_Xianglian[GetForLoopIndexA()] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        else
            call IncUnitAbilityLevelSwapped('A04U', gg_unit_n002_0058)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    set udg_I_Xianglian[GetForLoopIndexA()]=( udg_I_Xianglian[GetForLoopIndexA()] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        endif
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÂäõÈáèÂ¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("ÂäõÈáèÂ¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n003_0061 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n003_0061) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n003_0061, Player(6), true)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    call YDWESaveIntegerByString("ÊïèÊç∑Â¢ûÁõä" , I2S(GetForLoopIndexA()) , 0)
                    set udg_I_Xianglian[( GetForLoopIndexA() + 6 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 6 )] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        else
            call IncUnitAbilityLevelSwapped('A04V', gg_unit_n003_0061)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    set udg_I_Xianglian[( GetForLoopIndexA() + 6 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 6 )] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        endif
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÊïèÊç∑Â¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("ÊïèÊç∑Â¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n004_0062 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n004_0062) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n004_0062, Player(6), true)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    call YDWESaveIntegerByString("Êô∫ÂäõÂ¢ûÁõä" , I2S(GetForLoopIndexA()) , 0)
                    set udg_I_Xianglian[( GetForLoopIndexA() + 12 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 12 )] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        else
            call IncUnitAbilityLevelSwapped('A04W', gg_unit_n004_0062)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    set udg_I_Xianglian[( GetForLoopIndexA() + 12 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 12 )] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        endif
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÊô∫ÂäõÂ¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("Êô∫ÂäõÂ¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n00B_0065 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n00B_0065) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n00B_0065, Player(6), true)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    call YDWESaveIntegerByString("Èò≤Âæ°Â¢ûÁõä" , I2S(GetForLoopIndexA()) , 0)
                    set udg_I_Xianglian[( GetForLoopIndexA() + 30 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 30 )] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
            call EnableTrigger(gg_trg_papa13____________u)
        else
            call IncUnitAbilityLevelSwapped('A04S', gg_unit_n00B_0065)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    set udg_I_Xianglian[( GetForLoopIndexA() + 30 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 30 )] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        endif
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÈò≤Âæ°Â¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("Èò≤Âæ°Â¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n005_0063 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n005_0063) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n005_0063, Player(6), true)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    call YDWESaveIntegerByString("ÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä" , I2S(GetForLoopIndexA()) , 0)
                    set udg_I_Xianglian[( GetForLoopIndexA() + 18 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 18 )] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        else
            call IncUnitAbilityLevelSwapped('A051', gg_unit_n005_0063)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    set udg_I_Xianglian[( GetForLoopIndexA() + 18 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 18 )] + 0.02 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        endif
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("ÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n00A_0060 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n00A_0060) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n00A_0060, Player(6), true)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    call YDWESaveIntegerByString("ÊîªÂáªÂ¢ûÁõä" , I2S(GetForLoopIndexA()) , 0)
                    set udg_I_Xianglian[( GetForLoopIndexA() + 24 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 24 )] + 0.05 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        else
            call IncUnitAbilityLevelSwapped('A04T', gg_unit_n00A_0060)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) == MAP_CONTROL_USER ) ) then
                    set udg_I_Xianglian[( GetForLoopIndexA() + 24 )]=( udg_I_Xianglian[( GetForLoopIndexA() + 24 )] + 0.05 )
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        endif
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÊîªÂáªÂ¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("ÊîªÂáªÂ¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n008_0064 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n008_0064) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n008_0064, Player(6), true)
        else
            call IncUnitAbilityLevelSwapped('A04X', gg_unit_n008_0064)
        endif
        call ForForce(GetPlayersAll(), function Trig_papa7_________uFunc010Func002A)
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÈÄ†Êàê‰º§ÂÆ≥Â¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("ÈÄ†Êàê‰º§ÂÆ≥Â¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n007_0059 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n007_0059) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n007_0059, Player(6), true)
        else
            call IncUnitAbilityLevelSwapped('A04Y', gg_unit_n007_0059)
        endif
        call ForForce(GetPlayersAll(), function Trig_papa7_________uFunc011Func002A)
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÊäÄËÉΩ‰º§ÂÆ≥Â¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("ÊäÄËÉΩ‰º§ÂÆ≥Â¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n019_0054 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n019_0054) != Player(6) ) ) then
            call SetUnitOwner(gg_unit_n019_0054, Player(6), true)
        else
            call IncUnitAbilityLevelSwapped('A04O', gg_unit_n019_0054)
        endif
        call ForForce(GetPlayersAll(), function Trig_papa7_________uFunc012Func002A)
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÈáëÈí±Â¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("ÈáëÈí±Â¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
        call TriggerExecute(gg_trg_D7)
    else
    endif
    if ( ( YDWEGetUnitByString("Â§©Â∫≠" , "ÂΩìÂâç") == gg_unit_n00C_0066 ) ) then
        if ( ( GetOwningPlayer(gg_unit_n00C_0066) != Player(6) ) ) then
            call EnableTrigger(gg_trg_______papa14)
            call TriggerExecute(gg_trg_______papa14)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                call UnitAddAbilityBJ(YDWEGetAbilityIDByString("È≠îÊ≥ï" , "1"), udg_H[GetForLoopIndexA()])
                call UnitMakeAbilityPermanent(udg_H[GetForLoopIndexA()], true, YDWEGetAbilityIDByString("È≠îÊ≥ï" , "1"))
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
            call SetUnitOwner(gg_unit_n00C_0066, Player(6), true)
        else
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=6
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                call UnitAddAbilityBJ(YDWEGetAbilityIDByString("È≠îÊ≥ï" , I2S(YDWEGetIntegerByString("È≠îÊ≥ï‰∏äÈôêÂíåÂõûÂ§çÂ¢ûÁõä" , "ÂΩìÂâç"))), udg_H[GetForLoopIndexA()])
                call UnitMakeAbilityPermanent(udg_H[GetForLoopIndexA()], true, YDWEGetAbilityIDByString("È≠îÊ≥ï" , I2S(YDWEGetIntegerByString("È≠îÊ≥ï‰∏äÈôêÂíåÂõûÂ§çÂ¢ûÁõä" , "ÂΩìÂâç"))))
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
            call IncUnitAbilityLevelSwapped('A04Z', gg_unit_n00C_0066)
            if ( ( YDWEGetIntegerByString("È≠îÊ≥ï‰∏äÈôêÂíåÂõûÂ§çÂ¢ûÁõä" , "ÂΩìÂâç") == 20 ) ) then
                call DestroyTrigger(gg_trg_______papa14)
                call YDWEFlushMissionByString("È≠îÊ≥ï")
            else
            endif
        endif
        call DisplayTimedTextToForce(GetPlayersAll(), 30, ( "|cffff00ff„ÄêÂ§©Â∫≠„Äë|r" + ( "‰Ω†‰ª¨ÂΩìÂâçÈ≠îÊ≥ï‰∏äÈôêÂíåÂõûÂ§çÂ¢ûÁõä‰∏∫" + ( I2S(YDWEGetIntegerByString("È≠îÊ≥ï‰∏äÈôêÂíåÂõûÂ§çÂ¢ûÁõä" , "ÂΩìÂâç")) + "Á∫ß„ÄÇ" ) ) ))
    else
    endif
    call YDWESaveUnitByString("Â§©Â∫≠" , "ÂΩìÂâç" , null)
    call YDWESaveUnitByString("Â§©Â∫≠" , "ÁéâÂ∏ù" , null)
endfunction
//===========================================================================
function InitTrig_papa7_________u takes nothing returns nothing
    set gg_trg_papa7_________u=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_papa7_________u, function Trig_papa7_________uActions)
endfunction
//===========================================================================
// Trigger: papa8ÂäõÈáèÂ¢ûÁõä
//===========================================================================
function Trig_papa8____________uActions takes nothing returns nothing
    call FlashAllHeroStr()
endfunction
//===========================================================================
function InitTrig_papa8____________u takes nothing returns nothing
    set gg_trg_papa8____________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_papa8____________u, 19.00)
    call TriggerAddAction(gg_trg_papa8____________u, function Trig_papa8____________uActions)
endfunction
//===========================================================================
// Trigger: papa9ÊïèÊç∑Â¢ûÁõä
//===========================================================================
function Trig_papa9____________uActions takes nothing returns nothing
    call FlashAllHeroAgi()
endfunction
//===========================================================================
function InitTrig_papa9____________u takes nothing returns nothing
    set gg_trg_papa9____________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_papa9____________u, 19.50)
    call TriggerAddAction(gg_trg_papa9____________u, function Trig_papa9____________uActions)
endfunction
//===========================================================================
// Trigger: papa10Êô∫ÂäõÂ¢ûÁõä
//===========================================================================
function Trig_papa10____________uActions takes nothing returns nothing
    call FlashAllHeroInt()
endfunction
//===========================================================================
function InitTrig_papa10____________u takes nothing returns nothing
    set gg_trg_papa10____________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_papa10____________u, 20.00)
    call TriggerAddAction(gg_trg_papa10____________u, function Trig_papa10____________uActions)
endfunction
//===========================================================================
// Trigger: papa11ÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä
//===========================================================================
function Trig_papa11__________________uActions takes nothing returns nothing
    local integer ydul_a4
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_a4=1
    loop
        exitwhen ydul_a4 > 6
        if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_a4)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(ydul_a4)) == MAP_CONTROL_USER ) and ( ( 0 != YDWEGetIntegerByString("ÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä" , I2S(ydul_a4)) ) or ( udg_I_Xianglian[( ydul_a4 + 18 )] != 0.00 ) ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(( I2R(( R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_H[ydul_a4])) - YDWEGetIntegerByString("ÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä" , I2S(ydul_a4)) )) * udg_I_Xianglian[( ydul_a4 + 18 )] )))
            if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) != YDWEGetIntegerByString("ÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä" , I2S(ydul_a4)) ) ) then
                set udg_Unit=udg_H[ydul_a4]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_H[ydul_a4]), 0xFCD961C9) - ( YDWEGetIntegerByString("ÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä" , I2S(ydul_a4)) - LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) ) ))
                call TriggerExecute(gg_trg_HP_____________________u)
                call YDWESaveIntegerByString("ÁîüÂëΩ‰∏äÈôêÂ¢ûÁõä" , I2S(ydul_a4) , LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
                set udg_Unit=null
            else
                call DoNothing()
            endif
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
        else
            call DoNothing()
        endif
        set ydul_a4=ydul_a4 + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_papa11__________________u takes nothing returns nothing
    set gg_trg_papa11__________________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_papa11__________________u, 20.50)
    call TriggerAddAction(gg_trg_papa11__________________u, function Trig_papa11__________________uActions)
endfunction
//===========================================================================
// Trigger: papa12ÊîªÂáªÂ¢ûÁõä
//===========================================================================
function Trig_papa12____________uActions takes nothing returns nothing
    local integer ydul_a5
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_a5=1
    loop
        exitwhen ydul_a5 > 6
        if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_a5)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(ydul_a5)) == MAP_CONTROL_USER ) and ( ( udg_I_Xianglian[( ydul_a5 + 24 )] != 0.00 ) or ( 0 != YDWEGetIntegerByString("ÊîªÂáªÂ¢ûÁõä" , I2S(ydul_a5)) ) ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(( I2R(( LoadInteger(YDHT, GetHandleId(udg_H[ydul_a5]), 0x5039AFFB) - YDWEGetIntegerByString("ÊîªÂáªÂ¢ûÁõä" , I2S(ydul_a5)) )) * udg_I_Xianglian[( ydul_a5 + 24 )] )))
            if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) != YDWEGetIntegerByString("ÊîªÂáªÂ¢ûÁõä" , I2S(ydul_a5)) ) ) then
                set udg_Unit=udg_H[ydul_a5]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_H[ydul_a5]), 0x5039AFFB) - ( YDWEGetIntegerByString("ÊîªÂáªÂ¢ûÁõä" , I2S(ydul_a5)) - LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) ) ))
                call TriggerExecute(gg_trg_____________800W)
                call YDWESaveIntegerByString("ÊîªÂáªÂ¢ûÁõä" , I2S(ydul_a5) , LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
                set udg_Unit=null
            else
                call DoNothing()
            endif
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
        else
            call DoNothing()
        endif
        set ydul_a5=ydul_a5 + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_papa12____________u takes nothing returns nothing
    set gg_trg_papa12____________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_papa12____________u, 21.00)
    call TriggerAddAction(gg_trg_papa12____________u, function Trig_papa12____________uActions)
endfunction
//===========================================================================
// Trigger: papa13Èò≤Âæ°Â¢ûÁõä
//===========================================================================
function Trig_papa13____________uActions takes nothing returns nothing
    local integer ydul_a6
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set ydul_a6=1
    loop
        exitwhen ydul_a6 > 6
        if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_a6)) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(ConvertedPlayer(ydul_a6)) == MAP_CONTROL_USER ) and ( ( udg_I_Xianglian[( ydul_a6 + 30 )] != 0.00 ) or ( 0 != YDWEGetIntegerByString("Èò≤Âæ°Â¢ûÁõä" , I2S(ydul_a6)) ) ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, R2I(( I2R(( ( LoadInteger(YDHT, GetHandleId(udg_H[ydul_a6]), 0x81FD3994) + ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[ydul_a6], false) / 100 ) ) - YDWEGetIntegerByString("Èò≤Âæ°Â¢ûÁõä" , I2S(ydul_a6)) )) * udg_I_Xianglian[( ydul_a6 + 30 )] )))
            if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) != YDWEGetIntegerByString("Èò≤Âæ°Â¢ûÁõä" , I2S(ydul_a6)) ) ) then
                set udg_Unit=udg_H[ydul_a6]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_H[ydul_a6]), 0x81FD3994) - ( YDWEGetIntegerByString("Èò≤Âæ°Â¢ûÁõä" , I2S(ydul_a6)) - LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) ) ))
                call TriggerExecute(gg_trg___________________4000______u)
                call YDWESaveIntegerByString("Èò≤Âæ°Â¢ûÁõä" , I2S(ydul_a6) , LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
                set udg_Unit=null
            else
                call DoNothing()
            endif
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
        else
            call DoNothing()
        endif
        set ydul_a6=ydul_a6 + 1
    endloop
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_papa13____________u takes nothing returns nothing
    set gg_trg_papa13____________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_papa13____________u, 21.50)
    call TriggerAddAction(gg_trg_papa13____________u, function Trig_papa13____________uActions)
endfunction
//===========================================================================
// Trigger: È≠îÊ≥ïpapa14
//===========================================================================
function Trig_______papa14Actions takes nothing returns nothing
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "1" , 'A08C')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "2" , 'A08I')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "3" , 'A08J')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "4" , 'A08K')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "5" , 'A08L')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "6" , 'A08N')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "7" , 'A08O')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "8" , 'A08P')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "9" , 'A08Q')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "10" , 'A08R')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "11" , 'A08S')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "12" , 'A08U')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "13" , 'A08V')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "14" , 'A08W')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "15" , 'A08X')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "16" , 'A08Y')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "17" , 'A08Z')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "18" , 'A090')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "19" , 'A097')
    call YDWESaveAbilityIDByString("È≠îÊ≥ï" , "20" , 'A098')
endfunction
//===========================================================================
function InitTrig_______papa14 takes nothing returns nothing
    set gg_trg_______papa14=CreateTrigger()
    call DisableTrigger(gg_trg_______papa14)
    call DoNothing()
    call TriggerAddAction(gg_trg_______papa14, function Trig_______papa14Actions)
endfunction
//===========================================================================
// Trigger: papa14ÁéâÂ∏ùÊäÄËÉΩ
//===========================================================================
function Trig_papa14____________uFunc003Func005002003 takes nothing returns boolean
    return ( ( IsEnemy(GetEnumUnit() , GetAttacker()) == true ) )
endfunction
function Trig_papa14____________uFunc003Func006A takes nothing returns nothing
    call UnitDamageTarget(GetAttacker(), GetEnumUnit(), ( 0.40 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F, GetUnitLoc(GetEnumUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F)))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F))
endfunction
function Trig_papa14____________uFunc004Func005002003 takes nothing returns boolean
    return ( ( ( IsUnitEnemy(GetFilterUnit(), Player(10)) == true ) and ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( GetUnitUserData(GetFilterUnit()) != 123 ) and ( true == true ) ) ) ) )
endfunction
function Trig_papa14____________uFunc004Func006Func004T takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)))
    call PauseUnitBJ(false, LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
    call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F)))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x5E83114F))
    call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_papa14____________uFunc004Func006A takes nothing returns nothing
    local timer ydl_timer
    call PauseUnitBJ(true, GetEnumUnit())
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F, GetUnitLoc(GetEnumUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F)))
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, GetEnumUnit())
    call SaveLocationHandle(YDHT, GetHandleId(ydl_timer), 0x5E83114F, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F))
    call TimerStart(ydl_timer, 3.00, false, function Trig_papa14____________uFunc004Func006Func004T)
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0x5E83114F))
    set ydl_timer=null
endfunction
function Trig_papa14____________uActions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetUnitAbilityLevelSwapped('A043', GetAttackedUnitBJ()) != 0 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttacker()) != 1 ) and ( GetRandomInt(1, 50) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
        call CreateNUnitsAtLoc(1, 'h000', Player(10), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('AEer', GetLastCreatedUnit())
        call SetUnitAbilityLevelSwapped('AEer', GetLastCreatedUnit(), GetUnitAbilityLevelSwapped('A043', GetAttackedUnitBJ()))
        call IssueTargetOrder(GetLastCreatedUnit(), "entanglingroots", GetAttacker())
        call CreateTextTagUnitBJ("‰∏áÊú®‰∏õÁîü!", GetAttackedUnitBJ(), 0, 30.00, GetRandomReal(0, 100.00), GetRandomReal(0.00, 100.00), GetRandomReal(0, 100.00), 0)
        call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, GetRandomDirectionDeg())
        call YDWETimerDestroyTextTag(3.00 , GetLastCreatedTextTag())
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A043', GetAttackedUnitBJ()) != 0 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttacker()) != 1 ) and ( GetRandomInt(1, 50) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetAttackedUnitBJ())
        call CreateNUnitsAtLoc(1, 'h000', Player(10), udg_Point, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
        call UnitAddAbilityBJ('ACcb', GetLastCreatedUnit())
        call SetUnitAbilityLevelSwapped('ACcb', GetLastCreatedUnit(), GetUnitAbilityLevelSwapped('A043', GetAttackedUnitBJ()))
        call IssueTargetOrder(GetLastCreatedUnit(), "thunderbolt", GetAttacker())
        call CreateTextTagUnitBJ("ÁôæÈáåÂÜ∞Â∞Å!", GetAttackedUnitBJ(), 0, 30.00, GetRandomReal(0, 100.00), GetRandomReal(0.00, 100.00), GetRandomReal(0, 100.00), 0)
        call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, GetRandomDirectionDeg())
        call YDWETimerDestroyTextTag(3.00 , GetLastCreatedTextTag())
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A043', GetAttacker()) != 0 ) and ( GetRandomInt(1, 50) == 1 ) ) then
        set udg_Point=GetUnitLoc(GetAttacker())
        call CreateTextTagUnitBJ("Â§©ÁÅ≠‰∏â‰∏ñ!", GetAttacker(), 0, 30.00, GetRandomReal(0, 100.00), GetRandomReal(0.00, 100.00), GetRandomReal(0, 100.00), 0)
        call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, GetRandomDirectionDeg())
        call YDWETimerDestroyTextTag(3.00 , GetLastCreatedTextTag())
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_papa14____________uFunc003Func005002003))
        call ForGroupBJ(udg_Group, function Trig_papa14____________uFunc003Func006A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A043', GetAttacker()) != 0 ) and ( GetRandomInt(1, 100) == 1 ) ) then
        call CreateTextTagUnitBJ("Êó∂Èó¥ÂÜªÁªì!", GetAttacker(), 0, 30.00, GetRandomReal(0, 100.00), GetRandomReal(0.00, 100.00), GetRandomReal(0, 100.00), 0)
        call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, GetRandomDirectionDeg())
        call YDWETimerDestroyTextTag(3.00 , GetLastCreatedTextTag())
        set udg_Point=GetUnitLoc(GetAttacker())
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , udg_Point , Condition(function Trig_papa14____________uFunc004Func005002003))
        call ForGroupBJ(udg_Group, function Trig_papa14____________uFunc004Func006A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( GetUnitAbilityLevelSwapped('A043', GetAttackedUnitBJ()) != 0 ) and ( GetUnitAbilityLevelSwapped('Amim', GetAttacker()) != 1 ) and ( GetUnitStateSwap(UNIT_STATE_LIFE, GetAttacker()) <= ( 0.10 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ) ) ) then
        call UnitDamageTarget(GetAttackedUnitBJ(), GetAttacker(), ( 1.00 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetAttacker()) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetAttacker()))
        call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)))
        call CreateTextTagUnitBJ("Ê∑òÊ±∞Âº±ËÄÖ!", GetAttacker(), 0, 30.00, GetRandomReal(0, 100.00), GetRandomReal(0.00, 100.00), GetRandomReal(0, 100.00), 0)
        call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, GetRandomDirectionDeg())
        call YDWETimerDestroyTextTag(3.00 , GetLastCreatedTextTag())
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        if ( ( IsWanjie() ) ) then
            call SetUnitLifePercentBJ(GetTriggerUnit(), 100)
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_papa14____________u takes nothing returns nothing
    set gg_trg_papa14____________u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_papa14____________u, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddAction(gg_trg_papa14____________u, function Trig_papa14____________uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 010
//===========================================================================
function Trig____________________010Func002Func001Func001A takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R00C', IMinBJ(100, ( udg_IWang * udg_RENSHU )), GetEnumPlayer())
    call SetPlayerTechResearchedSwap('R00E', IMinBJ(100, ( udg_IWang * udg_RENSHU )), GetEnumPlayer())
endfunction
function Trig____________________010Func002Func001Func031A takes nothing returns nothing
    call PauseUnitBJ(true, GetEnumUnit())
endfunction
function Trig____________________010Func002Func001Func038A takes nothing returns nothing
    call PanCameraToTimedLocForPlayer(GetEnumPlayer(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xE741F00E), 0.20)
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct__________u)
endfunction
function Trig____________________010Func002Func001Func052A takes nothing returns nothing
    call PanCameraToTimedLocForPlayer(GetEnumPlayer(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xE741F00E), 0.20)
endfunction
function Trig____________________010Func002Func001Func058A takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
endfunction
function Trig____________________010Func002Func001Func060003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( GetOwningPlayer(GetFilterUnit()) == Player(11) ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) != true ) ) ) ) )
endfunction
function Trig____________________010Func002Func001Func066A takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction
function Trig____________________010Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Y=0
    if ( ( ( udg_Bo == 3 ) or ( udg_Bo == 7 ) or ( udg_Bo == 11 ) or ( udg_Bo == 15 ) or ( udg_Bo == 19 ) ) ) then
        call PlaySoundBJ(gg_snd_boss_lai)
        call TriggerExecute(gg_trg____________________032)
    else
        if ( ( udg_Bo == 24 ) ) then
            call ForForce(GetPlayersAll(), function Trig____________________010Func002Func001Func001A)
            call SetUnitPathing(gg_unit_Uwar_0274, false)
            call SetUnitPathing(gg_unit_Utic_0275, false)
            call SetUnitPathing(gg_unit_Nman_0276, false)
            call PauseTimer(udg_Time_Start[1])
            call DestroyTimerDialog(udg_Time_Monster_C[1])
            call DestroyTrigger(gg_trg____________________021)
            set udg_I_Er_diansi[2]=1
            call ShowUnit(gg_unit_Uwar_0274, true)
            call ShowUnit(gg_unit_Utic_0275, true)
            call ShowUnit(gg_unit_Nman_0276, true)
            call SetUnitInvulnerable(gg_unit_Uwar_0274, false)
            call SetUnitInvulnerable(gg_unit_Utic_0275, false)
            call SetUnitInvulnerable(gg_unit_Nman_0276, false)
            call UnitAddAbilityBJ('A0BY', gg_unit_Uwar_0274)
            call SetUnitAbilityLevelSwapped('A0BY', gg_unit_Uwar_0274, udg_Nandu_JJJ)
            call SetUnitAbilityLevelSwapped('A0DC', gg_unit_Uwar_0274, udg_Nandu_JJJ)
            call SetUnitAbilityLevelSwapped('A0BW', gg_unit_Uwar_0274, udg_Nandu_JJJ)
            call SetUnitAbilityLevelSwapped('AUcs', gg_unit_Utic_0275, udg_Nandu_JJJ)
            call SetUnitAbilityLevelSwapped('ANrf', gg_unit_Nman_0276, udg_Nandu_JJJ)
            call SetUnitAbilityLevelSwapped('ANdo', gg_unit_Nman_0276, udg_Nandu_JJJ)
            call SetUnitAbilityLevelSwapped('A0BV', gg_unit_Nman_0276, udg_Nandu_JJJ)
            call SetUnitAbilityLevelSwapped('A0BV', gg_unit_Utic_0275, udg_Nandu_JJJ)
            call SetUnitAbilityLevelSwapped('A0BV', gg_unit_Uwar_0274, udg_Nandu_JJJ)
            if ( ( IsTianyan ) ) then
                call UnitAddAbilityBJ('A0JL', gg_unit_Uwar_0274)
            else
            endif
            call SetUnitInvulnerable(gg_unit_Uwar_0274, true)
            call SetUnitInvulnerable(gg_unit_Nman_0276, true)
            call SetUnitInvulnerable(gg_unit_Utic_0275, true)
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7, YDWEGetUnitsInRectAllNull(GetPlayableMapRect()))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7), function Trig____________________010Func002Func001Func031A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E, GetUnitLoc(gg_unit_Uwar_0274))
            call CreateTextTagLocBJ(( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Uwar_0274) / 10000.00 ))) + "‰∏áË°Ä" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 0, 15.00, 100.00, 0.00, 100.00, 0.00)
            set udg_Xianxue_BOSS[1]=GetLastCreatedTextTag()
            call CreateTextTagLocBJ(( "Êú´Êó•Â∑®ÁÇÆ" + ( "8s" ) ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 25.00, 15.00, 100.00, 100.00, 0.00, 0.00)
            set udg_Xianxue_BOSS[2]=GetLastCreatedTextTag()
            call ForForce(GetPlayersAll(), function Trig____________________010Func002Func001Func038A)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E, GetUnitLoc(gg_unit_Utic_0275))
            call CreateTextTagLocBJ(( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Utic_0275) / 10000.00 ))) + "‰∏áË°Ä" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 0, 15.00, 100.00, 0.00, 100.00, 0.00)
            set udg_Xianxue_BOSS[3]=GetLastCreatedTextTag()
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E))
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E, GetUnitLoc(gg_unit_Nman_0276))
            call CreateTextTagLocBJ(( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Nman_0276) / 10000.00 ))) + "‰∏áË°Ä" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 0, 15.00, 100.00, 0.00, 100.00, 0.00)
            set udg_Xianxue_BOSS[4]=GetLastCreatedTextTag()
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E))
            call CinematicModeBJ(true, GetPlayersAll())
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_Uwar_0274, "|cffffff00ÈÄÜÈæôÈ≠Ç|r", null, "‰∏ÄÁæ§Â∫üÁâ©ÔºÅÁúãÊù•ËøòÈúÄÂ≠§‰∫≤Ëá™Âä®ÊâãÔºÅ", bj_TIMETYPE_ADD, 2.00, true)
            call YDWEPolledWaitNull(2.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E, GetUnitLoc(gg_unit_Utic_0275))
            call ForForce(GetPlayersAll(), function Trig____________________010Func002Func001Func052A)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E))
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_Uwar_0274, "|cffffff00ÈÄÜÈæôÈ≠Ç|r", null, "‰Ω†‰ª¨‰πüÁªôÂ≠§‰∏ÄËµ∑‰∏äÔºÅ", bj_TIMETYPE_ADD, 2.00, true)
            call YDWEPolledWaitNull(2.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call CinematicModeBJ(false, GetPlayersAll())
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7, YDWEGetUnitsInRectAllNull(GetPlayableMapRect()))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7), function Trig____________________010Func002Func001Func058A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7))
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7, YDWEGetUnitsInRectMatchingNull(gg_rct__________u , Condition(function Trig____________________010Func002Func001Func060003002)))
            set udg_Unit=gg_unit_Uwar_0274
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFD5BD711, ( ( 2000000 * CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7)) ) * udg_Nandu_JJJ ))
            call DisplayTextToForce(GetPlayersAll(), ( "|cff3b98d3„ÄêÊ∂àÊÅØ„Äë|rÈÇ£‰∫õ‚ÄúÂ∫üÁâ©‰ª¨‚ÄùËΩ¨Êç¢Êàê‰∫ÜÈ≠îÁéãÁöÑ" + ( I2S(LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFD5BD711)) + "Â±ûÊÄß„ÄÇ" ) ))
            call ModifyHeroStat(bj_HEROSTAT_STR, udg_Unit, bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFD5BD711))
            call ModifyHeroStat(bj_HEROSTAT_AGI, udg_Unit, bj_MODIFYMETHOD_ADD, LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xFD5BD711))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7), function Trig____________________010Func002Func001Func066A)
            call SetUnitInvulnerable(gg_unit_Uwar_0274, false)
            call SetUnitInvulnerable(gg_unit_Nman_0276, false)
            call SetUnitInvulnerable(gg_unit_Utic_0275, false)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7))
            call CameraSetSmoothingFactor(2.00)
            call IssuePointOrderLoc(gg_unit_Uwar_0274, "attack", udg_Point_Fuhuo)
            call IssuePointOrderLoc(gg_unit_Utic_0275, "attack", udg_Point_Fuhuo)
            call IssuePointOrderLoc(gg_unit_Nman_0276, "attack", udg_Point_Fuhuo)
            call EnableTrigger(gg_trg_mowangshanguang)
            call EnableTrigger(gg_trg_mowangshangsd1)
            call EnableTrigger(gg_trg_mowangshangwo2)
            call StartFangKa(gg_unit_Uwar_0274)
            call StartFangKa(gg_unit_Utic_0275)
            call StartFangKa(gg_unit_Nman_0276)
            call EnableTrigger(gg_trg_xianxue)
            call StartTimerBJ(udg_Time_BOSS, false, 1200.00)
            call CreateTimerDialogBJ(udg_Time_BOSS, "ÈôêÊó∂ÂáªÊùÄÊó∂Èó¥")
            set udg_Timer_BOSS=GetLastCreatedTimerDialogBJ()
            call TimerDialogDisplayBJ(true, udg_Timer_BOSS)
        else
            if ( ( udg_RENSHU != 1 ) ) then
                call SaveInteger(YDHT, 'nanc', 0x9DA51395, ( LoadInteger(YDHT, 'nanc', 0x9DA51395) + 4 ))
                call SaveInteger(YDHT, 'nano', 0x9DA51395, ( LoadInteger(YDHT, 'nano', 0x9DA51395) + 40 ))
                call SaveInteger(YDHT, 'nanw', 0x9DA51395, ( LoadInteger(YDHT, 'nanw', 0x9DA51395) + 80 ))
                call SaveInteger(YDHT, 'nban', 0x9DA51395, ( LoadInteger(YDHT, 'nban', 0x9DA51395) + 8 ))
                call SaveInteger(YDHT, 'nenf', 0x9DA51395, ( LoadInteger(YDHT, 'nenf', 0x9DA51395) + 80 ))
                call SaveInteger(YDHT, 'nbld', 0x9DA51395, ( LoadInteger(YDHT, 'nbld', 0x9DA51395) + 160 ))
                call SaveInteger(YDHT, 'nbdm', 0x9DA51395, ( LoadInteger(YDHT, 'nbdm', 0x9DA51395) + 10 ))
                call SaveInteger(YDHT, 'nbda', 0x9DA51395, ( LoadInteger(YDHT, 'nbda', 0x9DA51395) + 100 ))
                call SaveInteger(YDHT, 'nbdo', 0x9DA51395, ( LoadInteger(YDHT, 'nbdo', 0x9DA51395) + 200 ))
                call SaveInteger(YDHT, 'ncea', 0x9DA51395, ( LoadInteger(YDHT, 'ncea', 0x9DA51395) + 20 ))
                call SaveInteger(YDHT, 'ncim', 0x9DA51395, ( LoadInteger(YDHT, 'ncim', 0x9DA51395) + 200 ))
                call SaveInteger(YDHT, 'ncnk', 0x9DA51395, ( LoadInteger(YDHT, 'ncnk', 0x9DA51395) + 400 ))
                call SaveInteger(YDHT, 'nkog', 0x9DA51395, ( LoadInteger(YDHT, 'nkog', 0x9DA51395) + 35 ))
                call SaveInteger(YDHT, 'nkot', 0x9DA51395, ( LoadInteger(YDHT, 'nkot', 0x9DA51395) + 350 ))
                call SaveInteger(YDHT, 'nkol', 0x9DA51395, ( LoadInteger(YDHT, 'nkol', 0x9DA51395) + 700 ))
                call SaveInteger(YDHT, 'nhhr', 0x9DA51395, ( LoadInteger(YDHT, 'nhhr', 0x9DA51395) + 35 ))
                call SaveInteger(YDHT, 'nhfp', 0x9DA51395, ( LoadInteger(YDHT, 'nhfp', 0x9DA51395) + 350 ))
                call SaveInteger(YDHT, 'nenc', 0x9DA51395, ( LoadInteger(YDHT, 'nenc', 0x9DA51395) + 700 ))
                call SaveInteger(YDHT, 'ngna', 0x9DA51395, ( LoadInteger(YDHT, 'ngna', 0x9DA51395) + 20 ))
                call SaveInteger(YDHT, 'ngns', 0x9DA51395, ( LoadInteger(YDHT, 'ngns', 0x9DA51395) + 200 ))
                call SaveInteger(YDHT, 'ngnw', 0x9DA51395, ( LoadInteger(YDHT, 'ngnw', 0x9DA51395) + 400 ))
                call SaveInteger(YDHT, 'nogr', 0x9DA51395, ( LoadInteger(YDHT, 'nogr', 0x9DA51395) + 20 ))
                call SaveInteger(YDHT, 'nomg', 0x9DA51395, ( LoadInteger(YDHT, 'nomg', 0x9DA51395) + 200 ))
                call SaveInteger(YDHT, 'nogl', 0x9DA51395, ( LoadInteger(YDHT, 'nogl', 0x9DA51395) + 400 ))
            else
            endif
            set udg_Bo=( udg_Bo + 1 )
            call ReflashCrainaxAttr()
            call StartTimerBJ(udg_Time_Start[1], false, GetBoSpeed())
            call TriggerExecute(gg_trg____________________020)
            call StartTimerBJ(udg_Time_Start[( udg_Bo + 1 )], false, GetMonsterSpeed())
            if ( ( udg_Bo < 24 ) ) then
                call TimerDialogSetTitle(udg_Time_Monster_C[1], ( "Á¨¨" + ( I2S(( udg_Bo + 1 )) + "Ê≥¢" ) ))
            else
                call TimerDialogSetTitle(udg_Time_Monster_C[1], "È≠îÁéã")
            endif
        endif
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________010 takes nothing returns nothing
    set gg_trg____________________010=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerExpireEvent(gg_trg____________________010, udg_Time_Start[1])
    call TriggerAddAction(gg_trg____________________010, function Trig____________________010Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 014
//===========================================================================
function Trig____________________014Actions takes nothing returns nothing
    set udg_Unit_monster[1]='nitr'
    set udg_Unit_monster[101]='nitw'
    set udg_Unit_monster[2]='nits'
    set udg_Unit_monster[102]='nith'
    set udg_Unit_monster[3]='nmrm'
    set udg_Unit_monster[103]='nmrl'
    set udg_Unit_monster[4]='hfoo'
    set udg_Unit_monster[104]='hmpr'
    set udg_Unit_monster[5]='hspt'
    set udg_Unit_monster[105]='hsor'
    set udg_Unit_monster[6]='uban'
    set udg_Unit_monster[106]='unec'
    set udg_Unit_monster[7]='ugho'
    set udg_Unit_monster[107]='ucry'
    set udg_Unit_monster[8]='esen'
    set udg_Unit_monster[108]='earc'
    set udg_Unit_monster[9]='orai'
    set udg_Unit_monster[109]='ogru'
    set udg_Unit_monster[10]='hkni'
    set udg_Unit_monster[110]='hrif'
    set udg_Unit_monster[11]='ohun'
    set udg_Unit_monster[111]='odoc'
    set udg_Unit_monster[12]='njks'
    set udg_Unit_monster[112]='hhes'
    set udg_Unit_monster[13]='nchr'
    set udg_Unit_monster[113]='nchw'
    set udg_Unit_monster[14]='oshm'
    set udg_Unit_monster[114]='okod'
    set udg_Unit_monster[15]='nzom'
    set udg_Unit_monster[115]='uswb'
    set udg_Unit_monster[16]='hdhw'
    set udg_Unit_monster[116]='hgry'
    set udg_Unit_monster[17]='otau'
    set udg_Unit_monster[117]='ospw'
    set udg_Unit_monster[18]='edry'
    set udg_Unit_monster[118]='edot'
    set udg_Unit_monster[19]='hgyr'
    set udg_Unit_monster[119]='hmtm'
    set udg_Unit_monster[20]='efdr'
    set udg_Unit_monster[120]='edoc'
    set udg_Unit_monster[21]='umtw'
    set udg_Unit_monster[121]='uobs'
    set udg_Unit_monster[22]='owyv'
    set udg_Unit_monster[122]='otbr'
    set udg_Unit_monster[23]='owar'
    set udg_Unit_monster[123]='oswy'
    set udg_Unit_monster[24]='emtg'
    set udg_Unit_monster[124]='ebal'
    set udg_Unit_monster[25]='nfgb'
    set udg_Unit_monster[125]='nsgb'
    set udg_Unit_monster[26]='nwrg'
    set udg_Unit_monster[126]='nlkl'
    set udg_Unit_monster[27]='nmit'
    set udg_Unit_monster[127]='nltc'
    set udg_Unit_monster[28]='nmsc'
    set udg_Unit_monster[128]='nplg'
    set udg_Unit_monster[29]='nlrv'
    set udg_Unit_monster[129]='nvdg'
endfunction
//===========================================================================
function InitTrig____________________014 takes nothing returns nothing
    set gg_trg____________________014=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________014, function Trig____________________014Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 020
//===========================================================================
function Trig____________________020Func002A takes nothing returns nothing
    call AdjustPlayerStateBJ(( udg_Bo * 2000 ), GetEnumPlayer(), PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig____________________020Actions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), ( "|cffff0000„ÄêÂá∫ÊÄ™„Äë|rÁ¨¨" + ( I2S(udg_Bo) + ( "Ê≥¢ÊÄ™Áâ©Êù•‰∫ÜÔºåÊØè‰ΩçÁé©ÂÆ∂Ëé∑Âæó" + ( I2S(( udg_Bo * 2000 )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ) ) ))
    call ForForce(GetPlayersAll(), function Trig____________________020Func002A)
    call YDWEPolledWaitNull(2)
    if ( ( udg_Bo == 1 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∏ÄÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÊó†Ôºâ‰∏ãÔºàÂº∫ÂáªÂÖâÁéØÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÊó†")
    else
    endif
    if ( ( udg_Bo == 2 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∫åÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÂóúË°ÄÊúØÔºâ‰∏ãÔºàÂåªÁñóÊúØÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂ∞ΩÊó©Âπ≤Êéâ‰∏ãËæπÁöÑÔºåÂê¶ÂàôÊúâ‰Ω†‰ª¨Â•ΩÂèó„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 3 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∏âÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÊâìÂª∫Á≠ëÈ´ò‰º§ÂÆ≥Ôºâ‰∏ãÔºàÊâì‰∫∫È´ò‰º§ÂÆ≥Ôºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂ∞ΩÈáè‰∏çË¶ÅËÆ©‰∏äËæπÊâìÂà∞Âª∫Á≠ë„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 4 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂõõÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÁàÜÂáªÁéãÔºâ‰∏ãÔºàÁú©ÊôïÊîªÂáªÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂ∞ΩÈáèÂú®‰∏§ËÇ°ÂäõÈáèËûçÂêà‰πãÂâçÂ∞ÜÂÖ∂Ê≠ºÁÅ≠„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 5 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∫îÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàËá™ÁàÜÔºâ‰∏ãÔºàÂøÉÁÅµ‰πãÁÅ´Ôºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂ∞ΩÈáèËÆ©È≠îÊ≥ïÊäóÊÄßÊØîËæÉÂº∫ÁöÑÂçï‰ΩçÂéªÊäµÊå°„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 6 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂÖ≠Ê≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºà100%ËØÖÂííÔºâ‰∏ãÔºàËÄóÈ≠îÊîªÂáªÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂ∞ΩÈáè‰∏çË¶ÅËÆ©‰∏§ËÇ°ÂäõÈáèËûçÂêà„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 7 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∏ÉÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÈ≠îÂõûÂà∞200Â∞±20ÂÄç‰º§ÂÆ≥Ôºâ‰∏ãÔºàÂõûÈ≠îÂÖâÁéØÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂ∞ΩÈáè‰∏çË¶ÅËÆ©‰∏§ËÇ°ÂäõÈáèËûçÂêà„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 8 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂÖ´Ê≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÊàëÂæàÁ°¨Ôºâ‰∏ãÔºàÁªôÁ°¨‰∫∫Âä†Ë°ÄÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂ∞ΩÈáè‰∏çË¶ÅËÆ©‰∏§ËÇ°ÂäõÈáèËûçÂêà„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 9 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰πùÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÁÅµÈ≠ÇÁàÜÈúá‰ΩÜ‰∏çÂõûÈ≠îÔºâ‰∏ãÔºàÂõûÈ≠îÁöÑÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂ∞ΩÈáè‰∏çË¶ÅËÆ©‰∏§ËÇ°ÂäõÈáèËûçÂêà„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 10 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàËá™ÁàÜÁÇ∏Âü∫Âú∞Ôºâ‰∏ãÔºàÂè™ÊâìÂü∫Âú∞Ôºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºö‰∏çËÆ©‰∏§Ê≥¢ÊÄ™Èù†ËøëÂü∫Âú∞„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 11 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅ‰∏ÄÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÂê∏Ë°ÄÔºâ‰∏ãÔºàÂê∏È≠îÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöË°ÄÂéö‰∏äÂéªÊå°ÔºåÈ≠îÂ§ö‰∏ãÂéªÊå°„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 12 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅ‰∫åÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÂóúË°ÄÊúØÔºâ‰∏ãÔºàÊîªÂáªË∂ÖÁ∫ßÈ´òÔºåÊîªÈÄüË∂ÖÁ∫ß‰ΩéÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºö‰∏çË¶ÅËÆ©‰∏§Ê≥¢ÊÄ™ËûçÂêà„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 13 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅ‰∏âÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÁâ©ÁêÜÂÖçÁñ´Ôºâ‰∏ãÔºàÈ≠îÊ≥ïÂÖçÁñ´Ôºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÈ≠îÊîª‰∏äÂéªÔºåÁâ©Êîª‰∏ãÂéª„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 14 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅÂõõÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàË∂ÖËøúÊîªÂáªÔºâ‰∏ãÔºàËøêÊ∞îÊîªÂáªÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÊèêÂâç‰∏äÂéªÊèêÈò≤ÔºåÈò≤Âæ°ËæÉÈ´ò‰∏ãÂéª„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 15 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅ‰∫îÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÂΩí‰∏Ä‰πãÊØíÔºâ‰∏ãÔºàÊùÄ‰∫∫‰πãÊØíÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºö‰∏çË¶ÅËÆ©‰∏§Ê≥¢ÊÄ™ËûçÂêà„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 16 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅÂÖ≠Ê≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºà100%Èó™ÈÅøÔºâ‰∏ãÔºàÂèçÈ≠îÊ≥ïÂ§ñÂ£≥Ôºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºö‰∏çË¶ÅËÆ©‰∏§Ê≥¢ÊÄ™ËûçÂêà„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 17 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅ‰∏ÉÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÁ≤âÁ¢éÔºâ‰∏ãÔºàËøúÁ®ãÊîªÂáªÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºö‰∏çË¶ÅËÆ©‰∏äÈù¢Èù†ËøëÂü∫Âú∞ÔºåÂú®‰∏ãÈù¢ÈòªÂáª„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 18 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅÂÖ´Ê≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàËøëÊàòÂèçÂºπÔºâ‰∏ãÔºàËøëÊàòÂê∏Êî∂Ôºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöËÆ©ËøúÁ®ãÊù•ÂØπÊäó„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 19 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨ÂçÅ‰πùÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÂ§çÂà∂Ôºâ‰∏ãÔºàÊó†ÊïåÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÊúâÂ§öÈáçÊîªÂáªÁöÑÊù•ÂÆàËøôÊ≥¢„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 20 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∫åÂçÅÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàCDÂΩíÈõ∂Ôºâ‰∏ãÔºàÈáçÁîüÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºö‰∏çËÆ©‰∏§Ê≥¢ÊÄ™ËûçÂêà„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 21 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∫åÂçÅ‰∏ÄÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÊ∫ÖÂ∞ÑÊîªÂáªÔºâ‰∏ãÔºàÂèòÁæäÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂàÜÂºÄÂáªË¥•‰∏§Ê≥¢ÊÄ™Ôºå‰∏çË¶ÅËÆ©‰∏äË∑ØÈù†ËøëÂü∫Âú∞„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 22 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∫åÂçÅ‰∫åÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÁîüÂëΩ‰∫íÊç¢Ôºâ‰∏ãÔºàÊ∫ÖÂ∞ÑÊîªÂáªÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºö‰∏çË¶ÅËÆ©‰∏§Ê≥¢ÊÄ™ÊîªÂáªÂü∫Âú∞Ôºå‰∏çË¶ÅËÆ©‰∏ãÊ≥¢ÊÄ™Êé•ËøëÂü∫Âú∞„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 23 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∫åÂçÅ‰∏âÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÊ≥¢Âä®ÊîªÂáªÔºâ‰∏ãÔºà‰º†ÂõûÂü∫Âú∞Ôºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂÆàÂ•ΩÂÆ∂„ÄÇ")
    else
    endif
    if ( ( udg_Bo == 24 ) ) then
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÁ¨¨‰∫åÂçÅÂõõÊ≥¢„Äë|r
ÊÄ™Áâ©ÊäÄËÉΩÔºö|cff7cfc00‰∏äÔºàÂò≤ËÆΩÔºâ‰∏ãÔºà‰∫°ÊÆáÔºâ
Ê≥®ÊÑè‰πãÂ§ÑÔºöÂàÜÂºÄÂáªË¥•‰∏§Ê≥¢ÊÄ™ÔºåËøúË∑ùÁ¶ªÊâì‰∏ãÈù¢ÁöÑ„ÄÇ")
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________020 takes nothing returns nothing
    set gg_trg____________________020=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________020, function Trig____________________020Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 021
//===========================================================================
function Trig____________________021Func002Func002A takes nothing returns nothing
    if ( ( GetUnitTypeId(GetEnumUnit()) != udg_Unit_monster[( udg_Bo + 100 )] ) and ( GetUnitTypeId(GetEnumUnit()) != udg_Unit_monster[udg_Bo] ) ) then
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call IssuePointOrderLoc(GetEnumUnit(), "attack", udg_Point)
        call RemoveLocation(udg_Point)
    else
    endif
endfunction
function Trig____________________021Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( udg_Y != GetFastMonsterCount(48) ) ) then
        call StartTimerBJ(udg_Time_Start[( udg_Bo + 1 )], false, GetMonsterSpeed())
        set udg_Y=( udg_Y + 1 )
        set udg_Point=GetRectCenter(gg_rct________4)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[udg_Bo], Player(11), udg_Point, 0.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________059)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call AttackBase(udg_Unit)
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________3)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096________2))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[udg_Bo], Player(11), udg_Point, 0.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________059)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call AttackBase(udg_Unit)
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________2)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096_______u))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[udg_Bo], Player(11), udg_Point, 0.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________059)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call AttackBase(udg_Unit)
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________5)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096________4))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[( udg_Bo + 100 )], Player(11), udg_Point, 180.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________059)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call AttackBase(udg_Unit)
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________6)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096________3))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[( udg_Bo + 100 )], Player(11), udg_Point, 180.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________059)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call AttackBase(udg_Unit)
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________7)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096________5))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[( udg_Bo + 100 )], Player(11), udg_Point, 180.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________059)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call AttackBase(udg_Unit)
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectOfPlayerNull(gg_rct__________u , Player(11)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig____________________021Func002Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call PauseTimer(udg_Time_Start[( udg_Bo + 1 )])
        call DestroyTimer(udg_Time_Start[( udg_Bo + 1 )])
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________021 takes nothing returns nothing
    set gg_trg____________________021=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[1])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[2])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[3])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[4])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[5])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[6])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[7])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[8])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[9])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[10])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[11])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[12])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[13])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[14])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[15])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[16])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[17])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[18])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[19])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[20])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[21])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[22])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[23])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[24])
    call TriggerRegisterTimerExpireEvent(gg_trg____________________021, udg_Time_Start[25])
    call TriggerAddAction(gg_trg____________________021, function Trig____________________021Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 054
//===========================================================================
function Trig____________________054Conditions takes nothing returns boolean
    return ( ( GetOwningPlayer(GetEnteringUnit()) == Player(11) ) and ( IsUnitAliveBJ(GetEnteringUnit()) == true ) )
endfunction
function Trig____________________054Actions takes nothing returns nothing
    if ( ( GetUnitTypeId(GetEnteringUnit()) == 'hrif' ) ) then
        call IssueTargetOrder(GetEnteringUnit(), "attack", gg_unit_haro_0030)
        return
    else
    endif
    if ( ( GetUnitTypeId(GetEnteringUnit()) == 'hkni' ) ) then
        call IssueTargetOrder(GetEnteringUnit(), "selfdestruct", gg_unit_haro_0030)
        return
    else
    endif
    set udg_Point=GetRandomLocInRect(gg_rct________1)
    call IssuePointOrderLoc(GetEnteringUnit(), "attack", udg_Point)
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig____________________054 takes nothing returns nothing
    set gg_trg____________________054=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________054 , gg_rct______________096________2)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________054 , gg_rct______________096________3)
    call TriggerAddCondition(gg_trg____________________054, Condition(function Trig____________________054Conditions))
    call TriggerAddAction(gg_trg____________________054, function Trig____________________054Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 022
//===========================================================================
function Trig____________________022Conditions takes nothing returns boolean
    return ( ( GetOwningPlayer(GetEnteringUnit()) == Player(11) ) and ( IsUnitAliveBJ(GetEnteringUnit()) == true ) )
endfunction
function Trig____________________022Actions takes nothing returns nothing
    set udg_Point=GetRandomLocInRect(gg_rct______________096________2)
    call IssuePointOrderLoc(GetEnteringUnit(), "attack", udg_Point)
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig____________________022 takes nothing returns nothing
    set gg_trg____________________022=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________022 , gg_rct______________096)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________022 , gg_rct______________096_______u)
    call TriggerAddCondition(gg_trg____________________022, Condition(function Trig____________________022Conditions))
    call TriggerAddAction(gg_trg____________________022, function Trig____________________022Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 022 Â§çÂà∂ 2
//===========================================================================
function Trig____________________022________2Conditions takes nothing returns boolean
    return ( ( GetOwningPlayer(GetEnteringUnit()) == Player(11) ) and ( IsUnitAliveBJ(GetEnteringUnit()) == true ) )
endfunction
function Trig____________________022________2Actions takes nothing returns nothing
    set udg_Point=GetRandomLocInRect(gg_rct______________096________3)
    call IssuePointOrderLoc(GetEnteringUnit(), "attack", udg_Point)
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig____________________022________2 takes nothing returns nothing
    set gg_trg____________________022________2=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________022________2 , gg_rct______________096________5)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________022________2 , gg_rct______________096________4)
    call TriggerAddCondition(gg_trg____________________022________2, Condition(function Trig____________________022________2Conditions))
    call TriggerAddAction(gg_trg____________________022________2, function Trig____________________022________2Actions)
endfunction
//===========================================================================
// Trigger: ÊÄ™Áâ©ÊäÄËÉΩÁ≠âÁ∫ß 059
//===========================================================================
function Trig____________________059Actions takes nothing returns nothing
    call AddWanjieSpell(udg_Unit)
    if ( ( udg_Bo >= 7 ) ) then
        call AddTianyanmokang(udg_Unit)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nitw' ) ) then
        call SetUnitAbilityLevelSwapped('ACat', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nith' ) ) then
        call SetUnitAbilityLevelSwapped('Ahea', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nmrl' ) ) then
        call SetUnitAbilityLevelSwapped('A00A', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nmrm' ) ) then
        call SetUnitAbilityLevelSwapped('ANt2', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'hfoo' ) ) then
        call SetUnitAbilityLevelSwapped('A03T', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A06K', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'hmpr' ) ) then
        call SetUnitAbilityLevelSwapped('A05N', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'hspt' ) ) then
        call SetUnitAbilityLevelSwapped('A05U', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'hsor' ) ) then
        call SetUnitAbilityLevelSwapped('A05O', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'uban' ) ) then
        call SetUnitAbilityLevelSwapped('A05O', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'unec' ) ) then
        call SetUnitAbilityLevelSwapped('A05V', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'ucry' ) ) then
        call SetUnitAbilityLevelSwapped('ACba', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'earc' ) ) then
        call SetUnitAbilityLevelSwapped('Anhe', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'ogru' ) ) then
        call SetUnitAbilityLevelSwapped('ACba', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'orai' ) ) then
        call SetUnitAbilityLevelSwapped('A05I', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'hkni' ) ) then
        call SetUnitAbilityLevelSwapped('Asds', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'ohun' ) ) then
        call SetUnitAbilityLevelSwapped('A09L', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'odoc' ) ) then
        call SetUnitAbilityLevelSwapped('A05V', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'hhes' ) ) then
        call SetUnitAbilityLevelSwapped('A03T', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A06K', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'njks' ) ) then
        call SetUnitAbilityLevelSwapped('Ablo', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'otau' ) ) then
        call SetUnitAbilityLevelSwapped('A06L', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'edoc' ) ) then
        call SetUnitAbilityLevelSwapped('ANr2', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'uobs' ) ) then
        call SetUnitAbilityLevelSwapped('A08F', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'owyv' ) ) then
        call SetUnitAbilityLevelSwapped('A0B8', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'owar' ) ) then
        call SetUnitAbilityLevelSwapped('Aakb', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'oswy' ) ) then
        call SetUnitAbilityLevelSwapped('Asal', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'emtg' ) ) then
        call SetUnitAbilityLevelSwapped('A0BD', udg_Unit, udg_Nandu_JJJ)
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________059 takes nothing returns nothing
    set gg_trg____________________059=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________059, function Trig____________________059Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 013
//===========================================================================
function Trig____________________013Conditions takes nothing returns boolean
    return ( ( RectContainsUnit(gg_rct__________u, GetTriggerUnit()) == true ) and ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) )
endfunction
function Trig____________________013Actions takes nothing returns nothing
    set udg_Point=GetRandomLocInRect(gg_rct________1)
    call IssuePointOrderLoc(GetTriggerUnit(), "attack", udg_Point)
    call RemoveLocation(udg_Point)
endfunction
//===========================================================================
function InitTrig____________________013 takes nothing returns nothing
    set gg_trg____________________013=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________013, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(gg_trg____________________013, Condition(function Trig____________________013Conditions))
    call TriggerAddAction(gg_trg____________________013, function Trig____________________013Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 049
//===========================================================================
function Trig____________________049Func001002002 takes nothing returns boolean
    return ( ( ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( GetUnitTypeId(GetFilterUnit()) != 'uzg2' ) ) and ( GetOwningPlayer(GetFilterUnit()) == Player(11) ) ) )
endfunction
function Trig____________________049Func002Func002A takes nothing returns nothing
    call SetUnitPositionLoc(GetEnumUnit(), udg_Point_Fuhuo)
endfunction
function Trig____________________049Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Group=YDWEGetUnitsInRectMatchingNull(gg_rct__________u , Condition(function Trig____________________049Func001002002))
    if ( ( CountUnitsInGroup(udg_Group) >= 400 ) ) then
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetRandomSubGroupNull(( CountUnitsInGroup(udg_Group) / 1 ) , udg_Group))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig____________________049Func002Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call DisplayTextToForce(GetPlayersAll(), "|cff3b98d3„ÄêÊ≥®ÊÑè„Äë|rÈ≠îÁéãÂèëÁé∞‰Ω†‰ª¨Âç°‰Ωè‰∫ÜÊÄ™ÔºåÊîæ‰∫Ü‰∏ÄÊãõÂ∞ÜÂÖµÁõ¥Êé•‰º†ÈÄÅÂà∞‰∫Ü‰Ω†‰ª¨Âü∫Âú∞„ÄÇ")
    else
    endif
    call DestroyGroup(udg_Group)
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig____________________049 takes nothing returns nothing
    set gg_trg____________________049=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg____________________049, 10.00)
    call TriggerAddAction(gg_trg____________________049, function Trig____________________049Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 089
//===========================================================================
function Trig____________________089Actions takes nothing returns nothing
    call AddWanjieSpell(udg_Unit)
    if ( ( udg_Bo >= 7 ) ) then
        call AddTianyanmokang(udg_Unit)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nfgb' ) ) then
        call SetUnitAbilityLevelSwapped('A044', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('ANt2', udg_Unit, ( udg_Nandu_JJJ + 7 ))
        call SetUnitAbilityLevelSwapped('A05U', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A03T', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A06K', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nsgb' ) ) then
        call SetUnitAbilityLevelSwapped('ACat', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A00A', udg_Unit, ( udg_Nandu_JJJ + 7 ))
        call SetUnitAbilityLevelSwapped('A05N', udg_Unit, ( udg_Nandu_JJJ + 7 ))
        call SetUnitAbilityLevelSwapped('A05O', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nwrg' ) ) then
        call SetUnitAbilityLevelSwapped('A05O', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nlkl' ) ) then
        call SetUnitAbilityLevelSwapped('ACba', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('Anhe', udg_Unit, ( udg_Nandu_JJJ + 7 ))
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nmit' ) ) then
        call SetUnitAbilityLevelSwapped('A09L', udg_Unit, ( udg_Nandu_JJJ + 7 ))
        call SetUnitAbilityLevelSwapped('Ablo', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nltc' ) ) then
        call SetUnitAbilityLevelSwapped('A03T', udg_Unit, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A06K', udg_Unit, udg_Nandu_JJJ)
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nmsc' ) ) then
        call SetUnitAbilityLevelSwapped('A06L', udg_Unit, ( udg_Nandu_JJJ + 7 ))
    else
    endif
    if ( ( GetUnitTypeId(udg_Unit) == 'nplg' ) ) then
        call SetUnitAbilityLevelSwapped('ANr2', udg_Unit, udg_Nandu_JJJ)
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________089 takes nothing returns nothing
    set gg_trg____________________089=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________089, function Trig____________________089Actions)
endfunction
//===========================================================================
// Trigger: mowangshanguang
//===========================================================================
function Trig_mowangshanguangFunc001Func005Func001Func007Func001Func005002003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gg_unit_Uwar_0274)) == true ) ) )
endfunction
function Trig_mowangshanguangFunc001Func005Func001Func007Func001Func006A takes nothing returns nothing
    if ( ( IsUnitInGroup(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F)) == false ) and ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        if ( ( GetRandomInt(1, 100) > R2I(( ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Uwar_0274) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Uwar_0274) ) * 100.00 )) ) ) then
            call UnitDamageTarget(gg_unit_Uwar_0274, GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetEnumUnit()) * 2.00 ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
            call CreateTextTagUnitBJ(( I2S(R2I(( ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Uwar_0274) - GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Uwar_0274) ) / GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Uwar_0274) ) * 100.00 ))) + "%ÁßíÊùÄ" ), GetEnumUnit(), 0, 16.00, 0.00, 100.00, 0.00, 0)
            call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
            call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
        else
            call UnitDamageTarget(gg_unit_Uwar_0274, GetEnumUnit(), ( 1000000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            call UnitDamageTarget(gg_unit_Uwar_0274, GetEnumUnit(), ( 500000.00 * I2R(udg_Nandu) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
            if ( ( IsUnitType(GetEnumUnit(), UNIT_TYPE_MAGIC_IMMUNE) != true ) ) then
                call UnitDamageTarget(gg_unit_Uwar_0274, GetEnumUnit(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Uwar_0274) - GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Uwar_0274) ) / 1000.00 ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            else
                call UnitDamageTarget(gg_unit_Uwar_0274, GetEnumUnit(), ( ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Uwar_0274) - GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Uwar_0274) ) / 1000.00 ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
            endif
        endif
        call GroupAddUnitSimple(GetEnumUnit(), LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
    else
    endif
endfunction
function Trig_mowangshanguangFunc001Func005Func001Func007T takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    if ( ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) >= 40 ) ) then
        call KillUnit(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 0x9E80183F))
        call YDWEFlushMissionByInteger(YDWEH2I(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), 0x2970F80D) + 1 ))
        call SetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateX(( GetUnitX(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 64.00 * CosBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        call SetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D), YDWECoordinateY(( GetUnitY(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D)) + ( 64.00 * SinBJ(( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), 0x2B0A6845) )) ) )))
        set udg_Point=GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0xC303079D))
        set udg_Group=YDWEGetUnitsInRangeOfLocMatchingNull(64.00 , udg_Point , Condition(function Trig_mowangshanguangFunc001Func005Func001Func007Func001Func005002003))
        call ForGroupBJ(udg_Group, function Trig_mowangshanguangFunc001Func005Func001Func007Func001Func006A)
        call DestroyGroup(udg_Group)
        call RemoveLocation(udg_Point)
    endif
    set ydl_group=null
    set ydl_unit=null
endfunction
function Trig_mowangshanguangFunc002Func002003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitEnemy(GetFilterUnit(), Player(11)) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_MECHANICAL) != true ) ) ) ) )
endfunction
function Trig_mowangshanguangActions takes nothing returns nothing
    local integer ydul_k
    local timer ydl_timer
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitAliveBJ(gg_unit_Uwar_0274) == true ) ) then
        if ( ( GetUnitUserData(gg_unit_ndmg_0052) == 8 ) ) then
            set ydul_k=1
            loop
                exitwhen ydul_k > 12
                set udg_Point=GetUnitLoc(gg_unit_Uwar_0274)
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, PolarProjectionBJ(udg_Point, 256.00, ( ( ( GetRandomReal(0, 30.00) ) ) + ( ( ( 30.00 ) * ( I2R(ydul_k) ) ) ) )))
                call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, CreateUnit(Player(11), 'h003', GetUnitX(gg_unit_Uwar_0274), GetUnitY(gg_unit_Uwar_0274), AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))))
                call SaveReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845, ( AngleBetweenPoints(udg_Point, LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F)) ))
                call RemoveLocation(udg_Point)
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                set ydl_timer=CreateTimer()
                call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0xC303079D, LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
                call SaveReal(YDHT, GetHandleId(ydl_timer), 0x2B0A6845, LoadReal(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2B0A6845))
                call SaveInteger(YDHT, GetHandleId(ydl_timer), 0x2970F80D, 0)
                call SaveGroupHandle(YDHT, GetHandleId(ydl_timer), 0x9E80183F, CreateGroup())
                call TimerStart(ydl_timer, 0.10, true, function Trig_mowangshanguangFunc001Func005Func001Func007T)
                set ydul_k=ydul_k + 1
            endloop
            call SetUnitUserData(gg_unit_ndmg_0052, 0)
            call SetTextTagTextBJ(udg_Xianxue_BOSS[2], ( "Êú´Êó•Â∑®ÁÇÆ" + ( I2S(( 8 - GetUnitUserData(gg_unit_ndmg_0052) )) + "s" ) ), 15.00)
        else
            call SetTextTagTextBJ(udg_Xianxue_BOSS[2], ( "Êú´Êó•Â∑®ÁÇÆ" + ( I2S(( 8 - GetUnitUserData(gg_unit_ndmg_0052) )) + "s" ) ), 15.00)
            call SetUnitUserData(gg_unit_ndmg_0052, ( GetUnitUserData(gg_unit_ndmg_0052) + 1 ))
        endif
        call SetTextTagTextBJ(udg_Xianxue_BOSS[1], ( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Uwar_0274) / 10000.00 ))) + "‰∏áË°Ä" ), 15.00)
    else
        call DestroyTextTag(udg_Xianxue_BOSS[1])
        call DestroyTextTag(udg_Xianxue_BOSS[2])
        call DestroyTrigger(GetTriggeringTrigger())
    endif
    if ( ( GetRandomInt(1, 3) == 1 ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Uwar_0274))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_mowangshanguangFunc002Func002003003)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
            call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)))
            if ( ( GetRandomInt(1, 3) == 1 ) ) then
                call IssueTargetOrder(gg_unit_Uwar_0274, "fingerofdeath", LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
            else
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D)))
                call IssueTargetOrder(gg_unit_Uwar_0274, "creepthunderbolt", LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            endif
        else
            call IssuePointOrderLoc(gg_unit_Uwar_0274, "attack", udg_Point_Fuhuo)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_timer=null
endfunction
//===========================================================================
function InitTrig_mowangshanguang takes nothing returns nothing
    set gg_trg_mowangshanguang=CreateTrigger()
    call DisableTrigger(gg_trg_mowangshanguang)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_mowangshanguang, 1.00)
    call TriggerAddAction(gg_trg_mowangshanguang, function Trig_mowangshanguangActions)
endfunction
//===========================================================================
// Trigger: mowangshangsd1
//===========================================================================
function Trig_mowangshangsd1Func001Func005003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitEnemy(GetFilterUnit(), Player(11)) == true ) ) )
endfunction
function Trig_mowangshangsd1Func001Func006Func002A takes nothing returns nothing
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xD13A3460, GetUnitLoc(GetEnumUnit()))
    call DestroyEffect(AddSpecialEffectLoc("Units\\Demon\\Infernal\\InfernalBirth.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xD13A3460)))
    call CreateNUnitsAtLoc(1, 'n009', Player(11), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xD13A3460), bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(10.00, 'BHwe', GetLastCreatedUnit())
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xD13A3460))
endfunction
function Trig_mowangshangsd1Func003Func003003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitEnemy(GetFilterUnit(), Player(11)) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_MECHANICAL) != true ) ) ) ) )
endfunction
function Trig_mowangshangsd1Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitAliveBJ(gg_unit_Utic_0275) == true ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAC97B664, GetUnitLoc(gg_unit_Utic_0275))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4F907964, YDWEGetUnitsInRangeOfLocMatchingNull(900.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAC97B664) , Condition(function Trig_mowangshangsd1Func001Func005003003)))
        if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Utic_0275) <= ( 0.33 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Utic_0275) ) ) and ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4F907964)) > 0 ) and ( GetUnitUserData(gg_unit_Utic_0275) != 1 ) ) then
            call SetUnitUserData(gg_unit_Utic_0275, 1)
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4F907964), function Trig_mowangshangsd1Func001Func006Func002A)
            call YDWEPolledWaitNull(10.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call SetUnitUserData(gg_unit_Utic_0275, 0)
        else
        endif
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAC97B664))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4F907964))
    else
        call DestroyTextTag(udg_Xianxue_BOSS[3])
        call DestroyTrigger(GetTriggeringTrigger())
    endif
    call SetTextTagTextBJ(udg_Xianxue_BOSS[3], ( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Utic_0275) / 10000.00 ))) + "‰∏áË°Ä" ), 15.00)
    if ( ( GetRandomInt(1, 3) == 1 ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Utic_0275))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_mowangshangsd1Func003Func003003003)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
            call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)))
            if ( ( GetRandomInt(1, 3) == 1 ) ) then
                call IssueTargetOrder(gg_unit_Utic_0275, "sleep", LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
            else
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D)))
                call IssuePointOrderLoc(gg_unit_Utic_0275, "carrionswarm", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            endif
        else
            call IssuePointOrderLoc(gg_unit_Utic_0275, "attack", udg_Point_Fuhuo)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_mowangshangsd1 takes nothing returns nothing
    set gg_trg_mowangshangsd1=CreateTrigger()
    call DisableTrigger(gg_trg_mowangshangsd1)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_mowangshangsd1, 1.00)
    call TriggerAddAction(gg_trg_mowangshangsd1, function Trig_mowangshangsd1Actions)
endfunction
//===========================================================================
// Trigger: mowangshangwo2
//===========================================================================
function Trig_mowangshangwo2Func001Func002Func005003003 takes nothing returns boolean
    return ( ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) ) and ( IsUnitEnemy(GetFilterUnit(), Player(11)) == true ) ) )
endfunction
function Trig_mowangshangwo2Func001Func002Func006Func001A takes nothing returns nothing
    if ( ( ( GetHeroStatBJ(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))], false) < ( 30000 * udg_Nandu ) ) or ( GetHeroStatBJ(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))], false) < ( 30000 * udg_Nandu ) ) or ( GetHeroStatBJ(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))], false) < ( 30000 * udg_Nandu ) ) ) and ( GetOwningPlayer(GetEnumUnit()) != Player(6) ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xD13A3460, GetUnitLoc(GetEnumUnit()))
        call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xD13A3460)))
        if ( ( GetUnitAbilityLevelSwapped('Amim', GetEnumUnit()) != 1 ) ) then
            call UnitDamageTarget(gg_unit_Nman_0276, GetEnumUnit(), ( 1000000.00 * I2R(udg_Nandu_JJJ) ), false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        else
            call UnitDamageTarget(gg_unit_Nman_0276, GetEnumUnit(), ( 1000000.00 * I2R(udg_Nandu_JJJ) ), false, true, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_SLOW_POISON, WEAPON_TYPE_WHOKNOWS)
        endif
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xD13A3460))
    else
    endif
endfunction
function Trig_mowangshangwo2Func003Func003003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitEnemy(GetFilterUnit(), Player(11)) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_MECHANICAL) != true ) ) ) ) )
endfunction
function Trig_mowangshangwo2Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetRandomInt(1, 4) == 1 ) ) then
        if ( ( IsUnitAliveBJ(gg_unit_Nman_0276) == true ) ) then
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAC97B664, GetUnitLoc(gg_unit_Nman_0276))
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4F907964, YDWEGetUnitsInRangeOfLocMatchingNull(900.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAC97B664) , Condition(function Trig_mowangshangwo2Func001Func002Func005003003)))
            if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Nman_0276) <= ( 0.33 * GetUnitStateSwap(UNIT_STATE_MAX_LIFE, gg_unit_Nman_0276) ) ) and ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4F907964)) > 0 ) ) then
                call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4F907964), function Trig_mowangshangwo2Func001Func002Func006Func001A)
                call CreateTextTagUnitBJ("ÊØÅÁÅ≠ÊùÉÂäõ", gg_unit_Nman_0276, 0, 16.00, 0.00, 100.00, 0.00, 0)
                call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90.00)
                call YDWETimerDestroyTextTag(2 , GetLastCreatedTextTag())
            else
            endif
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xAC97B664))
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x4F907964))
        else
            call DestroyTextTag(udg_Xianxue_BOSS[4])
            call DestroyTrigger(GetTriggeringTrigger())
        endif
    else
    endif
    call SetTextTagTextBJ(udg_Xianxue_BOSS[4], ( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Nman_0276) / 10000.00 ))) + "‰∏áË°Ä" ), 15.00)
    if ( ( GetRandomInt(1, 3) == 1 ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Nman_0276))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_mowangshangwo2Func003Func003003003)))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
            call SaveUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D, GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)))
            if ( ( GetRandomInt(1, 3) == 1 ) ) then
                call IssueTargetOrder(gg_unit_Nman_0276, "doom", LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D))
            else
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xC303079D)))
                call IssuePointOrderLoc(gg_unit_Nman_0276, "rainoffire", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
            endif
        else
            call IssuePointOrderLoc(gg_unit_Nman_0276, "attack", udg_Point_Fuhuo)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_mowangshangwo2 takes nothing returns nothing
    set gg_trg_mowangshangwo2=CreateTrigger()
    call DisableTrigger(gg_trg_mowangshangwo2)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_mowangshangwo2, 1.00)
    call TriggerAddAction(gg_trg_mowangshangwo2, function Trig_mowangshangwo2Actions)
endfunction
//===========================================================================
// Trigger: xianxue
//===========================================================================
function Trig_xianxueActions takes nothing returns nothing
    if ( ( IsUnitAliveBJ(gg_unit_Uwar_0274) == true ) ) then
        call SetTextTagPosUnit(udg_Xianxue_BOSS[1], gg_unit_Uwar_0274, 0)
        call SetTextTagPosUnit(udg_Xianxue_BOSS[2], gg_unit_Uwar_0274, 50.00)
    else
    endif
    if ( ( IsUnitAliveBJ(gg_unit_Utic_0275) == true ) ) then
        call SetTextTagPosUnit(udg_Xianxue_BOSS[3], gg_unit_Utic_0275, 0)
    else
    endif
    if ( ( IsUnitAliveBJ(gg_unit_Nman_0276) == true ) ) then
        call SetTextTagPosUnit(udg_Xianxue_BOSS[4], gg_unit_Nman_0276, 0)
    else
    endif
endfunction
//===========================================================================
function InitTrig_xianxue takes nothing returns nothing
    set gg_trg_xianxue=CreateTrigger()
    call DisableTrigger(gg_trg_xianxue)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_xianxue, 0.05)
    call TriggerAddAction(gg_trg_xianxue, function Trig_xianxueActions)
endfunction
//===========================================================================
// Trigger: panding
//===========================================================================
function Trig_pandingConditions takes nothing returns boolean
    return ( ( ( GetDyingUnit() == gg_unit_Nman_0276 ) or ( GetDyingUnit() == gg_unit_Uwar_0274 ) or ( GetDyingUnit() == gg_unit_Utic_0275 ) ) )
endfunction
function Trig_pandingFunc002Func015A takes nothing returns nothing
    call PauseUnitBJ(true, GetEnumUnit())
endfunction
function Trig_pandingFunc002Func019Func003A takes nothing returns nothing
    call PanCameraToTimedLocForPlayer(GetEnumPlayer(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7), 0xE741F00E), 0.20)
endfunction
function Trig_pandingFunc002Func019Func014A takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
endfunction
function Trig_pandingFunc002Func019Func035A takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
endfunction
function Trig_pandingFunc002Func019Func038A takes nothing returns nothing
    call CustomVictoryBJ(GetEnumPlayer(), true, true)
endfunction
function Trig_pandingActions takes nothing returns nothing
    local integer ydul_aj
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetDyingUnit() == gg_unit_Uwar_0274 ) ) then
        set udg_Point=GetUnitLoc(GetDyingUnit())
        set ydul_aj=1
        loop
            exitwhen ydul_aj > 6
            if ( ( GetPlayerSlotState(ConvertedPlayer(ydul_aj)) == PLAYER_SLOT_STATE_PLAYING ) ) then
                call CreateItemLoc('fgrg', udg_Point)
                call SaveInteger(YDHT, GetHandleId(GetLastCreatedItem()), 0xA75AD423, ydul_aj)
            else
            endif
            set ydul_aj=ydul_aj + 1
        endloop
        call RemoveLocation(udg_Point)
    else
    endif
    if ( ( IsUnitDeadBJ(gg_unit_Nman_0276) == true ) and ( IsUnitDeadBJ(gg_unit_Utic_0275) == true ) and ( IsUnitDeadBJ(gg_unit_Uwar_0274) == true ) ) then
        set udg_Bo=24
        call PauseTimer(udg_Time_Start[1])
        call DestroyTimer(udg_Time_Start[1])
        call DestroyTimerDialog(udg_Time_Monster_C[1])
        call DestroyTrigger(gg_trg_xianxue)
        call DestroyTrigger(gg_trg_mowangshanguang)
        call DestroyTrigger(gg_trg_mowangshangsd1)
        call DestroyTrigger(gg_trg_mowangshangwo2)
        call DestroyTextTag(udg_Xianxue_BOSS[1])
        call DestroyTextTag(udg_Xianxue_BOSS[2])
        call DestroyTextTag(udg_Xianxue_BOSS[3])
        call DestroyTextTag(udg_Xianxue_BOSS[4])
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7, YDWEGetUnitsInRectAllNull(GetPlayableMapRect()))
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7), function Trig_pandingFunc002Func015A)
        call CinematicModeBJ(true, GetPlayersAll())
        call PauseTimer(udg_Time_BOSS)
        call DestroyTimerDialog(udg_Timer_BOSS)
        if ( ( udg_Nandu_JJJ <= 2 ) and ( hasPIV() == false ) and ( false == true ) ) then
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_Nkjx_0241, "|cffff00ffÈ¶ñ‰ªªÂÖ≠ÁïåÁéã|r", null, "ÊÑüË∞¢ÂØπÊú¨Âú∞ÂõæÁöÑÊîØÊåÅÔºÅ‰Ω†ÈÄâÊã©ÁöÑÈöæÂ∫¶Âú®ËøôÊ≥¢Â∞±ÁªìÊùü‰∫Ü.ÂêéÁª≠ÁöÑÂÖ≥Âç°ËØ∑ÈÄâÊã©\"ÂíåË∞ê\"ÈöæÂ∫¶(ÈöæÂ∫¶3)Êàñ‰ª•‰∏äËøõË°å‰ΩìÈ™å,(Ââç3‰∏™ÈöæÂ∫¶ÂÖ∂ÂÆûÊèêÂçá‰∏çÂ§ß)", bj_TIMETYPE_ADD, 5.00, true)
            call YDWEPolledWaitNull(5.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_Nkjx_0241, "|cffff00ffÈ¶ñ‰ªªÂÖ≠ÁïåÁéã|r", null, "Ê∏∏ÊàèÂ∞ÜÂú®60sÂêéÁªìÊùü„ÄÇ", bj_TIMETYPE_ADD, 5.00, true)
            call YDWEPolledWaitNull(5.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call CinematicModeBJ(false, GetPlayersAll())
             call SaveAchievement()
            call Show245Dialog()
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7, YDWEGetUnitsInRectAllNull(GetPlayableMapRect()))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7), function Trig_pandingFunc002Func019Func035A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7))
            call YDWEPolledWaitNull(60.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call ForForce(GetPlayersAll(), function Trig_pandingFunc002Func019Func038A)
        else
            call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E, GetUnitLoc(gg_unit_Nkjx_0241))
            call ShowUnit(gg_unit_Nkjx_0241, true)
            call ForForce(GetPlayersAll(), function Trig_pandingFunc002Func019Func003A)
            call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E))
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_Nkjx_0241, "|cffff00ffÈ¶ñ‰ªªÂÖ≠ÁïåÁéã|r", null, "È≠îÁéã‰πãÊ≠ªÂÖ∂ÂÆûÂ∞±Âú®ËÆ°Âàí‰πã‰∏≠,‰ªñÊ≠ª‰πüÊÉ≥‰∏çÂà∞‰ªñÂÖ∂ÂÆû‰πüÂ∞±ÊòØÊàëÁöÑ‰∏ÄÈ¢óÊ£ãÂ≠ê,‰∏∫ÊàëÊâìÂºÄ‰∫ÜÂÖ≠Áïå‰πãÈó®,ÂìàÂìàÂìàÂìà!", bj_TIMETYPE_ADD, 2.00, true)
            call YDWEPolledWaitNull(2.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_H01W_0207, "|cffff00ffÈ¶ñ‰ªªÂÖ≠ÁïåÁéã|r", null, "ÂÜ•ÁïåÈáç‰∏¥‰∫Ü,ÊàëÁõ∏‰ø°Êé•‰∏ãÊù•‰Ω†‰ª¨‰ºöÂ∞ÜÂÖ∂ÂáªË¥•,‰∏çË¶ÅËÆ©ÂÖ∂Â§∫Ëµ∞‰∫îÁïå‰πãÊ†∏.", bj_TIMETYPE_ADD, 2.00, true)
            call YDWEPolledWaitNull(2.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call CinematicModeBJ(false, GetPlayersAll())
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7, YDWEGetUnitsInRectAllNull(GetPlayableMapRect()))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7), function Trig_pandingFunc002Func019Func014A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7))
            call PlaySoundBJ(gg_snd_Renwu)
            call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "ÂÖ≠Áïå‰πãÂ§ñ", "È≠îÁïåÂ∑≤‰∫°„ÄÇ‰ΩÜ‰ºº‰πéÂÖ≠Áïå‰πãÂ§ñÁöÑÂäøÂäõÂØπ‰∫îÁïåÊúâÊâÄËßäËßéÔºåÂÆà‰Ωè5Ê≥¢ÊîªÂáªÔºåÂπ∂ÂáªË¥•ÂÜ•ÁéãÔºåÂèñÂæóËÉúÂà©„ÄÇ", "ReplaceableTextures\\CommandButtons\\BTNPossession.blp")
            call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00ÂÖ≠Áïå‰πãÂ§ñ|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
            call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
            call StartTimerBJ(udg_Double_M[1], false, 20.00)
            call CreateTimerDialogBJ(udg_Double_M[1], "Á¨¨sp.1Ê≥¢")
            set udg_Double_Me=GetLastCreatedTimerDialogBJ()
            call TimerDialogDisplayBJ(true, udg_Double_Me)
            call PauseUnitBJ(true, gg_unit_Nkjx_0241)
            call ShowMingjieDialog()
            call CameraSetSmoothingFactor(2.00)
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_panding takes nothing returns nothing
    set gg_trg_panding=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_panding, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_panding, Condition(function Trig_pandingConditions))
    call TriggerAddAction(gg_trg_panding, function Trig_pandingActions)
endfunction
//===========================================================================
// Trigger: jixu
//===========================================================================
function Trig_jixuFunc001Func002A takes nothing returns nothing
    if ( ( GetUnitTypeId(GetEnumUnit()) != udg_Unit_monster[( udg_Bo + 100 )] ) and ( GetUnitTypeId(GetEnumUnit()) != udg_Unit_monster[udg_Bo] ) ) then
        set udg_Point=GetRandomLocInRect(gg_rct________1)
        call IssuePointOrderLoc(GetEnumUnit(), "attack", udg_Point)
        call RemoveLocation(udg_Point)
    else
    endif
endfunction
function Trig_jixuActions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( udg_Y != GetFastMonsterCount(16) ) ) then
        call StartTimerBJ(udg_Double_M[2], false, 9.00)
        set udg_Y=( udg_Y + 1 )
        set udg_Point=GetRectCenter(gg_rct________4)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[udg_Bo], Player(11), udg_Point, 0.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________089)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________3)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096________2))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[udg_Bo], Player(11), udg_Point, 0.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________089)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________2)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096_______u))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[udg_Bo], Player(11), udg_Point, 0.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________089)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________5)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096________4))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[( udg_Bo + 100 )], Player(11), udg_Point, 180.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________089)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________6)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096________3))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[( udg_Bo + 100 )], Player(11), udg_Point, 180.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________089)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        set udg_Point=GetRectCenter(gg_rct________7)
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetRandomLocInRect(gg_rct______________096________5))
        call CreateNUnitsAtLoc(1, udg_Unit_monster[( udg_Bo + 100 )], Player(11), udg_Point, 180.00)
        set udg_Unit=GetLastCreatedUnit()
        call TriggerExecute(gg_trg____________________089)
        call IssuePointOrderLoc(udg_Unit, "attack", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
        call RemoveLocation(udg_Point)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRectOfPlayerNull(gg_rct__________u , Player(11)))
        call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F), function Trig_jixuFunc001Func002A)
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call PauseTimer(udg_Double_M[2])
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_jixu takes nothing returns nothing
    set gg_trg_jixu=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerExpireEvent(gg_trg_jixu, udg_Double_M[2])
    call TriggerRegisterTimerExpireEvent(gg_trg_jixu, udg_Double_M[3])
    call TriggerRegisterTimerExpireEvent(gg_trg_jixu, udg_Double_M[4])
    call TriggerRegisterTimerExpireEvent(gg_trg_jixu, udg_Double_M[5])
    call TriggerRegisterTimerExpireEvent(gg_trg_jixu, udg_Double_M[6])
    call TriggerRegisterTimerExpireEvent(gg_trg_jixu, udg_Double_M[7])
    call TriggerAddAction(gg_trg_jixu, function Trig_jixuActions)
endfunction
//===========================================================================
// Trigger: jiangqian
//===========================================================================
function Trig_jiangqianFunc002A takes nothing returns nothing
    call AdjustPlayerStateBJ(( udg_Bo * 2000 ), GetEnumPlayer(), PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_jiangqianActions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), ( "|cffff0000„ÄêÂá∫ÊÄ™„Äë|rSp." + ( I2S(( udg_Bo - 24 )) + ( "Ê≥¢ÊÄ™Áâ©Êù•‰∫ÜÔºåÊØè‰ΩçÁé©ÂÆ∂Ëé∑Âæó" + ( I2S(( udg_Bo * 2000 )) + "ÁöÑÈáëÂ∏Å„ÄÇ" ) ) ) ))
    call ForForce(GetPlayersAll(), function Trig_jiangqianFunc002A)
endfunction
//===========================================================================
function InitTrig_jiangqian takes nothing returns nothing
    set gg_trg_jiangqian=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg_jiangqian, function Trig_jiangqianActions)
endfunction
//===========================================================================
// Trigger: asdf
//===========================================================================
function Trig_asdfActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    set udg_Y=0
    if ( ( udg_Bo == 29 ) ) then
        call PauseTimer(udg_Time_Start[1])
        call SetUnitPathing(gg_unit_Uear_0242, false)
        call SetUnitPathing(gg_unit_Npld_0253, false)
        call SetUnitPathing(gg_unit_Nkjx_0241, false)
        call ShowUnit(gg_unit_Nkjx_0241, true)
        call ShowUnit(gg_unit_Npld_0253, true)
        call ShowUnit(gg_unit_Uear_0242, true)
        call SetUnitInvulnerable(gg_unit_Uear_0242, false)
        call SetUnitInvulnerable(gg_unit_Npld_0253, false)
        call SetUnitInvulnerable(gg_unit_Nkjx_0241, false)
        call PauseUnitBJ(false, gg_unit_Nkjx_0241)
        call PauseUnitBJ(false, gg_unit_Uear_0242)
        call PauseUnitBJ(false, gg_unit_Npld_0253)
        call UnitAddAbilityBJ('A0DV', gg_unit_Nkjx_0241)
        call SetUnitAbilityLevelSwapped('A0DV', gg_unit_Nkjx_0241, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A05P', gg_unit_Nkjx_0241, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A0AG', gg_unit_Nkjx_0241, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A0AG', gg_unit_Uear_0242, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A0AG', gg_unit_Npld_0253, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('AHav', gg_unit_Npld_0253, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('A0E0', gg_unit_Uear_0242, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('AHav', gg_unit_Uear_0242, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('AHav', gg_unit_Nkjx_0241, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('Apig', gg_unit_Nkjx_0241, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('Adts', gg_unit_Uear_0242, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('Adts', gg_unit_Npld_0253, udg_Nandu_JJJ)
        call SetUnitAbilityLevelSwapped('Adts', gg_unit_Nkjx_0241, udg_Nandu_JJJ)
        if ( ( IsTianyan ) ) then
            call UnitAddAbilityBJ('A0JL', gg_unit_Nkjx_0241)
            call RemoveUnit(UWanjieGuanghuan)
        else
        endif
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E, GetUnitLoc(gg_unit_Nkjx_0241))
        call CreateTextTagLocBJ(( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Nkjx_0241) / 10000.00 ))) + "‰∏áË°Ä" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 0, 15.00, 100.00, 0.00, 100.00, 0.00)
        set udg_Xianxue_BOSS[5]=GetLastCreatedTextTag()
        call PingMinimapLocForForce(GetPlayersAll(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 5.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E, GetUnitLoc(gg_unit_Uear_0242))
        call CreateTextTagLocBJ(( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Uear_0242) / 10000.00 ))) + "‰∏áË°Ä" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 0, 15.00, 100.00, 0.00, 100.00, 0.00)
        set udg_Xianxue_BOSS[6]=GetLastCreatedTextTag()
        call PingMinimapLocForForce(GetPlayersAll(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 5.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E))
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E, GetUnitLoc(gg_unit_Npld_0253))
        call CreateTextTagLocBJ(( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Npld_0253) / 10000.00 ))) + "‰∏áË°Ä" ), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 0, 15.00, 100.00, 0.00, 100.00, 0.00)
        set udg_Xianxue_BOSS[7]=GetLastCreatedTextTag()
        call PingMinimapLocForForce(GetPlayersAll(), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E), 5.00)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xE741F00E))
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call DisplayTextToForce(GetPlayersAll(), "|cffff0000„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê≥®ÊÑèË∫≤ÂºÄ|cffff0000ÂÜ•Âàπ|rÂë®Âõ¥ÁöÑÁÇÆÂºπ,ËØ•ÁÇÆÂºπ‰ºöÁßíÊùÄËΩ∞ÂáªÂà∞ÁöÑÊïå‰∫∫!")
        call EnableTrigger(gg_trg_xianxue1)
        call EnableTrigger(gg_trg_mowangshangsd3)
        call EnableTrigger(gg_trg_mowangshangsd4)
        call EnableTrigger(gg_trg_mowangshangsd5)
        call StartFangKa(gg_unit_Nkjx_0241)
        call StartFangKa(gg_unit_Uear_0242)
        call StartFangKa(gg_unit_Npld_0253)
        call InitMingwang()
        call StartTimerBJ(udg_Time_BOSS, false, 1200.00)
        call CreateTimerDialogBJ(udg_Time_BOSS, "ÈôêÊó∂ÂáªÊùÄÊó∂Èó¥")
        set udg_Timer_BOSS=GetLastCreatedTimerDialogBJ()
        call TimerDialogDisplayBJ(true, udg_Timer_BOSS)
    else
        set udg_Bo=( udg_Bo + 1 )
        call StartTimerBJ(udg_Double_M[1], false, GetBoSpeed())
        if ( ( udg_Bo < 29 ) ) then
            call TimerDialogSetTitle(udg_Double_Me, ( "Á¨¨sp." + ( I2S(( udg_Bo - 23 )) + "Ê≥¢" ) ))
        else
            call TimerDialogSetTitle(udg_Double_Me, "|cffff0000ÂÜ•Âàπ|r")
        endif
        call StartTimerBJ(udg_Double_M[2], false, ( 3.00 * GetMonsterSpeed() ))
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_asdf takes nothing returns nothing
    set gg_trg_asdf=CreateTrigger()
    call DoNothing()
    call TriggerRegisterTimerExpireEvent(gg_trg_asdf, udg_Double_M[1])
    call TriggerAddAction(gg_trg_asdf, function Trig_asdfActions)
endfunction
//===========================================================================
// Trigger: mowangshangsd3
//===========================================================================
function Trig_mowangshangsd3Func002Func003003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitEnemy(GetFilterUnit(), Player(11)) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_MECHANICAL) != true ) ) ) ) )
endfunction
function Trig_mowangshangsd3Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SetTextTagTextBJ(udg_Xianxue_BOSS[6], ( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Uear_0242) / 10000.00 ))) + "‰∏áË°Ä" ), 15.00)
    if ( ( GetRandomInt(1, 3) == 1 ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Uear_0242))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_mowangshangsd3Func002Func003003003)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
            call IssueTargetOrder(gg_unit_Uear_0242, "attack", GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)))
        else
            call IssuePointOrderLoc(gg_unit_Uear_0242, "attack", udg_Point_Fuhuo)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_mowangshangsd3 takes nothing returns nothing
    set gg_trg_mowangshangsd3=CreateTrigger()
    call DisableTrigger(gg_trg_mowangshangsd3)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_mowangshangsd3, 1.00)
    call TriggerAddAction(gg_trg_mowangshangsd3, function Trig_mowangshangsd3Actions)
endfunction
//===========================================================================
// Trigger: mowangshangsd4
//===========================================================================
function Trig_mowangshangsd4Func002Func003003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitEnemy(GetFilterUnit(), Player(11)) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_MECHANICAL) != true ) ) ) ) )
endfunction
function Trig_mowangshangsd4Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SetTextTagTextBJ(udg_Xianxue_BOSS[7], ( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Npld_0253) / 10000.00 ))) + "‰∏áË°Ä" ), 15.00)
    if ( ( GetRandomInt(1, 3) == 1 ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Npld_0253))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_mowangshangsd4Func002Func003003003)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
            call IssueTargetOrder(gg_unit_Npld_0253, "attack", GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)))
        else
            call IssuePointOrderLoc(gg_unit_Npld_0253, "attack", udg_Point_Fuhuo)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_mowangshangsd4 takes nothing returns nothing
    set gg_trg_mowangshangsd4=CreateTrigger()
    call DisableTrigger(gg_trg_mowangshangsd4)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_mowangshangsd4, 1.00)
    call TriggerAddAction(gg_trg_mowangshangsd4, function Trig_mowangshangsd4Actions)
endfunction
//===========================================================================
// Trigger: mowangshangsd5
//===========================================================================
function Trig_mowangshangsd5Func002Func003003003 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitEnemy(GetFilterUnit(), Player(11)) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) != true ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_MECHANICAL) != true ) ) ) ) )
endfunction
function Trig_mowangshangsd5Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SetTextTagTextBJ(udg_Xianxue_BOSS[5], ( I2S(R2I(( GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Nkjx_0241) / 10000.00 ))) + "‰∏áË°Ä" ), 15.00)
    if ( ( GetRandomInt(1, 3) == 1 ) ) then
        call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(gg_unit_Nkjx_0241))
        call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsInRangeOfLocMatchingNull(600.00 , LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F) , Condition(function Trig_mowangshangsd5Func002Func003003003)))
        if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) != 0 ) ) then
            call IssueTargetOrder(gg_unit_Nkjx_0241, "attack", GroupPickRandomUnit(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)))
        else
            call IssuePointOrderLoc(gg_unit_Nkjx_0241, "attack", udg_Point_Fuhuo)
        endif
        call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_mowangshangsd5 takes nothing returns nothing
    set gg_trg_mowangshangsd5=CreateTrigger()
    call DisableTrigger(gg_trg_mowangshangsd5)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_mowangshangsd5, 1.00)
    call TriggerAddAction(gg_trg_mowangshangsd5, function Trig_mowangshangsd5Actions)
endfunction
//===========================================================================
// Trigger: xianxue1
//===========================================================================
function Trig_xianxue1Actions takes nothing returns nothing
    if ( ( IsUnitAliveBJ(gg_unit_Nkjx_0241) == true ) ) then
        call SetTextTagPosUnit(udg_Xianxue_BOSS[5], gg_unit_Nkjx_0241, 0)
    else
    endif
    if ( ( IsUnitAliveBJ(gg_unit_Uear_0242) == true ) ) then
        call SetTextTagPosUnit(udg_Xianxue_BOSS[6], gg_unit_Uear_0242, 0)
    else
    endif
    if ( ( IsUnitAliveBJ(gg_unit_Npld_0253) == true ) ) then
        call SetTextTagPosUnit(udg_Xianxue_BOSS[7], gg_unit_Npld_0253, 0)
    else
    endif
endfunction
//===========================================================================
function InitTrig_xianxue1 takes nothing returns nothing
    set gg_trg_xianxue1=CreateTrigger()
    call DisableTrigger(gg_trg_xianxue1)
    call DoNothing()
    call TriggerRegisterTimerEventPeriodic(gg_trg_xianxue1, 0.01)
    call TriggerAddAction(gg_trg_xianxue1, function Trig_xianxue1Actions)
endfunction
//===========================================================================
// Trigger: panding2
//===========================================================================
function Trig_panding2Conditions takes nothing returns boolean
    return ( ( ( GetDyingUnit() == gg_unit_Uear_0242 ) or ( GetDyingUnit() == gg_unit_Nkjx_0241 ) or ( GetDyingUnit() == gg_unit_Npld_0253 ) ) )
endfunction
function Trig_panding2Func001Func010Func016A takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
endfunction
function Trig_panding2Func001Func010Func035A takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
endfunction
function Trig_panding2Func001Func010Func038A takes nothing returns nothing
    call CustomVictoryBJ(GetEnumPlayer(), true, true)
endfunction
function Trig_panding2Actions takes nothing returns nothing
    local group ydl_group
    local unit ydl_unit
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( IsUnitDeadBJ(gg_unit_Uear_0242) == true ) and ( IsUnitDeadBJ(gg_unit_Npld_0253) == true ) and ( IsUnitDeadBJ(gg_unit_Nkjx_0241) == true ) ) then
        call PauseTimer(udg_Time_BOSS)
        call DestroyTimerDialog(udg_Timer_BOSS)
        call DestroyTextTag(udg_Xianxue_BOSS[5])
        call DestroyTextTag(udg_Xianxue_BOSS[6])
        call DestroyTextTag(udg_Xianxue_BOSS[7])
        call DestroyTrigger(gg_trg_xianxue1)
        call DestroyTrigger(gg_trg_mowangshangsd3)
        call DestroyTrigger(gg_trg_mowangshangsd4)
        call DestroyTrigger(gg_trg_mowangshangsd5)
        if ( ( udg_Nandu_JJJ <= 4 ) and ( hasPIV() == false ) and ( false == true ) ) then
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_Nkjx_0241, "|cffffff00ÂÜ•Âàπ|r", null, "ÊÑüË∞¢ÂØπÊú¨Âú∞ÂõæÁöÑÊîØÊåÅÔºÅ‰Ω†ÈÄâÊã©ÁöÑÈöæÂ∫¶Âú®ËøôÊ≥¢Â∞±ÁªìÊùü‰∫Ü.ÂêéÁª≠ÁöÑÂÖ≥Âç°ËØ∑ÈÄâÊã©\"ÁÇºÁã±\"ÈöæÂ∫¶(ÈöæÂ∫¶5)Êàñ‰ª•‰∏äËøõË°å‰ΩìÈ™å,(Ââç5‰∏™ÈöæÂ∫¶ÂÖ∂ÂÆûÊèêÂçá‰∏çÂ§ß)", bj_TIMETYPE_ADD, 5.00, true)
            call YDWEPolledWaitNull(5.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_Nkjx_0241, "|cffffff00ÂÜ•Âàπ|r", null, "Ê∏∏ÊàèÂ∞ÜÂú®60sÂêéÁªìÊùü„ÄÇ", bj_TIMETYPE_ADD, 5.00, true)
            call YDWEPolledWaitNull(5.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call CinematicModeBJ(false, GetPlayersAll())
             call SaveAchievement()
             call SaveAchievement2()
            call Show2451Dialog()
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7, YDWEGetUnitsInRectAllNull(GetPlayableMapRect()))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7), function Trig_panding2Func001Func010Func035A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7))
            call YDWEPolledWaitNull(60.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call ForForce(GetPlayersAll(), function Trig_panding2Func001Func010Func038A)
        else
            call CinematicModeBJ(true, GetPlayersAll())
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), udg_H[GetConvertedPlayerId(GetFirstPlayer())], GetUnitName(udg_H[GetConvertedPlayerId(GetFirstPlayer())]), null, "ÂæàÂ•ΩÔºåÂÜ•ÁéãÂ∑≤ÁÅ≠ÔºåÁúãÊù•Â§™Âπ≥‰πãÊó•ÊåáÊó•ÂèØÂæÖ‚Ä¶‚Ä¶", bj_TIMETYPE_ADD, 2.00, true)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_Nkjx_0241, GetUnitName(gg_unit_Nkjx_0241), null, "‰Ω†Âú®ËØ¥‰ªÄ‰πàÂÇªËØùÂë¢,ÁúãÂà∞ÂêæËÉåÂêéÁöÑÂÖ≠Â∞äÊ≠ª‰∫°‰πãÊ£∫‰∫ÜÂêó,ÈÇ£‰æøÊòØÂêæËÆ°ÂàíÁöÑÊúÄÁªà‰∏ÄÊ≠•ÔºåÂêæ‰πãÊ≠ªÔºå‰πüÊòØ‰∏∫‰∫ÜËææÂà∞Ëøô‰∏ÄÊ≠•ËÄåËøõË°åÁöÑ„ÄÇ", bj_TIMETYPE_ADD, 2.00, true)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_H01W_0207, "|cffff00ffÈ¶ñ‰ªªÂÖ≠ÁïåÁéã|r", null, "ÊàëÁöÑËÉΩÂäõÂ∞±ÊòØÁ©øË∂äÂ§ö‰∏™Âπ≥Ë°å‰∏ñÁïå,Âú®Âè¶‰∏ÄÂπ≥Ë°å‰∏ñÁïå,ÂÜ•ÂàπÂΩìÊó∂‰πüÊòØË¢´‰Ω†‰ª¨ÊâÄÂáªË¥•,‰ΩÜÊòØ‰ªñËÆ°Âàí‰∏≠ÁöÑ6‰∏™ÂÇÄÂÑ°ÊâçÊòØÊúÄÂèØÊÄïÁöÑÂ≠òÂú®...", bj_TIMETYPE_ADD, 2.00, true)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_H01W_0207, "|cffff00ffÈ¶ñ‰ªªÂÖ≠ÁïåÁéã|r", null, "Âú®ÈÇ£‰∏™Âπ≥Ë°å‰∏ñÁïå‰∏≠6‰∏™ÂÇÄÂÑ°Â±†Â∞Ω‰∫ÜÊï¥‰∏™‰∏ñÁïå....Âä†Ê≤πÂïä,Êàë‰∏çÂ∏åÊúõËøô‰∏™‰∏ñÁïåÁªßÁª≠Ëµ∞Âêë‰∫ÜÈÇ£‰∏™Âπ≥Ë°å‰∏ñÁïåÁöÑÁÅ≠‰∏ñ‰πãÂéÜÂè≤....", bj_TIMETYPE_ADD, 2.00, true)
            call YDWEPolledWaitNull(1.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call YDWEPolledWaitNull(2.00)
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
            call CinematicModeBJ(false, GetPlayersAll())
            call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "ÂÖ≠ÁïåÂÇÄÂÑ°", "ÂÜ•Áéã‰πãÊ≠ª‰πüÊòØÂÖ∂ËÆ°Âàí‰∏≠ÁöÑ‰∏ÄÈÉ®ÂàÜ??Èöæ‰∏çÊàêËøòÊúâ‰ªÄ‰πàÈò¥Ë∞ãÂêó?", "ReplaceableTextures\\CommandButtons\\BTNPossession.blp")
            call QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "ÂèëÁé∞Êñ∞‰ªªÂä° - |cFFCCFF00ÂÖ≠ÁïåÂÇÄÂÑ°|r
|cFFFF9900ÁÇπÂáªÂ∑¶‰∏äËßí‚Äú‰ªªÂä°‚ÄùÊü•Áúã„ÄÇ|r")
            call QuestSetEnabledBJ(true, GetLastCreatedQuestBJ())
            call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7, YDWEGetUnitsInRectAllNull(GetPlayableMapRect()))
            call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7), function Trig_panding2Func001Func010Func016A)
            call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0xF9BE58A7))
            call StartRenYaoTimer()
            call DestroyMingwang()
            	call ShowKuileiDialog()
            call CameraSetSmoothingFactor(2.00)
            if ( ( BSkipKuilei ) ) then
            else
                 call SaveAchievement()
                 call SaveAchievement2()
                call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ¶ÇÊûúÊÉ≥Áõ¥Êé•ÁªìÊùüÊ∏∏Êàè," + GetPlayerName(GetFirstPlayer()) + "ÂèØ‰ª•Âú®60ÁßíÂÜÖËæìÂÖ•\"-yxjs\"Êù•Áõ¥Êé•Ëé∑ÂæóËÉúÂà©.")
                call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ¶ÇÊûúÊÉ≥Áõ¥Êé•ÁªìÊùüÊ∏∏Êàè," + GetPlayerName(GetFirstPlayer()) + "ÂèØ‰ª•Âú®60ÁßíÂÜÖËæìÂÖ•\"-yxjs\"Êù•Áõ¥Êé•Ëé∑ÂæóËÉúÂà©.")
                call BJDebugMsg("|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ¶ÇÊûúÊÉ≥Áõ¥Êé•ÁªìÊùüÊ∏∏Êàè," + GetPlayerName(GetFirstPlayer()) + "ÂèØ‰ª•Âú®60ÁßíÂÜÖËæìÂÖ•\"-yxjs\"Êù•Áõ¥Êé•Ëé∑ÂæóËÉúÂà©.")
                set BShengli=true
                call YDWEPolledWaitNull(60.00)
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
                set BShengli=false
            endif
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
    set ydl_group=null
    set ydl_unit=null
endfunction
//===========================================================================
function InitTrig_panding2 takes nothing returns nothing
    set gg_trg_panding2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_panding2, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_panding2, Condition(function Trig_panding2Conditions))
    call TriggerAddAction(gg_trg_panding2, function Trig_panding2Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 043
//===========================================================================
function Trig____________________043Conditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetBuyingUnit()) != 'N018' ) )
endfunction
function Trig____________________043Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04B' ) ) then
        if ( ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_FOOD_USED) >= ( GetPlayerState(GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_FOOD_CAP) - 0 ) ) ) then
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰Ω†ÁöÑ‰∫∫Âè£Â∑≤Êª°„ÄÇ")
        else
            if ( ( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] > 3000 ) ) then
                set udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] - 3000 )
                call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , ( GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())) + 1 ) , I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
                call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetBuyingUnit()))
                call CreateNUnitsAtLoc(1, 'nhew', GetOwningPlayer(GetBuyingUnit()), LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F), bj_UNIT_FACING)
                call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rË¥≠‰π∞ÊàêÂäüÔºÅ")
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊùÄÊïåÊï∞‰∏çË∂≥3000Ôºå‰Ω†ÁõÆÂâçÊùÄÊïåÊï∞‰∏∫" + ( I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]) + "„ÄÇ" ) ))
            endif
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04F' ) ) then
        if ( ( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] > 15000 ) ) then
            set udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] - 15000 )
            call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , ( GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())) + 1 ) , I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
            set udg_I_Er_diansi[1]=( udg_I_Er_diansi[1] + 1 )
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rË¥≠‰π∞ÊàêÂäüÔºÅËøòÂâ©‰∏ã" + ( I2S(udg_I_Er_diansi[1]) + "Ê¨°Èò≤Êä§ÁΩ©„ÄÇ" ) ))
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊùÄÊïåÊï∞‰∏çË∂≥15000Ôºå‰Ω†ÁõÆÂâçÊùÄÊïåÊï∞‰∏∫" + ( I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]) + "„ÄÇ" ) ))
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04G' ) ) then
        if ( ( GetUnitAbilityLevelSwapped('A0EG', gg_unit_haro_0030) != 1 ) ) then
            if ( ( udg_I_Er_diansi[2] == 1 ) ) then
                if ( ( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] > 25000 ) ) then
                    set udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] - 25000 )
                    call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , ( GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())) + 1 ) , I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
                    call UnitAddAbilityBJ('A0EG', gg_unit_haro_0030)
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rË¥≠‰π∞ÊàêÂäüÔºÅ")
                else
                    call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊùÄÊïåÊï∞‰∏çË∂≥25000Ôºå‰Ω†ÁõÆÂâçÊùÄÊïåÊï∞‰∏∫" + ( I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]) + "„ÄÇ" ) ))
                endif
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÈ≠îÁéãËøõÊîªÊâçËÉΩÂºÄÂßãË¥≠‰π∞„ÄÇ")
            endif
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∑≤ÁªèË¥≠‰π∞Ëøá‰∫Ü„ÄÇ")
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04E' ) ) then
        if ( ( udg_I_Er_diansi[3] >= 40 ) ) then
            if ( ( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] > 2000 ) ) then
                set udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] - 2000 )
                call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , ( GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())) + 1 ) , I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
                set udg_I_Er_diansi[3]=( udg_I_Er_diansi[3] - 10 )
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rË¥≠‰π∞ÊàêÂäüÔºÅÈáçÂª∫ÈúÄË¶Å" + ( I2S(udg_I_Er_diansi[3]) + "Áßí„ÄÇ" ) ))
            else
                call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊùÄÊïåÊï∞‰∏çË∂≥2000Ôºå‰Ω†ÁõÆÂâçÊùÄÊïåÊï∞‰∏∫" + ( I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]) + "„ÄÇ" ) ))
            endif
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂ∑≤Ëææ‰∏äÈôêÔºÅ")
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04J' ) ) then
        if ( ( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] > 10000 ) ) then
            set udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] - 10000 )
            call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , ( GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())) + 1 ) , I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
            call UnitAddItemByIdSwapped('I071', GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rË¥≠‰π∞ÊàêÂäüÔºÅ")
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊùÄÊïåÊï∞‰∏çË∂≥10000Ôºå‰Ω†ÁõÆÂâçÊùÄÊïåÊï∞‰∏∫" + ( I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]) + "„ÄÇ" ) ))
        endif
    else
    endif
    if ( ( GetItemTypeId(GetSoldItem()) == 'I04C' ) ) then
        if ( ( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] > 25000 ) ) then
            set udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=( udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] - 25000 )
            call YDWEMultiboardSetItemValueBJNull(udg_D , 5 , ( GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())) + 1 ) , I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
            call UnitAddItemByIdSwapped('k3m1', GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rË¥≠‰π∞ÊàêÂäüÔºÅ")
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÊùÄÊïåÊï∞‰∏çË∂≥25000Ôºå‰Ω†ÁõÆÂâçÊùÄÊïåÊï∞‰∏∫" + ( I2S(udg_Paihangbang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]) + "„ÄÇ" ) ))
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________043 takes nothing returns nothing
    set gg_trg____________________043=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________043, EVENT_PLAYER_UNIT_SELL_ITEM)
    call TriggerAddCondition(gg_trg____________________043, Condition(function Trig____________________043Conditions))
    call TriggerAddAction(gg_trg____________________043, function Trig____________________043Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 040
//===========================================================================
function Trig____________________040Actions takes nothing returns nothing
    set udg_Laser[1]=10000
    set udg_Laser[2]=20000
    set udg_Laser[3]=40000
    set udg_Laser[4]=60000
    set udg_Laser[5]=90000
    set udg_Laser[6]=130000
    set udg_Laser[7]=300000
    set udg_Laser[8]=800000
    set udg_Laser[9]=1200000
    set udg_Laser[10]=2400000
    set udg_Laser[11]=4800000
    set udg_Laser[12]=9600000
    set udg_Laser[13]=15000000
    set udg_Laser[14]=20000000
    set udg_Laser[15]=25000000
    set udg_Laser[16]=30000000
    set udg_Laser[17]=40000000
    set udg_Laser[18]=50000000
    set udg_Laser[19]=70000000
    set udg_Laser[20]=90000000
    set udg_Laser[21]=110000000
    set udg_Laser[22]=140000000
    set udg_Laser[23]=200000000
    set udg_Laser[24]=300000000
    set udg_Laser[25]=400000000
    set udg_Laser[26]=500000000
    set udg_Laser[27]=600000000
    set udg_Laser[28]=800000000
    set udg_Laser[29]=1000000000
    set udg_Laser[30]=2000
    set udg_Laser[31]=4000
    set udg_Laser[32]=6000
    set udg_Laser[33]=12000
    set udg_Laser[33]=18000
    set udg_Laser[34]=28000
    set udg_Laser[35]=38000
    set udg_Laser[36]=56000
    set udg_Laser[37]=70000
    set udg_Laser[38]=90000
    set udg_Laser[39]=110000
    set udg_Laser[40]=130000
    set udg_Laser[41]=160000
    set udg_Laser[42]=190000
    set udg_Laser[43]=210000
    set udg_Laser[44]=240000
    set udg_Laser[45]=270000
    set udg_Laser[46]=290000
    set udg_Laser[47]=310000
    set udg_Laser[48]=330000
    set udg_Laser[49]=350000
    set udg_Laser[50]=370000
    set udg_Laser[51]=400000
    set udg_Laser[52]=440000
    set udg_Laser[53]=460000
    set udg_Laser[54]=480000
    set udg_Laser[55]=500000
    set udg_Laser[56]=520000
    set udg_Laser[57]=550000
    set udg_Laser[58]=600000
    set udg_Laser[59]=3000
    set udg_Laser[60]=6000
    set udg_Laser[61]=15000
    set udg_Laser[62]=30000
    set udg_Laser[63]=80000
    set udg_Laser[64]=120000
    set udg_Laser[65]=200000
    set udg_Laser[66]=400000
    set udg_Laser[67]=750000
    set udg_Laser[68]=1200000
    set udg_Laser[69]=5000000
    set udg_Laser[70]=8000000
    set udg_Laser[71]=12000000
    set udg_Laser[72]=18000000
    set udg_Laser[73]=30000000
    set udg_Laser[74]=48000000
    set udg_Laser[75]=60000000
    set udg_Laser[76]=100000000
    set udg_Laser[77]=130000000
    set udg_Laser[78]=160000000
    set udg_Laser[79]=220000000
    set udg_Laser[80]=260000000
    set udg_Laser[81]=320000000
    set udg_Laser[82]=360000000
    set udg_Laser[83]=500000000
    set udg_Laser[84]=700000000
    set udg_Laser[86]=800000000
    set udg_Laser[87]=1000000000
endfunction
//===========================================================================
function InitTrig____________________040 takes nothing returns nothing
    set gg_trg____________________040=CreateTrigger()
    call DoNothing()
    call TriggerAddAction(gg_trg____________________040, function Trig____________________040Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 041
//===========================================================================
function Trig____________________041Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) )
endfunction
function Trig____________________041Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( GetItemTypeId(YDWEGetItemOfTypeFromUnitBJNull(GetDyingUnit() , 'rde3')) == 'rde3' ) ) then
        call SaveItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332, YDWEGetItemOfTypeFromUnitBJNull(GetDyingUnit() , 'rde3'))
        if ( ( GetPlayerController(GetOwningPlayer(GetDyingUnit())) == MAP_CONTROL_USER ) ) then
            if ( ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) == 1 ) ) then
                call PlaySoundBJ(gg_snd_Shibai)
                call RemoveItem(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332))
                call DisplayTextToForce(GetPlayersAll(), "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r‰∏ÄÊù°|cffff9900ÂπΩÂÜ•È°πÈìæ|rÂ∞±Ê≠§Èô®ËêΩ‚Ä¶‚Ä¶")
            else
                call SetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332), ( GetItemCharges(LoadItemHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x1769D332)) - 1 ))
            endif
        else
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig____________________041 takes nothing returns nothing
    set gg_trg____________________041=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________041, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg____________________041, Condition(function Trig____________________041Conditions))
    call TriggerAddAction(gg_trg____________________041, function Trig____________________041Actions)
endfunction
//===========================================================================
// Trigger: ‰∏çÂæóÂ§öÊãø_11b Â§çÂà∂
//===========================================================================
function Trig______________11b_______uConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetTriggerUnit()) != 'N018' ) and ( GetManipulatingUnit() == udg_H[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] ) and ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT ) and ( IsUnitIllusionBJ(GetManipulatingUnit()) != true ) )
endfunction
function Trig______________11b_______uActions takes nothing returns nothing
    local integer ydul_i
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 0)
    set ydul_i=1
    loop
        exitwhen ydul_i > 6
        if ( ( ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'rde3' ) or ( GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(), ydul_i)) == 'ssil' ) ) ) then
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) + 1 ))
        else
            call DoNothing()
        endif
        set ydul_i=ydul_i + 1
    endloop
    if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820) >= 2 ) ) then
        call UnitRemoveItemSwapped(GetManipulatedItem(), GetManipulatingUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂè™ËÉΩÊãø‰∏Ä‰∏™Âú£Áâ©ÔºÅ")
        call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
        return
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig______________11b_______u takes nothing returns nothing
    set gg_trg______________11b_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg______________11b_______u, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg______________11b_______u, Condition(function Trig______________11b_______uConditions))
    call TriggerAddAction(gg_trg______________11b_______u, function Trig______________11b_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 101
//===========================================================================
function Trig____________________101Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetEnteringUnit())) == MAP_CONTROL_USER ) and ( IsUnitIllusionBJ(GetEnteringUnit()) != true ) and ( IsUnitAliveBJ(GetEnteringUnit()) == true ) and ( ( ( udg_Laser_VS != null ) and ( RectContainsUnit(gg_rct______________085, udg_Laser_VS) != true ) ) or ( udg_Laser_VS == null ) ) )
endfunction
function Trig____________________101Actions takes nothing returns nothing
    set udg_Laser_VS=GetEnteringUnit()
    call YDWEPolledWaitNull(3.00)
    if ( ( udg_Laser_VS != null ) ) then
        if ( ( GetUnitAbilityLevel(udg_Laser_VS, 'Avul') < 1 ) ) then
            call PauseUnitBJ(false, UCrainax)
            call SetUnitInvulnerable(UCrainax, false)
            call EnableTrigger(gg_trg_laser_______016)
            call EnableTrigger(gg_trg_laser_______018)
        else
            set udg_Laser_VS=null
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig____________________101 takes nothing returns nothing
    set gg_trg____________________101=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________101 , gg_rct______________085)
    call TriggerAddCondition(gg_trg____________________101, Condition(function Trig____________________101Conditions))
    call TriggerAddAction(gg_trg____________________101, function Trig____________________101Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 102
//===========================================================================
function Trig____________________102Conditions takes nothing returns boolean
    return ( ( IsUnitIllusionBJ(GetDyingUnit()) != true ) and ( GetDyingUnit() == udg_Laser_VS ) )
endfunction
function Trig____________________102Func003002002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitIllusionBJ(GetFilterUnit()) != true ) and ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) and ( GetUnitAbilityLevel(GetFilterUnit(), 'Avul') < 1 ) ) ) ) ) ) )
endfunction
function Trig____________________102Actions takes nothing returns nothing
    call SetUnitLifeBJ(UCrainax, ( GetUnitStateSwap(UNIT_STATE_LIFE, UCrainax) + ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, UCrainax) * 0.25 ) ))
    call SetUnitManaPercentBJ(UCrainax, 100)
    set udg_Group=YDWEGetUnitsInRectMatchingNull(gg_rct______________085 , Condition(function Trig____________________102Func003002002))
    if ( ( CountUnitsInGroup(udg_Group) != 0 ) ) then
        set udg_Laser_VS=GroupPickRandomUnit(udg_Group)
    else
        set udg_Laser_VS=null
        call SetUnitInvulnerable(UCrainax, true)
        call PauseUnitBJ(true, UCrainax)
        call DisableTrigger(gg_trg_laser_______016)
        call DisableTrigger(gg_trg_laser_______018)
    endif
    call DestroyGroup(udg_Group)
endfunction
//===========================================================================
function InitTrig____________________102 takes nothing returns nothing
    set gg_trg____________________102=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________102, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg____________________102, Condition(function Trig____________________102Conditions))
    call TriggerAddAction(gg_trg____________________102, function Trig____________________102Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 103
//===========================================================================
function Trig____________________103Conditions takes nothing returns boolean
    return ( ( udg_Laser_VS == GetLeavingUnit() ) )
endfunction
function Trig____________________103Func003002002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true ) and ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( IsUnitIllusionBJ(GetFilterUnit()) != true ) and ( ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER ) and ( GetUnitAbilityLevel(GetFilterUnit(), 'Avul') < 1 ) ) ) ) ) ) )
endfunction
function Trig____________________103Actions takes nothing returns nothing
    call SetUnitLifeBJ(UCrainax, ( GetUnitStateSwap(UNIT_STATE_LIFE, UCrainax) + ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, UCrainax) * 0.25 ) ))
    call SetUnitManaPercentBJ(UCrainax, 100)
    set udg_Group=YDWEGetUnitsInRectMatchingNull(gg_rct______________085 , Condition(function Trig____________________103Func003002002))
    if ( ( CountUnitsInGroup(udg_Group) != 0 ) ) then
        set udg_Laser_VS=GroupPickRandomUnit(udg_Group)
    else
        set udg_Laser_VS=null
        call SetUnitInvulnerable(UCrainax, true)
        call PauseUnitBJ(true, UCrainax)
        call DisableTrigger(gg_trg_laser_______016)
        call DisableTrigger(gg_trg_laser_______018)
    endif
    call DestroyGroup(udg_Group)
endfunction
//===========================================================================
function InitTrig____________________103 takes nothing returns nothing
    set gg_trg____________________103=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg____________________103 , gg_rct______________085)
    call TriggerAddCondition(gg_trg____________________103, Condition(function Trig____________________103Conditions))
    call TriggerAddAction(gg_trg____________________103, function Trig____________________103Actions)
endfunction
//===========================================================================
// Trigger: laserÊäÄËÉΩ_016
//===========================================================================
function Trig_laser_______016Conditions takes nothing returns boolean
    return ( ( GetAttacker() == UCrainax ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) > 200.00 ) )
endfunction
function Trig_laser_______016Func002003002 takes nothing returns boolean
    return ( ( ( IsUnitAliveBJ(GetFilterUnit()) == true ) and ( ( GetUnitTypeId(GetFilterUnit()) == 'Ekgg' ) and ( IsUnitIllusionBJ(GetFilterUnit()) == true ) ) ) )
endfunction
function Trig_laser_______016Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    call SaveGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F, YDWEGetUnitsOfPlayerMatchingNull(Player(10) , Condition(function Trig_laser_______016Func002003002)))
    if ( ( CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) < 4 ) ) then
        call SetUnitManaBJ(GetAttacker(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) - 200.00 ))
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=( 4 - CountUnitsInGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F)) )
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_Point=GetUnitLoc(GetAttacker())
            call CreateNUnitsAtLoc(1, 'h000', GetOwningPlayer(GetAttacker()), udg_Point, bj_UNIT_FACING)
            call UnitApplyTimedLifeBJ(5.00, 'BHwe', GetLastCreatedUnit())
            call UnitAddAbilityBJ('A0EZ', GetLastCreatedUnit())
            call IssueTargetOrderById(GetLastCreatedUnit(), 852274, GetAttacker())
            call RemoveLocation(udg_Point)
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    else
    endif
    call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x9E80183F))
    call YDWEPolledWaitNull(2.00)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_laser_______016 takes nothing returns nothing
    set gg_trg_laser_______016=CreateTrigger()
    call DisableTrigger(gg_trg_laser_______016)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_laser_______016, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_laser_______016, Condition(function Trig_laser_______016Conditions))
    call TriggerAddAction(gg_trg_laser_______016, function Trig_laser_______016Actions)
endfunction
//===========================================================================
// Trigger: laserÊäÄËÉΩ_018
//===========================================================================
function Trig_laser_______018Conditions takes nothing returns boolean
    return ( ( GetAttacker() == UCrainax ) and ( IsUnitAliveBJ(GetAttacker()) == true ) and ( IsUnitIllusionBJ(GetAttacker()) != true ) and ( GetRandomInt(1, 3) == 1 ) and ( GetUnitStateSwap(UNIT_STATE_MANA, GetAttacker()) > 200.00 ) )
endfunction
function Trig_laser_______018Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call DisableTrigger(GetTriggeringTrigger())
    call SaveLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F, GetUnitLoc(GetAttackedUnitBJ()))
    call IssuePointOrderLoc(GetAttacker(), "flamestrike", LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x5E83114F))
    call EnableTrigger(GetTriggeringTrigger())
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_laser_______018 takes nothing returns nothing
    set gg_trg_laser_______018=CreateTrigger()
    call DisableTrigger(gg_trg_laser_______018)
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_laser_______018, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_laser_______018, Condition(function Trig_laser_______018Conditions))
    call TriggerAddAction(gg_trg_laser_______018, function Trig_laser_______018Actions)
endfunction
//===========================================================================
// Trigger: Clear_Death
//===========================================================================
function Trig_Clear_DeathConditions takes nothing returns boolean
    return ( ( ( GetOwningPlayer(GetDyingUnit()) == Player(11) ) or ( GetOwningPlayer(GetDyingUnit()) == Player(10) ) or ( GetOwningPlayer(GetDyingUnit()) == Player(6) ) or ( GetOwningPlayer(GetDyingUnit()) == Player(PLAYER_NEUTRAL_AGGRESSIVE) ) or ( GetUnitPointValue(GetDyingUnit()) == 0 ) or ( GetUnitPointValue(GetDyingUnit()) == 123 ) ) and ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) != true ) )
endfunction
function Trig_Clear_DeathActions takes nothing returns nothing
    if ( ( ( GetUnitPointValue(GetDyingUnit()) == 0 ) or ( GetUnitPointValue(GetDyingUnit()) == 123 ) ) ) then
        call FlushChildHashtable(YDHT, GetHandleId(GetDyingUnit()))
        call YDWEFlushMissionByInteger(YDWEH2I(GetDyingUnit()))
        call RemoveUnit(GetDyingUnit())
    else
        call YDWEPolledWaitNull(0.30)
        call FlushChildHashtable(YDHT, GetHandleId(GetDyingUnit()))
        call YDWEFlushMissionByInteger(YDWEH2I(GetDyingUnit()))
        call RemoveUnit(GetDyingUnit())
    endif
endfunction
//===========================================================================
function InitTrig_Clear_Death takes nothing returns nothing
    set gg_trg_Clear_Death=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Clear_Death, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Clear_Death, Condition(function Trig_Clear_DeathConditions))
    call TriggerAddAction(gg_trg_Clear_Death, function Trig_Clear_DeathActions)
endfunction
//===========================================================================
// Trigger: yepanding
//===========================================================================
function Trig_yepandingConditions takes nothing returns boolean
    return ( ( GetOwningPlayer(GetDyingUnit()) == Player(10) ) and ( IsUnitIllusionBJ(GetDyingUnit()) != true ) )
endfunction
function Trig_yepandingFunc004Func002Func002A takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R00F', ( GetPlayerTechCountSimple('R00F', Player(10)) + GetWanjieAddInt(1 , 2) ), GetEnumPlayer())
endfunction
function Trig_yepandingFunc005Func002Func002A takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R00G', ( GetPlayerTechCountSimple('R00G', Player(10)) + GetWanjieAddInt(1 , 2) ), GetEnumPlayer())
endfunction
function Trig_yepandingFunc006Func002Func002A takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R00H', ( GetPlayerTechCountSimple('R00H', Player(10)) + GetWanjieAddInt(1 , 2) ), GetEnumPlayer())
endfunction
function Trig_yepandingActions takes nothing returns nothing
    if ( ( ( GetUnitTypeId(GetDyingUnit()) == 'nltl' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nspd' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nubk' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nslm' ) ) ) then
        set udg_Yeguai_I[1]=( udg_Yeguai_I[1] + 1 )
        if ( ( udg_Yeguai_I[1] >= ( CModeH(40 , 20) * udg_RENSHU ) ) ) then
            set udg_Yeguai_I[1]=0
            call ForForce(GetPlayersAll(), function Trig_yepandingFunc004Func002Func002A)
        else
        endif
    else
    endif
    if ( ( ( GetUnitTypeId(GetDyingUnit()) == 'nthl' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nnwa' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nubr' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nslf' ) ) ) then
        set udg_Yeguai_I[2]=( udg_Yeguai_I[2] + 1 )
        if ( ( udg_Yeguai_I[2] >= ( CModeH(40 , 20) * udg_RENSHU ) ) ) then
            set udg_Yeguai_I[2]=0
            call ForForce(GetPlayersAll(), function Trig_yepandingFunc005Func002Func002A)
        else
        endif
    else
    endif
    if ( ( ( GetUnitTypeId(GetDyingUnit()) == 'nstw' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nnwl' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nubw' ) or ( GetUnitTypeId(GetDyingUnit()) == 'nsln' ) ) ) then
        set udg_Yeguai_I[3]=( udg_Yeguai_I[3] + 1 )
        if ( ( udg_Yeguai_I[3] >= ( CModeH(40 , 20) * udg_RENSHU ) ) ) then
            set udg_Yeguai_I[3]=0
            call ForForce(GetPlayersAll(), function Trig_yepandingFunc006Func002Func002A)
        else
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_yepanding takes nothing returns nothing
    set gg_trg_yepanding=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_yepanding, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_yepanding, Condition(function Trig_yepandingConditions))
    call TriggerAddAction(gg_trg_yepanding, function Trig_yepandingActions)
endfunction
//===========================================================================
// Trigger: h1
//===========================================================================
function Trig_h1Actions takes nothing returns nothing
    local integer ydul_d
    local integer ydl_localvar_step= LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
    set ydl_localvar_step=ydl_localvar_step + 3
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
    call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    if ( ( 'pman' == GetItemTypeId(GetSoldItem()) ) ) then
        if ( ( IsUnitType(GetBuyingUnit(), UNIT_TYPE_HERO) == true ) ) then
            if ( ( GetUnitStateSwap(UNIT_STATE_MANA, GetBuyingUnit()) <= 150.00 ) ) then
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", GetUnitX(GetBuyingUnit()), GetUnitY(GetBuyingUnit())))
                call SetUnitManaBJ(GetBuyingUnit(), 150.00)
            else
            endif
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËã±ÈõÑÊâçËÉΩË¥≠‰π∞„ÄÇ")
            call AdjustPlayerStateBJ(1500, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_GOLD)
        endif
    else
    endif
    if ( ( 'wlsd' == GetItemTypeId(GetSoldItem()) ) ) then
        if ( ( IsUnitType(GetBuyingUnit(), UNIT_TYPE_HERO) == true ) ) then
            if ( ( GetUnitStateSwap(UNIT_STATE_MANA, GetBuyingUnit()) <= 350.00 ) ) then
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", GetUnitX(GetBuyingUnit()), GetUnitY(GetBuyingUnit())))
                call SetUnitManaBJ(GetBuyingUnit(), 350.00)
            else
            endif
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËã±ÈõÑÊâçËÉΩË¥≠‰π∞„ÄÇ")
            call AdjustPlayerStateBJ(5, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        endif
    else
    endif
    if ( ( 'mnst' == GetItemTypeId(GetSoldItem()) ) ) then
        if ( ( IsUnitType(GetBuyingUnit(), UNIT_TYPE_HERO) == true ) ) then
            if ( ( GetUnitStateSwap(UNIT_STATE_MANA, GetBuyingUnit()) <= 720.00 ) ) then
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", GetUnitX(GetBuyingUnit()), GetUnitY(GetBuyingUnit())))
                call SetUnitManaBJ(GetBuyingUnit(), 720.00)
            else
            endif
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËã±ÈõÑÊâçËÉΩË¥≠‰π∞„ÄÇ")
            call AdjustPlayerStateBJ(30, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        endif
    else
    endif
    if ( ( 'woms' == GetItemTypeId(GetSoldItem()) ) ) then
        if ( ( IsUnitType(GetBuyingUnit(), UNIT_TYPE_HERO) == true ) ) then
            if ( ( GetUnitStateSwap(UNIT_STATE_MANA, GetBuyingUnit()) <= 1350.00 ) ) then
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", GetUnitX(GetBuyingUnit()), GetUnitY(GetBuyingUnit())))
                call SetUnitManaBJ(GetBuyingUnit(), 1350.00)
            else
            endif
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËã±ÈõÑÊâçËÉΩË¥≠‰π∞„ÄÇ")
            call AdjustPlayerStateBJ(150, GetOwningPlayer(GetBuyingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
        endif
    else
    endif
    if ( ( 'pdiv' == GetItemTypeId(GetSoldItem()) ) ) then
        call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, 0)
        set ydul_d=1
        loop
            exitwhen ydul_d > 6
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), ydul_d)) == 'hlst' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) + 1 ))
            else
                call DoNothing()
            endif
            set ydul_d=ydul_d + 1
        endloop
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) >= 3 ) ) then
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'hlst'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'hlst'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'hlst'))
            call UnitAddItemByIdSwapped('wshs', GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, 0)
        endif
        set ydul_d=1
        loop
            exitwhen ydul_d > 6
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), ydul_d)) == 'wshs' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) + 1 ))
            else
                call DoNothing()
            endif
            set ydul_d=ydul_d + 1
        endloop
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) >= 3 ) ) then
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'wshs'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'wshs'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'wshs'))
            call UnitAddItemByIdSwapped('wild', GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, 0)
        endif
        set ydul_d=1
        loop
            exitwhen ydul_d > 6
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), ydul_d)) == 'wild' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) + 1 ))
            else
                call DoNothing()
            endif
            set ydul_d=ydul_d + 1
        endloop
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) >= 3 ) ) then
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'wild'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'wild'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'wild'))
            call UnitAddItemByIdSwapped('totw', GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, 0)
        endif
        set ydul_d=1
        loop
            exitwhen ydul_d > 6
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), ydul_d)) == 'totw' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) + 1 ))
            else
                call DoNothing()
            endif
            set ydul_d=ydul_d + 1
        endloop
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) >= 3 ) ) then
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'totw'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'totw'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'totw'))
            call UnitAddItemByIdSwapped('sror', GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, 0)
        endif
        set ydul_d=1
        loop
            exitwhen ydul_d > 6
            if ( ( GetItemTypeId(UnitItemInSlotBJ(GetBuyingUnit(), ydul_d)) == 'sror' ) ) then
                call SaveInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D, ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) + 1 ))
            else
                call DoNothing()
            endif
            set ydul_d=ydul_d + 1
        endloop
        if ( ( LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x2970F80D) >= 3 ) ) then
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'sror'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'sror'))
            call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit() , 'sror'))
            call UnitAddItemByIdSwapped('fgrg', GetBuyingUnit())
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rÂêàÊàêÊàêÂäü„ÄÇ")
            call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
            return
        else
            call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()), 0, 0, "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËØ∑Ê£ÄÊü•‰Ω†Â∏¶ÁöÑÁâ©ÂìÅÊòØÂê¶Ë∂≥Â§ü„ÄÇ")
        endif
    else
    endif
    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_h1 takes nothing returns nothing
    set gg_trg_h1=CreateTrigger()
    call DoNothing()
    call TriggerRegisterUnitEvent(gg_trg_h1, gg_unit_nnfm_0056, EVENT_UNIT_SELL_ITEM)
    call TriggerAddAction(gg_trg_h1, function Trig_h1Actions)
endfunction
//===========================================================================
// Trigger: h2
//===========================================================================
function Trig_h2Conditions takes nothing returns boolean
    return ( ( HaveSavedInteger(YDHT, GetHandleId(GetManipulatedItem()), 0xA75AD423) == true ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( IsSharedItem(GetManipulatedItem()) ) )
endfunction
function Trig_h2Actions takes nothing returns nothing
    if ( ( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) != LoadInteger(YDHT, GetHandleId(GetManipulatedItem()), 0xA75AD423) ) ) then
        call YDWEPolledWaitNull(0.01)
        call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
        call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|rËøô‰ª∂‰∏úË•øÂ±û‰∫é" + ( GetUnitName(udg_H[LoadInteger(YDHT, GetHandleId(GetManipulatedItem()), 0xA75AD423)]) + ",‰∏çÂèØÂÖ±‰∫´„ÄÇ" ) ))
    else
    endif
endfunction
//===========================================================================
function InitTrig_h2 takes nothing returns nothing
    set gg_trg_h2=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_h2, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg_h2, Condition(function Trig_h2Conditions))
    call TriggerAddAction(gg_trg_h2, function Trig_h2Actions)
endfunction
//===========================================================================
// Trigger: h3
//===========================================================================
function Trig_h3Actions takes nothing returns nothing
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'tdex' ) ) then
        call SetHeroLevelBJ(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], ( GetHeroLevel(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + 1 ), true)
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'hlst' ) ) then
        call RemoveItem(GetManipulatedItem())
        set udg_I_suijizhengshu=GetRandomInt(1, 100)
        if ( ( udg_I_suijizhengshu > 0 ) ) then
            if ( ( udg_I_suijizhengshu <= 56 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(100, 3000)
                call AdjustPlayerStateBJ(udg_I_suijizhengshu, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÈáëÂ∏Å„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu == 57 ) ) then
                call UnitAddItemByIdSwapped('I027', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 58 ) ) then
                call UnitAddItemByIdSwapped('I02A', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 59 ) ) then
                call UnitAddItemByIdSwapped('I01U', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu > 60 ) and ( udg_I_suijizhengshu <= 63 ) ) then
                call AdjustPlayerStateBJ(1, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "1Êú®Â§¥„ÄÇ" ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu > 63 ) and ( udg_I_suijizhengshu <= 66 ) ) then
                call AddHeroXPSwapped(( R2I(( 2000.00 * udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )) / 1 ), udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2000ÁªèÈ™å„ÄÇ" ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 66 ) ) then
                call UnitAddItemByIdSwapped('I073', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 70 ) ) then
                call UnitAddItemByIdSwapped('I029', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 67 ) ) then
                call UnitAddItemByIdSwapped('I05O', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 68 ) ) then
                call UnitAddItemByIdSwapped('I02O', udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "(Â∞ÜÊîæÂú®Ëã±ÈõÑË∫´‰∏ä,ËØ∑ÂãøÊîæÂú®ÂÆ†Áâ©Ë∫´‰∏ä)„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 69 ) ) then
                call UnitAddItemByIdSwapped('I001', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 71 ) ) then
                call UnitAddItemByIdSwapped('I028', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu > 71 ) and ( udg_I_suijizhengshu <= 74 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(100, 300)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÊïèÊç∑„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 74 ) and ( udg_I_suijizhengshu <= 77 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(100, 300)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÂäõÈáè„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 77 ) and ( udg_I_suijizhengshu <= 80 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(100, 300)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êô∫Âäõ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 80 ) and ( udg_I_suijizhengshu <= 90 ) ) then
                call UnitAddItemByIdSwapped('tdex', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 91 ) ) then
                call UnitAddItemByIdSwapped(udg_F_Bishou[GetRandomInt(1, 2)], GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 92 ) ) then
                call UnitAddItemByIdSwapped(udg_F_Dun[GetRandomInt(1, 2)], GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 93 ) ) then
                call UnitAddItemByIdSwapped(udg_F_gong[GetRandomInt(1, 2)], GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 94 ) ) then
                call UnitAddItemByIdSwapped(udg_F_Jia[GetRandomInt(1, 2)], GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 95 ) ) then
                call UnitAddItemByIdSwapped(udg_F_Jian[GetRandomInt(1, 2)], GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 96 ) ) then
                call UnitAddItemByIdSwapped(udg_F_Kui[GetRandomInt(1, 2)], GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 97 ) ) then
                call UnitAddItemByIdSwapped(udg_F_Xie[GetRandomInt(1, 2)], GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 98 ) ) then
                call UnitAddItemByIdSwapped(udg_F_Zhang[GetRandomInt(1, 2)], GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 99 ) ) then
                call UnitAddItemByIdSwapped('I01C', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            if ( ( udg_I_suijizhengshu == 100 ) ) then
                call UnitAddItemByIdSwapped('I01E', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff808080EÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            return
        else
        endif
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'wshs' ) ) then
        call RemoveItem(GetManipulatedItem())
        set udg_I_suijizhengshu=I3(renshu == 1 , 1 , GetRandomInt(1, 100))
        if ( ( udg_I_suijizhengshu > 0 ) ) then
            if ( ( udg_I_suijizhengshu <= 46 ) ) then
                set udg_I_suijizhengshu=I3(renshu == 1 , 9 , GetRandomInt(1, 10))
                call AdjustPlayerStateBJ(udg_I_suijizhengshu, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êú®Â§¥„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 46 ) and ( udg_I_suijizhengshu <= 51 ) ) then
                call AddHeroXPSwapped(( R2I(( 6000.00 * udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )) / 1 ), udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( "6000ÁªèÈ™å„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 51 ) and ( udg_I_suijizhengshu <= 54 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(200, 600)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÊïèÊç∑„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 54 ) and ( udg_I_suijizhengshu <= 57 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(200, 600)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÂäõÈáè„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 57 ) and ( udg_I_suijizhengshu <= 60 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(200, 600)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êô∫Âäõ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 60 ) and ( udg_I_suijizhengshu <= 63 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994) + 50 ))
                call TriggerExecute(gg_trg___________________4000______u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( "50Ê∞∏‰πÖÈò≤Âæ°„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 63 ) and ( udg_I_suijizhengshu <= 66 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB) + 2000 ))
                call TriggerExecute(gg_trg_____________800W)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( "2000Ê∞∏‰πÖÊîªÂáª„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 66 ) and ( udg_I_suijizhengshu <= 71 ) ) then
                call UnitAddItemByIdSwapped('I05D', GetTriggerUnit())
                call UnitAddItemByIdSwapped('I05D', GetTriggerUnit())
                call UnitAddItemByIdSwapped('I05D', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( "3‰∏™" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 71 ) ) then
                if ( ( udg_I_suijizhengshu <= 82 ) ) then
                    call UnitAddItemByIdSwapped('tdex', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 83 ) ) then
                    call UnitAddItemByIdSwapped('sbch', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 84 ) ) then
                    call UnitAddItemByIdSwapped('crys', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 85 ) ) then
                    call UnitAddItemByIdSwapped('gcel', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu >= 86 ) and ( udg_I_suijizhengshu <= 88 ) ) then
                    call UnitAddItemByIdSwapped('I074', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 88 ) and ( udg_I_suijizhengshu <= 90 ) ) then
                    call UnitAddItemByIdSwapped('I000', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 90 ) and ( udg_I_suijizhengshu <= 95 ) ) then
                    call UnitAddItemByIdSwapped('I043', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 96 ) ) then
                    call UnitAddItemByIdSwapped('I01T', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 97 ) ) then
                    call UnitAddItemByIdSwapped('I020', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 98 ) ) then
                    call UnitAddItemByIdSwapped('I00C', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 99 ) ) then
                    call UnitAddItemByIdSwapped('I039', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 100 ) ) then
                    call UnitAddItemByIdSwapped('I01K', GetTriggerUnit())
                else
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫ÜDÁ∫ßÂÆùÁÆ±ÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            return
        else
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_h3 takes nothing returns nothing
    set gg_trg_h3=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_h3, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddAction(gg_trg_h3, function Trig_h3Actions)
endfunction
//===========================================================================
// Trigger: h5
//===========================================================================
function Trig_h5Actions takes nothing returns nothing
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'wild' ) ) then
        call RemoveItem(GetManipulatedItem())
        set udg_I_suijizhengshu=GetRandomInt(1, 100)
        if ( ( udg_I_suijizhengshu > 0 ) ) then
            if ( ( udg_I_suijizhengshu <= 36 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(3, 30)
                call AdjustPlayerStateBJ(udg_I_suijizhengshu, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êú®Â§¥„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 36 ) and ( udg_I_suijizhengshu <= 41 ) ) then
                call AddHeroXPSwapped(( R2I(( 18000.00 * udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )) / 1 ), udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "18000ÁªèÈ™å„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 41 ) and ( udg_I_suijizhengshu <= 44 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(600, 1800)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call ModifyHeroStat(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÊïèÊç∑„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 44 ) and ( udg_I_suijizhengshu <= 47 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(600, 1800)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÂäõÈáè„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 47 ) and ( udg_I_suijizhengshu <= 50 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(600, 1800)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êô∫Âäõ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 50 ) and ( udg_I_suijizhengshu <= 52 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994) + 120 ))
                call TriggerExecute(gg_trg___________________4000______u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "120Ê∞∏‰πÖÈò≤Âæ°„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 52 ) and ( udg_I_suijizhengshu <= 54 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB) + 6000 ))
                call TriggerExecute(gg_trg_____________800W)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "6000Ê∞∏‰πÖÊîªÂáª„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 54 ) and ( udg_I_suijizhengshu <= 56 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9) + 120000 ))
                call TriggerExecute(gg_trg_HP_____________________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "12WÊ∞∏‰πÖÁîüÂëΩ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 56 ) and ( udg_I_suijizhengshu <= 59 ) ) then
                call UnitAddItemByIdSwapped('I06L', GetTriggerUnit())
                call UnitAddItemByIdSwapped('I06L', GetTriggerUnit())
                call UnitAddItemByIdSwapped('I06L', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "3‰∏™" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 60 ) ) then
                if ( ( udg_I_suijizhengshu <= 74 ) ) then
                    call UnitAddItemByIdSwapped('tdex', GetTriggerUnit())
                    call SetItemCharges(GetLastCreatedItem(), 2)
                else
                endif
                if ( ( udg_I_suijizhengshu == 75 ) ) then
                    call UnitAddItemByIdSwapped('I01D', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 75 ) and ( udg_I_suijizhengshu <= 79 ) ) then
                    call UnitAddItemByIdSwapped('I045', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 80 ) ) then
                    call UnitAddItemByIdSwapped('I01P', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 81 ) ) then
                    call UnitAddItemByIdSwapped('I00T', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 82 ) ) then
                    call UnitAddItemByIdSwapped('I025', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 83 ) ) then
                    call UnitAddItemByIdSwapped('I015', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 84 ) ) then
                    call UnitAddItemByIdSwapped('I00H', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 85 ) ) then
                    call UnitAddItemByIdSwapped('I03Q', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 86 ) ) then
                    call UnitAddItemByIdSwapped('I02L', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 87 ) ) then
                    call UnitAddItemByIdSwapped('I03E', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 87 ) and ( udg_I_suijizhengshu <= 92 ) ) then
                    call UnitAddItemByIdSwapped('I075', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 92 ) and ( udg_I_suijizhengshu <= 97 ) ) then
                    call UnitAddItemByIdSwapped('I02N', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 97 ) and ( udg_I_suijizhengshu <= 99 ) ) then
                    call UnitAddItemByIdSwapped('rat9', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 100 ) ) then
                    call UnitAddItemByIdSwapped('I05P', GetTriggerUnit())
                else
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff00ff80CÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            return
        else
        endif
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'totw' ) ) then
        call RemoveItem(GetManipulatedItem())
        set udg_I_suijizhengshu=GetRandomInt(1, 100)
        if ( ( udg_I_suijizhengshu > 0 ) ) then
            if ( ( udg_I_suijizhengshu <= 26 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(10, 60)
                call AdjustPlayerStateBJ(udg_I_suijizhengshu, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êú®Â§¥„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 26 ) and ( udg_I_suijizhengshu <= 31 ) ) then
                call AddHeroXPSwapped(( R2I(( 40000.00 * udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )) / 1 ), udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "40000ÁªèÈ™å„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 31 ) and ( udg_I_suijizhengshu <= 34 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1800, 5400)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÊïèÊç∑„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 34 ) and ( udg_I_suijizhengshu <= 37 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1800, 5400)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÂäõÈáè„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 37 ) and ( udg_I_suijizhengshu <= 40 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(1800, 5400)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êô∫Âäõ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 40 ) and ( udg_I_suijizhengshu <= 42 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994) + 400 ))
                call TriggerExecute(gg_trg___________________4000______u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "400Ê∞∏‰πÖÈò≤Âæ°„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 42 ) and ( udg_I_suijizhengshu <= 44 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB) + 30000 ))
                call TriggerExecute(gg_trg_____________800W)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "30000Ê∞∏‰πÖÊîªÂáª„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 44 ) and ( udg_I_suijizhengshu <= 46 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9) + 500000 ))
                call TriggerExecute(gg_trg_HP_____________________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "50WÊ∞∏‰πÖÁîüÂëΩ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 46 ) and ( udg_I_suijizhengshu <= 48 ) ) then
                set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.02 )
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2%Ê∞∏‰πÖÊäÄËÉΩ‰º§ÂÆ≥„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 48 ) and ( udg_I_suijizhengshu <= 50 ) ) then
                set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.05 )
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "5%Ê∞∏‰πÖÈáëÈí±Ëé∑ÂæóÁéá„ÄÇ" ) ) ) ))
                call TriggerExecute(gg_trg_D7)
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 50 ) and ( udg_I_suijizhengshu <= 54 ) ) then
                set udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]=( udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] + 0.10 )
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "10%Ê∞∏‰πÖÁªèÈ™åËé∑ÂæóÁéá„ÄÇ" ) ) ) ))
                call TriggerExecute(gg_trg_D7)
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 54 ) and ( udg_I_suijizhengshu <= 56 ) ) then
                set udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.02 )
                call TriggerExecute(gg_trg_papa8____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2%Ê∞∏‰πÖÂäõÈáèÂä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 56 ) and ( udg_I_suijizhengshu <= 58 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + 0.02 )
                call TriggerExecute(gg_trg_papa9____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2%Ê∞∏‰πÖÊïèÊç∑Âä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 58 ) and ( udg_I_suijizhengshu <= 60 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )] + 0.02 )
                call TriggerExecute(gg_trg_papa10____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2%Ê∞∏‰πÖÊô∫ÂäõÂä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 60 ) and ( udg_I_suijizhengshu <= 63 ) ) then
                call UnitAddItemByIdSwapped('I03V', GetTriggerUnit())
                call UnitAddItemByIdSwapped('I03V', GetTriggerUnit())
                call UnitAddItemByIdSwapped('I03V', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "3‰∏™" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 63 ) ) then
                if ( ( udg_I_suijizhengshu <= 79 ) ) then
                    call UnitAddItemByIdSwapped('tdex', GetTriggerUnit())
                    call SetItemCharges(GetLastCreatedItem(), 4)
                else
                endif
                if ( ( udg_I_suijizhengshu > 79 ) and ( udg_I_suijizhengshu <= 81 ) ) then
                    call UnitAddItemByIdSwapped('lgdh', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 81 ) and ( udg_I_suijizhengshu <= 83 ) ) then
                    call UnitAddItemByIdSwapped('I041', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 84 ) ) then
                    call UnitAddItemByIdSwapped('sror', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 84 ) and ( udg_I_suijizhengshu <= 86 ) ) then
                    call UnitAddItemByIdSwapped('I072', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 86 ) and ( udg_I_suijizhengshu <= 88 ) ) then
                    call UnitAddItemByIdSwapped('I04S', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 88 ) and ( udg_I_suijizhengshu <= 90 ) ) then
                    call UnitAddItemByIdSwapped('azhr', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 90 ) and ( udg_I_suijizhengshu <= 92 ) ) then
                    call UnitAddItemByIdSwapped('wolg', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 92 ) and ( udg_I_suijizhengshu <= 94 ) ) then
                    call UnitAddItemByIdSwapped('skrt', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 95 ) ) then
                    call UnitAddItemByIdSwapped('tsct', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 96 ) ) then
                    call UnitAddItemByIdSwapped('phea', udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
                else
                endif
                if ( ( udg_I_suijizhengshu == 97 ) ) then
                    call UnitAddItemByIdSwapped('I05Q', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 98 ) ) then
                    call UnitAddItemByIdSwapped('thle', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 99 ) ) then
                    call UnitAddItemByIdSwapped('sclp', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 100 ) ) then
                    call UnitAddItemByIdSwapped('dkfw', GetTriggerUnit())
                else
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cff8080ffBÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            return
        else
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_h5 takes nothing returns nothing
    set gg_trg_h5=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_h5, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddAction(gg_trg_h5, function Trig_h5Actions)
endfunction
//===========================================================================
// Trigger: h6
//===========================================================================
function Trig_h6Actions takes nothing returns nothing
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'sror' ) ) then
        call RemoveItem(GetManipulatedItem())
        set udg_I_suijizhengshu=GetRandomInt(1, 100)
        if ( ( udg_I_suijizhengshu > 0 ) ) then
            if ( ( udg_I_suijizhengshu <= 16 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(30, 300)
                call AdjustPlayerStateBJ(udg_I_suijizhengshu, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êú®Â§¥„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 16 ) and ( udg_I_suijizhengshu <= 21 ) ) then
                call AddHeroXPSwapped(( R2I(( 100000.00 * udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )) / 1 ), udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "100000ÁªèÈ™å„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 21 ) and ( udg_I_suijizhengshu <= 24 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(5400, 15000)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÊïèÊç∑„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 24 ) and ( udg_I_suijizhengshu <= 27 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(5400, 15000)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÂäõÈáè„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 27 ) and ( udg_I_suijizhengshu <= 30 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(5400, 15000)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êô∫Âäõ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 30 ) and ( udg_I_suijizhengshu <= 32 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994) + 750 ))
                call TriggerExecute(gg_trg___________________4000______u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "750Ê∞∏‰πÖÈò≤Âæ°„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 32 ) and ( udg_I_suijizhengshu <= 34 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB) + 150000 ))
                call TriggerExecute(gg_trg_____________800W)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rËé∑Âæó‰∫Ü" + ( "150000Ê∞∏‰πÖÊîªÂáª„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 34 ) and ( udg_I_suijizhengshu <= 36 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9) + 2000000 ))
                call TriggerExecute(gg_trg_HP_____________________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "200WÊ∞∏‰πÖÁîüÂëΩ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 36 ) and ( udg_I_suijizhengshu <= 38 ) ) then
                set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.03 )
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "3%Ê∞∏‰πÖÊäÄËÉΩ‰º§ÂÆ≥„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 38 ) and ( udg_I_suijizhengshu <= 40 ) ) then
                set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.10 )
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "10%Ê∞∏‰πÖÈáëÈí±Ëé∑ÂæóÁéá„ÄÇ" ) ) ) ))
                call TriggerExecute(gg_trg_D7)
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 40 ) and ( udg_I_suijizhengshu <= 42 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 18 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 18 )] + 0.03 )
                call TriggerExecute(gg_trg_D7)
                call TriggerExecute(gg_trg_papa11__________________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "Ê∞∏‰πÖÁîüÂëΩÂä†Êàê3%„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 42 ) and ( udg_I_suijizhengshu <= 44 ) ) then
                set udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]=( udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] + 0.20 )
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "20%Ê∞∏‰πÖÁªèÈ™åËé∑ÂæóÁéá„ÄÇ" ) ) ) ))
                call TriggerExecute(gg_trg_D7)
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 44 ) and ( udg_I_suijizhengshu <= 46 ) ) then
                set udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.03 )
                call TriggerExecute(gg_trg_papa8____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "3%Ê∞∏‰πÖÂäõÈáèÂä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 46 ) and ( udg_I_suijizhengshu <= 48 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + 0.03 )
                call TriggerExecute(gg_trg_papa9____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "3%Ê∞∏‰πÖÊïèÊç∑Âä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 48 ) and ( udg_I_suijizhengshu <= 50 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )] + 0.03 )
                call TriggerExecute(gg_trg_papa10____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "3%Ê∞∏‰πÖÊô∫ÂäõÂä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 50 ) and ( udg_I_suijizhengshu <= 52 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 24 )] + 0.25 )
                call TriggerExecute(gg_trg_D7)
                call TriggerExecute(gg_trg_papa12____________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "25%Ê∞∏‰πÖÊîªÂáªÂä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 52 ) and ( udg_I_suijizhengshu <= 54 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 30 )] + 0.03 )
                call TriggerExecute(gg_trg_D7)
                call TriggerExecute(gg_trg_papa13____________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "3%Ê∞∏‰πÖÈò≤Âæ°Âä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 54 ) and ( udg_I_suijizhengshu <= 56 ) ) then
                call UnitAddItemByIdSwapped('I03W', GetTriggerUnit())
                call UnitAddItemByIdSwapped('I03W', GetTriggerUnit())
                call UnitAddItemByIdSwapped('I03W', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "3‰∏™" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 56 ) and ( udg_I_suijizhengshu <= 58 ) ) then
                call UnitAddItemByIdSwapped('sror', GetTriggerUnit())
                call UnitAddItemByIdSwapped('sror', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2‰∏™" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 58 ) and ( udg_I_suijizhengshu <= 60 ) ) then
                call UnitAddItemByIdSwapped('totw', GetTriggerUnit())
                call UnitAddItemByIdSwapped('totw', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2‰∏™" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 60 ) ) then
                if ( ( udg_I_suijizhengshu <= 76 ) ) then
                    call UnitAddItemByIdSwapped('tdex', GetTriggerUnit())
                    call SetItemCharges(GetLastCreatedItem(), 6)
                else
                endif
                if ( ( udg_I_suijizhengshu > 76 ) and ( udg_I_suijizhengshu <= 79 ) ) then
                    call UnitAddItemByIdSwapped('bgst', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 79 ) and ( udg_I_suijizhengshu <= 82 ) ) then
                    call UnitAddItemByIdSwapped('I04R', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 83 ) ) then
                    call UnitAddItemByIdSwapped('sksh', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 84 ) ) then
                    call UnitAddItemByIdSwapped('ocor', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 84 ) ) then
                    call UnitAddItemByIdSwapped('rat3', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 85 ) ) then
                    call UnitAddItemByIdSwapped('stre', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 86 ) ) then
                    call UnitAddItemByIdSwapped('lure', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 87 ) ) then
                    call UnitAddItemByIdSwapped('frhg', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 88 ) ) then
                    call UnitAddItemByIdSwapped('ofir', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 89 ) ) then
                    call UnitAddItemByIdSwapped('gldo', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 90 ) ) then
                    call UnitAddItemByIdSwapped('tcas', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 91 ) ) then
                    call UnitAddItemByIdSwapped('spro', udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
                else
                endif
                if ( ( udg_I_suijizhengshu == 92 ) ) then
                    call UnitAddItemByIdSwapped('spro', udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
                else
                endif
                if ( ( udg_I_suijizhengshu == 93 ) ) then
                    call UnitAddItemByIdSwapped('ledg', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 94 ) ) then
                    call UnitAddItemByIdSwapped('wtlg', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 95 ) ) then
                    call UnitAddItemByIdSwapped('gopr', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 97 ) ) then
                    call UnitAddItemByIdSwapped('dthb', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 98 ) ) then
                    call UnitAddItemByIdSwapped('bzbe', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 99 ) ) then
                    call UnitAddItemByIdSwapped('dphe', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 100 ) ) then
                    call UnitAddItemByIdSwapped('I071', GetTriggerUnit())
                else
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff00ffAÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            return
        else
        endif
    else
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'fgrg' ) ) then
        call RemoveItem(GetManipulatedItem())
        set udg_I_suijizhengshu=GetRandomInt(1, 100)
        if ( ( udg_I_suijizhengshu > 0 ) ) then
            if ( ( udg_I_suijizhengshu <= 10 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(100, 1000)
                call AdjustPlayerStateBJ(udg_I_suijizhengshu, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êú®Â§¥„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 10 ) and ( udg_I_suijizhengshu <= 15 ) ) then
                call AddHeroXPSwapped(( R2I(( 300000.00 * udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )) / 1 ), udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], true)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "300000ÁªèÈ™å„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 15 ) and ( udg_I_suijizhengshu <= 18 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(30000, 100000)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_AGI, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÊïèÊç∑„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 18 ) and ( udg_I_suijizhengshu <= 21 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(30000, 100000)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "ÂäõÈáè„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 21 ) and ( udg_I_suijizhengshu <= 24 ) ) then
                set udg_I_suijizhengshu=GetRandomInt(30000, 100000)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                if ( ( udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] == gg_unit_Harf_0262 ) ) then
                    call ModifyHeroStat(bj_HEROSTAT_STR, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                else
                    call ModifyHeroStat(bj_HEROSTAT_INT, udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))], bj_MODIFYMETHOD_ADD, udg_I_suijizhengshu)
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( I2S(udg_I_suijizhengshu) + "Êô∫Âäõ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 24 ) and ( udg_I_suijizhengshu <= 26 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x81FD3994) + 2000 ))
                call TriggerExecute(gg_trg___________________4000______u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2000Ê∞∏‰πÖÈò≤Âæ°„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 26 ) and ( udg_I_suijizhengshu <= 28 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0x5039AFFB) + 500000 ))
                call TriggerExecute(gg_trg_____________800W)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "500000Ê∞∏‰πÖÊîªÂáª„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 28 ) and ( udg_I_suijizhengshu <= 30 ) ) then
                set udg_Unit=udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
                call SaveInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9, ( LoadInteger(YDHT, GetHandleId(udg_Unit), 0xFCD961C9) + 7000000 ))
                call TriggerExecute(gg_trg_HP_____________________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "700WÊ∞∏‰πÖÁîüÂëΩ„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 30 ) and ( udg_I_suijizhengshu <= 32 ) ) then
                set udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinengjiacheng[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.10 )
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "10%Ê∞∏‰πÖÊäÄËÉΩ‰º§ÂÆ≥„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 32 ) and ( udg_I_suijizhengshu <= 34 ) ) then
                set udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Jinqianhuodelv[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.25 )
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "25%Ê∞∏‰πÖÈáëÈí±Ëé∑ÂæóÁéá„ÄÇ" ) ) ) ))
                call TriggerExecute(gg_trg_D7)
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 34 ) and ( udg_I_suijizhengshu <= 36 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 18 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 18 )] + 0.10 )
                call TriggerExecute(gg_trg_D7)
                call TriggerExecute(gg_trg_papa11__________________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "Ê∞∏‰πÖÁîüÂëΩÂä†Êàê10%„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 36 ) and ( udg_I_suijizhengshu <= 38 ) ) then
                set udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))]=( udg_I_Jingyan[GetConvertedPlayerId(GetOwningPlayer(GetManipulatingUnit()))] + 1.00 )
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "100%Ê∞∏‰πÖÁªèÈ™åËé∑ÂæóÁéá„ÄÇ" ) ) ) ))
                call TriggerExecute(gg_trg_D7)
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 38 ) and ( udg_I_suijizhengshu <= 40 ) ) then
                set udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=( udg_I_Xianglian[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 0.10 )
                call TriggerExecute(gg_trg_papa8____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "10%Ê∞∏‰πÖÂäõÈáèÂä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 40 ) and ( udg_I_suijizhengshu <= 42 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 6 )] + 0.10 )
                call TriggerExecute(gg_trg_papa9____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "10%Ê∞∏‰πÖÊïèÊç∑Âä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 42 ) and ( udg_I_suijizhengshu <= 44 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 12 )] + 0.10 )
                call TriggerExecute(gg_trg_papa10____________u)
                call TriggerExecute(gg_trg_D7)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "10%Ê∞∏‰πÖÊô∫ÂäõÂä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 44 ) and ( udg_I_suijizhengshu <= 46 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 24 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 24 )] + 0.80 )
                call TriggerExecute(gg_trg_D7)
                call TriggerExecute(gg_trg_papa12____________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "70%Ê∞∏‰πÖÊîªÂáªÂä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 46 ) and ( udg_I_suijizhengshu <= 48 ) ) then
                set udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 30 )]=( udg_I_Xianglian[( GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())) + 30 )] + 0.10 )
                call TriggerExecute(gg_trg_D7)
                call TriggerExecute(gg_trg_papa13____________u)
                call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl", GetUnitX(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]), GetUnitY(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "10%Ê∞∏‰πÖÈò≤Âæ°Âä†Êàê„ÄÇ" ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 48 ) and ( udg_I_suijizhengshu <= 50 ) ) then
                call UnitAddItemByIdSwapped('sror', GetTriggerUnit())
                call UnitAddItemByIdSwapped('sror', GetTriggerUnit())
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "2‰∏™" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
                return
            else
            endif
            if ( ( udg_I_suijizhengshu > 50 ) ) then
                if ( ( udg_I_suijizhengshu <= 65 ) ) then
                    call UnitAddItemByIdSwapped('tdex', GetTriggerUnit())
                    call SetItemCharges(GetLastCreatedItem(), 12)
                else
                endif
                if ( ( udg_I_suijizhengshu > 65 ) and ( udg_I_suijizhengshu <= 68 ) ) then
                    call UnitAddItemByIdSwapped('rag1', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu > 68 ) and ( udg_I_suijizhengshu <= 71 ) ) then
                    call UnitAddItemByIdSwapped('I05B', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 72 ) ) then
                    call UnitAddItemByIdSwapped('flag', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 73 ) ) then
                    call UnitAddItemByIdSwapped('shhn', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 74 ) ) then
                    call UnitAddItemByIdSwapped('shcw', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 75 ) ) then
                    call UnitAddItemByIdSwapped('shtm', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 76 ) ) then
                    call UnitAddItemByIdSwapped('srtl', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 77 ) ) then
                    call UnitAddItemByIdSwapped('olig', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 78 ) ) then
                    call UnitAddItemByIdSwapped('rump', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 79 ) ) then
                    call UnitAddItemByIdSwapped('rde0', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 80 ) ) then
                    call UnitAddItemByIdSwapped('shdt', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 81 ) ) then
                    call UnitAddItemByIdSwapped('rde3', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 82 ) ) then
                    call UnitAddItemByIdSwapped('shas', udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
                else
                endif
                if ( ( udg_I_suijizhengshu == 83 ) ) then
                    call UnitAddItemByIdSwapped('plcl', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu >= 84 ) and ( udg_I_suijizhengshu <= 87 ) ) then
                    call UnitAddItemByIdSwapped('I071', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu >= 87 ) and ( udg_I_suijizhengshu <= 90 ) ) then
                    call UnitAddItemByIdSwapped('k3m1', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 91 ) ) then
                    call UnitAddItemByIdSwapped('engs', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 92 ) ) then
                    call UnitAddItemByIdSwapped('mort', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 93 ) ) then
                    call UnitAddItemByIdSwapped('ches', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 94 ) ) then
                    call UnitAddItemByIdSwapped('cnhn', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 95 ) ) then
                    call UnitAddItemByIdSwapped('k3m3', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 96 ) ) then
                    call UnitAddItemByIdSwapped('k3m2', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 97 ) ) then
                    call UnitAddItemByIdSwapped('kybl', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 98 ) ) then
                    call UnitAddItemByIdSwapped('kysn', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 99 ) ) then
                    call UnitAddItemByIdSwapped('ktrm', GetTriggerUnit())
                else
                endif
                if ( ( udg_I_suijizhengshu == 100 ) ) then
                    call UnitAddItemByIdSwapped('shwd', GetTriggerUnit())
                else
                endif
                call DisplayTextToForce(GetPlayersAll(), ( "|cFFFF66CC„ÄêÊ∂àÊÅØ„Äë|r" + ( GetUnitName(udg_H[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]) + ( "ÂºÄÂêØ‰∫Ü|cffff8040SÁ∫ßÂÆùÁÆ±|rÔºåËé∑Âæó‰∫Ü" + ( "" + ( GetItemName(GetLastCreatedItem()) + "„ÄÇ" ) ) ) ) ))
            else
            endif
            return
        else
        endif
    else
    endif
endfunction
//===========================================================================
function InitTrig_h6 takes nothing returns nothing
    set gg_trg_h6=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_h6, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddAction(gg_trg_h6, function Trig_h6Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 046
//===========================================================================
function Trig____________________046Conditions takes nothing returns boolean
    return ( ( DzAPI_Map_GetMapLevel(Player(0)) > 0 ) )
endfunction
function Trig____________________046Actions takes nothing returns nothing
    call YDWETimerPatternJumpAttack(gg_unit_n01Q_0273 , 0 , 800 , 1 , 0.03 , 100 , 0 , "chest" , "")
    call YDWESetGuard(null , null , 2 , 800 , 1200 , 1500 , 75)
    call YDWEAroundSystem(GetLastCreatedUnit() , GetTriggerUnit() , 8 , 3 , 0 , 5 , 0.03)
endfunction
//===========================================================================
function InitTrig____________________046 takes nothing returns nothing
    set gg_trg____________________046=CreateTrigger()
    call DoNothing()
    call TriggerAddCondition(gg_trg____________________046, Condition(function Trig____________________046Conditions))
    call TriggerAddAction(gg_trg____________________046, function Trig____________________046Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 016
//===========================================================================
function Trig____________________016Conditions takes nothing returns boolean
    return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( not ( BYeguaiFirst[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] ) ) )
endfunction
function Trig____________________016Actions takes nothing returns nothing
    set BYeguaiFirst[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
    call ShowGameHint(GetOwningPlayer(GetTriggerUnit()) , "‰Ω†‰πüÂèØ‰ª•Âú®4‰∏™ÈáéÊÄ™ÂÖ•Âè£ÁöÑNPCÂ§ÑËøõÂÖ•\n    Ëø∑‰Ω†ÊåëÊàò‰∏ìÂå∫Êç¢ÁßçËΩªÊùæÊñπÂºèÊù•Âú®Ëé∑ÂèñÈáëÂ∏Å‰∏éÁªèÈ™å")
    call BJDebugMsg("|cFFFF66CC„ÄêÂú£ÁÆ≠Êâã„Äë:|rÈô§‰∫ÜÊâìÈáéÊÄ™‰πãÂ§ñ,‰Ω†‰πüÂèØ‰ª•Âú®NPCÂ§ÑÊåëÊàòËø∑‰Ω†Ê∏∏ÊàèÊù•Ëé∑ÂèñÈáëÂ∏Å‰∏éÁªèÈ™åÂì¶!")
    call PingMinimapForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())), 9565.3, 1530.3, 3.00)
    call PingMinimapForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())), 6857.9, 1461.0, 3.00)
    call PingMinimapForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())), 6859.1, - 2102.9, 3.00)
    call PingMinimapForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())), 9513.5, - 2109.0, 3.00)
    call TransmissionFromUnitWithNameBJ(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())), gg_unit_nhea_0201, "NPC", null, "Èô§‰∫ÜÊâìÈáéÊÄ™‰πãÂ§ñ,‰Ω†‰πüÂèØ‰ª•Âú®NPCÂ§ÑÊåëÊàòËø∑‰Ω†Ê∏∏ÊàèÊù•Ëé∑ÂèñÈáëÂ∏Å‰∏éÁªèÈ™åÂì¶!", bj_TIMETYPE_ADD, 3.00, true)
endfunction
//===========================================================================
function InitTrig____________________016 takes nothing returns nothing
    set gg_trg____________________016=CreateTrigger()
    call DoNothing()
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________016 , gg_rct_________21)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________016 , gg_rct________10)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________016 , gg_rct_________15)
    call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________016 , gg_rct_________16)
    call TriggerAddCondition(gg_trg____________________016, Condition(function Trig____________________016Conditions))
    call TriggerAddAction(gg_trg____________________016, function Trig____________________016Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 007
//===========================================================================
function Trig____________________007Actions takes nothing returns nothing
     call SaveDoorAchievement()
    call CreateItem('ratc', GetDestructableX(GetDyingDestructable()), GetDestructableY(GetDyingDestructable()))
endfunction
//===========================================================================
function InitTrig____________________007 takes nothing returns nothing
    set gg_trg____________________007=CreateTrigger()
    call DoNothing()
    call TriggerRegisterDeathEvent(gg_trg____________________007, gg_dest_ZTsg_0110)
    call TriggerRegisterDeathEvent(gg_trg____________________007, gg_dest_ZTsg_0114)
    call TriggerRegisterDeathEvent(gg_trg____________________007, gg_dest_ZTsg_0112)
    call TriggerRegisterDeathEvent(gg_trg____________________007, gg_dest_ZTsg_0111)
    call TriggerAddAction(gg_trg____________________007, function Trig____________________007Actions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 007 Â§çÂà∂
//===========================================================================
function Trig____________________007_______uConditions takes nothing returns boolean
    return ( ( GetUnitTypeId(GetDyingUnit()) == 'uzg2' ) )
endfunction
function Trig____________________007_______uActions takes nothing returns nothing
    call CreateItem('rat6', GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
endfunction
//===========================================================================
function InitTrig____________________007_______u takes nothing returns nothing
    set gg_trg____________________007_______u=CreateTrigger()
    call DoNothing()
    call TriggerRegisterAnyUnitEventBJ(gg_trg____________________007_______u, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg____________________007_______u, Condition(function Trig____________________007_______uConditions))
    call TriggerAddAction(gg_trg____________________007_______u, function Trig____________________007_______uActions)
endfunction
//===========================================================================
// Trigger: Êú™ÂëΩÂêçËß¶ÂèëÂô® 009
//===========================================================================
//TESH.scrollpos=0
//TESH.alwaysfold=0
// BEGIN IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SameItem.j
// IGNORE DOUBLE IMPORT OF G:\War3\Maps\Loopinghell\/edit/\LHBase.j

// END IMPORT OF G:\War3\Maps\Loopinghell\/edit/\SameItem.j
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_________________________a()
    call InitTrig_________________________c()
    call InitTrig____________________027()
    call InitTrig____________________008()
    call InitTrig____________________004()
    call InitTrig_aa6()
    call InitTrig_____________ab()
    call InitTrig____________________002()
    call InitTrig____________________030()
    call InitTrig______________________u()
    call InitTrig____________________011()
    call InitTrig____________________012()
    call InitTrig____________________035()
    call InitTrig_______HP____________u()
    call InitTrig______________________b()
    call InitTrig______________________c()
    call InitTrig___________________4000______u()
    call InitTrig_____________800W()
    call InitTrig_HP_____________________u()
    call InitTrig____________________017()
    call InitTrig____________________028()
    call InitTrig____________________003()
    call InitTrig____________________003________2()
    call InitTrig____________________005()
    call InitTrig____________________071()
    call InitTrig____________________074()
    call InitTrig____________________085()
    call InitTrig____________________090()
    call InitTrig_D4()
    call InitTrig_D3()
    call InitTrig_D1()
    call InitTrig_D6()
    call InitTrig_D2()
    call InitTrig_D5()
    call InitTrig_D7()
    call InitTrig__fh()
    call InitTrig__ym()
    call InitTrig__cx()
    call InitTrig____________________029()
    call InitTrig____________________055()
    call InitTrig_zhandouli2()
    call InitTrig____________________019()
    call InitTrig______________12b()
    call InitTrig______________11b()
    call InitTrig____________________070()
    call InitTrig____________________070_______u()
    call InitTrig_Xian()
    call InitTrig_Xian2()
    call InitTrig____________________070________2_______u()
    call InitTrig____________________070_____________________u()
    call InitTrig_Z5()
    call InitTrig_Z6()
    call InitTrig_Z8()
    call InitTrig_Z9()
    call InitTrig____________________033()
    call InitTrig____________________038()
    call InitTrig____________________022_______u()
    call InitTrig____________________036()
    call InitTrig____________________044()
    call InitTrig____________________065()
    call InitTrig____________________047()
    call InitTrig____________________048()
    call InitTrig____________________058()
    call InitTrig____________________060()
    call InitTrig____________________062()
    call InitTrig____________________063()
    call InitTrig____________________031()
    call InitTrig____________________077()
    call InitTrig____________________082()
    call InitTrig____________________024()
    call InitTrig____________________032()
    call InitTrig____________________034()
    call InitTrig____________________052()
    call InitTrig____________________052_______u()
    call InitTrig____________________001()
    call InitTrig____________________052______________u()
    call InitTrig____________________001_______u()
    call InitTrig____________________052_____________________u()
    call InitTrig____________________052_______________2()
    call InitTrig____________________001________2()
    call InitTrig____________________001________2_______u()
    call InitTrig_maidongxi()
    call InitTrig____________________3B()
    call InitTrig____________________4b()
    call InitTrig____________________5b()
    call InitTrig____________________7b()
    call InitTrig____________________8b()
    call InitTrig____________________8b_______u()
    call InitTrig____________________8b______________u()
    call InitTrig_Only_One_Wing_And_Spell()
    call InitTrig______________9b()
    call InitTrig_Z1()
    call InitTrig_Z2()
    call InitTrig_Z3()
    call InitTrig_Z4()
    call InitTrig____________________076()
    call InitTrig_j37()
    call InitTrig_j38()
    call InitTrig_j39()
    call InitTrig_j40()
    call InitTrig_j41()
    call InitTrig_j42()
    call InitTrig_j43()
    call InitTrig_j44()
    call InitTrig_j45()
    call InitTrig_j46()
    call InitTrig_j47()
    call InitTrig_j48()
    call InitTrig_j49()
    call InitTrig_j50()
    call InitTrig_j51()
    call InitTrig_j52()
    call InitTrig_j53()
    call InitTrig_j54()
    call InitTrig_j56()
    call InitTrig_j57()
    call InitTrig_j58()
    call InitTrig_j55()
    call InitTrig_j59()
    call InitTrig_j60()
    call InitTrig_j61()
    call InitTrig_j62()
    call InitTrig_j63()
    call InitTrig_j64()
    call InitTrig____________________015()
    call InitTrig____________________015________7()
    call InitTrig____________________015________6()
    call InitTrig____________________015________5()
    call InitTrig____________________015________4()
    call InitTrig____________________015________3()
    call InitTrig____________________015_______u()
    call InitTrig____________________015______________u()
    call InitTrig____________________015________2()
    call InitTrig____________________015________8()
    call InitTrig____________________015________8______________u()
    call InitTrig____________________015________8_______u()
    call InitTrig____________________015________8_______________2()
    call InitTrig____________________061________________________________________________________u()
    call InitTrig____________________015________8_______________2_______u()
    call InitTrig____________________015________8_______________2______________u()
    call InitTrig____________________015________8_______________2_____________________u()
    call InitTrig____________________015________8_______________2____________________________u()
    call InitTrig____________________015________8_______________2___________________________________u()
    call InitTrig____________________061______________u()
    call InitTrig____________________061_____________________u()
    call InitTrig____________________061____________________________u()
    call InitTrig____________________061___________________________________u()
    call InitTrig____________________061_________________________________________________u()
    call InitTrig____________________061_________________________________________________________2()
    call InitTrig____________________061_______________________________________________________________u()
    call InitTrig____________________061____________________________________________________________________u()
    call InitTrig_____________b()
    call InitTrig_____________b2()
    call InitTrig_Update_Fahun()
    call InitTrig_Update_Zhanhun()
    call InitTrig_Compose_Shuanghun()
    call InitTrig____________________6a()
    call InitTrig____________________006()
    call InitTrig____________________039()
    call InitTrig________________u()
    call InitTrig________________17()
    call InitTrig_____________8()
    call InitTrig_____________3()
    call InitTrig_____________5()
    call InitTrig_____________7()
    call InitTrig_____________9()
    call InitTrig_____________12()
    call InitTrig_____________17()
    call InitTrig_____________18()
    call InitTrig_____________19()
    call InitTrig_____________22()
    call InitTrig_____________u()
    call InitTrig_____________20()
    call InitTrig_____________02()
    call InitTrig_____________03()
    call InitTrig_____________2()
    call InitTrig_____________21()
    call InitTrig_____________11()
    call InitTrig_____________23()
    call InitTrig_____________4()
    call InitTrig_____________24()
    call InitTrig_____________25()
    call InitTrig_____________29()
    call InitTrig_____________30()
    call InitTrig_____________48()
    call InitTrig_____________31()
    call InitTrig_____________32()
    call InitTrig_____________33()
    call InitTrig_____________34()
    call InitTrig_____________35()
    call InitTrig_____________36()
    call InitTrig_____________37()
    call InitTrig_____________39()
    call InitTrig_____________40()
    call InitTrig_____________41()
    call InitTrig_____________42()
    call InitTrig_______13()
    call InitTrig_______17()
    call InitTrig_______18()
    call InitTrig_______19()
    call InitTrig_______20()
    call InitTrig_______21()
    call InitTrig_______22()
    call InitTrig_____________50()
    call InitTrig_____________51()
    call InitTrig_______58()
    call InitTrig_______51()
    call InitTrig_______59()
    call InitTrig_______132()
    call InitTrig_______60()
    call InitTrig_______61()
    call InitTrig_______63()
    call InitTrig_______62()
    call InitTrig_______133()
    call InitTrig_______134()
    call InitTrig_____________65()
    call InitTrig_____________66()
    call InitTrig__________67()
    call InitTrig__________68()
    call InitTrig__________69()
    call InitTrig_____________70()
    call InitTrig_____________71()
    call InitTrig_____________72()
    call InitTrig_____________76()
    call InitTrig_____________77()
    call InitTrig_____________105()
    call InitTrig_____________106()
    call InitTrig_____________81()
    call InitTrig_______CD()
    call InitTrig_____________82()
    call InitTrig_____________83()
    call InitTrig_____________84()
    call InitTrig_____________85()
    call InitTrig_____________86()
    call InitTrig_____________87()
    call InitTrig_____________88()
    call InitTrig_____________99()
    call InitTrig_____________89()
    call InitTrig_______96()
    call InitTrig_____________97()
    call InitTrig_____________98()
    call InitTrig_______100()
    call InitTrig_______101()
    call InitTrig_____________103()
    call InitTrig_______105()
    call InitTrig_______24()
    call InitTrig_______106()
    call InitTrig_____________108()
    call InitTrig_____________116()
    call InitTrig_____________110()
    call InitTrig_____________111()
    call InitTrig_____________112()
    call InitTrig_____________113()
    call InitTrig_____________114()
    call InitTrig_____________115()
    call InitTrig_____________117()
    call InitTrig_____________118()
    call InitTrig_____________121()
    call InitTrig_____________122()
    call InitTrig_____________124()
    call InitTrig_____________132()
    call InitTrig_____________125()
    call InitTrig_____________127()
    call InitTrig_____________129()
    call InitTrig_____________128()
    call InitTrig_____________130()
    call InitTrig_____________131()
    call InitTrig________________1()
    call InitTrig____________________________u()
    call InitTrig______________1()
    call InitTrig______________3a()
    call InitTrig__________u()
    call InitTrig___________6a()
    call InitTrig___________7a()
    call InitTrig___________10a()
    call InitTrig___________11a()
    call InitTrig___________12a()
    call InitTrig___________13a()
    call InitTrig___________13a_______u()
    call InitTrig____________________9a()
    call InitTrig___________14a()
    call InitTrig____________________037()
    call InitTrig____________________045()
    call InitTrig____________________096_______u()
    call InitTrig____________________023()
    call InitTrig____________________092()
    call InitTrig_Init_Tian_Lian()
    call InitTrig_papa_________u()
    call InitTrig_papa2______u()
    call InitTrig_papa1______u()
    call InitTrig_papa4______u()
    call InitTrig_papa6______u()
    call InitTrig_papa7_________u()
    call InitTrig_papa8____________u()
    call InitTrig_papa9____________u()
    call InitTrig_papa10____________u()
    call InitTrig_papa11__________________u()
    call InitTrig_papa12____________u()
    call InitTrig_papa13____________u()
    call InitTrig_______papa14()
    call InitTrig_papa14____________u()
    call InitTrig____________________010()
    call InitTrig____________________014()
    call InitTrig____________________020()
    call InitTrig____________________021()
    call InitTrig____________________054()
    call InitTrig____________________022()
    call InitTrig____________________022________2()
    call InitTrig____________________059()
    call InitTrig____________________013()
    call InitTrig____________________049()
    call InitTrig____________________089()
    call InitTrig_mowangshanguang()
    call InitTrig_mowangshangsd1()
    call InitTrig_mowangshangwo2()
    call InitTrig_xianxue()
    call InitTrig_panding()
    call InitTrig_jixu()
    call InitTrig_jiangqian()
    call InitTrig_asdf()
    call InitTrig_mowangshangsd3()
    call InitTrig_mowangshangsd4()
    call InitTrig_mowangshangsd5()
    call InitTrig_xianxue1()
    call InitTrig_panding2()
    call InitTrig____________________043()
    call InitTrig____________________040()
    call InitTrig____________________041()
    call InitTrig______________11b_______u()
    call InitTrig____________________101()
    call InitTrig____________________102()
    call InitTrig____________________103()
    call InitTrig_laser_______016()
    call InitTrig_laser_______018()
    call InitTrig_Clear_Death()
    call InitTrig_yepanding()
    call InitTrig_h1()
    call InitTrig_h2()
    call InitTrig_h3()
    call InitTrig_h5()
    call InitTrig_h6()
    call InitTrig____________________046()
    call InitTrig____________________016()
    call InitTrig____________________007()
    call InitTrig____________________007_______u()
    //Function not found: call InitTrig____________________009()
endfunction
//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg_________________________c)
    call ConditionalTriggerExecute(gg_trg____________________027)
    call ConditionalTriggerExecute(gg_trg____________________008)
    call ConditionalTriggerExecute(gg_trg____________________004)
    call ConditionalTriggerExecute(gg_trg_______HP____________u)
    call ConditionalTriggerExecute(gg_trg_Init_Tian_Lian)
    call ConditionalTriggerExecute(gg_trg____________________014)
    call ConditionalTriggerExecute(gg_trg____________________040)
endfunction
//***************************************************************************
//*
//*  Players
//*
//***************************************************************************
function InitCustomPlayerSlots takes nothing returns nothing
    // Player 0
    call SetPlayerStartLocation(Player(0), 0)
    call ForcePlayerStartLocation(Player(0), 0)
    call SetPlayerColor(Player(0), ConvertPlayerColor(0))
    call SetPlayerRacePreference(Player(0), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(0), false)
    call SetPlayerController(Player(0), MAP_CONTROL_USER)
    // Player 1
    call SetPlayerStartLocation(Player(1), 1)
    call ForcePlayerStartLocation(Player(1), 1)
    call SetPlayerColor(Player(1), ConvertPlayerColor(1))
    call SetPlayerRacePreference(Player(1), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(1), false)
    call SetPlayerController(Player(1), MAP_CONTROL_USER)
    // Player 2
    call SetPlayerStartLocation(Player(2), 2)
    call ForcePlayerStartLocation(Player(2), 2)
    call SetPlayerColor(Player(2), ConvertPlayerColor(2))
    call SetPlayerRacePreference(Player(2), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(2), false)
    call SetPlayerController(Player(2), MAP_CONTROL_USER)
    // Player 3
    call SetPlayerStartLocation(Player(3), 3)
    call ForcePlayerStartLocation(Player(3), 3)
    call SetPlayerColor(Player(3), ConvertPlayerColor(3))
    call SetPlayerRacePreference(Player(3), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(3), false)
    call SetPlayerController(Player(3), MAP_CONTROL_USER)
    // Player 4
    call SetPlayerStartLocation(Player(4), 4)
    call ForcePlayerStartLocation(Player(4), 4)
    call SetPlayerColor(Player(4), ConvertPlayerColor(4))
    call SetPlayerRacePreference(Player(4), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(4), false)
    call SetPlayerController(Player(4), MAP_CONTROL_USER)
    // Player 5
    call SetPlayerStartLocation(Player(5), 5)
    call ForcePlayerStartLocation(Player(5), 5)
    call SetPlayerColor(Player(5), ConvertPlayerColor(5))
    call SetPlayerRacePreference(Player(5), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(5), false)
    call SetPlayerController(Player(5), MAP_CONTROL_USER)
    // Player 6
    call SetPlayerStartLocation(Player(6), 6)
    call ForcePlayerStartLocation(Player(6), 6)
    call SetPlayerColor(Player(6), ConvertPlayerColor(6))
    call SetPlayerRacePreference(Player(6), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(6), false)
    call SetPlayerController(Player(6), MAP_CONTROL_COMPUTER)
    // Player 10
    call SetPlayerStartLocation(Player(10), 7)
    call ForcePlayerStartLocation(Player(10), 7)
    call SetPlayerColor(Player(10), ConvertPlayerColor(10))
    call SetPlayerRacePreference(Player(10), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(10), false)
    call SetPlayerController(Player(10), MAP_CONTROL_COMPUTER)
    // Player 11
    call SetPlayerStartLocation(Player(11), 8)
    call ForcePlayerStartLocation(Player(11), 8)
    call SetPlayerColor(Player(11), ConvertPlayerColor(11))
    call SetPlayerRacePreference(Player(11), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(11), false)
    call SetPlayerController(Player(11), MAP_CONTROL_COMPUTER)
endfunction
function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_012
    call SetPlayerTeam(Player(0), 0)
    call SetPlayerTeam(Player(1), 0)
    call SetPlayerTeam(Player(2), 0)
    call SetPlayerTeam(Player(3), 0)
    call SetPlayerTeam(Player(4), 0)
    call SetPlayerTeam(Player(5), 0)
    call SetPlayerTeam(Player(6), 0)
    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(5), true)
    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(5), true)
    // Force: TRIGSTR_014
    call SetPlayerTeam(Player(10), 1)
    call SetPlayerTeam(Player(11), 1)
    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(10), Player(11), true)
    call SetPlayerAllianceStateAllyBJ(Player(11), Player(10), true)
    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(10), Player(11), true)
    call SetPlayerAllianceStateVisionBJ(Player(11), Player(10), true)
endfunction
function InitAllyPriorities takes nothing returns nothing
    call SetStartLocPrioCount(0, 5)
    call SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(1, 5)
    call SetStartLocPrio(1, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(2, 5)
    call SetStartLocPrio(2, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(3, 5)
    call SetStartLocPrio(3, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(4, 5)
    call SetStartLocPrio(4, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(5, 5)
    call SetStartLocPrio(5, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 4, 4, MAP_LOC_PRIO_HIGH)
endfunction
//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************
//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds(- 16384.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), - 15872.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 15616.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 15360.0 - GetCameraMargin(CAMERA_MARGIN_TOP), - 16384.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 15360.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 15616.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 15872.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
    call NewSoundEnvironment("Default")
    call SetAmbientDaySound("NorthrendDay")
    call SetAmbientNightSound("NorthrendNight")
    call SetMapMusic("Music", true, 0)
    call InitSounds()
    call CreateRegions()
    call CreateAllDestructables()
    call CreateAllUnits()
    call InitBlizzard()

call ExecuteFunc("jasshelper__initstructs140002343")
call ExecuteFunc("YDTriggerSaveLoadSystem__Init")
call ExecuteFunc("InitializeYD")
call ExecuteFunc("Constant__InitConstant")
call ExecuteFunc("YDWETimerPattern___Init")
call ExecuteFunc("YDWETimerSystem___Init")
call ExecuteFunc("LHBase__InitLHBase")
call ExecuteFunc("Attr___InitAttr")
call ExecuteFunc("Battle___InitBattle")
call ExecuteFunc("Beast__InitBeast")
call ExecuteFunc("CenterBase__InitCenterBase")
call ExecuteFunc("Exercise__InitExercise")
call ExecuteFunc("GoldSystem__InitGoldSystem")
call ExecuteFunc("Printer___InitPrinter")
call ExecuteFunc("SameItem___InitSameItem")
call ExecuteFunc("TouristTrap___InitTouristTrap")
call ExecuteFunc("UseItem___InitUse")
call ExecuteFunc("ItemAttr___InitItemAttr")
call ExecuteFunc("InitHundunInner")
call ExecuteFunc("ItemBase___InitItemBase")
call ExecuteFunc("LHOther___InitLHOther")
call ExecuteFunc("Shilian__InitShilian")
call ExecuteFunc("Combine___InitCombine")
call ExecuteFunc("Continous___InitContinous")
call ExecuteFunc("Purgatory___InitPurgatory")
call ExecuteFunc("InitVersion")
call ExecuteFunc("Arena___InitArena")
call ExecuteFunc("BaseVersion___InitBaseVersion")
call ExecuteFunc("Diamond___InitDiamond")
call ExecuteFunc("MiniGame__InitMiniGame")
call ExecuteFunc("Multiboard___InitMultiboard")
call ExecuteFunc("PIV___InitPIV")
call ExecuteFunc("Pet___InitPet")
call ExecuteFunc("Ring__InitRing")
call ExecuteFunc("CenterCredit__InitCenterCredit")
call ExecuteFunc("ChatCommand__InitChatCommand")
call ExecuteFunc("MonsterSpell__InitMonsterSpell")
call ExecuteFunc("HeroSpellBase__InitHeroSpellBase")
call ExecuteFunc("Juexing___InitJuexing")
call ExecuteFunc("Revive___InitRevive")
call ExecuteFunc("Boss___InitBoss")
call ExecuteFunc("Debug__Initdebug")
call ExecuteFunc("ItemSpell__InitItemSpell")
call ExecuteFunc("Simulate__InitSimulate")

    call InitGlobals()
    call InitCustomTriggers()
    call RunInitializationTriggers()
endfunction
//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************
function config takes nothing returns nothing
    call SetMapName("ËΩÆÂõû‰πãÁã± - v3.316ÂòâÂπ¥ÂçéÊ¥ªÂä®Áâà")
    call SetMapDescription("È≠îÁïåÊªãÁîü‰∫ÜÂÖ≠Áïå‰πãÂ§ñÁöÑÂäõÈáè,ËÄå‰∫∫Á•ûÂ¶ñÈ¨º‰ªôÁïåÂØüËßâ‰∫ÜËøôÁßçÂäõÈáèÔºåËÄåÂÜ≥ÂÆöËÅîÊâãËµ∑Êù•Â∞ÜÈ≠îÁïåÊ≠ºÁÅ≠„ÄÇÂØªÊâæÊàòÂèã„ÄÅÊèê‰∫§BUG„ÄÅÂØªÊâæÊîªÁï•ËØ∑Âä†ÂÆòÊñπÂú∞ÂõæQQÁæ§148199145„ÄÇ
ËØ•Âú∞ÂõæÈúÄË¶ÅÂú®1.24ÁöÑÈ≠îÂÖΩÁâàÊú¨‰∏äËøêË°å„ÄÇ")
    call SetPlayers(9)
    call SetTeams(9)
    call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
    call DefineStartLocation(0, - 14528.0, - 15104.0)
    call DefineStartLocation(1, - 14528.0, - 15104.0)
    call DefineStartLocation(2, - 14528.0, - 15104.0)
    call DefineStartLocation(3, - 14528.0, - 15104.0)
    call DefineStartLocation(4, - 14528.0, - 15104.0)
    call DefineStartLocation(5, - 14528.0, - 15104.0)
    call DefineStartLocation(6, - 14528.0, - 15104.0)
    call DefineStartLocation(7, - 14528.0, - 15104.0)
    call DefineStartLocation(8, - 14528.0, - 15104.0)
    // Player setup
    call InitCustomPlayerSlots()
    call InitCustomTeams()
    call InitAllyPriorities()
endfunction
//===========================================================================  
//ÕÚƒ‹ª∑»∆ƒ£∞Â 
//===========================================================================
//===========================================================================
//”∂±¯œµÕ≥ 
//===========================================================================
//===========================================================================
//œµÕ≥-TimerSystem
//===========================================================================
//===========================================================================  
//===========================================================================  
//◊‘∂®“Â ¬º˛ 
//===========================================================================
//===========================================================================   




//Struct method generated initializers/callers:
function sa__TianfuForbidder_forbitTimer takes nothing returns boolean

   local integer this= sc__TianfuForbidder__staticgetindex(GetExpiredTimer())
			call ForbidTianfu()
			call PauseTimer(s__TianfuForbidder_t[this])
			call TimerStart(s__TianfuForbidder_t[this], s__TianfuForbidder_IForbid[this], false, function s__TianfuForbidder_allowTimer)
   return true
endfunction
function sa__TianfuForbidder__staticgetindex takes nothing returns boolean
local handle h=f__arg_handle1
set f__result_integer= YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
   return true
endfunction
function sa__TianfuForbidder_onDestroy takes nothing returns boolean
local integer this=f__arg_this
			call s__TianfuForbidder_flush(s__TianfuForbidder_t[this])
			call AllowTianfu()
			set s__TianfuForbidder_IForbid[this]=0
			set s__TianfuForbidder_IAllow[this]=0
			call PauseTimer(s__TianfuForbidder_t[this])
			call DestroyTimer(s__TianfuForbidder_t[this])
			set s__TianfuForbidder_t[this]=null
   return true
endfunction
function sa__TextTagBind__staticgetindex takes nothing returns boolean
local handle h=f__arg_handle1
set f__result_integer= YDWEGetIntegerByString("TextTagBind" , I2S(YDWEH2I(h)))
   return true
endfunction
function sa__TextTagBind_onDestroy takes nothing returns boolean
local integer this=f__arg_this
			call s__TextTagBind_flush(s__TextTagBind_t[this])
			set s__TextTagBind_caster[this]=null
			call DestroyTextTag(s__TextTagBind_tt[this])
			set s__TextTagBind_tt[this]=null
			set s__TextTagBind_xOff[this]=0.
			set s__TextTagBind_yOff[this]=0.
			call PauseTimer(s__TextTagBind_t[this])
			call DestroyTimer(s__TextTagBind_t[this])
			set s__TextTagBind_t[this]=null
   return true
endfunction
function sa__SuperShield__staticgetindex takes nothing returns boolean
local handle h=f__arg_handle1
set f__result_integer= YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
   return true
endfunction
function sa__SuperShield_onDestroy takes nothing returns boolean
local integer this=f__arg_this
			call s__SuperShield_flush(s__SuperShield_t[this])
			set s__SuperShield_caster[this]=null
			call PauseTimer(s__SuperShield_t[this])
			call DestroyTimer(s__SuperShield_t[this])
			set s__SuperShield_t[this]=null
   return true
endfunction
function sa__MultiLife__staticgetindex takes nothing returns boolean
local handle h=f__arg_handle1
set f__result_integer= YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
   return true
endfunction
function sa__MultiLife_onDestroy takes nothing returns boolean
local integer this=f__arg_this
			call s__MultiLife_flush(s__MultiLife_t[this])
			call UnitRemoveAbility(s__MultiLife_caster[this], 'A0KH')
			call DestroyTextTag(s__MultiLife_ttHint[this])
			set s__MultiLife_ttHint[this]=null
			set s__MultiLife_caster[this]=null
			call PauseTimer(s__MultiLife_t[this])
			call DestroyTimer(s__MultiLife_t[this])
			set s__MultiLife_t[this]=null
   return true
endfunction
function sa__Roubang__staticgetindex takes nothing returns boolean
local handle h=f__arg_handle1
set f__result_integer= YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
   return true
endfunction
function sa__Roubang_onDestroy takes nothing returns boolean
local integer this=f__arg_this
   local integer i= 1
			call s__Roubang_flush(s__Roubang_t[this])
			set s__Roubang_caster[this]=null
			loop
				exitwhen i > s__Roubang_number[this]
				if ( s___Roubang_URou[s__Roubang_URou[this]+i] != null ) then
					call RemoveUnit(s___Roubang_URou[s__Roubang_URou[this]+i])
					set s___Roubang_URou[s__Roubang_URou[this]+i]=null
				endif
				set i=i + 1
			endloop
			call PauseTimer(s__Roubang_t[this])
			call DestroyTimer(s__Roubang_t[this])
			set s__Roubang_aSpeed[this]=0.
			set s__Roubang_cAngle[this]=0.
			set s__Roubang_radius[this]=0.
			set s__Roubang_number[this]=0
			set s__Roubang_t[this]=null
   return true
endfunction
function sa__Missile__staticgetindex takes nothing returns boolean
local handle h=f__arg_handle1
set f__result_integer= YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
   return true
endfunction
function sa__Missile_onDestroy takes nothing returns boolean
local integer this=f__arg_this
			call s__Missile_flush(s__Missile_t[this])
			set s__Missile_caster[this]=null
			call PauseTimer(s__Missile_t[this])
			call DestroyTimer(s__Missile_t[this])
			set s__Missile_t[this]=null
   return true
endfunction
function sa__Attract__staticgetindex takes nothing returns boolean
local handle h=f__arg_handle1
set f__result_integer= YDWEGetIntegerByString("SPellBase" , I2S(YDWEH2I(h)))
   return true
endfunction
function sa__Attract_onDestroy takes nothing returns boolean
local integer this=f__arg_this
			call s__Attract_flush(s__Attract_t[this])
			set s__Attract_caster[this]=null
			call PauseTimer(s__Attract_t[this])
			call DestroyTimer(s__Attract_t[this])
			set s__Attract_t[this]=null
   return true
endfunction
function sa__Connect__staticgetindex takes nothing returns boolean
local handle h=f__arg_handle1
set f__result_integer= YDWEGetIntegerByString("SpellBase" , I2S(YDWEH2I(h)))
   return true
endfunction
function sa__Connect_onDestroy takes nothing returns boolean
local integer this=f__arg_this
			call s__Connect_flush(s__Connect_t[this])
			set s__Connect_unit1[this]=null
			set s__Connect_unit2[this]=null
			call DestroyLightningBJ(s__Connect_l[this])
			set s__Connect_l[this]=null
			call PauseTimer(s__Connect_t[this])
			call DestroyTimer(s__Connect_t[this])
			set s__Connect_t[this]=null
   return true
endfunction
function sa__YDWETimerPattern___Thread_onDestroy takes nothing returns boolean
local integer this=f__arg_this
            call s__YDWETimerPattern___Thread_flush(s__YDWETimerPattern___Thread_obj[this])
            call s__YDWETimerPattern___Thread_flush(s__YDWETimerPattern___Thread_t[this])
            call GroupClear(s__YDWETimerPattern___Thread_g[this])
            call DestroyGroup(s__YDWETimerPattern___Thread_g[this])
            call PauseTimer(s__YDWETimerPattern___Thread_t[this])
            call DestroyTimer(s__YDWETimerPattern___Thread_t[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_des[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_pos[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_vel[this])
            set s__YDWETimerPattern___Thread_caster[this]=null
            set s__YDWETimerPattern___Thread_target[this]=null
            set s__YDWETimerPattern___Thread_obj[this]=null
            set s__YDWETimerPattern___Thread_g[this]=null
            set s__YDWETimerPattern___Thread_t[this]=null
            set s__YDWETimerPattern___Thread_amount[this]=0
            set s__YDWETimerPattern___Thread_skills[this]=0
            set s__YDWETimerPattern___Thread_order[this]=0
            set s__YDWETimerPattern___Thread_afc[this]=0
            set s__YDWETimerPattern___Thread_dsfx[this]=""
            set s__YDWETimerPattern___Thread_gsfx[this]=""
            set s__YDWETimerPattern___Thread_wsfx[this]=""
            set s__YDWETimerPattern___Thread_part[this]=""
   return true
endfunction
function sa___prototype202_YDWETimerPattern___Rebound takes nothing returns boolean
 local integer t=f__arg_integer1
 local real nx=f__arg_real1
 local real ny=f__arg_real2

        if not ( IsTerrainPathable(nx, s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[t]], PATHING_TYPE_WALKABILITY) ) then
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]]=- 1 * s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]]
        elseif not ( IsTerrainPathable(s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[t]], ny, PATHING_TYPE_WALKABILITY) ) then
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]=- 1 * s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]
        else
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]]=- 1 * s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]]
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]=- 1 * s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]
        endif
        call GroupClear(s__YDWETimerPattern___Thread_g[t])
        call SetUnitFacing(s__YDWETimerPattern___Thread_obj[t], Atan2BJ(s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[t]], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[t]]))
    return true
endfunction

function jasshelper__initstructs140002343 takes nothing returns nothing
    set st__TianfuForbidder_forbitTimer=CreateTrigger()
    call TriggerAddCondition(st__TianfuForbidder_forbitTimer,Condition( function sa__TianfuForbidder_forbitTimer))
    set st__TianfuForbidder__staticgetindex=CreateTrigger()
    call TriggerAddCondition(st__TianfuForbidder__staticgetindex,Condition( function sa__TianfuForbidder__staticgetindex))
    set st__TianfuForbidder_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__TianfuForbidder_onDestroy,Condition( function sa__TianfuForbidder_onDestroy))
    set st__TextTagBind__staticgetindex=CreateTrigger()
    call TriggerAddCondition(st__TextTagBind__staticgetindex,Condition( function sa__TextTagBind__staticgetindex))
    set st__TextTagBind_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__TextTagBind_onDestroy,Condition( function sa__TextTagBind_onDestroy))
    set st__SuperShield__staticgetindex=CreateTrigger()
    call TriggerAddCondition(st__SuperShield__staticgetindex,Condition( function sa__SuperShield__staticgetindex))
    set st__SuperShield_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__SuperShield_onDestroy,Condition( function sa__SuperShield_onDestroy))
    set st__MultiLife__staticgetindex=CreateTrigger()
    call TriggerAddCondition(st__MultiLife__staticgetindex,Condition( function sa__MultiLife__staticgetindex))
    set st__MultiLife_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__MultiLife_onDestroy,Condition( function sa__MultiLife_onDestroy))
    set st__Roubang__staticgetindex=CreateTrigger()
    call TriggerAddCondition(st__Roubang__staticgetindex,Condition( function sa__Roubang__staticgetindex))
    set st__Roubang_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__Roubang_onDestroy,Condition( function sa__Roubang_onDestroy))
    set st__Missile__staticgetindex=CreateTrigger()
    call TriggerAddCondition(st__Missile__staticgetindex,Condition( function sa__Missile__staticgetindex))
    set st__Missile_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__Missile_onDestroy,Condition( function sa__Missile_onDestroy))
    set st__Attract__staticgetindex=CreateTrigger()
    call TriggerAddCondition(st__Attract__staticgetindex,Condition( function sa__Attract__staticgetindex))
    set st__Attract_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__Attract_onDestroy,Condition( function sa__Attract_onDestroy))
    set st__Connect__staticgetindex=CreateTrigger()
    call TriggerAddCondition(st__Connect__staticgetindex,Condition( function sa__Connect__staticgetindex))
    set st__Connect_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__Connect_onDestroy,Condition( function sa__Connect_onDestroy))
    set st__YDWETimerPattern___Thread_onDestroy[3]=CreateTrigger()
    set st__YDWETimerPattern___Thread_onDestroy[4]=st__YDWETimerPattern___Thread_onDestroy[3]
    set st__YDWETimerPattern___Thread_onDestroy[5]=st__YDWETimerPattern___Thread_onDestroy[3]
    set st__YDWETimerPattern___Thread_onDestroy[6]=st__YDWETimerPattern___Thread_onDestroy[3]
    set st__YDWETimerPattern___Thread_onDestroy[7]=st__YDWETimerPattern___Thread_onDestroy[3]
    call TriggerAddCondition(st__YDWETimerPattern___Thread_onDestroy[3],Condition( function sa__YDWETimerPattern___Thread_onDestroy))
    set st___prototype202[1]=CreateTrigger()
    call TriggerAddAction(st___prototype202[1],function sa___prototype202_YDWETimerPattern___Rebound)
    call TriggerAddCondition(st___prototype202[1],Condition(function sa___prototype202_YDWETimerPattern___Rebound))


















endfunction

